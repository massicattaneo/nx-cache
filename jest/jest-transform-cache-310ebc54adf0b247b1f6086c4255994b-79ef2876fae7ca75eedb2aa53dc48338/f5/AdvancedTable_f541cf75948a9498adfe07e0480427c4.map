{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/AdvancedTable/AdvancedTable.tsx"],"sourcesContent":["import { useState } from \"react\"\nimport { AdvancedTableColumn, AdvancedTableDefaultRow } from \"@rp/react/web/common/types\"\nimport { Table, TableBody } from \"@rp/react/web/mui/core\"\nimport { AdvancedTableStyled } from \"./AdvancedTable.styles\"\nimport { AdvancedTableHead } from \"./AdvancedTableHead\"\nimport { getComparator, stableSort } from \"./advancedTableUtils\"\n\ntype Props<Row> = {\n  renderRow?: (row: Row, index: number) => React.ReactNode\n  columns: Array<AdvancedTableColumn>\n  rows: Array<Row>\n  initialOrderBy?: string\n  initialOrderDirection?: \"desc\" | \"asc\"\n  className?: string\n  onOrderChange?: (field: keyof Row, direction: \"desc\" | \"asc\") => void\n}\n\nconst AdvancedTable = <Row extends AdvancedTableDefaultRow>({\n  rows,\n  columns,\n  renderRow,\n  className,\n  initialOrderBy = \"lastUpdated\",\n  initialOrderDirection = \"desc\",\n  onOrderChange,\n}: Props<Row>) => {\n  const [order, setOrder] = useState<\"desc\" | \"asc\">(initialOrderDirection)\n  const [orderBy, setOrderBy] = useState(initialOrderBy)\n\n  const handleRequestSort = (_: React.MouseEvent, columnId: string) => {\n    const isAsc = orderBy === columnId && order === \"asc\"\n    setOrder(isAsc ? \"desc\" : \"asc\")\n    setOrderBy(columnId)\n    onOrderChange?.(columnId, isAsc ? \"desc\" : \"asc\")\n  }\n\n  return (\n    <AdvancedTableStyled className={className}>\n      <Table stickyHeader aria-labelledby=\"tableTitle\" aria-label=\"enhanced table\" size=\"small\">\n        <AdvancedTableHead\n          order={order}\n          orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          columns={columns}\n        />\n        <TableBody>\n          {stableSort<Row>(rows, getComparator<Row>(order, orderBy)).map((row, index) => {\n            return renderRow ? renderRow(row, index) : null\n          })}\n        </TableBody>\n      </Table>\n    </AdvancedTableStyled>\n  )\n}\n\nexport { AdvancedTable }\n"],"names":["AdvancedTable","rows","columns","renderRow","className","initialOrderBy","initialOrderDirection","onOrderChange","order","setOrder","useState","orderBy","setOrderBy","handleRequestSort","_","columnId","isAsc","AdvancedTableStyled","Table","stickyHeader","aria-labelledby","aria-label","size","AdvancedTableHead","onRequestSort","TableBody","stableSort","getComparator","map","row","index"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuDSA;;;eAAAA;;;;uBAvDgB;sBAEQ;qCACG;mCACF;oCACQ;AAY1C,MAAMA,gBAAgB,CAAsC,EAC1DC,IAAI,EACJC,OAAO,EACPC,SAAS,EACTC,SAAS,EACTC,iBAAiB,aAAa,EAC9BC,wBAAwB,MAAM,EAC9BC,aAAa,EACF;IACX,MAAM,CAACC,OAAOC,SAAS,GAAGC,IAAAA,eAAQ,EAAiBJ;IACnD,MAAM,CAACK,SAASC,WAAW,GAAGF,IAAAA,eAAQ,EAACL;IAEvC,MAAMQ,oBAAoB,CAACC,GAAqBC;QAC9C,MAAMC,QAAQL,YAAYI,YAAYP,UAAU;QAChDC,SAASO,QAAQ,SAAS;QAC1BJ,WAAWG;QACXR,0BAAAA,oCAAAA,cAAgBQ,UAAUC,QAAQ,SAAS;IAC7C;IAEA,qBACE,qBAACC,wCAAmB;QAACb,WAAWA;kBAC9B,cAAA,sBAACc,WAAK;YAACC,YAAY;YAACC,mBAAgB;YAAaC,cAAW;YAAiBC,MAAK;;8BAChF,qBAACC,oCAAiB;oBAChBf,OAAOA;oBACPG,SAASA;oBACTa,eAAeX;oBACfX,SAASA;;8BAEX,qBAACuB,eAAS;8BACPC,IAAAA,8BAAU,EAAMzB,MAAM0B,IAAAA,iCAAa,EAAMnB,OAAOG,UAAUiB,GAAG,CAAC,CAACC,KAAKC;wBACnE,OAAO3B,YAAYA,UAAU0B,KAAKC,SAAS;oBAC7C;;;;;AAKV"}