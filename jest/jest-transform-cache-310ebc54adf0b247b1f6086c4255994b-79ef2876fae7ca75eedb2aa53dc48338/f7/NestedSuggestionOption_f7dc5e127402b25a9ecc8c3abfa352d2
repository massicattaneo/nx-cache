1a340536e5ac1209c8c72429ca3c9267
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "NestedSuggestionOption", {
    enumerable: true,
    get: function() {
        return NestedSuggestionOption;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _match = /*#__PURE__*/ _interop_require_default(require("autosuggest-highlight/match"));
const _parse = /*#__PURE__*/ _interop_require_default(require("autosuggest-highlight/parse"));
const _compositecomponents = require("@rp/react/web/common/composite-components");
const _hooks = require("@rp/react/web/common/hooks");
const _core = require("@rp/react/web/mui/core");
const _SuggestionImage = require("./SuggestionImage");
const _SuggestionOptionstyles = require("./SuggestionOption.styles");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) {
            symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        }
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _object_spread_props(target, source) {
    source = source != null ? source : {};
    if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
        ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
    }
    return target;
}
const NestedSuggestionOption = ({ id, label, ticker, showTickers, highlightValue, typeDesc, entityType, type, altName, optionProps, subsidiaries, toggleSubsidiariesDisplay, metadata4 })=>{
    const displayLabel = altName || label;
    const matches = (0, _match.default)(displayLabel, highlightValue);
    const parts = (0, _parse.default)(displayLabel, matches);
    const { isMobile } = (0, _hooks.useDeviceInfo)();
    const onToggleClick = (event)=>{
        event.stopPropagation();
        event.preventDefault();
        toggleSubsidiariesDisplay(id);
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("li", _object_spread_props(_object_spread({}, optionProps), {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_SuggestionOptionstyles.SuggestionOptionStyled, {
                "data-testid": "container",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuggestionOptionstyles.SuggestionLeftStyled, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuggestionOptionstyles.SuggestionLabel, {
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuggestionImage.SuggestionImage, {
                                        metadata4: metadata4,
                                        displayLabel: displayLabel,
                                        type: type.toString(),
                                        category: entityType,
                                        entityType: entityType
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.EllipsisTooltip, {
                                        tooltipText: displayLabel,
                                        typographyProps: {
                                            style: _SuggestionOptionstyles.labelTextStyle,
                                            component: "span"
                                        },
                                        children: parts.map((part, i)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_SuggestionOptionstyles.HightLightText, {
                                                component: "span",
                                                highlight: part.highlight,
                                                children: part.text
                                            }, i))
                                    }),
                                    showTickers && ticker ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuggestionOptionstyles.SuggestionTickerTextStyled, {
                                        component: "span",
                                        "data-testid": "suggestion-ticker",
                                        children: ticker
                                    }) : null,
                                    isMobile ? null : /*#__PURE__*/ (0, _jsxruntime.jsxs)(_SuggestionOptionstyles.SubsidiariesToggle, {
                                        onClick: onToggleClick,
                                        children: [
                                            "+",
                                            subsidiaries.length,
                                            " related"
                                        ]
                                    })
                                ]
                            })
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuggestionOptionstyles.SuggestionTypeTextStyled, {
                        children: typeDesc
                    })
                ]
            }, displayLabel),
            isMobile ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Box, {
                sx: {
                    pl: 5
                },
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_SuggestionOptionstyles.SubsidiariesToggle, {
                    onClick: onToggleClick,
                    children: [
                        "+",
                        subsidiaries.length,
                        " related"
                    ]
                })
            }) : null
        ]
    }));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NvbW1vbi9zZWFyY2gtYXV0b3N1Z2dlc3QtaW5wdXQvc3JjL2xpYi9TdWdnZXN0aW9uSW5wdXQvTmVzdGVkU3VnZ2VzdGlvbk9wdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1hdGNoIGZyb20gXCJhdXRvc3VnZ2VzdC1oaWdobGlnaHQvbWF0Y2hcIlxuaW1wb3J0IHBhcnNlIGZyb20gXCJhdXRvc3VnZ2VzdC1oaWdobGlnaHQvcGFyc2VcIlxuaW1wb3J0IHsgRW5oYW5jZWRTdWdnZXN0aW9uIH0gZnJvbSBcIkBycC9yZWFjdC90YW5zdGFjay1hcGkvc3VnZ2VzdGlvblwiXG5pbXBvcnQgeyBFbGxpcHNpc1Rvb2x0aXAgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vY29tcG9zaXRlLWNvbXBvbmVudHNcIlxuaW1wb3J0IHsgdXNlRGV2aWNlSW5mbyB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi9ob29rc1wiXG5pbXBvcnQgeyBCb3ggfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9tdWkvY29yZVwiXG5pbXBvcnQgeyBPcHRpb25Qcm9wcyB9IGZyb20gXCIuLi9VbmlmaWVkU2VhcmNoL1VuaWZpZWRTZWFyY2gudHlwZXNcIlxuaW1wb3J0IHsgU3VnZ2VzdGlvbkltYWdlIH0gZnJvbSBcIi4vU3VnZ2VzdGlvbkltYWdlXCJcbmltcG9ydCB7XG4gIEhpZ2h0TGlnaHRUZXh0LFxuICBTdWJzaWRpYXJpZXNUb2dnbGUsXG4gIFN1Z2dlc3Rpb25MYWJlbCxcbiAgU3VnZ2VzdGlvbkxlZnRTdHlsZWQsXG4gIFN1Z2dlc3Rpb25PcHRpb25TdHlsZWQsXG4gIFN1Z2dlc3Rpb25UaWNrZXJUZXh0U3R5bGVkLFxuICBTdWdnZXN0aW9uVHlwZVRleHRTdHlsZWQsXG4gIGxhYmVsVGV4dFN0eWxlLFxufSBmcm9tIFwiLi9TdWdnZXN0aW9uT3B0aW9uLnN0eWxlc1wiXG5cbnR5cGUgTmVzdGVkU3VnZ2VzdGlvblByb3BzID0ge1xuICBpZDogc3RyaW5nXG4gIGxhYmVsOiBzdHJpbmdcbiAgc3Vic2lkaWFyaWVzOiBBcnJheTxFbmhhbmNlZFN1Z2dlc3Rpb24+XG4gIHRpY2tlcj86IHN0cmluZ1xuICBzaG93VGlja2Vycz86IGJvb2xlYW5cbiAgaGlnaGxpZ2h0VmFsdWU6IHN0cmluZ1xuICB0eXBlRGVzYz86IHN0cmluZ1xuICBlbnRpdHlUeXBlPzogc3RyaW5nXG4gIHR5cGU6IHN0cmluZyB8IG51bWJlclxuICBhbHROYW1lPzogc3RyaW5nXG4gIG9wdGlvblByb3BzOiBPcHRpb25Qcm9wc1xuICB0b2dnbGVTdWJzaWRpYXJpZXNEaXNwbGF5OiAoaWQ6IHN0cmluZykgPT4gdm9pZFxuICBtZXRhZGF0YTQ/OiBzdHJpbmdcbn1cblxuY29uc3QgTmVzdGVkU3VnZ2VzdGlvbk9wdGlvbiA9ICh7XG4gIGlkLFxuICBsYWJlbCxcbiAgdGlja2VyLFxuICBzaG93VGlja2VycyxcbiAgaGlnaGxpZ2h0VmFsdWUsXG4gIHR5cGVEZXNjLFxuICBlbnRpdHlUeXBlLFxuICB0eXBlLFxuICBhbHROYW1lLFxuICBvcHRpb25Qcm9wcyxcbiAgc3Vic2lkaWFyaWVzLFxuICB0b2dnbGVTdWJzaWRpYXJpZXNEaXNwbGF5LFxuICBtZXRhZGF0YTQsXG59OiBOZXN0ZWRTdWdnZXN0aW9uUHJvcHMpID0+IHtcbiAgY29uc3QgZGlzcGxheUxhYmVsID0gYWx0TmFtZSB8fCBsYWJlbFxuICBjb25zdCBtYXRjaGVzID0gbWF0Y2goZGlzcGxheUxhYmVsLCBoaWdobGlnaHRWYWx1ZSlcbiAgY29uc3QgcGFydHMgPSBwYXJzZShkaXNwbGF5TGFiZWwsIG1hdGNoZXMpXG4gIGNvbnN0IHsgaXNNb2JpbGUgfSA9IHVzZURldmljZUluZm8oKVxuXG4gIGNvbnN0IG9uVG9nZ2xlQ2xpY2sgPSAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdG9nZ2xlU3Vic2lkaWFyaWVzRGlzcGxheShpZClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIHsuLi5vcHRpb25Qcm9wc30+XG4gICAgICA8U3VnZ2VzdGlvbk9wdGlvblN0eWxlZCBrZXk9e2Rpc3BsYXlMYWJlbH0gZGF0YS10ZXN0aWQ9XCJjb250YWluZXJcIj5cbiAgICAgICAgPFN1Z2dlc3Rpb25MZWZ0U3R5bGVkPlxuICAgICAgICAgIDxTdWdnZXN0aW9uTGFiZWw+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8U3VnZ2VzdGlvbkltYWdlXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE0PXttZXRhZGF0YTR9XG4gICAgICAgICAgICAgICAgZGlzcGxheUxhYmVsPXtkaXNwbGF5TGFiZWx9XG4gICAgICAgICAgICAgICAgdHlwZT17dHlwZS50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgIGNhdGVnb3J5PXtlbnRpdHlUeXBlfVxuICAgICAgICAgICAgICAgIGVudGl0eVR5cGU9e2VudGl0eVR5cGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxFbGxpcHNpc1Rvb2x0aXBcbiAgICAgICAgICAgICAgICB0b29sdGlwVGV4dD17ZGlzcGxheUxhYmVsfVxuICAgICAgICAgICAgICAgIHR5cG9ncmFwaHlQcm9wcz17eyBzdHlsZTogbGFiZWxUZXh0U3R5bGUsIGNvbXBvbmVudDogXCJzcGFuXCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtwYXJ0cy5tYXAoKHBhcnQsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgIDxIaWdodExpZ2h0VGV4dCBjb21wb25lbnQ9XCJzcGFuXCIga2V5PXtpfSBoaWdobGlnaHQ9e3BhcnQuaGlnaGxpZ2h0fT5cbiAgICAgICAgICAgICAgICAgICAge3BhcnQudGV4dH1cbiAgICAgICAgICAgICAgICAgIDwvSGlnaHRMaWdodFRleHQ+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvRWxsaXBzaXNUb29sdGlwPlxuICAgICAgICAgICAgICB7c2hvd1RpY2tlcnMgJiYgdGlja2VyID8gKFxuICAgICAgICAgICAgICAgIDxTdWdnZXN0aW9uVGlja2VyVGV4dFN0eWxlZCBjb21wb25lbnQ9XCJzcGFuXCIgZGF0YS10ZXN0aWQ9XCJzdWdnZXN0aW9uLXRpY2tlclwiPlxuICAgICAgICAgICAgICAgICAge3RpY2tlcn1cbiAgICAgICAgICAgICAgICA8L1N1Z2dlc3Rpb25UaWNrZXJUZXh0U3R5bGVkPlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAge2lzTW9iaWxlID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICA8U3Vic2lkaWFyaWVzVG9nZ2xlIG9uQ2xpY2s9e29uVG9nZ2xlQ2xpY2t9PlxuICAgICAgICAgICAgICAgICAgK3tzdWJzaWRpYXJpZXMubGVuZ3RofSByZWxhdGVkXG4gICAgICAgICAgICAgICAgPC9TdWJzaWRpYXJpZXNUb2dnbGU+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1N1Z2dlc3Rpb25MYWJlbD5cbiAgICAgICAgPC9TdWdnZXN0aW9uTGVmdFN0eWxlZD5cbiAgICAgICAgPFN1Z2dlc3Rpb25UeXBlVGV4dFN0eWxlZD57dHlwZURlc2N9PC9TdWdnZXN0aW9uVHlwZVRleHRTdHlsZWQ+XG4gICAgICA8L1N1Z2dlc3Rpb25PcHRpb25TdHlsZWQ+XG4gICAgICB7aXNNb2JpbGUgPyAoXG4gICAgICAgIDxCb3ggc3g9e3sgcGw6IDUgfX0+XG4gICAgICAgICAgPFN1YnNpZGlhcmllc1RvZ2dsZSBvbkNsaWNrPXtvblRvZ2dsZUNsaWNrfT5cbiAgICAgICAgICAgICt7c3Vic2lkaWFyaWVzLmxlbmd0aH0gcmVsYXRlZFxuICAgICAgICAgIDwvU3Vic2lkaWFyaWVzVG9nZ2xlPlxuICAgICAgICA8L0JveD5cbiAgICAgICkgOiBudWxsfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IHsgTmVzdGVkU3VnZ2VzdGlvbk9wdGlvbiB9XG4iXSwibmFtZXMiOlsiTmVzdGVkU3VnZ2VzdGlvbk9wdGlvbiIsImlkIiwibGFiZWwiLCJ0aWNrZXIiLCJzaG93VGlja2VycyIsImhpZ2hsaWdodFZhbHVlIiwidHlwZURlc2MiLCJlbnRpdHlUeXBlIiwidHlwZSIsImFsdE5hbWUiLCJvcHRpb25Qcm9wcyIsInN1YnNpZGlhcmllcyIsInRvZ2dsZVN1YnNpZGlhcmllc0Rpc3BsYXkiLCJtZXRhZGF0YTQiLCJkaXNwbGF5TGFiZWwiLCJtYXRjaGVzIiwibWF0Y2giLCJwYXJ0cyIsInBhcnNlIiwiaXNNb2JpbGUiLCJ1c2VEZXZpY2VJbmZvIiwib25Ub2dnbGVDbGljayIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJsaSIsIlN1Z2dlc3Rpb25PcHRpb25TdHlsZWQiLCJkYXRhLXRlc3RpZCIsIlN1Z2dlc3Rpb25MZWZ0U3R5bGVkIiwiU3VnZ2VzdGlvbkxhYmVsIiwiZGl2IiwiU3VnZ2VzdGlvbkltYWdlIiwidG9TdHJpbmciLCJjYXRlZ29yeSIsIkVsbGlwc2lzVG9vbHRpcCIsInRvb2x0aXBUZXh0IiwidHlwb2dyYXBoeVByb3BzIiwic3R5bGUiLCJsYWJlbFRleHRTdHlsZSIsImNvbXBvbmVudCIsIm1hcCIsInBhcnQiLCJpIiwiSGlnaHRMaWdodFRleHQiLCJoaWdobGlnaHQiLCJ0ZXh0IiwiU3VnZ2VzdGlvblRpY2tlclRleHRTdHlsZWQiLCJTdWJzaWRpYXJpZXNUb2dnbGUiLCJvbkNsaWNrIiwibGVuZ3RoIiwiU3VnZ2VzdGlvblR5cGVUZXh0U3R5bGVkIiwiQm94Iiwic3giLCJwbCJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBOEdTQTs7O2VBQUFBOzs7OzhEQTlHUzs4REFDQTtxQ0FFYzt1QkFDRjtzQkFDVjtpQ0FFWTt3Q0FVekI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQlAsTUFBTUEseUJBQXlCLENBQUMsRUFDOUJDLEVBQUUsRUFDRkMsS0FBSyxFQUNMQyxNQUFNLEVBQ05DLFdBQVcsRUFDWEMsY0FBYyxFQUNkQyxRQUFRLEVBQ1JDLFVBQVUsRUFDVkMsSUFBSSxFQUNKQyxPQUFPLEVBQ1BDLFdBQVcsRUFDWEMsWUFBWSxFQUNaQyx5QkFBeUIsRUFDekJDLFNBQVMsRUFDYTtJQUN0QixNQUFNQyxlQUFlTCxXQUFXUDtJQUNoQyxNQUFNYSxVQUFVQyxJQUFBQSxjQUFLLEVBQUNGLGNBQWNUO0lBQ3BDLE1BQU1ZLFFBQVFDLElBQUFBLGNBQUssRUFBQ0osY0FBY0M7SUFDbEMsTUFBTSxFQUFFSSxRQUFRLEVBQUUsR0FBR0MsSUFBQUEsb0JBQWE7SUFFbEMsTUFBTUMsZ0JBQWdCLENBQUNDO1FBQ3JCQSxNQUFNQyxlQUFlO1FBQ3JCRCxNQUFNRSxjQUFjO1FBQ3BCWiwwQkFBMEJYO0lBQzVCO0lBRUEscUJBQ0Usc0JBQUN3Qiw4Q0FBT2Y7OzBCQUNOLHNCQUFDZ0IsOENBQXNCO2dCQUFvQkMsZUFBWTs7a0NBQ3JELHFCQUFDQyw0Q0FBb0I7a0NBQ25CLGNBQUEscUJBQUNDLHVDQUFlO3NDQUNkLGNBQUEsc0JBQUNDOztrREFDQyxxQkFBQ0MsZ0NBQWU7d0NBQ2RsQixXQUFXQTt3Q0FDWEMsY0FBY0E7d0NBQ2ROLE1BQU1BLEtBQUt3QixRQUFRO3dDQUNuQkMsVUFBVTFCO3dDQUNWQSxZQUFZQTs7a0RBRWQscUJBQUMyQixvQ0FBZTt3Q0FDZEMsYUFBYXJCO3dDQUNic0IsaUJBQWlCOzRDQUFFQyxPQUFPQyxzQ0FBYzs0Q0FBRUMsV0FBVzt3Q0FBTztrREFFM0R0QixNQUFNdUIsR0FBRyxDQUFDLENBQUNDLE1BQU1DLGtCQUNoQixxQkFBQ0Msc0NBQWM7Z0RBQUNKLFdBQVU7Z0RBQWVLLFdBQVdILEtBQUtHLFNBQVM7MERBQy9ESCxLQUFLSSxJQUFJOytDQUQwQkg7O29DQUt6Q3RDLGVBQWVELHVCQUNkLHFCQUFDMkMsa0RBQTBCO3dDQUFDUCxXQUFVO3dDQUFPWixlQUFZO2tEQUN0RHhCO3lDQUVEO29DQUNIZ0IsV0FBVyxxQkFDVixzQkFBQzRCLDBDQUFrQjt3Q0FBQ0MsU0FBUzNCOzs0Q0FBZTs0Q0FDeENWLGFBQWFzQyxNQUFNOzRDQUFDOzs7Ozs7O2tDQU1oQyxxQkFBQ0MsZ0RBQXdCO2tDQUFFNUM7OztlQWxDQVE7WUFvQzVCSyx5QkFDQyxxQkFBQ2dDLFNBQUc7Z0JBQUNDLElBQUk7b0JBQUVDLElBQUk7Z0JBQUU7MEJBQ2YsY0FBQSxzQkFBQ04sMENBQWtCO29CQUFDQyxTQUFTM0I7O3dCQUFlO3dCQUN4Q1YsYUFBYXNDLE1BQU07d0JBQUM7OztpQkFHeEI7OztBQUdWIn0=