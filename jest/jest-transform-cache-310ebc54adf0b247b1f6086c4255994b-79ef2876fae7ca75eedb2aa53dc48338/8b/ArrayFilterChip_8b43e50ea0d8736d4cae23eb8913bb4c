f8972cc138c8efbd34bfba39501a9bee
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "ArrayFilterChip", {
    enumerable: true,
    get: function() {
        return ArrayFilterChip;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _hooks = require("@rp/react/web/common/hooks");
const _utils = require("@rp/react/web/common/vendors/utils");
const _icons = require("@rp/react/web/icons");
const _NameDisplay = require("../NameDisplay");
const _AdvancedDropdown = require("../dropdowns/AdvancedDropdown");
const _BaseChip = require("./BaseChip");
const _Chipstyles = require("./Chip.styles");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) {
            symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        }
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _object_spread_props(target, source) {
    source = source != null ? source : {};
    if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
        ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
    }
    return target;
}
const iconMap = {
    language: "LANG",
    rp_topic: "EVNT",
    source: "SRCE",
    keyword: "keyword"
};
const ArrayFilterChip = /*#__PURE__*/ (0, _react.forwardRef)(({ filter, onRemove, query }, ref)=>{
    var _filter_metadata;
    const [anchorEl, setAnchorEl] = (0, _react.useState)(null);
    const open = Boolean(anchorEl);
    (0, _hooks.useDisableIOSTouch)(open);
    const total = filter.value.length;
    var _filter_metadata_subType, _ref;
    const icon = (_ref = (_filter_metadata_subType = (_filter_metadata = filter.metadata) === null || _filter_metadata === void 0 ? void 0 : _filter_metadata.subType) !== null && _filter_metadata_subType !== void 0 ? _filter_metadata_subType : iconMap[filter.type]) !== null && _ref !== void 0 ? _ref : "";
    const handleClick = (event)=>{
        setAnchorEl(event.currentTarget);
    };
    const handleClose = ()=>{
        setAnchorEl(null);
    };
    const handleRemoveItem = (id)=>{
        handleClose();
        var _query_id, _query_saveStatus;
        _utils.tagManagerEvents.queryRefinement({
            action: "remove",
            component: "queryBar",
            queryId: (_query_id = query === null || query === void 0 ? void 0 : query.id) !== null && _query_id !== void 0 ? _query_id : "",
            queryType: filter.type,
            savedStatus: (_query_saveStatus = query === null || query === void 0 ? void 0 : query.saveStatus) !== null && _query_saveStatus !== void 0 ? _query_saveStatus : "unsaved"
        });
        // If the filter is a keyword and it has only one value, remove the filter
        if (filter.type === "keyword" && filter.value.length === 1) {
            onRemove === null || onRemove === void 0 ? void 0 : onRemove();
            return;
        }
        query === null || query === void 0 ? void 0 : query.actions.expression.updateFilter(filter.id, (filter)=>{
            if (!Array.isArray(filter.value)) {
                return filter;
            }
            return _object_spread_props(_object_spread({}, filter), {
                value: filter.value.filter((currentId)=>currentId !== id)
            });
        });
    };
    const handleOperationChange = (operation)=>{
        var _filter_metadata;
        const items = Array.isArray(filter.value) ? filter.value.map((value)=>{
            var _filter_metadata;
            return {
                type: filter.type,
                value,
                entityType: filter === null || filter === void 0 ? void 0 : (_filter_metadata = filter.metadata) === null || _filter_metadata === void 0 ? void 0 : _filter_metadata.subType,
                operation
            };
        }) : [
            {
                type: filter.type,
                value: filter.value,
                entityType: filter === null || filter === void 0 ? void 0 : (_filter_metadata = filter.metadata) === null || _filter_metadata === void 0 ? void 0 : _filter_metadata.subType,
                operation
            }
        ];
        var _query_id, _query_saveStatus;
        _utils.tagManagerEvents.queryRefinement({
            action: "changeOperation",
            component: "queryBar",
            queryId: (_query_id = query === null || query === void 0 ? void 0 : query.id) !== null && _query_id !== void 0 ? _query_id : "",
            queryType: filter.type,
            savedStatus: (_query_saveStatus = query === null || query === void 0 ? void 0 : query.saveStatus) !== null && _query_saveStatus !== void 0 ? _query_saveStatus : "unsaved"
        });
        query === null || query === void 0 ? void 0 : query.actions.expression.updateItems(filter.id, items);
    };
    const handleIndividuallyOperation = (operation, entityId)=>{
        var _filter_metadata;
        const items = Array.isArray(filter.value) ? filter.value.map((value)=>{
            var _filter_metadata;
            return {
                type: filter.type,
                value,
                entityType: filter === null || filter === void 0 ? void 0 : (_filter_metadata = filter.metadata) === null || _filter_metadata === void 0 ? void 0 : _filter_metadata.subType,
                operation: value === entityId ? operation : filter.operation
            };
        }) : [
            {
                type: filter.type,
                value: filter.value,
                entityType: filter === null || filter === void 0 ? void 0 : (_filter_metadata = filter.metadata) === null || _filter_metadata === void 0 ? void 0 : _filter_metadata.subType,
                operation
            }
        ];
        var _query_id, _query_saveStatus;
        _utils.tagManagerEvents.queryRefinement({
            action: "changeOperation",
            component: "queryBar",
            queryId: (_query_id = query === null || query === void 0 ? void 0 : query.id) !== null && _query_id !== void 0 ? _query_id : "",
            queryType: filter.type,
            savedStatus: (_query_saveStatus = query === null || query === void 0 ? void 0 : query.saveStatus) !== null && _query_saveStatus !== void 0 ? _query_saveStatus : "unsaved"
        });
        query === null || query === void 0 ? void 0 : query.actions.expression.updateItems(filter.id, items);
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_BaseChip.BaseChip, {
                clickable: true,
                icon: /*#__PURE__*/ (0, _jsxruntime.jsx)(_icons.QueryIcon, {
                    icon: icon
                }),
                onClick: handleClick,
                onRemove: onRemove,
                selected: query && open,
                ref: ref,
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_Chipstyles.ChipLabel, {
                        children: filter.value.map((id, index)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)(_react.Fragment, {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_NameDisplay.NameDisplay, {
                                        filterType: filter.type,
                                        entityId: id
                                    }),
                                    index < total - 1 ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_Chipstyles.Separator, {}) : null
                                ]
                            }, `fragment-${filter.id}-${id}`))
                    }),
                    total > 1 ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_Chipstyles.TotalDisplay, {
                        children: [
                            "(",
                            total,
                            ")"
                        ]
                    }) : null
                ]
            }),
            query ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_Chipstyles.PopoverStyled, {
                open: open,
                anchorEl: anchorEl,
                onClose: handleClose,
                anchorOrigin: {
                    vertical: "bottom",
                    horizontal: "left"
                },
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AdvancedDropdown.AdvancedDropdown, {
                    query: query,
                    filter: filter,
                    icon: icon,
                    onRemove: handleRemoveItem,
                    onChange: handleOperationChange,
                    individualChange: handleIndividuallyOperation
                })
            }) : null
        ]
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2Nxcy1xdWVyeS1iYXIvc3JjL2xpYi9jaGlwcy9BcnJheUZpbHRlckNoaXAudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZyYWdtZW50LCBNb3VzZUV2ZW50LCBmb3J3YXJkUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBScHFsRmxhdEFycmF5RmlsdGVyIH0gZnJvbSBcIkBycC9jb21tb24vYXBpLXR5cGVzXCJcbmltcG9ydCB7IEZpbHRlckl0ZW0gfSBmcm9tIFwiQHJwL3JlYWN0L3RhbnN0YWNrLWFwaS9jcXMtcXVlcnktY29udGV4dFwiXG5pbXBvcnQgeyB1c2VEaXNhYmxlSU9TVG91Y2ggfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vaG9va3NcIlxuaW1wb3J0IHsgdGFnTWFuYWdlckV2ZW50cyB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi92ZW5kb3JzL3V0aWxzXCJcbmltcG9ydCB7IFF1ZXJ5SWNvbiB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2ljb25zXCJcbmltcG9ydCB7IE5hbWVEaXNwbGF5IH0gZnJvbSBcIi4uL05hbWVEaXNwbGF5XCJcbmltcG9ydCB7IENxc1F1ZXJ5QmFyQ29udGV4dCB9IGZyb20gXCIuLi9jcXMtcXVlcnktYmFyLnR5cGVzXCJcbmltcG9ydCB7IEFkdmFuY2VkRHJvcGRvd24gfSBmcm9tIFwiLi4vZHJvcGRvd25zL0FkdmFuY2VkRHJvcGRvd25cIlxuaW1wb3J0IHsgZW50aXR5VHlwZUxpc3QgfSBmcm9tIFwiLi4vdHlwZUhlbHBlclwiXG5pbXBvcnQgeyBCYXNlQ2hpcCB9IGZyb20gXCIuL0Jhc2VDaGlwXCJcbmltcG9ydCB7IENoaXBMYWJlbCwgUG9wb3ZlclN0eWxlZCwgU2VwYXJhdG9yLCBUb3RhbERpc3BsYXkgfSBmcm9tIFwiLi9DaGlwLnN0eWxlc1wiXG5cbnR5cGUgQXJyYXlGaWx0ZXJDaGlwUHJvcHMgPSB7XG4gIGZpbHRlcjogUnBxbEZsYXRBcnJheUZpbHRlclxuICBvblJlbW92ZT86ICgpID0+IHZvaWRcbiAgcXVlcnk/OiBDcXNRdWVyeUJhckNvbnRleHRcbn1cblxuY29uc3QgaWNvbk1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgbGFuZ3VhZ2U6IFwiTEFOR1wiLFxuICBycF90b3BpYzogXCJFVk5UXCIsXG4gIHNvdXJjZTogXCJTUkNFXCIsXG4gIGtleXdvcmQ6IFwia2V5d29yZFwiLFxufVxuXG5jb25zdCBBcnJheUZpbHRlckNoaXAgPSBmb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBBcnJheUZpbHRlckNoaXBQcm9wcz4oXG4gICh7IGZpbHRlciwgb25SZW1vdmUsIHF1ZXJ5IH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IFthbmNob3JFbCwgc2V0QW5jaG9yRWxdID0gdXNlU3RhdGU8SFRNTEVsZW1lbnQgfCBudWxsPihudWxsKVxuXG4gICAgY29uc3Qgb3BlbiA9IEJvb2xlYW4oYW5jaG9yRWwpXG5cbiAgICB1c2VEaXNhYmxlSU9TVG91Y2gob3BlbilcblxuICAgIGNvbnN0IHRvdGFsID0gZmlsdGVyLnZhbHVlLmxlbmd0aFxuXG4gICAgY29uc3QgaWNvbjogZW50aXR5VHlwZUxpc3QgPSAoZmlsdGVyLm1ldGFkYXRhPy5zdWJUeXBlID8/XG4gICAgICBpY29uTWFwW2ZpbHRlci50eXBlXSA/P1xuICAgICAgXCJcIikgYXMgZW50aXR5VHlwZUxpc3RcblxuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50PEhUTUxFbGVtZW50PikgPT4ge1xuICAgICAgc2V0QW5jaG9yRWwoZXZlbnQuY3VycmVudFRhcmdldClcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICAgIHNldEFuY2hvckVsKG51bGwpXG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlUmVtb3ZlSXRlbSA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgICBoYW5kbGVDbG9zZSgpXG5cbiAgICAgIHRhZ01hbmFnZXJFdmVudHMucXVlcnlSZWZpbmVtZW50KHtcbiAgICAgICAgYWN0aW9uOiBcInJlbW92ZVwiLFxuICAgICAgICBjb21wb25lbnQ6IFwicXVlcnlCYXJcIixcbiAgICAgICAgcXVlcnlJZDogcXVlcnk/LmlkID8/IFwiXCIsXG4gICAgICAgIHF1ZXJ5VHlwZTogZmlsdGVyLnR5cGUsXG4gICAgICAgIHNhdmVkU3RhdHVzOiBxdWVyeT8uc2F2ZVN0YXR1cyA/PyBcInVuc2F2ZWRcIixcbiAgICAgIH0pXG5cbiAgICAgIC8vIElmIHRoZSBmaWx0ZXIgaXMgYSBrZXl3b3JkIGFuZCBpdCBoYXMgb25seSBvbmUgdmFsdWUsIHJlbW92ZSB0aGUgZmlsdGVyXG4gICAgICBpZiAoZmlsdGVyLnR5cGUgPT09IFwia2V5d29yZFwiICYmIGZpbHRlci52YWx1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgb25SZW1vdmU/LigpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBxdWVyeT8uYWN0aW9ucy5leHByZXNzaW9uLnVwZGF0ZUZpbHRlcjx0eXBlb2YgZmlsdGVyPihmaWx0ZXIuaWQsIGZpbHRlciA9PiB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShmaWx0ZXIudmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbHRlclxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZmlsdGVyLFxuICAgICAgICAgIHZhbHVlOiBmaWx0ZXIudmFsdWUuZmlsdGVyKGN1cnJlbnRJZCA9PiBjdXJyZW50SWQgIT09IGlkKSxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVPcGVyYXRpb25DaGFuZ2UgPSAob3BlcmF0aW9uOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW1zOiBBcnJheTxGaWx0ZXJJdGVtPiA9IEFycmF5LmlzQXJyYXkoZmlsdGVyLnZhbHVlKVxuICAgICAgICA/IGZpbHRlci52YWx1ZS5tYXAodmFsdWUgPT4gKHtcbiAgICAgICAgICAgIHR5cGU6IGZpbHRlci50eXBlLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBlbnRpdHlUeXBlOiBmaWx0ZXI/Lm1ldGFkYXRhPy5zdWJUeXBlLFxuICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgIH0pKVxuICAgICAgICA6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogZmlsdGVyLnR5cGUsXG4gICAgICAgICAgICAgIHZhbHVlOiBmaWx0ZXIudmFsdWUsXG4gICAgICAgICAgICAgIGVudGl0eVR5cGU6IGZpbHRlcj8ubWV0YWRhdGE/LnN1YlR5cGUsXG4gICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXVxuXG4gICAgICB0YWdNYW5hZ2VyRXZlbnRzLnF1ZXJ5UmVmaW5lbWVudCh7XG4gICAgICAgIGFjdGlvbjogXCJjaGFuZ2VPcGVyYXRpb25cIixcbiAgICAgICAgY29tcG9uZW50OiBcInF1ZXJ5QmFyXCIsXG4gICAgICAgIHF1ZXJ5SWQ6IHF1ZXJ5Py5pZCA/PyBcIlwiLFxuICAgICAgICBxdWVyeVR5cGU6IGZpbHRlci50eXBlLFxuICAgICAgICBzYXZlZFN0YXR1czogcXVlcnk/LnNhdmVTdGF0dXMgPz8gXCJ1bnNhdmVkXCIsXG4gICAgICB9KVxuXG4gICAgICBxdWVyeT8uYWN0aW9ucy5leHByZXNzaW9uLnVwZGF0ZUl0ZW1zKGZpbHRlci5pZCwgaXRlbXMpXG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlSW5kaXZpZHVhbGx5T3BlcmF0aW9uID0gKG9wZXJhdGlvbjogc3RyaW5nLCBlbnRpdHlJZDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBpdGVtczogQXJyYXk8RmlsdGVySXRlbT4gPSBBcnJheS5pc0FycmF5KGZpbHRlci52YWx1ZSlcbiAgICAgICAgPyBmaWx0ZXIudmFsdWUubWFwKHZhbHVlID0+ICh7XG4gICAgICAgICAgICB0eXBlOiBmaWx0ZXIudHlwZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgZW50aXR5VHlwZTogZmlsdGVyPy5tZXRhZGF0YT8uc3ViVHlwZSxcbiAgICAgICAgICAgIG9wZXJhdGlvbjogdmFsdWUgPT09IGVudGl0eUlkID8gb3BlcmF0aW9uIDogZmlsdGVyLm9wZXJhdGlvbixcbiAgICAgICAgICB9KSlcbiAgICAgICAgOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IGZpbHRlci50eXBlLFxuICAgICAgICAgICAgICB2YWx1ZTogZmlsdGVyLnZhbHVlLFxuICAgICAgICAgICAgICBlbnRpdHlUeXBlOiBmaWx0ZXI/Lm1ldGFkYXRhPy5zdWJUeXBlLFxuICAgICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF1cblxuICAgICAgdGFnTWFuYWdlckV2ZW50cy5xdWVyeVJlZmluZW1lbnQoe1xuICAgICAgICBhY3Rpb246IFwiY2hhbmdlT3BlcmF0aW9uXCIsXG4gICAgICAgIGNvbXBvbmVudDogXCJxdWVyeUJhclwiLFxuICAgICAgICBxdWVyeUlkOiBxdWVyeT8uaWQgPz8gXCJcIixcbiAgICAgICAgcXVlcnlUeXBlOiBmaWx0ZXIudHlwZSxcbiAgICAgICAgc2F2ZWRTdGF0dXM6IHF1ZXJ5Py5zYXZlU3RhdHVzID8/IFwidW5zYXZlZFwiLFxuICAgICAgfSlcblxuICAgICAgcXVlcnk/LmFjdGlvbnMuZXhwcmVzc2lvbi51cGRhdGVJdGVtcyhmaWx0ZXIuaWQsIGl0ZW1zKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8QmFzZUNoaXBcbiAgICAgICAgICBjbGlja2FibGVcbiAgICAgICAgICBpY29uPXs8UXVlcnlJY29uIGljb249e2ljb259IC8+fVxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgICAgIG9uUmVtb3ZlPXtvblJlbW92ZX1cbiAgICAgICAgICBzZWxlY3RlZD17cXVlcnkgJiYgb3Blbn1cbiAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgPlxuICAgICAgICAgIDxDaGlwTGFiZWw+XG4gICAgICAgICAgICB7ZmlsdGVyLnZhbHVlLm1hcCgoaWQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxGcmFnbWVudCBrZXk9e2BmcmFnbWVudC0ke2ZpbHRlci5pZH0tJHtpZH1gfT5cbiAgICAgICAgICAgICAgICA8TmFtZURpc3BsYXkgZmlsdGVyVHlwZT17ZmlsdGVyLnR5cGV9IGVudGl0eUlkPXtpZH0gLz5cbiAgICAgICAgICAgICAgICB7aW5kZXggPCB0b3RhbCAtIDEgPyA8U2VwYXJhdG9yIC8+IDogbnVsbH1cbiAgICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvQ2hpcExhYmVsPlxuICAgICAgICAgIHt0b3RhbCA+IDEgPyA8VG90YWxEaXNwbGF5Pih7dG90YWx9KTwvVG90YWxEaXNwbGF5PiA6IG51bGx9XG4gICAgICAgIDwvQmFzZUNoaXA+XG4gICAgICAgIHtxdWVyeSA/IChcbiAgICAgICAgICA8UG9wb3ZlclN0eWxlZFxuICAgICAgICAgICAgb3Blbj17b3Blbn1cbiAgICAgICAgICAgIGFuY2hvckVsPXthbmNob3JFbH1cbiAgICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNsb3NlfVxuICAgICAgICAgICAgYW5jaG9yT3JpZ2luPXt7IHZlcnRpY2FsOiBcImJvdHRvbVwiLCBob3Jpem9udGFsOiBcImxlZnRcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxBZHZhbmNlZERyb3Bkb3duXG4gICAgICAgICAgICAgIHF1ZXJ5PXtxdWVyeX1cbiAgICAgICAgICAgICAgZmlsdGVyPXtmaWx0ZXJ9XG4gICAgICAgICAgICAgIGljb249e2ljb259XG4gICAgICAgICAgICAgIG9uUmVtb3ZlPXtoYW5kbGVSZW1vdmVJdGVtfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlT3BlcmF0aW9uQ2hhbmdlfVxuICAgICAgICAgICAgICBpbmRpdmlkdWFsQ2hhbmdlPXtoYW5kbGVJbmRpdmlkdWFsbHlPcGVyYXRpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvUG9wb3ZlclN0eWxlZD5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8Lz5cbiAgICApXG4gIH0sXG4pXG5cbmV4cG9ydCB7IEFycmF5RmlsdGVyQ2hpcCB9XG4iXSwibmFtZXMiOlsiQXJyYXlGaWx0ZXJDaGlwIiwiaWNvbk1hcCIsImxhbmd1YWdlIiwicnBfdG9waWMiLCJzb3VyY2UiLCJrZXl3b3JkIiwiZm9yd2FyZFJlZiIsImZpbHRlciIsIm9uUmVtb3ZlIiwicXVlcnkiLCJyZWYiLCJhbmNob3JFbCIsInNldEFuY2hvckVsIiwidXNlU3RhdGUiLCJvcGVuIiwiQm9vbGVhbiIsInVzZURpc2FibGVJT1NUb3VjaCIsInRvdGFsIiwidmFsdWUiLCJsZW5ndGgiLCJpY29uIiwibWV0YWRhdGEiLCJzdWJUeXBlIiwidHlwZSIsImhhbmRsZUNsaWNrIiwiZXZlbnQiLCJjdXJyZW50VGFyZ2V0IiwiaGFuZGxlQ2xvc2UiLCJoYW5kbGVSZW1vdmVJdGVtIiwiaWQiLCJ0YWdNYW5hZ2VyRXZlbnRzIiwicXVlcnlSZWZpbmVtZW50IiwiYWN0aW9uIiwiY29tcG9uZW50IiwicXVlcnlJZCIsInF1ZXJ5VHlwZSIsInNhdmVkU3RhdHVzIiwic2F2ZVN0YXR1cyIsImFjdGlvbnMiLCJleHByZXNzaW9uIiwidXBkYXRlRmlsdGVyIiwiQXJyYXkiLCJpc0FycmF5IiwiY3VycmVudElkIiwiaGFuZGxlT3BlcmF0aW9uQ2hhbmdlIiwib3BlcmF0aW9uIiwiaXRlbXMiLCJtYXAiLCJlbnRpdHlUeXBlIiwidXBkYXRlSXRlbXMiLCJoYW5kbGVJbmRpdmlkdWFsbHlPcGVyYXRpb24iLCJlbnRpdHlJZCIsIkJhc2VDaGlwIiwiY2xpY2thYmxlIiwiUXVlcnlJY29uIiwib25DbGljayIsInNlbGVjdGVkIiwiQ2hpcExhYmVsIiwiaW5kZXgiLCJGcmFnbWVudCIsIk5hbWVEaXNwbGF5IiwiZmlsdGVyVHlwZSIsIlNlcGFyYXRvciIsIlRvdGFsRGlzcGxheSIsIlBvcG92ZXJTdHlsZWQiLCJvbkNsb3NlIiwiYW5jaG9yT3JpZ2luIiwidmVydGljYWwiLCJob3Jpem9udGFsIiwiQWR2YW5jZWREcm9wZG93biIsIm9uQ2hhbmdlIiwiaW5kaXZpZHVhbENoYW5nZSJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBOEtTQTs7O2VBQUFBOzs7O3VCQTlLa0Q7dUJBR3hCO3VCQUNGO3VCQUNQOzZCQUNFO2tDQUVLOzBCQUVSOzRCQUN5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbEUsTUFBTUMsVUFBa0M7SUFDdENDLFVBQVU7SUFDVkMsVUFBVTtJQUNWQyxRQUFRO0lBQ1JDLFNBQVM7QUFDWDtBQUVBLE1BQU1MLGdDQUFrQk0sSUFBQUEsaUJBQVUsRUFDaEMsQ0FBQyxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFLEVBQUVDO1FBU0VIO0lBUjlCLE1BQU0sQ0FBQ0ksVUFBVUMsWUFBWSxHQUFHQyxJQUFBQSxlQUFRLEVBQXFCO0lBRTdELE1BQU1DLE9BQU9DLFFBQVFKO0lBRXJCSyxJQUFBQSx5QkFBa0IsRUFBQ0Y7SUFFbkIsTUFBTUcsUUFBUVYsT0FBT1csS0FBSyxDQUFDQyxN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