{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/EllipsisTooltip/EllipsisTooltip.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { Typography } from \"@rp/react/web/mui/core\"\nimport { StyledTooltip } from \"./EllipsisTooltip.styles\"\nimport { Props } from \"./EllipsisTooltip.types\"\n\nconst EllipsisTooltip: React.FC<Props> = ({\n  tooltipText,\n  enterDelay = 300,\n  tooltipPlacement = \"top\",\n  typographyProps = {},\n  tooltipProps = {},\n  tooltipStyles = {},\n  children,\n  forceShowTooltip = false,\n  vertical = false,\n  numberOfLines = 2,\n  disabled = false,\n}) => {\n  const { isMobile, isHoverDevice } = useDeviceInfo()\n  const [showTooltip, setShowTooltip] = useState(false)\n  const ref = useRef<HTMLParagraphElement>(null)\n\n  useEffect(() => {\n    if (forceShowTooltip) {\n      setShowTooltip(true)\n      return () => {\n        setShowTooltip(false)\n      }\n    }\n    ref.current &&\n      setShowTooltip(\n        vertical\n          ? ref.current.scrollHeight > ref.current.clientHeight\n          : ref.current.scrollWidth > ref.current.clientWidth,\n      )\n    return () => {\n      setShowTooltip(false)\n    }\n  }, [ref.current?.scrollWidth, ref.current?.clientWidth, forceShowTooltip, vertical])\n\n  const overflowStyles = vertical\n    ? ({\n        overflowY: \"hidden\",\n        display: \"-webkit-box\",\n        overflowWrap: \"break-word\",\n        WebkitBoxOrient: \"vertical\",\n        WebkitLineClamp: numberOfLines,\n      } as const)\n    : ({\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n      } as const)\n\n  return disabled ? (\n    children\n  ) : (\n    <StyledTooltip\n      {...tooltipProps}\n      tooltipStyles={tooltipStyles}\n      title={tooltipText}\n      disableHoverListener={!showTooltip || isMobile || !isHoverDevice}\n      disableTouchListener\n      disableFocusListener\n      disableInteractive\n      enterDelay={enterDelay}\n      placement={tooltipPlacement}\n    >\n      <Typography\n        ref={ref}\n        {...typographyProps}\n        component={typographyProps.component || \"span\"}\n        style={{\n          ...overflowStyles,\n          ...typographyProps.style,\n        }}\n      >\n        {children}\n      </Typography>\n    </StyledTooltip>\n  )\n}\n\nexport { EllipsisTooltip }\n"],"names":["EllipsisTooltip","tooltipText","enterDelay","tooltipPlacement","typographyProps","tooltipProps","tooltipStyles","children","forceShowTooltip","vertical","numberOfLines","disabled","ref","isMobile","isHoverDevice","useDeviceInfo","showTooltip","setShowTooltip","useState","useRef","useEffect","current","scrollHeight","clientHeight","scrollWidth","clientWidth","overflowStyles","overflowY","display","overflowWrap","WebkitBoxOrient","WebkitLineClamp","whiteSpace","overflow","textOverflow","StyledTooltip","title","disableHoverListener","disableTouchListener","disableFocusListener","disableInteractive","placement","Typography","component","style"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAoFSA;;;eAAAA;;;;+DApF0C;uBACrB;sBACH;uCACG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAG9B,MAAMA,kBAAmC,CAAC,EACxCC,WAAW,EACXC,aAAa,GAAG,EAChBC,mBAAmB,KAAK,EACxBC,kBAAkB,CAAC,CAAC,EACpBC,eAAe,CAAC,CAAC,EACjBC,gBAAgB,CAAC,CAAC,EAClBC,QAAQ,EACRC,mBAAmB,KAAK,EACxBC,WAAW,KAAK,EAChBC,gBAAgB,CAAC,EACjBC,WAAW,KAAK,EACjB;QAqBKC,cAA0BA;IApB9B,MAAM,EAAEC,QAAQ,EAAEC,aAAa,EAAE,GAAGC,IAAAA,oBAAa;IACjD,MAAM,CAACC,aAAaC,eAAe,GAAGC,IAAAA,eAAQ,EAAC;IAC/C,MAAMN,MAAMO,IAAAA,aAAM,EAAuB;IAEzCC,IAAAA,gBAAS,EAAC;QACR,IAAIZ,kBAAkB;YACpBS,eAAe;YACf,OAAO;gBACLA,eAAe;YACjB;QACF;QACAL,IAAIS,OAAO,IACTJ,eACER,WACIG,IAAIS,OAAO,CAACC,YAAY,GAAGV,IAAIS,OAAO,CAACE,YAAY,GACnDX,IAAIS,OAAO,CAACG,WAAW,GAAGZ,IAAIS,OAAO,CAACI,WAAW;QAEzD,OAAO;YACLR,eAAe;QACjB;IACF,GAAG;SAACL,eAAAA,IAAIS,OAAO,cAAXT,mCAAAA,aAAaY,WAAW;SAAEZ,gBAAAA,IAAIS,OAAO,cAAXT,oCAAAA,cAAaa,WAAW;QAAEjB;QAAkBC;KAAS;IAEnF,MAAMiB,iBAAiBjB,WAClB;QACCkB,WAAW;QACXC,SAAS;QACTC,cAAc;QACdC,iBAAiB;QACjBC,iBAAiBrB;IACnB,IACC;QACCsB,YAAY;QACZC,UAAU;QACVC,cAAc;IAChB;IAEJ,OAAOvB,WACLJ,yBAEA,qBAAC4B,oCAAa,0CACR9B;QACJC,eAAeA;QACf8B,OAAOnC;QACPoC,sBAAsB,CAACrB,eAAeH,YAAY,CAACC;QACnDwB,oBAAoB;QACpBC,oBAAoB;QACpBC,kBAAkB;QAClBtC,YAAYA;QACZuC,WAAWtC;kBAEX,cAAA,qBAACuC,gBAAU;YACT9B,KAAKA;WACDR;YACJuC,WAAWvC,gBAAgBuC,SAAS,IAAI;YACxCC,OAAO,mBACFlB,gBACAtB,gBAAgBwC,KAAK;sBAGzBrC;;;AAIT"}