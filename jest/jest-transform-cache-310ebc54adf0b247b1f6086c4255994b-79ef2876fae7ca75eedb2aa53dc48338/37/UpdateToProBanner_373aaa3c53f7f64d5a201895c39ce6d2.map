{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/Banners/UpdateToProBanner.tsx"],"sourcesContent":["import React from \"react\"\nimport { useLocation } from \"react-router\"\nimport { SIDEBAR_WIDTH } from \"@rp/common/settings\"\nimport { RPThemeProps } from \"@rp/react/theme\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { useElementSize } from \"@rp/react/web/common/hooks\"\nimport { useModal } from \"@rp/react/web/common/providers\"\nimport { Box, Button, Stack, Typography, useTheme } from \"@rp/react/web/mui/core\"\nimport { Close } from \"@rp/react/web/mui/icons\"\n\nconst CHAT_INPUT_WRAPPER_CLASS_NAME = \"chat-input-wrapper\"\nconst CHAT_INPUT_CONTAINER_CLASS_NAME = \"chat-input-container\"\nconst SMALLER_CHAT_WIDTH = 480\nconst getChatInputStyle = (isMobile: boolean, theme: RPThemeProps, isHomePageChat: boolean) => {\n  return {\n    mx: isHomePageChat && !isMobile ? 1.5 : 0,\n    width: `min(810px, 100dvw - ${isMobile ? 120 : SIDEBAR_WIDTH + 48}px)`,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: `min(810px, 100dvw - ${isMobile ? 32 : SIDEBAR_WIDTH + 48}px)`,\n    },\n  }\n}\n\ntype UpdateToProBannerProps = { closeBanner: () => void }\n\nfunction UpdateToProBanner({ closeBanner }: UpdateToProBannerProps) {\n  const { isMobile } = useDeviceInfo()\n  const {\n    planComparisonModal: { handleOpen: planComparisonHandleOpen },\n  } = useModal()\n\n  const handleUpdateToPro = () => {\n    planComparisonHandleOpen()\n  }\n  const theme = useTheme()\n  const location = useLocation()\n  const stackRef = React.useRef<HTMLDivElement | null>(null)\n  const { width: stackWidth } = useElementSize(stackRef.current)\n\n  const chatBoxStyle = () => {\n    switch (true) {\n      case location.pathname.includes(\"watchlist\"):\n        return {\n          display: \"flex\",\n          [`& .${CHAT_INPUT_WRAPPER_CLASS_NAME}`]: getChatInputStyle(isMobile, theme, false),\n          [`& .${CHAT_INPUT_CONTAINER_CLASS_NAME}`]: getChatInputStyle(isMobile, theme, false),\n          mb: 0,\n          mx: 2,\n          mt: 3,\n          p: 0.5,\n          borderRadius: 4,\n          flexDirection: \"column\",\n          backgroundColor: theme.palette.elevation.dp24,\n\n          [theme.breakpoints.down(\"sm\")]: {\n            flexDirection: \"column\",\n            alignItems: \"stretch\",\n          },\n        }\n\n      case location.pathname.includes(\"chat\"):\n        return {\n          display: \"flex\",\n          [`& .${CHAT_INPUT_WRAPPER_CLASS_NAME}`]: getChatInputStyle(isMobile, theme, false),\n          [`& .${CHAT_INPUT_CONTAINER_CLASS_NAME}`]: getChatInputStyle(isMobile, theme, false),\n          mb: 1,\n          mx: 2,\n          mt: 3,\n          p: 0.5,\n          pb: 2,\n          borderRadius: 4,\n          flexDirection: \"column\",\n          backgroundColor: theme.palette.elevation.dp24,\n\n          [theme.breakpoints.down(\"sm\")]: {\n            flexDirection: \"column\",\n            alignItems: \"stretch\",\n          },\n        }\n\n      default:\n        return {\n          display: \"flex\",\n          [`& .${CHAT_INPUT_WRAPPER_CLASS_NAME}`]: getChatInputStyle(isMobile, theme, false),\n          [`& .${CHAT_INPUT_CONTAINER_CLASS_NAME}`]: getChatInputStyle(isMobile, theme, false),\n          mb: 20,\n          mx: 2,\n          mt: 3,\n          p: 0.5,\n          borderRadius: 4,\n          flexDirection: \"column\",\n          backgroundColor: theme.palette.elevation.dp24,\n\n          [theme.breakpoints.down(\"sm\")]: {\n            flexDirection: \"column\",\n            alignItems: \"stretch\",\n          },\n        }\n    }\n  }\n\n  return (\n    <Box sx={chatBoxStyle()}>\n      <Box\n        sx={{\n          width: \"100%\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"start\",\n          mb: 1,\n        }}\n      >\n        <Box sx={{ alignItems: \"center\", pl: 0.5, gap: 1, pt: 1, width: \"100%\" }}>\n          <Stack\n            ref={newStackRef => {\n              newStackRef && (stackRef.current = newStackRef)\n            }}\n            sx={{\n              width: \"100%\",\n              mx: 1,\n              flexDirection: \"column\",\n              alignItems: \"start\",\n            }}\n          >\n            <Stack sx={{ width: \"100%\" }}>\n              <Typography variant=\"body2\" color=\"text.primary\">\n                A better response could have been provided via the <b>Pro version</b>, which unlocks\n                premium data sources to elevate your financial research.\n              </Typography>\n            </Stack>\n            <Button\n              sx={{\n                fontWeight: \"bold\",\n                alignItems: \"center\",\n                justifyContent: \"start\",\n                mt: 1,\n              }}\n              variant=\"contained\"\n              size={\"small\"}\n              onClick={() => {\n                handleUpdateToPro()\n              }}\n            >\n              Get Pro\n            </Button>\n          </Stack>\n        </Box>\n        <Box\n          sx={{\n            display: \"flex\",\n            justifyContent: \"end\",\n            alignItems: \"end\",\n            mb: stackWidth < SMALLER_CHAT_WIDTH ? 10 : 6,\n            p: 0.5,\n          }}\n        >\n          <Close\n            aria-label=\"Close banner\"\n            onClick={() => {\n              closeBanner()\n            }}\n            sx={{ width: 24, height: 24 }}\n          />\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\nexport { UpdateToProBanner }\n"],"names":["UpdateToProBanner","CHAT_INPUT_WRAPPER_CLASS_NAME","CHAT_INPUT_CONTAINER_CLASS_NAME","SMALLER_CHAT_WIDTH","getChatInputStyle","isMobile","theme","isHomePageChat","mx","width","SIDEBAR_WIDTH","breakpoints","down","closeBanner","useDeviceInfo","planComparisonModal","handleOpen","planComparisonHandleOpen","useModal","handleUpdateToPro","useTheme","location","useLocation","stackRef","React","useRef","stackWidth","useElementSize","current","chatBoxStyle","pathname","includes","display","mb","mt","p","borderRadius","flexDirection","backgroundColor","palette","elevation","dp24","alignItems","pb","Box","sx","justifyContent","pl","gap","pt","Stack","ref","newStackRef","Typography","variant","color","b","Button","fontWeight","size","onClick","Close","aria-label","height"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}