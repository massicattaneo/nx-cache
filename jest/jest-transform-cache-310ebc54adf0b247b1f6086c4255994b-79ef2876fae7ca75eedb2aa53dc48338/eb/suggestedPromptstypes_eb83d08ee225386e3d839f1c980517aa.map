{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/common/api-types/src/lib/suggestedPrompts.types.ts"],"sourcesContent":["import { z } from \"zod\"\nimport { DatasetScope } from \"./chat.types\"\n\n// WARNING: This should be alphabetically ordered\nconst Task = [\"Brainstorming\", \"Planning\", \"Research\", \"Screening\", \"Writing\"] as const\n\nconst Topic = z.object({\n  title: z.string().min(1),\n  description: z.string().min(1),\n})\nconst Topics = z.record(z.string(), Topic)\n\nconst SuggestedPromptSchema = z.object({\n  id: z.string(),\n  prompt: z.string().min(1),\n  title: z.string().min(1),\n  relatedTopics: z.array(z.string()).min(1),\n  task: z.enum(Task),\n  scope: z.custom<DatasetScope>().optional(),\n  watchlist: z.boolean().default(false),\n  validity: z\n    .object({\n      from: z\n        .string()\n        .regex(/^\\d{4}-\\d{2}-\\d{2}T00:00:00.000$/)\n        .optional(),\n      to: z\n        .string()\n        .regex(/^\\d{4}-\\d{2}-\\d{2}T23:59:59.999$/)\n        .optional(),\n    })\n    .optional(),\n  datasets: z.object({\n    news: z.boolean().default(false),\n    filings: z.boolean().default(false),\n    transcripts: z.boolean().default(false),\n    \"job-analytics\": z.boolean().default(false),\n    price: z.boolean().default(false),\n    \"sentiment-attention\": z.boolean().default(false),\n    estimates: z.boolean().default(false),\n    crunchbase: z.boolean().default(false),\n    \"knowledge-graph\": z.boolean().default(false),\n    \"etf-holdings\": z.boolean().default(false),\n    market_intelligence: z.boolean().default(false),\n    earnings_calls: z.boolean().default(false),\n  }),\n})\n\nconst SuggestedPromptFile = z.object({\n  lastUpdated: z.object({\n    userClerkId: z.string(),\n    userEmail: z.string(),\n    timestamp: z.number(),\n  }),\n  prompts: z.array(SuggestedPromptSchema),\n  topics: Topics,\n})\n\ntype SuggestedPromptType = z.infer<typeof SuggestedPromptSchema>\n\nconst isSuggestedPromptDataset = (\n  scope: string,\n): scope is keyof SuggestedPromptType[\"datasets\"] => {\n  return scope in SuggestedPromptSchema.shape.datasets.shape\n}\n\nexport { Task, SuggestedPromptSchema, SuggestedPromptFile, Topics, Topic, isSuggestedPromptDataset }\n"],"names":["SuggestedPromptFile","SuggestedPromptSchema","Task","Topic","Topics","isSuggestedPromptDataset","z","object","title","string","min","description","record","id","prompt","relatedTopics","array","task","enum","scope","custom","optional","watchlist","boolean","default","validity","from","regex","to","datasets","news","filings","transcripts","price","estimates","crunchbase","market_intelligence","earnings_calls","lastUpdated","userClerkId","userEmail","timestamp","number","prompts","topics","shape"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAkEsCA,mBAAmB;eAAnBA;;IAAvBC,qBAAqB;eAArBA;;IAANC,IAAI;eAAJA;;IAA0DC,KAAK;eAALA;;IAARC,MAAM;eAANA;;IAAeC,wBAAwB;eAAxBA;;;qBAlExD;AAGlB,iDAAiD;AACjD,MAAMH,OAAO;IAAC;IAAiB;IAAY;IAAY;IAAa;CAAU;AAE9E,MAAMC,QAAQG,MAAC,CAACC,MAAM,CAAC;IACrBC,OAAOF,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IACtBC,aAAaL,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;AAC9B;AACA,MAAMN,SAASE,MAAC,CAACM,MAAM,CAACN,MAAC,CAACG,MAAM,IAAIN;AAEpC,MAAMF,wBAAwBK,MAAC,CAACC,MAAM,CAAC;IACrCM,IAAIP,MAAC,CAACG,MAAM;IACZK,QAAQR,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IACvBF,OAAOF,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IACtBK,eAAeT,MAAC,CAACU,KAAK,CAACV,MAAC,CAACG,MAAM,IAAIC,GAAG,CAAC;IACvCO,MAAMX,MAAC,CAACY,IAAI,CAAChB;IACbiB,OAAOb,MAAC,CAACc,MAAM,GAAiBC,QAAQ;IACxCC,WAAWhB,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;IAC/BC,UAAUnB,MAAC,CACRC,MAAM,CAAC;QACNmB,MAAMpB,MAAC,CACJG,MAAM,GACNkB,KAAK,CAAC,oCACNN,QAAQ;QACXO,IAAItB,MAAC,CACFG,MAAM,GACNkB,KAAK,CAAC,oCACNN,QAAQ;IACb,GACCA,QAAQ;IACXQ,UAAUvB,MAAC,CAACC,MAAM,CAAC;QACjBuB,MAAMxB,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QAC1BO,SAASzB,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QAC7BQ,aAAa1B,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QACjC,iBAAiBlB,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QACrCS,OAAO3B,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QAC3B,uBAAuBlB,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QAC3CU,WAAW5B,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QAC/BW,YAAY7B,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QAChC,mBAAmBlB,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QACvC,gBAAgBlB,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QACpCY,qBAAqB9B,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;QACzCa,gBAAgB/B,MAAC,CAACiB,OAAO,GAAGC,OAAO,CAAC;IACtC;AACF;AAEA,MAAMxB,sBAAsBM,MAAC,CAACC,MAAM,CAAC;IACnC+B,aAAahC,MAAC,CAACC,MAAM,CAAC;QACpBgC,aAAajC,MAAC,CAACG,MAAM;QACrB+B,WAAWlC,MAAC,CAACG,MAAM;QACnBgC,WAAWnC,MAAC,CAACoC,MAAM;IACrB;IACAC,SAASrC,MAAC,CAACU,KAAK,CAACf;IACjB2C,QAAQxC;AACV;AAIA,MAAMC,2BAA2B,CAC/Bc;IAEA,OAAOA,SAASlB,sBAAsB4C,KAAK,CAAChB,QAAQ,CAACgB,KAAK;AAC5D"}