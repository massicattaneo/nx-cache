{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/hooks/src/lib/useAgent/handlers/handleActionMessage.ts"],"sourcesContent":["import { ActionMessage, AgentMessageState } from \"../useAgent.types\"\n\nfunction handleActionMessage(\n  agentState: AgentMessageState,\n  data: ActionMessage,\n): AgentMessageState {\n  const existingAction = agentState.frames.find(\n    frame => frame.type === \"action\" && frame.actionId === data.actionAuditsId,\n  )\n\n  if (existingAction) {\n    return agentState\n  }\n\n  return {\n    ...agentState,\n    frames: [\n      ...agentState.frames,\n      {\n        type: \"action\",\n        actionId: data.actionAuditsId,\n        toolName: data.toolName,\n        toolArguments: data.toolArguments,\n        traces: [],\n      },\n    ],\n    error: undefined,\n    requestId: data.requestId ?? agentState.requestId,\n  }\n}\n\nexport { handleActionMessage }\n"],"names":["handleActionMessage","agentState","data","existingAction","frames","find","frame","type","actionId","actionAuditsId","toolName","toolArguments","traces","error","undefined","requestId"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA+BSA;;;eAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA7BT,SAASA,oBACPC,UAA6B,EAC7BC,IAAmB;IAEnB,MAAMC,iBAAiBF,WAAWG,MAAM,CAACC,IAAI,CAC3CC,CAAAA,QAASA,MAAMC,IAAI,KAAK,YAAYD,MAAME,QAAQ,KAAKN,KAAKO,cAAc;IAG5E,IAAIN,gBAAgB;QAClB,OAAOF;IACT;QAeaC;IAbb,OAAO,wCACFD;QACHG,QAAQ;eACHH,WAAWG,MAAM;YACpB;gBACEG,MAAM;gBACNC,UAAUN,KAAKO,cAAc;gBAC7BC,UAAUR,KAAKQ,QAAQ;gBACvBC,eAAeT,KAAKS,aAAa;gBACjCC,QAAQ,EAAE;YACZ;SACD;QACDC,OAAOC;QACPC,WAAWb,CAAAA,kBAAAA,KAAKa,SAAS,cAAdb,6BAAAA,kBAAkBD,WAAWc,SAAS;;AAErD"}