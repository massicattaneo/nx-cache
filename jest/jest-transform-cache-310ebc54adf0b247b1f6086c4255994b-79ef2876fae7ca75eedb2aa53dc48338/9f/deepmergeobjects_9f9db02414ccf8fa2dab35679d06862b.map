{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/common/utils/src/lib/deep-merge-objects.ts"],"sourcesContent":["import { GenericObject, isArray, isObject } from \"./generic-object.types\"\n\ninterface IOptions {\n  /**\n   * When `true`, values explicitly provided as `undefined` will override existing values, though properties that are simply omitted won't affect anything.\n   * When `false`, values explicitly provided as `undefined` won't override existing values.\n   *\n   * Default: `true`\n   */\n  allowUndefinedOverrides: boolean\n  /**\n   * When `true` it will merge array properties.\n   * When `false` it will replace array properties with the last instance entirely instead of merging their contents.\n   *\n   * Default: `true`\n   */\n  mergeArrays: boolean\n}\n\nfunction deepMergeObjects<A extends GenericObject, B extends GenericObject>(\n  first: A,\n  second: B,\n  options?: IOptions,\n): A & B {\n  const ret: A & B = Object.assign({}, first) as A & B\n  Object.keys(second).forEach(key => {\n    if (Object.prototype.hasOwnProperty.call(ret, key)) {\n      if (isObject(ret) && isObject(second) && isArray(ret[key]) && isArray(second[key])) {\n        // do nothing\n      } else if (isObject(ret) && isObject(second) && isObject(ret[key]) && isObject(second[key])) {\n        Object.assign(ret, { [key]: deepMergeObjects(ret[key], second[key], options) })\n      } else if (isObject(second)) {\n        Object.assign(ret, { [key]: second[key] })\n      }\n    } else if (isObject(second)) {\n      Object.assign(ret, { [key]: second[key] })\n    }\n  })\n  return ret\n}\n\nexport { deepMergeObjects }\n"],"names":["deepMergeObjects","first","second","options","ret","Object","assign","keys","forEach","key","prototype","hasOwnProperty","call","isObject","isArray"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAyCSA;;;eAAAA;;;oCAzCwC;AAmBjD,SAASA,iBACPC,KAAQ,EACRC,MAAS,EACTC,OAAkB;IAElB,MAAMC,MAAaC,OAAOC,MAAM,CAAC,CAAC,GAAGL;IACrCI,OAAOE,IAAI,CAACL,QAAQM,OAAO,CAACC,CAAAA;QAC1B,IAAIJ,OAAOK,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,KAAKK,MAAM;YAClD,IAAII,IAAAA,4BAAQ,EAACT,QAAQS,IAAAA,4BAAQ,EAACX,WAAWY,IAAAA,2BAAO,EAACV,GAAG,CAACK,IAAI,KAAKK,IAAAA,2BAAO,EAACZ,MAAM,CAACO,IAAI,GAAG;YAClF,aAAa;YACf,OAAO,IAAII,IAAAA,4BAAQ,EAACT,QAAQS,IAAAA,4BAAQ,EAACX,WAAWW,IAAAA,4BAAQ,EAACT,GAAG,CAACK,IAAI,KAAKI,IAAAA,4BAAQ,EAACX,MAAM,CAACO,IAAI,GAAG;gBAC3FJ,OAAOC,MAAM,CAACF,KAAK;oBAAE,CAACK,IAAI,EAAET,iBAAiBI,GAAG,CAACK,IAAI,EAAEP,MAAM,CAACO,IAAI,EAAEN;gBAAS;YAC/E,OAAO,IAAIU,IAAAA,4BAAQ,EAACX,SAAS;gBAC3BG,OAAOC,MAAM,CAACF,KAAK;oBAAE,CAACK,IAAI,EAAEP,MAAM,CAACO,IAAI;gBAAC;YAC1C;QACF,OAAO,IAAII,IAAAA,4BAAQ,EAACX,SAAS;YAC3BG,OAAOC,MAAM,CAACF,KAAK;gBAAE,CAACK,IAAI,EAAEP,MAAM,CAACO,IAAI;YAAC;QAC1C;IACF;IACA,OAAOL;AACT"}