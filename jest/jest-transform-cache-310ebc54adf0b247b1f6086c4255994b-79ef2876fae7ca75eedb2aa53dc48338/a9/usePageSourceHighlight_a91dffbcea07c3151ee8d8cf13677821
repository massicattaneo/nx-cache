9dae28a4d19ec4fdc95ae31bc9901605
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "usePageSourceHighlight", {
    enumerable: true,
    get: function() {
        return usePageSourceHighlight;
    }
});
const _react = require("react");
const _router = require("@rp/react/web/router");
const _documentViewerPageutils = require("./documentViewerPage.utils");
const usePageSourceHighlight = ({ boundingBox, page, pageNumber, isPageLoading })=>{
    const [hasHighlighted, setHasHighlighted] = (0, _react.useState)(false);
    const [enablePDFHighlight] = (0, _router.useFeatureAtom)("enablePDFHighlight");
    (0, _react.useEffect)(()=>{
        if (hasHighlighted || isPageLoading || !enablePDFHighlight || !page || pageNumber !== boundingBox.page || !(0, _documentViewerPageutils.getIsHighlightValid)(boundingBox)) return;
        setHasHighlighted(true);
        (0, _documentViewerPageutils.drawSourceHighlight)(page, boundingBox);
    }, [
        pageNumber,
        boundingBox,
        hasHighlighted,
        page,
        enablePDFHighlight,
        isPageLoading
    ]);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2RvY3VtZW50LXZpZXdlci9zcmMvbGliL0RvY3VtZW50Vmlld2VyUGFnZS9ob29rcy91c2VQYWdlU291cmNlSGlnaGxpZ2h0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tIFwiQHJwL2NvbW1vbi9hcGktdHlwZXNcIlxuaW1wb3J0IHsgdXNlRmVhdHVyZUF0b20gfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9yb3V0ZXJcIlxuaW1wb3J0IHsgZHJhd1NvdXJjZUhpZ2hsaWdodCwgZ2V0SXNIaWdobGlnaHRWYWxpZCB9IGZyb20gXCIuL2RvY3VtZW50Vmlld2VyUGFnZS51dGlsc1wiXG5cbnR5cGUgVXNlUGFnZVNvdXJjZUhpZ2hsaWdodFByb3BzID0ge1xuICBib3VuZGluZ0JveDogQm91bmRpbmdCb3hcbiAgcGFnZTogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsXG4gIHBhZ2VOdW1iZXI6IG51bWJlclxuICBpc1BhZ2VMb2FkaW5nOiBib29sZWFuXG59XG5cbmNvbnN0IHVzZVBhZ2VTb3VyY2VIaWdobGlnaHQgPSAoe1xuICBib3VuZGluZ0JveCxcbiAgcGFnZSxcbiAgcGFnZU51bWJlcixcbiAgaXNQYWdlTG9hZGluZyxcbn06IFVzZVBhZ2VTb3VyY2VIaWdobGlnaHRQcm9wcyk6IHZvaWQgPT4ge1xuICBjb25zdCBbaGFzSGlnaGxpZ2h0ZWQsIHNldEhhc0hpZ2hsaWdodGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZW5hYmxlUERGSGlnaGxpZ2h0XSA9IHVzZUZlYXR1cmVBdG9tKFwiZW5hYmxlUERGSGlnaGxpZ2h0XCIpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoXG4gICAgICBoYXNIaWdobGlnaHRlZCB8fFxuICAgICAgaXNQYWdlTG9hZGluZyB8fFxuICAgICAgIWVuYWJsZVBERkhpZ2hsaWdodCB8fFxuICAgICAgIXBhZ2UgfHxcbiAgICAgIHBhZ2VOdW1iZXIgIT09IGJvdW5kaW5nQm94LnBhZ2UgfHxcbiAgICAgICFnZXRJc0hpZ2hsaWdodFZhbGlkKGJvdW5kaW5nQm94KVxuICAgIClcbiAgICAgIHJldHVyblxuXG4gICAgc2V0SGFzSGlnaGxpZ2h0ZWQodHJ1ZSlcblxuICAgIGRyYXdTb3VyY2VIaWdobGlnaHQocGFnZSwgYm91bmRpbmdCb3gpXG4gIH0sIFtwYWdlTnVtYmVyLCBib3VuZGluZ0JveCwgaGFzSGlnaGxpZ2h0ZWQsIHBhZ2UsIGVuYWJsZVBERkhpZ2hsaWdodCwgaXNQYWdlTG9hZGluZ10pXG59XG5cbmV4cG9ydCB7IHVzZVBhZ2VTb3VyY2VIaWdobGlnaHQgfVxuIl0sIm5hbWVzIjpbInVzZVBhZ2VTb3VyY2VIaWdobGlnaHQiLCJib3VuZGluZ0JveCIsInBhZ2UiLCJwYWdlTnVtYmVyIiwiaXNQYWdlTG9hZGluZyIsImhhc0hpZ2hsaWdodGVkIiwic2V0SGFzSGlnaGxpZ2h0ZWQiLCJ1c2VTdGF0ZSIsImVuYWJsZVBERkhpZ2hsaWdodCIsInVzZUZlYXR1cmVBdG9tIiwidXNlRWZmZWN0IiwiZ2V0SXNIaWdobGlnaHRWYWxpZCIsImRyYXdTb3VyY2VIaWdobGlnaHQiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkFzQ1NBOzs7ZUFBQUE7Ozt1QkF0QzJCO3dCQUVMO3lDQUMwQjtBQVN6RCxNQUFNQSx5QkFBeUIsQ0FBQyxFQUM5QkMsV0FBVyxFQUNYQyxJQUFJLEVBQ0pDLFVBQVUsRUFDVkMsYUFBYSxFQUNlO0lBQzVCLE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR0MsSUFBQUEsZUFBUSxFQUFDO0lBQ3JELE1BQU0sQ0FBQ0MsbUJBQW1CLEdBQUdDLElBQUFBLHNCQUFjLEVBQUM7SUFFNUNDLElBQUFBLGdCQUFTLEVBQUM7UUFDUixJQUNFTCxrQkFDQUQsaUJBQ0EsQ0FBQ0ksc0JBQ0QsQ0FBQ04sUUFDREMsZUFBZUYsWUFBWUMsSUFBSSxJQUMvQixDQUFDUyxJQUFBQSw0Q0FBbUIsRUFBQ1YsY0FFckI7UUFFRkssa0JBQWtCO1FBRWxCTSxJQUFBQSw0Q0FBbUIsRUFBQ1YsTUFBTUQ7SUFDNUIsR0FBRztRQUFDRTtRQUFZRjtRQUFhSTtRQUFnQkg7UUFBTU07UUFBb0JKO0tBQWM7QUFDdkYifQ==