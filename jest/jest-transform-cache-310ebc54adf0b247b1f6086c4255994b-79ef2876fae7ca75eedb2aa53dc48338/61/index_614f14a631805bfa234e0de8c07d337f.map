{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/common/zod-contracts/api-keys/src/index.ts"],"sourcesContent":["import { z } from \"zod\"\n\nconst QuotaId = z.enum([\n  \"apiQueryUnit\",\n  \"inputTokens\",\n  \"outputTokens\",\n  \"webSearch\",\n  \"textGeneration\",\n  \"pdfGeneration\",\n])\n\nconst apiKeysQuotaSchema = z.object({\n  id: QuotaId,\n  name: z.string(),\n  costPerUnitCredits: z.number(),\n  consumedUnits: z.number(),\n  consumedCredits: z.number(),\n})\n\nconst apiKeysQuotasSchema = z.object({\n  organizationId: z.string(),\n  totalAllowedCredits: z.number(),\n  totalConsumedCredits: z.number(),\n  remainingCredits: z.number(),\n  quotas: z.array(apiKeysQuotaSchema),\n  lastUpdated: z.string(),\n})\n\nfunction parseDate(date: string): Date {\n  const str = date.endsWith(\"Z\") ? date : `${date}Z`\n  return new Date(str)\n}\n\nconst apiKeySchema = z.object({\n  id: z.string().uuid(),\n  stub: z.string(),\n  user_id: z.string(),\n  description: z.string(),\n  enabled: z.boolean(),\n  last_used: z\n    .string()\n    .nullish()\n    .transform(str => (str ? parseDate(str) : null)),\n  date_created: z.string().transform(str => parseDate(str)),\n  last_updated: z.string().transform(str => parseDate(str)),\n  created_by: z.string(),\n  modified_by: z.string(),\n})\n\nexport { apiKeysQuotasSchema, apiKeySchema, apiKeysQuotaSchema }\n"],"names":["apiKeySchema","apiKeysQuotaSchema","apiKeysQuotasSchema","QuotaId","z","enum","object","id","name","string","costPerUnitCredits","number","consumedUnits","consumedCredits","organizationId","totalAllowedCredits","totalConsumedCredits","remainingCredits","quotas","array","lastUpdated","parseDate","date","str","endsWith","Date","uuid","stub","user_id","description","enabled","boolean","last_used","nullish","transform","date_created","last_updated","created_by","modified_by"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAiD8BA,YAAY;eAAZA;;IAAcC,kBAAkB;eAAlBA;;IAAnCC,mBAAmB;eAAnBA;;;qBAjDS;AAElB,MAAMC,UAAUC,MAAC,CAACC,IAAI,CAAC;IACrB;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAMJ,qBAAqBG,MAAC,CAACE,MAAM,CAAC;IAClCC,IAAIJ;IACJK,MAAMJ,MAAC,CAACK,MAAM;IACdC,oBAAoBN,MAAC,CAACO,MAAM;IAC5BC,eAAeR,MAAC,CAACO,MAAM;IACvBE,iBAAiBT,MAAC,CAACO,MAAM;AAC3B;AAEA,MAAMT,sBAAsBE,MAAC,CAACE,MAAM,CAAC;IACnCQ,gBAAgBV,MAAC,CAACK,MAAM;IACxBM,qBAAqBX,MAAC,CAACO,MAAM;IAC7BK,sBAAsBZ,MAAC,CAACO,MAAM;IAC9BM,kBAAkBb,MAAC,CAACO,MAAM;IAC1BO,QAAQd,MAAC,CAACe,KAAK,CAAClB;IAChBmB,aAAahB,MAAC,CAACK,MAAM;AACvB;AAEA,SAASY,UAAUC,IAAY;IAC7B,MAAMC,MAAMD,KAAKE,QAAQ,CAAC,OAAOF,OAAO,CAAC,EAAEA,KAAK,CAAC,CAAC;IAClD,OAAO,IAAIG,KAAKF;AAClB;AAEA,MAAMvB,eAAeI,MAAC,CAACE,MAAM,CAAC;IAC5BC,IAAIH,MAAC,CAACK,MAAM,GAAGiB,IAAI;IACnBC,MAAMvB,MAAC,CAACK,MAAM;IACdmB,SAASxB,MAAC,CAACK,MAAM;IACjBoB,aAAazB,MAAC,CAACK,MAAM;IACrBqB,SAAS1B,MAAC,CAAC2B,OAAO;IAClBC,WAAW5B,MAAC,CACTK,MAAM,GACNwB,OAAO,GACPC,SAAS,CAACX,CAAAA,MAAQA,MAAMF,UAAUE,OAAO;IAC5CY,cAAc/B,MAAC,CAACK,MAAM,GAAGyB,SAAS,CAACX,CAAAA,MAAOF,UAAUE;IACpDa,cAAchC,MAAC,CAACK,MAAM,GAAGyB,SAAS,CAACX,CAAAA,MAAOF,UAAUE;IACpDc,YAAYjC,MAAC,CAACK,MAAM;IACpB6B,aAAalC,MAAC,CAACK,MAAM;AACvB"}