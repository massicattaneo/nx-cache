{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/swiper/core/loop/loopFix.js"],"sourcesContent":["export default function loopFix({\n  slideRealIndex,\n  slideTo = true,\n  direction,\n  setTranslate,\n  activeSlideIndex,\n  byController,\n  byMousewheel\n} = {}) {\n  const swiper = this;\n  if (!swiper.params.loop) return;\n  swiper.emit('beforeLoopFix');\n  const {\n    slides,\n    allowSlidePrev,\n    allowSlideNext,\n    slidesEl,\n    params\n  } = swiper;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  if (swiper.virtual && params.virtual.enabled) {\n    if (slideTo) {\n      if (!params.centeredSlides && swiper.snapIndex === 0) {\n        swiper.slideTo(swiper.virtual.slides.length, 0, false, true);\n      } else if (params.centeredSlides && swiper.snapIndex < params.slidesPerView) {\n        swiper.slideTo(swiper.virtual.slides.length + swiper.snapIndex, 0, false, true);\n      } else if (swiper.snapIndex === swiper.snapGrid.length - 1) {\n        swiper.slideTo(swiper.virtual.slidesBefore, 0, false, true);\n      }\n    }\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n    swiper.emit('loopFix');\n    return;\n  }\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(parseFloat(params.slidesPerView, 10));\n  let loopedSlides = params.loopedSlides || slidesPerView;\n  if (loopedSlides % params.slidesPerGroup !== 0) {\n    loopedSlides += params.slidesPerGroup - loopedSlides % params.slidesPerGroup;\n  }\n  swiper.loopedSlides = loopedSlides;\n  const prependSlidesIndexes = [];\n  const appendSlidesIndexes = [];\n  let activeIndex = swiper.activeIndex;\n  if (typeof activeSlideIndex === 'undefined') {\n    activeSlideIndex = swiper.getSlideIndex(swiper.slides.filter(el => el.classList.contains(params.slideActiveClass))[0]);\n  } else {\n    activeIndex = activeSlideIndex;\n  }\n  const isNext = direction === 'next' || !direction;\n  const isPrev = direction === 'prev' || !direction;\n  let slidesPrepended = 0;\n  let slidesAppended = 0;\n  // prepend last slides before start\n  if (activeSlideIndex < loopedSlides) {\n    slidesPrepended = Math.max(loopedSlides - activeSlideIndex, params.slidesPerGroup);\n    for (let i = 0; i < loopedSlides - activeSlideIndex; i += 1) {\n      const index = i - Math.floor(i / slides.length) * slides.length;\n      prependSlidesIndexes.push(slides.length - index - 1);\n    }\n  } else if (activeSlideIndex /* + slidesPerView */ > swiper.slides.length - loopedSlides * 2) {\n    slidesAppended = Math.max(activeSlideIndex - (swiper.slides.length - loopedSlides * 2), params.slidesPerGroup);\n    for (let i = 0; i < slidesAppended; i += 1) {\n      const index = i - Math.floor(i / slides.length) * slides.length;\n      appendSlidesIndexes.push(index);\n    }\n  }\n  if (isPrev) {\n    prependSlidesIndexes.forEach(index => {\n      swiper.slides[index].swiperLoopMoveDOM = true;\n      slidesEl.prepend(swiper.slides[index]);\n      swiper.slides[index].swiperLoopMoveDOM = false;\n    });\n  }\n  if (isNext) {\n    appendSlidesIndexes.forEach(index => {\n      swiper.slides[index].swiperLoopMoveDOM = true;\n      slidesEl.append(swiper.slides[index]);\n      swiper.slides[index].swiperLoopMoveDOM = false;\n    });\n  }\n  swiper.recalcSlides();\n  if (params.slidesPerView === 'auto') {\n    swiper.updateSlides();\n  }\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n  if (slideTo) {\n    if (prependSlidesIndexes.length > 0 && isPrev) {\n      if (typeof slideRealIndex === 'undefined') {\n        const currentSlideTranslate = swiper.slidesGrid[activeIndex];\n        const newSlideTranslate = swiper.slidesGrid[activeIndex + slidesPrepended];\n        const diff = newSlideTranslate - currentSlideTranslate;\n        if (byMousewheel) {\n          swiper.setTranslate(swiper.translate - diff);\n        } else {\n          swiper.slideTo(activeIndex + slidesPrepended, 0, false, true);\n          if (setTranslate) {\n            swiper.touches[swiper.isHorizontal() ? 'startX' : 'startY'] += diff;\n          }\n        }\n      } else {\n        if (setTranslate) {\n          swiper.slideToLoop(slideRealIndex, 0, false, true);\n        }\n      }\n    } else if (appendSlidesIndexes.length > 0 && isNext) {\n      if (typeof slideRealIndex === 'undefined') {\n        const currentSlideTranslate = swiper.slidesGrid[activeIndex];\n        const newSlideTranslate = swiper.slidesGrid[activeIndex - slidesAppended];\n        const diff = newSlideTranslate - currentSlideTranslate;\n        if (byMousewheel) {\n          swiper.setTranslate(swiper.translate - diff);\n        } else {\n          swiper.slideTo(activeIndex - slidesAppended, 0, false, true);\n          if (setTranslate) {\n            swiper.touches[swiper.isHorizontal() ? 'startX' : 'startY'] += diff;\n          }\n        }\n      } else {\n        swiper.slideToLoop(slideRealIndex, 0, false, true);\n      }\n    }\n  }\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  if (swiper.controller && swiper.controller.control && !byController) {\n    const loopParams = {\n      slideRealIndex,\n      slideTo: false,\n      direction,\n      setTranslate,\n      activeSlideIndex,\n      byController: true\n    };\n    if (Array.isArray(swiper.controller.control)) {\n      swiper.controller.control.forEach(c => {\n        if (!c.destroyed && c.params.loop) c.loopFix(loopParams);\n      });\n    } else if (swiper.controller.control instanceof swiper.constructor && swiper.controller.control.params.loop) {\n      swiper.controller.control.loopFix(loopParams);\n    }\n  }\n  swiper.emit('loopFix');\n}"],"names":["loopFix","slideRealIndex","slideTo","direction","setTranslate","activeSlideIndex","byController","byMousewheel","swiper","params","loop","emit","slides","allowSlidePrev","allowSlideNext","slidesEl","virtual","enabled","centeredSlides","snapIndex","length","slidesPerView","snapGrid","slidesBefore","slidesPerViewDynamic","Math","ceil","parseFloat","loopedSlides","slidesPerGroup","prependSlidesIndexes","appendSlidesIndexes","activeIndex","getSlideIndex","filter","el","classList","contains","slideActiveClass","isNext","isPrev","slidesPrepended","slidesAppended","max","i","index","floor","push","forEach","swiperLoopMoveDOM","prepend","append","recalcSlides","updateSlides","watchSlidesProgress","updateSlidesOffset","currentSlideTranslate","slidesGrid","newSlideTranslate","diff","translate","touches","isHorizontal","slideToLoop","controller","control","loopParams","Array","isArray","c","destroyed","constructor"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}