{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/chat/src/lib/Chat/ScopeSelectorModal/ScopeSelectorModalWrapper.tsx"],"sourcesContent":["import { useState } from \"react\"\nimport { DatasetScope } from \"@rp/common/api-types\"\nimport { Box, IconButton, TextField, Typography } from \"@rp/react/web/mui/core\"\nimport { Close, Search } from \"@rp/react/web/mui/icons\"\nimport { useDatasets } from \"../ChatInput/DatasetPopper\"\nimport { ScopeCollection } from \"./ScopeCollection\"\n\ntype Props = {\n  handleClose: () => void\n  selectScope: (dataset: DatasetScope) => void\n  initialScope?: DatasetScope\n  enableFreeTier: boolean\n  sourceFilter: Partial<Record<string, boolean>>\n}\nconst ScopeSelectorModalWrapper = ({\n  handleClose,\n  selectScope,\n  initialScope,\n  // enableFreeTier,\n  sourceFilter,\n}: Props) => {\n  const [filterTerm, setFilterTerm] = useState(\"\")\n  const [selectedScope, setSelectedScope] = useState<DatasetScope | undefined>(initialScope)\n  const data = useDatasets(filterTerm, true, sourceFilter)\n\n  return (\n    <Box\n      sx={{\n        width: \"960px\",\n        pt: 2,\n        maxWidth: \"95vw\",\n        height: \"calc(80vh)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Box\n        sx={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          px: 2.5,\n          pb: 2.5,\n        }}\n      >\n        <Typography sx={{ fontSize: 24, fontWeight: 700 }}>Sources</Typography>\n        <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1.5 }}>\n          <TextField\n            size=\"small\"\n            sx={theme => ({\n              width: \"300px\",\n              \".MuiInputBase-root\": {\n                height: 32,\n                backgroundColor: \"rgba(255,255,255,0.08)\",\n                p: \"0 4px 0 8px\",\n              },\n              \"& svg\": {\n                color: theme.palette.grey[300],\n                fontSize: 18,\n              },\n            })}\n            placeholder=\"Find in Sources\"\n            variant=\"outlined\"\n            InputProps={{\n              startAdornment: <Search sx={{ mr: 1 }} />,\n              endAdornment: filterTerm.length ? (\n                <IconButton size=\"small\" onClick={() => setFilterTerm(\"\")}>\n                  <Close />\n                </IconButton>\n              ) : null,\n            }}\n            value={filterTerm}\n            onChange={e => setFilterTerm(e.target.value)}\n            autoComplete=\"off\"\n            name=\"filter\"\n          />\n          <IconButton onClick={handleClose}>\n            <Close />\n          </IconButton>\n        </Box>\n      </Box>\n      <Box sx={{ flexGrow: 1, px: 2.5, overflow: \"auto\", pb: 3 }}>\n        <ScopeCollection\n          data={data}\n          onDatasetClick={scope => {\n            setSelectedScope(scope)\n            selectScope(scope)\n            handleClose()\n          }}\n          selectedDataset={selectedScope}\n        />\n      </Box>\n    </Box>\n  )\n}\nexport { ScopeSelectorModalWrapper }\n"],"names":["ScopeSelectorModalWrapper","handleClose","selectScope","initialScope","sourceFilter","filterTerm","setFilterTerm","useState","selectedScope","setSelectedScope","data","useDatasets","Box","sx","width","pt","maxWidth","height","display","flexDirection","justifyContent","alignItems","px","pb","Typography","fontSize","fontWeight","gap","TextField","size","theme","backgroundColor","p","color","palette","grey","placeholder","variant","InputProps","startAdornment","Search","mr","endAdornment","length","IconButton","onClick","Close","value","onChange","e","target","autoComplete","name","flexGrow","overflow","ScopeCollection","onDatasetClick","scope","selectedDataset"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA+FSA;;;eAAAA;;;;uBA/FgB;sBAE8B;uBACzB;+BACF;iCACI;AAShC,MAAMA,4BAA4B,CAAC,EACjCC,WAAW,EACXC,WAAW,EACXC,YAAY,EACZ,kBAAkB;AAClBC,YAAY,EACN;IACN,MAAM,CAACC,YAAYC,cAAc,GAAGC,IAAAA,eAAQ,EAAC;IAC7C,MAAM,CAACC,eAAeC,iBAAiB,GAAGF,IAAAA,eAAQ,EAA2BJ;IAC7E,MAAMO,OAAOC,IAAAA,0BAAW,EAACN,YAAY,MAAMD;IAE3C,qBACE,sBAACQ,SAAG;QACFC,IAAI;YACFC,OAAO;YACPC,IAAI;YACJC,UAAU;YACVC,QAAQ;YACRC,SAAS;YACTC,eAAe;QACjB;;0BAEA,sBAACP,SAAG;gBACFC,IAAI;oBACFK,SAAS;oBACTE,gBAAgB;oBAChBC,YAAY;oBACZC,IAAI;oBACJC,IAAI;gBACN;;kCAEA,qBAACC,gBAAU;wBAACX,IAAI;4BAAEY,UAAU;4BAAIC,YAAY;wBAAI;kCAAG;;kCACnD,sBAACd,SAAG;wBAACC,IAAI;4BAAEK,SAAS;4BAAQG,YAAY;4BAAUM,KAAK;wBAAI;;0CACzD,qBAACC,eAAS;gCACRC,MAAK;gCACLhB,IAAIiB,CAAAA,QAAU,CAAA;wCACZhB,OAAO;wCACP,sBAAsB;4CACpBG,QAAQ;4CACRc,iBAAiB;4CACjBC,GAAG;wCACL;wCACA,SAAS;4CACPC,OAAOH,MAAMI,OAAO,CAACC,IAAI,CAAC,IAAI;4CAC9BV,UAAU;wCACZ;oCACF,CAAA;gCACAW,aAAY;gCACZC,SAAQ;gCACRC,YAAY;oCACVC,8BAAgB,qBAACC,aAAM;wCAAC3B,IAAI;4CAAE4B,IAAI;wCAAE;;oCACpCC,cAAcrC,WAAWsC,MAAM,iBAC7B,qBAACC,gBAAU;wCAACf,MAAK;wCAAQgB,SAAS,IAAMvC,cAAc;kDACpD,cAAA,qBAACwC,YAAK;yCAEN;gCACN;gCACAC,OAAO1C;gCACP2C,UAAUC,CAAAA,IAAK3C,cAAc2C,EAAEC,MAAM,CAACH,KAAK;gCAC3CI,cAAa;gCACbC,MAAK;;0CAEP,qBAACR,gBAAU;gCAACC,SAAS5C;0CACnB,cAAA,qBAAC6C,YAAK;;;;;;0BAIZ,qBAAClC,SAAG;gBAACC,IAAI;oBAAEwC,UAAU;oBAAG/B,IAAI;oBAAKgC,UAAU;oBAAQ/B,IAAI;gBAAE;0BACvD,cAAA,qBAACgC,gCAAe;oBACd7C,MAAMA;oBACN8C,gBAAgBC,CAAAA;wBACdhD,iBAAiBgD;wBACjBvD,YAAYuD;wBACZxD;oBACF;oBACAyD,iBAAiBlD;;;;;AAK3B"}