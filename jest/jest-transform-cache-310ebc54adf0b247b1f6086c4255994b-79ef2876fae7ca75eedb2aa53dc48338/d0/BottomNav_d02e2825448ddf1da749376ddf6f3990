c0432ed932b43e4f575edc0a77448ba1
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "BottomNav", {
    enumerable: true,
    get: function() {
        return BottomNav;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _reactrouterdom = require("react-router-dom");
const _clerkreact = require("@clerk/clerk-react");
const _settings = require("@rp/common/settings");
const _utils = require("@rp/common/utils");
const _basecomponents = require("@rp/react/web/common/base-components");
const _hooks = require("@rp/react/web/common/hooks");
const _searchautosuggestinput = require("@rp/react/web/common/search-autosuggest-input");
const _core = require("@rp/react/web/mui/core");
const _icons = require("@rp/react/web/mui/icons");
const _router = require("@rp/react/web/router");
const _Headerstyles = require("../../Header/Header.styles");
const _BottomNavigationButton = require("../BottomNavigationButton");
const _DrawerUserMenu = require("../DrawerUserMenu");
const _DrawerMyContent = require("./DrawerMyContent");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
const BottomNav = ({ isSearchOpen, setIsSearchOpen, openAdminPanel, openSubscriptionManagement })=>{
    const { isIOS, safeArea } = (0, _hooks.useDeviceInfo)();
    const navigate = (0, _reactrouterdom.useNavigate)();
    const { handleNewQuery, isLoading } = (0, _hooks.useHandleNewQuery)();
    const pathname = (0, _router.useRouteTracker)();
    const [value, setValue] = (0, _react.useState)(pathname);
    const { user } = (0, _clerkreact.useUser)();
    const [{ document: documentId }] = (0, _hooks.useHashParams)();
    // Drawer
    const [openDrawer, setOpenDrawer] = (0, _react.useState)(false);
    const [myContentDrawer, setMyContentDrawer] = (0, _react.useState)(false);
    const WATCHLISTS_ROUTES = (0, _react.useMemo)(()=>[
            _router.WATCHLISTS_ROUTE,
            _router.WATCHLIST_EDIT,
            _router.WATCHLIST_ID_ROUTE
        ], []);
    const MY_CONTENT_ROUTES = (0, _react.useMemo)(()=>{
        return [
            _router.SEARCHES_ROUTE,
            _router.FILES_ROUTE,
            _router.CHATS_ROUTE,
            ...WATCHLISTS_ROUTES
        ];
    }, [
        WATCHLISTS_ROUTES
    ]);
    const userInitials = (0, _utils.getUserInitials)(user === null || user === void 0 ? void 0 : user.fullName);
    (0, _react.useEffect)(()=>{
        setIsSearchOpen(false);
        setValue(MY_CONTENT_ROUTES.includes(pathname) ? "my-content" : pathname);
    }, [
        MY_CONTENT_ROUTES,
        pathname,
        setIsSearchOpen
    ]);
    const handleChange = (_event, newValue)=>{
        if (!newValue || newValue === "user-menu") {
            return;
        }
        if (newValue === "my-content") {
            setMyContentDrawer((prev)=>!prev);
            return;
        }
        // Open the Autosuggest if no ran search
        if (newValue === _router.SEARCH_ID_ROUTE) {
            setIsSearchOpen(true);
            return;
        }
        // Scroll to top when click the button in the same page
        if (newValue !== _router.HOME_ROUTE && newValue === pathname) {
            window.scrollTo({
                top: 0,
                behavior: "smooth"
            });
            return;
        }
        setTimeout(()=>window.scrollTo({
                top: 0,
                behavior: "smooth"
            }), 100);
    };
    const iconSize = {
        height: "26px",
        fontSize: "26px"
    };
    if (isLoading) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)(_basecomponents.LoadingSpinner, {
            fillBackground: true
        });
    }
    var _user_fullName;
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Paper, {
                sx: (theme)=>({
                        position: "fixed",
                        bottom: 0,
                        left: 0,
                        right: 0,
                        zIndex: 2,
                        paddingBottom: safeArea.bottom,
                        borderTop: `1px solid ${theme.palette.outline.sidebar}`,
                        display: documentId ? "none" : undefined
                    }),
                elevation: 3,
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.BottomNavigation, {
                    sx: {
                        gap: 0.5,
                        "& button": {
                            padding: 0
                        }
                    },
                    showLabels: true,
                    value: value,
                    onChange: handleChange,
                    className: "bottom-nav",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_BottomNavigationButton.BottomNavigationButton, {
                            tag: "My Content",
                            value: "my-content",
                            icon: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.SvgIcon, {
                                component: _icons.FormatListBulleted,
                                inheritViewBox: true,
                                sx: _object_spread({}, iconSize)
                            }),
                            iconDisabled: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.SvgIcon, {
                                component: _icons.FormatListBulleted,
                                inheritViewBox: true,
                                sx: _object_spread({}, iconSize)
                            }),
                            selected: MY_CONTENT_ROUTES.includes(pathname)
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_BottomNavigationButton.BottomNavigationButton, {
                            tag: "Chat",
                            id: _settings.ADD_CHAT_BUTTON_ID,
                            icon: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.SvgIcon, {
                                component: _icons.Add,
                                inheritViewBox: true,
                                sx: {
                                    height: 20,
                                    width: 20,
                                    mb: 0.5,
                                    backgroundColor: "primary.main",
                                    color: "surface.main",
                                    borderRadius: 1
                                }
                            }),
                            onClick: ()=>{
                                navigate(_router.CHAT_ROUTE, {
                                    state: {
                                        new: true
                                    }
                                });
                            },
                            iconDisabled: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.SvgIcon, {
                                component: _icons.Add,
                                inheritViewBox: true,
                                sx: {
                                    height: 20,
                                    width: 20,
                                    mb: 0.5,
                                    backgroundColor: "primary.main",
                                    color: "surface.main",
                                    borderRadius: 1
                                }
                            }),
                            selected: false
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_BottomNavigationButton.BottomNavigationButtonStyled, {
                            onClick: ()=>setOpenDrawer(!openDrawer),
                            value: "user-menu",
                            label: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Typography, {
                                children: "You"
                            }),
                            icon: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Headerstyles.HeaderAvatar, {
                                sx: {
                                    height: 24,
                                    width: 24,
                                    fontSize: "10px"
                                },
                                src: (user === null || user === void 0 ? void 0 : user.hasImage) ? user === null || user === void 0 ? void 0 : user.imageUrl : undefined,
                                alt: (_user_fullName = user === null || user === void 0 ? void 0 : user.fullName) !== null && _user_fullName !== void 0 ? _user_fullName : "User Avatar",
                                children: userInitials
                            })
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_DrawerMyContent.DrawerMyContent, {
                open: myContentDrawer,
                onChange: (newPath)=>{
                    setMyContentDrawer(!myContentDrawer);
                    handleChange(undefined, newPath);
                },
                onClose: ()=>setMyContentDrawer(false)
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_DrawerUserMenu.DrawerUserMenu, {
                openSubscriptionManagement: openSubscriptionManagement,
                openAdminPanel: openAdminPanel,
                open: openDrawer,
                toggleDrawer: ()=>setOpenDrawer(!openDrawer)
            }),
            isSearchOpen || isLoading ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautosuggestinput.AutoCompleteMobile, {
                forceShowRecentSearches: true,
                onClose: ()=>{
                    /**
             * HACK for IOS browser
             * we should find a proper way of fixing this defect
             * https://ravenpack.atlassian.net/browse/RPX-2159
             */ if (isIOS) {
                        setTimeout(()=>window.scrollTo({
                                top: 0
                            }));
                    }
                },
                onChange: handleNewQuery,
                searchActions: {
                    isOpen: isSearchOpen,
                    setIsOpen: setIsSearchOpen
                }
            }) : null
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NvbW1vbi9sYXlvdXQvc3JjL0JvdHRvbU5hdi9Cb3R0b21OYXYvQm90dG9tTmF2LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIlxuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gXCJAY2xlcmsvY2xlcmstcmVhY3RcIlxuaW1wb3J0IHsgQUREX0NIQVRfQlVUVE9OX0lEIH0gZnJvbSBcIkBycC9jb21tb24vc2V0dGluZ3NcIlxuaW1wb3J0IHsgZ2V0VXNlckluaXRpYWxzIH0gZnJvbSBcIkBycC9jb21tb24vdXRpbHNcIlxuaW1wb3J0IHsgTG9hZGluZ1NwaW5uZXIgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vYmFzZS1jb21wb25lbnRzXCJcbmltcG9ydCB7IHVzZUhhbmRsZU5ld1F1ZXJ5LCB1c2VIYXNoUGFyYW1zIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2hvb2tzXCJcbmltcG9ydCB7IHVzZURldmljZUluZm8gfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vaG9va3NcIlxuaW1wb3J0IHsgQXV0b0NvbXBsZXRlTW9iaWxlIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL3NlYXJjaC1hdXRvc3VnZ2VzdC1pbnB1dFwiXG5pbXBvcnQgeyBCb3R0b21OYXZpZ2F0aW9uLCBQYXBlciwgU3ZnSWNvbiwgVHlwb2dyYXBoeSB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL211aS9jb3JlXCJcbmltcG9ydCB7IEFkZCwgRm9ybWF0TGlzdEJ1bGxldGVkIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvbXVpL2ljb25zXCJcbmltcG9ydCB7XG4gIENIQVRTX1JPVVRFLFxuICBDSEFUX1JPVVRFLFxuICBGSUxFU19ST1VURSxcbiAgSE9NRV9ST1VURSxcbiAgU0VBUkNIRVNfUk9VVEUsXG4gIFNFQVJDSF9JRF9ST1VURSxcbiAgV0FUQ0hMSVNUU19ST1VURSxcbiAgV0FUQ0hMSVNUX0VESVQsXG4gIFdBVENITElTVF9JRF9ST1VURSxcbiAgdXNlUm91dGVUcmFja2VyLFxufSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9yb3V0ZXJcIlxuaW1wb3J0IHsgSGVhZGVyQXZhdGFyIH0gZnJvbSBcIi4uLy4uL0hlYWRlci9IZWFkZXIuc3R5bGVzXCJcbmltcG9ydCB7IEJvdHRvbU5hdmlnYXRpb25CdXR0b24sIEJvdHRvbU5hdmlnYXRpb25CdXR0b25TdHlsZWQgfSBmcm9tIFwiLi4vQm90dG9tTmF2aWdhdGlvbkJ1dHRvblwiXG5pbXBvcnQgeyBEcmF3ZXJVc2VyTWVudSB9IGZyb20gXCIuLi9EcmF3ZXJVc2VyTWVudVwiXG5pbXBvcnQgeyBEcmF3ZXJNeUNvbnRlbnQgfSBmcm9tIFwiLi9EcmF3ZXJNeUNvbnRlbnRcIlxuXG50eXBlIFByb3BzID0ge1xuICBpc1NlYXJjaE9wZW46IGJvb2xlYW5cbiAgc2V0SXNTZWFyY2hPcGVuOiAoaXNPcGVuOiBib29sZWFuKSA9PiB2b2lkXG4gIG9wZW5BZG1pblBhbmVsOiAoKSA9PiB2b2lkXG4gIG9wZW5TdWJzY3JpcHRpb25NYW5hZ2VtZW50OiAoKSA9PiB2b2lkXG59XG5cbmNvbnN0IEJvdHRvbU5hdiA9ICh7XG4gIGlzU2VhcmNoT3BlbixcbiAgc2V0SXNTZWFyY2hPcGVuLFxuICBvcGVuQWRtaW5QYW5lbCxcbiAgb3BlblN1YnNjcmlwdGlvbk1hbmFnZW1lbnQsXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IGlzSU9TLCBzYWZlQXJlYSB9ID0gdXNlRGV2aWNlSW5mbygpXG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKVxuICBjb25zdCB7IGhhbmRsZU5ld1F1ZXJ5LCBpc0xvYWRpbmcgfSA9IHVzZUhhbmRsZU5ld1F1ZXJ5KClcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VSb3V0ZVRyYWNrZXIoKVxuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKHBhdGhuYW1lKVxuXG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlVXNlcigpXG4gIGNvbnN0IFt7IGRvY3VtZW50OiBkb2N1bWVudElkIH1dID0gdXNlSGFzaFBhcmFtcygpXG5cbiAgLy8gRHJhd2VyXG4gIGNvbnN0IFtvcGVuRHJhd2VyLCBzZXRPcGVuRHJhd2VyXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbbXlDb250ZW50RHJhd2VyLCBzZXRNeUNvbnRlbnREcmF3ZXJdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgY29uc3QgV0FUQ0hMSVNUU19ST1VURVMgPSB1c2VNZW1vKFxuICAgICgpID0+IFtXQVRDSExJU1RTX1JPVVRFLCBXQVRDSExJU1RfRURJVCwgV0FUQ0hMSVNUX0lEX1JPVVRFXSxcbiAgICBbXSxcbiAgKVxuXG4gIGNvbnN0IE1ZX0NPTlRFTlRfUk9VVEVTID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIFtTRUFSQ0hFU19ST1VURSwgRklMRVNfUk9VVEUsIENIQVRTX1JPVVRFLCAuLi5XQVRDSExJU1RTX1JPVVRFU11cbiAgfSwgW1dBVENITElTVFNfUk9VVEVTXSlcblxuICBjb25zdCB1c2VySW5pdGlhbHMgPSBnZXRVc2VySW5pdGlhbHModXNlcj8uZnVsbE5hbWUpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJc1NlYXJjaE9wZW4oZmFsc2UpXG4gICAgc2V0VmFsdWUoTVlfQ09OVEVOVF9ST1VURVMuaW5jbHVkZXMocGF0aG5hbWUpID8gXCJteS1jb250ZW50XCIgOiBwYXRobmFtZSlcbiAgfSwgW01ZX0NPTlRFTlRfUk9VVEVTLCBwYXRobmFtZSwgc2V0SXNTZWFyY2hPcGVuXSlcblxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoX2V2ZW50PzogUmVhY3QuU3ludGhldGljRXZlbnQsIG5ld1ZhbHVlPzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFuZXdWYWx1ZSB8fCBuZXdWYWx1ZSA9PT0gXCJ1c2VyLW1lbnVcIikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKG5ld1ZhbHVlID09PSBcIm15LWNvbnRlbnRcIikge1xuICAgICAgc2V0TXlDb250ZW50RHJhd2VyKHByZXYgPT4gIXByZXYpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBPcGVuIHRoZSBBdXRvc3VnZ2VzdCBpZiBubyByYW4gc2VhcmNoXG4gICAgaWYgKG5ld1ZhbHVlID09PSBTRUFSQ0hfSURfUk9VVEUpIHtcbiAgICAgIHNldElzU2VhcmNoT3Blbih0cnVlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gU2Nyb2xsIHRvIHRvcCB3aGVuIGNsaWNrIHRoZSBidXR0b24gaW4gdGhlIHNhbWUgcGFnZVxuICAgIGlmIChuZXdWYWx1ZSAhPT0gSE9NRV9ST1VURSAmJiBuZXdWYWx1ZSA9PT0gcGF0aG5hbWUpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6IFwic21vb3RoXCIgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KSwgMTAwKVxuICB9XG5cbiAgY29uc3QgaWNvblNpemUgPSB7XG4gICAgaGVpZ2h0OiBcIjI2cHhcIixcbiAgICBmb250U2l6ZTogXCIyNnB4XCIsXG4gIH1cblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIDxMb2FkaW5nU3Bpbm5lciBmaWxsQmFja2dyb3VuZCAvPlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPFBhcGVyXG4gICAgICAgIHN4PXt0aGVtZSA9PiAoe1xuICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgekluZGV4OiAyLFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206IHNhZmVBcmVhLmJvdHRvbSxcbiAgICAgICAgICBib3JkZXJUb3A6IGAxcHggc29saWQgJHt0aGVtZS5wYWxldHRlLm91dGxpbmUuc2lkZWJhcn1gLFxuICAgICAgICAgIGRpc3BsYXk6IGRvY3VtZW50SWQgPyBcIm5vbmVcIiA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSl9XG4gICAgICAgIGVsZXZhdGlvbj17M31cbiAgICAgID5cbiAgICAgICAgPEJvdHRvbU5hdmlnYXRpb25cbiAgICAgICAgICBzeD17eyBnYXA6IDAuNSwgXCImIGJ1dHRvblwiOiB7IHBhZGRpbmc6IDAgfSB9fVxuICAgICAgICAgIHNob3dMYWJlbHNcbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJib3R0b20tbmF2XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxCb3R0b21OYXZpZ2F0aW9uQnV0dG9uXG4gICAgICAgICAgICB0YWc9XCJNeSBDb250ZW50XCJcbiAgICAgICAgICAgIHZhbHVlPVwibXktY29udGVudFwiXG4gICAgICAgICAgICBpY29uPXs8U3ZnSWNvbiBjb21wb25lbnQ9e0Zvcm1hdExpc3RCdWxsZXRlZH0gaW5oZXJpdFZpZXdCb3ggc3g9e3sgLi4uaWNvblNpemUgfX0gLz59XG4gICAgICAgICAgICBpY29uRGlzYWJsZWQ9e1xuICAgICAgICAgICAgICA8U3ZnSWNvbiBjb21wb25lbnQ9e0Zvcm1hdExpc3RCdWxsZXRlZH0gaW5oZXJpdFZpZXdCb3ggc3g9e3sgLi4uaWNvblNpemUgfX0gLz5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGVjdGVkPXtNWV9DT05URU5UX1JPVVRFUy5pbmNsdWRlcyhwYXRobmFtZSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8Qm90dG9tTmF2aWdhdGlvbkJ1dHRvblxuICAgICAgICAgICAgdGFnPVwiQ2hhdFwiXG4gICAgICAgICAgICBpZD17QUREX0NIQVRfQlVUVE9OX0lEfVxuICAgICAgICAgICAgaWNvbj17XG4gICAgICAgICAgICAgIDxTdmdJY29uXG4gICAgICAgICAgICAgICAgY29tcG9uZW50PXtBZGR9XG4gICAgICAgICAgICAgICAgaW5oZXJpdFZpZXdCb3hcbiAgICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMCxcbiAgICAgICAgICAgICAgICAgIG1iOiAwLjUsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicHJpbWFyeS5tYWluXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCJzdXJmYWNlLm1haW5cIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMSxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBuYXZpZ2F0ZShDSEFUX1JPVVRFLCB7IHN0YXRlOiB7IG5ldzogdHJ1ZSB9IH0pXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgaWNvbkRpc2FibGVkPXtcbiAgICAgICAgICAgICAgPFN2Z0ljb25cbiAgICAgICAgICAgICAgICBjb21wb25lbnQ9e0FkZH1cbiAgICAgICAgICAgICAgICBpbmhlcml0Vmlld0JveFxuICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IDIwLFxuICAgICAgICAgICAgICAgICAgbWI6IDAuNSxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJwcmltYXJ5Lm1haW5cIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInN1cmZhY2UubWFpblwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxlY3RlZD17ZmFsc2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8Qm90dG9tTmF2aWdhdGlvbkJ1dHRvblN0eWxlZFxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0T3BlbkRyYXdlcighb3BlbkRyYXdlcil9XG4gICAgICAgICAgICB2YWx1ZT1cInVzZXItbWVudVwiXG4gICAgICAgICAgICBsYWJlbD17PFR5cG9ncmFwaHk+WW91PC9UeXBvZ3JhcGh5Pn1cbiAgICAgICAgICAgIGljb249e1xuICAgICAgICAgICAgICA8SGVhZGVyQXZhdGFyXG4gICAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogMjQsXG4gICAgICAgICAgICAgICAgICB3aWR0aDogMjQsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzcmM9e3VzZXI/Lmhhc0ltYWdlID8gdXNlcj8uaW1hZ2VVcmwgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgYWx0PXt1c2VyPy5mdWxsTmFtZSA/PyBcIlVzZXIgQXZhdGFyXCJ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dXNlckluaXRpYWxzfVxuICAgICAgICAgICAgICA8L0hlYWRlckF2YXRhcj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0JvdHRvbU5hdmlnYXRpb24+XG4gICAgICA8L1BhcGVyPlxuICAgICAgPERyYXdlck15Q29udGVudFxuICAgICAgICBvcGVuPXtteUNvbnRlbnREcmF3ZXJ9XG4gICAgICAgIG9uQ2hhbmdlPXtuZXdQYXRoID0+IHtcbiAgICAgICAgICBzZXRNeUNvbnRlbnREcmF3ZXIoIW15Q29udGVudERyYXdlcilcbiAgICAgICAgICBoYW5kbGVDaGFuZ2UodW5kZWZpbmVkLCBuZXdQYXRoKVxuICAgICAgICB9fVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRNeUNvbnRlbnREcmF3ZXIoZmFsc2UpfVxuICAgICAgLz5cbiAgICAgIDxEcmF3ZXJVc2VyTWVudVxuICAgICAgICBvcGVuU3Vic2NyaXB0aW9uTWFuYWdlbWVudD17b3BlblN1YnNjcmlwdGlvbk1hbmFnZW1lbnR9XG4gICAgICAgIG9wZW5BZG1pblBhbmVsPXtvcGVuQWRtaW5QYW5lbH1cbiAgICAgICAgb3Blbj17b3BlbkRyYXdlcn1cbiAgICAgICAgdG9nZ2xlRHJhd2VyPXsoKSA9PiBzZXRPcGVuRHJhd2VyKCFvcGVuRHJhd2VyKX1cbiAgICAgIC8+XG5cbiAgICAgIHtpc1NlYXJjaE9wZW4gfHwgaXNMb2FkaW5nID8gKFxuICAgICAgICA8QXV0b0NvbXBsZXRlTW9iaWxlXG4gICAgICAgICAgZm9yY2VTaG93UmVjZW50U2VhcmNoZXNcbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhBQ0sgZm9yIElPUyBicm93c2VyXG4gICAgICAgICAgICAgKiB3ZSBzaG91bGQgZmluZCBhIHByb3BlciB3YXkgb2YgZml4aW5nIHRoaXMgZGVmZWN0XG4gICAgICAgICAgICAgKiBodHRwczovL3JhdmVucGFjay5hdGxhc3NpYW4ubmV0L2Jyb3dzZS9SUFgtMjE1OVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoaXNJT1MpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAgfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlTmV3UXVlcnl9XG4gICAgICAgICAgc2VhcmNoQWN0aW9ucz17eyBpc09wZW46IGlzU2VhcmNoT3Blbiwgc2V0SXNPcGVuOiBzZXRJc1NlYXJjaE9wZW4gfX1cbiAgICAgICAgLz5cbiAgICAgICkgOiBudWxsfVxuICAgIDwvPlxuICApXG59XG5cbmV4cG9ydCB7IEJvdHRvbU5hdiB9XG4iXSwibmFtZXMiOlsiQm90dG9tTmF2IiwiaXNTZWFyY2hPcGVuIiwic2V0SXNTZWFyY2hPcGVuIiwib3BlbkFkbWluUGFuZWwiLCJvcGVuU3Vic2NyaXB0aW9uTWFuYWdlbWVudCIsImlzSU9TIiwic2FmZUFyZWEiLCJ1c2VEZXZpY2VJbmZvIiwibmF2aWdhdGUiLCJ1c2VOYXZpZ2F0ZSIsImhhbmRsZU5ld1F1ZXJ5IiwiaXNMb2FkaW5nIiwidXNlSGFuZGxlTmV3UXVlcnkiLCJwYXRobmFtZSIsInVzZVJvdXRlVHJhY2tlciIsInZhbHVlIiwic2V0VmFsdWUiLCJ1c2VTdGF0ZSIsInVzZXIiLCJ1c2VVc2VyIiwiZG9jdW1lbnQiLCJkb2N1bWVudElkIiwidXNlSGFzaFBhcmFtcyIsIm9wZW5EcmF3ZXIiLCJzZXRPcGVuRHJhd2VyIiwibXlDb250ZW50RHJhd2VyIiwic2V0TXlDb250ZW50RHJhd2VyIiwiV0FUQ0hMSVNUU19ST1VURVMiLCJ1c2VNZW1vIiwiV0FUQ0hMSVNUU19ST1VURSIsIldBVENITElTVF9FRElUIiwiV0FUQ0hMSVNUX0lEX1JPVVRFIiwiTVlfQ09OVEVOVF9ST1VURVMiLCJTRUFSQ0hFU19ST1VURSIsIkZJTEVTX1JPVVRFIiwiQ0hBVFNfUk9VVEUiLCJ1c2VySW5pdGlhbHMiLCJnZXRVc2VySW5pdGlhbHMiLCJmdWxsTmFtZSIsInVzZUVmZmVjdCIsImluY2x1ZGVzIiwiaGFuZGxlQ2hhbmdlIiwiX2V2ZW50IiwibmV3VmFsdWUiLCJwcmV2IiwiU0VBUkNIX0lEX1JPVVRFIiwiSE9NRV9ST1VURSIsIndpbmRvdyIsInNjcm9sbFRvIiwidG9wIiwiYmVoYXZpb3IiLCJzZXRUaW1lb3V0IiwiaWNvblNpemUiLCJoZWlnaHQiLCJmb250U2l6ZSIsIkxvYWRpbmdTcGlubmVyIiwiZmlsbEJhY2tncm91bmQiLCJQYXBlciIsInN4IiwidGhlbWUiLCJwb3NpdGlvbiIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsInpJbmRleCIsInBhZGRpbmdCb3R0b20iLCJib3JkZXJUb3AiLCJwYWxldHRlIiwib3V0bGluZSIsInNpZGViYXIiLCJkaXNwbGF5IiwidW5kZWZpbmVkIiwiZWxldmF0aW9uIiwiQm90dG9tTmF2aWdhdGlvbiIsImdhcCIsInBhZGRpbmciLCJzaG93TGFiZWxzIiwib25DaGFuZ2UiLCJjbGFzc05hbWUiLCJCb3R0b21OYXZpZ2F0aW9uQnV0dG9uIiwidGFnIiwiaWNvbiIsIlN2Z0ljb24iLCJjb21wb25lbnQiLCJGb3JtYXRMaXN0QnVsbGV0ZWQiLCJpbmhlcml0Vmlld0JveCIsImljb25EaXNhYmxlZCIsInNlbGVjdGVkIiwiaWQiLCJBRERfQ0hBVF9CVVRUT05fSUQiLCJBZGQiLCJ3aWR0aCIsIm1iIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJib3JkZXJSYWRpdXMiLCJvbkNsaWNrIiwiQ0hBVF9ST1VURSIsInN0YXRlIiwibmV3IiwiQm90dG9tTmF2aWdhdGlvbkJ1dHRvblN0eWxlZCIsImxhYmVsIiwiVHlwb2dyYXBoeSIsIkhlYWRlckF2YXRhciIsInNyYyIsImhhc0ltYWdlIiwiaW1hZ2VVcmwiLCJhbHQiLCJEcmF3ZXJNeUNvbnRlbnQiLCJvcGVuIiwibmV3UGF0aCIsIm9uQ2xvc2UiLCJEcmF3ZXJVc2VyTWVudSIsInRvZ2dsZURyYXdlciIsIkF1dG9Db21wbGV0ZU1vYmlsZSIsImZvcmNlU2hvd1JlY2VudFNlYXJjaGVzIiwic2VhcmNoQWN0aW9ucyIsImlzT3BlbiIsInNldElzT3BlbiJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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