{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistsListView/MyWatchlistsList.tsx"],"sourcesContent":["import { useMemo } from \"react\"\nimport { OrganizationMembershipResource } from \"@clerk/types\"\nimport { Watchlist } from \"@rp/common/api-types\"\nimport {\n  HubSortableHeadCell,\n  HubTableRow,\n  InfiniteList,\n} from \"@rp/react/web/common/composite-components\"\nimport { usePageWithListSorter } from \"@rp/react/web/common/hooks\"\nimport { Box, CircularProgress } from \"@rp/react/web/mui/core\"\nimport { MyWatchlistsListItem } from \"./MyWatchlistsListItem\"\n\nconst COLUMNS_WIDTH = [\"calc(100% - 200px)\", \"150px\", \"50px\"]\nconst SORT_OPTIONS = [\n  { label: \"Name\", value: \"name\" },\n  { label: \"Last Activity\", value: \"lastInteracted\" },\n]\n\ntype Props = {\n  data?: Array<Watchlist & { owner?: OrganizationMembershipResource | undefined }>\n  isLoading?: boolean\n}\n\nexport const MyWatchlistsList = ({ data = [], isLoading }: Props) => {\n  const { sorterFn, sortBy, direction, onChange } = usePageWithListSorter(\"userWatchlists\")\n  const filteredResults = useMemo(() => data.sort(sorterFn), [data, sorterFn])\n\n  if (isLoading) return <CircularProgress sx={{ mt: 20 }} color=\"primary\" />\n\n  return (\n    <Box sx={{ width: 1, mt: 1 }}>\n      <HubTableRow\n        sx={{\n          backgroundColor: \"transparent\",\n          height: 35,\n          gap: 0,\n          \"& > div\": { pr: 2 },\n          \"& > div:last-of-type\": { pr: 0 },\n        }}\n        columnsWidth={COLUMNS_WIDTH}\n        columns={[\n          {\n            node: (\n              <HubSortableHeadCell\n                label=\"NAME\"\n                value=\"name\"\n                onChange={onChange}\n                sortBy={sortBy}\n                direction={direction}\n                sortOptions={SORT_OPTIONS}\n              />\n            ),\n          },\n          {\n            node: (\n              <HubSortableHeadCell\n                label=\"LAST ACTIVITY\"\n                value=\"lastInteracted\"\n                onChange={onChange}\n                sortBy={sortBy}\n                direction={direction}\n                sortOptions={SORT_OPTIONS}\n                defaultDirection=\"desc\"\n              />\n            ),\n          },\n          { node: <>&nbsp;</> },\n        ]}\n      />\n      <InfiniteList\n        rootMargin={\"0px 0px 300px 0px\"}\n        initialElements={20}\n        items={filteredResults}\n        renderItem={item => <MyWatchlistsListItem item={item} columnsWidth={COLUMNS_WIDTH} />}\n      />\n    </Box>\n  )\n}\n"],"names":["MyWatchlistsList","COLUMNS_WIDTH","SORT_OPTIONS","label","value","data","isLoading","sorterFn","sortBy","direction","onChange","usePageWithListSorter","filteredResults","useMemo","sort","CircularProgress","sx","mt","color","Box","width","HubTableRow","backgroundColor","height","gap","pr","columnsWidth","columns","node","HubSortableHeadCell","sortOptions","defaultDirection","InfiniteList","rootMargin","initialElements","items","renderItem","item","MyWatchlistsListItem"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuBaA;;;eAAAA;;;;uBAvBW;qCAOjB;uBAC+B;sBACA;sCACD;AAErC,MAAMC,gBAAgB;IAAC;IAAsB;IAAS;CAAO;AAC7D,MAAMC,eAAe;IACnB;QAAEC,OAAO;QAAQC,OAAO;IAAO;IAC/B;QAAED,OAAO;QAAiBC,OAAO;IAAiB;CACnD;AAOM,MAAMJ,mBAAmB,CAAC,EAAEK,OAAO,EAAE,EAAEC,SAAS,EAAS;IAC9D,MAAM,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,4BAAqB,EAAC;IACxE,MAAMC,kBAAkBC,IAAAA,cAAO,EAAC,IAAMR,KAAKS,IAAI,CAACP,WAAW;QAACF;QAAME;KAAS;IAE3E,IAAID,WAAW,qBAAO,qBAACS,sBAAgB;QAACC,IAAI;YAAEC,IAAI;QAAG;QAAGC,OAAM;;IAE9D,qBACE,sBAACC,SAAG;QAACH,IAAI;YAAEI,OAAO;YAAGH,IAAI;QAAE;;0BACzB,qBAACI,gCAAW;gBACVL,IAAI;oBACFM,iBAAiB;oBACjBC,QAAQ;oBACRC,KAAK;oBACL,WAAW;wBAAEC,IAAI;oBAAE;oBACnB,wBAAwB;wBAAEA,IAAI;oBAAE;gBAClC;gBACAC,cAAczB;gBACd0B,SAAS;oBACP;wBACEC,oBACE,qBAACC,wCAAmB;4BAClB1B,OAAM;4BACNC,OAAM;4BACNM,UAAUA;4BACVF,QAAQA;4BACRC,WAAWA;4BACXqB,aAAa5B;;oBAGnB;oBACA;wBACE0B,oBACE,qBAACC,wCAAmB;4BAClB1B,OAAM;4BACNC,OAAM;4BACNM,UAAUA;4BACVF,QAAQA;4BACRC,WAAWA;4BACXqB,aAAa5B;4BACb6B,kBAAiB;;oBAGvB;oBACA;wBAAEH,oBAAM;sCAAE;;oBAAU;iBACrB;;0BAEH,qBAACI,iCAAY;gBACXC,YAAY;gBACZC,iBAAiB;gBACjBC,OAAOvB;gBACPwB,YAAYC,CAAAA,qBAAQ,qBAACC,0CAAoB;wBAACD,MAAMA;wBAAMX,cAAczB;;;;;AAI5E"}