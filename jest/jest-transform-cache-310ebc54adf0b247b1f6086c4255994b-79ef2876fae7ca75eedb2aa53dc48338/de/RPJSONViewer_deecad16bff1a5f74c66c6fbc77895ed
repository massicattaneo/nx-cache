0ef1581f437a523291008bc68ce1254e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _settings = require("@rp/common/settings");
const _rpjson = require("@rp/react/common/rpjson");
const _basecomponents = require("@rp/react/web/common/base-components");
const _compositecomponents = require("@rp/react/web/common/composite-components");
const _headercomponents = require("@rp/react/web/common/header-components");
const _hooks = require("@rp/react/web/common/hooks");
const _utils = require("@rp/react/web/common/vendors/utils");
const _documentdiscovery = require("@rp/react/web/discovery-sidebar/document-discovery");
const _core = require("@rp/react/web/mui/core");
const _icons = require("@rp/react/web/mui/icons");
const _utils1 = require("@rp/web/utils");
const _DocumentLoader = require("../../DocumentLoader");
const _DocumentViewer = require("../../DocumentViewer");
const _ErrorDocumentViewer = require("../../ErrorDocumentViewer");
const _LimitedDocumentViewer = require("../../LimitedDocumentViewer");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const TOOLBAR_HEIGHT = 44 // So Document Discovery is aligned with it
;
const MIN_PANEL_PADDING = 60 // Minimum distance from the header, when loading f.e.
;
function RPJSONViewer({ backTitle, disableBackButton, disableCheckbox, disableDocumentDiscovery, documentId, error, expression, handleClick, rpjsonHeaderOffset, isPrivate, isRpJsonLoading, onAddToWatchlist, onChange, onExclude, rpjsonDocument, selectedDetection, setSelectedDetection, shouldUseScrollTrigger, viewerPaddingTop, name, customDocumentHeaderProps, customBackgroundColor }) {
    const { isWideScreen, isMobile } = (0, _hooks.useDeviceInfo)();
    const { isLimited, url } = (0, _rpjson.checkDocument)(rpjsonDocument);
    const [fixedRef, setFixedRef] = (0, _react.useState)(null);
    const handleDetectionClick = (detection)=>{
        if (isLimited) {
            _utils.tagManagerEvents.documentOutbound({
                documentId,
                sentenceId: `${documentId}-${detection.pnum}-${detection.snum}`,
                sourceName: rpjsonDocument === null || rpjsonDocument === void 0 ? void 0 : rpjsonDocument.document.source.name,
                sourceId: rpjsonDocument === null || rpjsonDocument === void 0 ? void 0 : rpjsonDocument.document.source.rp_source_id,
                component: "documentDiscovery"
            });
            window.open((0, _utils1.getUrlWithTextFragment)(url, detection.text), "_blank", "noreferrer");
            return;
        }
        setSelectedDetection({
            pnum: detection.pnum,
            snum: detection.snum
        });
    };
    const isPane = (customDocumentHeaderProps === null || customDocumentHeaderProps === void 0 ? void 0 : customDocumentHeaderProps.variant) === "pane";
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Fade, {
        in: Boolean(documentId),
        mountOnEnter: true,
        unmountOnExit: true,
        style: {
            paddingTop: viewerPaddingTop
        },
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.MaxWidthContainer, {
            sx: {
                backgroundColor: customBackgroundColor !== null && customBackgroundColor !== void 0 ? customBackgroundColor : "background.default"
            },
            disableGutters: isPane,
            isPane: true,
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Grid, {
                container: true,
                columnSpacing: 3,
                children: [
                    isMobile || isPane ? null : /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Grid, {
                        item: true,
                        xs: 1,
                        container: true,
                        alignItems: "start",
                        justifyContent: "right",
                        children: window.history.length === 1 || disableBackButton ? null : /*#__PURE__*/ (0, _jsxruntime.jsx)(_basecomponents.RPTooltip, {
                            title: backTitle,
                            arrow: true,
                            placement: "top",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.IconButton, {
                                "data-testid": "back-arrow-button",
                                onClick: handleClick,
                                sx: {
                                    marginTop: "10px",
                                    position: "fixed"
                                },
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_icons.ArrowBack, {})
                            })
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Grid, {
                        item: true,
                        xs: isMobile || isPane ? 12 : 6,
                        marginRight: isWideScreen && !isPane ? "36px" : 0,
                        "data-testid": "document-viewer",
                        sx: {
                            // allow the user to bring the last line up on mobile
                            paddingBottom: isMobile && !isPane ? "100px" : 0
                        },
                        children: [
                            isRpJsonLoading ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_DocumentLoader.DocumentLoader, {}) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_headercomponents.HtmlPageHead, {
                                title: name
                            }),
                            error && /*#__PURE__*/ (0, _jsxruntime.jsx)(_ErrorDocumentViewer.ErrorDocumentViewer, {
                                error: error
                            }),
                            rpjsonDocument && !isLimited ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_DocumentViewer.DocumentViewer, {
                                headerHeight: _settings.HEADER_HEIGHT,
                                rpjsonDocument: rpjsonDocument,
                                namespace: isPrivate ? "private" : "public",
                                selectedDetection: selectedDetection,
                                fixedRef: fixedRef,
                                setFixedRef: setFixedRef,
                                rpjsonHeaderOffset: rpjsonHeaderOffset,
                                shouldUseScrollTrigger: shouldUseScrollTrigger,
                                customDocumentHeaderProps: customDocumentHeaderProps,
                                customBackgroundColor: customBackgroundColor
                            }) : null,
                            rpjsonDocument && isLimited ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_LimitedDocumentViewer.LimitedDocumentViewer, {
                                rpjsonDocument: rpjsonDocument,
                                externalContentUrl: url,
                                namespace: isPrivate ? "private" : "public",
                                setFixedRef: setFixedRef,
                                fixedRef: fixedRef,
                                documentId: documentId
                            }) : null
                        ]
                    }),
                    isMobile || disableDocumentDiscovery ? null : /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Grid, {
                        item: true,
                        xs: 4,
                        pt: `${fixedRef ? fixedRef.clientHeight - TOOLBAR_HEIGHT : MIN_PANEL_PADDING}px`,
                        sx: {
                            transition: "padding-top 0.3s"
                        },
                        zIndex: 7,
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_documentdiscovery.DocumentDiscovery, {
                            isLoading: isRpJsonLoading,
                            rpjsonDocument: rpjsonDocument,
                            disableCheckbox: disableCheckbox,
                            expression: expression,
                            onChange: onChange,
                            onExclude: onExclude,
                            selectedDetection: selectedDetection,
                            onDetectionClick: handleDetectionClick,
                            onAddToWatchlist: onAddToWatchlist
                        })
                    })
                ]
            })
        })
    });
}
const _default = RPJSONViewer;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2RvY3VtZW50LXZpZXdlci9zcmMvbGliL0RvY3VtZW50Vmlld2VyUGFnZS9ycEpTT04vUlBKU09OVmlld2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgQ3FzQ2h1bmtTZW50ZW5jZSwgQ3FzSXRlbSwgUnBxbEZpbHRlciwgV2F0Y2hsaXN0IH0gZnJvbSBcIkBycC9jb21tb24vYXBpLXR5cGVzXCJcbmltcG9ydCB7IEhFQURFUl9IRUlHSFQgfSBmcm9tIFwiQHJwL2NvbW1vbi9zZXR0aW5nc1wiXG5pbXBvcnQgeyBjaGVja0RvY3VtZW50IH0gZnJvbSBcIkBycC9yZWFjdC9jb21tb24vcnBqc29uXCJcbmltcG9ydCB7IEFwcGVhcmFuY2UsIFJwSnNvbkRvY3VtZW50LCBScEpzb25FcnJvciB9IGZyb20gXCJAcnAvcmVhY3QvcnBqc29uL3R5cGVzXCJcbmltcG9ydCB7IFJQVG9vbHRpcCB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi9iYXNlLWNvbXBvbmVudHNcIlxuaW1wb3J0IHsgTWF4V2lkdGhDb250YWluZXIgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vY29tcG9zaXRlLWNvbXBvbmVudHNcIlxuaW1wb3J0IHsgSHRtbFBhZ2VIZWFkIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2hlYWRlci1jb21wb25lbnRzXCJcbmltcG9ydCB7IHVzZURldmljZUluZm8gfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vaG9va3NcIlxuaW1wb3J0IHsgdGFnTWFuYWdlckV2ZW50cyB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi92ZW5kb3JzL3V0aWxzXCJcbmltcG9ydCB7IERvY3VtZW50RGlzY292ZXJ5IH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvZGlzY292ZXJ5LXNpZGViYXIvZG9jdW1lbnQtZGlzY292ZXJ5XCJcbmltcG9ydCB7IEZhZGUsIEdyaWQsIEljb25CdXR0b24gfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9tdWkvY29yZVwiXG5pbXBvcnQgeyBBcnJvd0JhY2sgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9tdWkvaWNvbnNcIlxuaW1wb3J0IHsgZ2V0VXJsV2l0aFRleHRGcmFnbWVudCB9IGZyb20gXCJAcnAvd2ViL3V0aWxzXCJcbmltcG9ydCB7IERvY3VtZW50TG9hZGVyIH0gZnJvbSBcIi4uLy4uL0RvY3VtZW50TG9hZGVyXCJcbmltcG9ydCB7IERvY3VtZW50Vmlld2VyIH0gZnJvbSBcIi4uLy4uL0RvY3VtZW50Vmlld2VyXCJcbmltcG9ydCB7IEN1c3RvbURvY3VtZW50SGVhZGVyUHJvcHMgfSBmcm9tIFwiLi4vLi4vRG9jdW1lbnRWaWV3ZXIudHlwZXNcIlxuaW1wb3J0IHsgRXJyb3JEb2N1bWVudFZpZXdlciB9IGZyb20gXCIuLi8uLi9FcnJvckRvY3VtZW50Vmlld2VyXCJcbmltcG9ydCB7IExpbWl0ZWREb2N1bWVudFZpZXdlciB9IGZyb20gXCIuLi8uLi9MaW1pdGVkRG9jdW1lbnRWaWV3ZXJcIlxuXG5jb25zdCBUT09MQkFSX0hFSUdIVCA9IDQ0IC8vIFNvIERvY3VtZW50IERpc2NvdmVyeSBpcyBhbGlnbmVkIHdpdGggaXRcbmNvbnN0IE1JTl9QQU5FTF9QQURESU5HID0gNjAgLy8gTWluaW11bSBkaXN0YW5jZSBmcm9tIHRoZSBoZWFkZXIsIHdoZW4gbG9hZGluZyBmLmUuXG5cbnR5cGUgUlBKU09OVmlld2VyUHJvcHMgPSB7XG4gIGJhY2tUaXRsZTogc3RyaW5nXG4gIGRpc2FibGVCYWNrQnV0dG9uOiBib29sZWFuXG4gIGRpc2FibGVDaGVja2JveDogYm9vbGVhbiB8IHVuZGVmaW5lZFxuICBkaXNhYmxlRG9jdW1lbnREaXNjb3Zlcnk6IGJvb2xlYW4gfCB1bmRlZmluZWRcbiAgZG9jdW1lbnRJZDogc3RyaW5nXG4gIGVycm9yOiBScEpzb25FcnJvciB8IG51bGxcbiAgZXhwcmVzc2lvbj86IFJwcWxGaWx0ZXJcbiAgaGFuZGxlQ2xpY2s6ICgpID0+IHZvaWRcbiAgcnBqc29uSGVhZGVyT2Zmc2V0OiBudW1iZXIgfCB1bmRlZmluZWRcbiAgaXNQcml2YXRlOiBib29sZWFuXG4gIGlzUnBKc29uTG9hZGluZzogYm9vbGVhblxuICBvbkFkZFRvV2F0Y2hsaXN0OiAoKHdhdGNobGlzdDogV2F0Y2hsaXN0KSA9PiB2b2lkKSB8IHVuZGVmaW5lZFxuICBvbkNoYW5nZTogKChpdGVtOiBDcXNJdGVtKSA9PiB2b2lkKSB8IHVuZGVmaW5lZFxuICBvbkV4Y2x1ZGU6ICgoaXRlbTogQ3FzSXRlbSkgPT4gdm9pZCkgfCB1bmRlZmluZWRcbiAgcnBqc29uRG9jdW1lbnQ6IFJwSnNvbkRvY3VtZW50IHwgdW5kZWZpbmVkXG4gIHNlbGVjdGVkRGV0ZWN0aW9uOiBDcXNDaHVua1NlbnRlbmNlIHwgdW5kZWZpbmVkXG4gIHNldFNlbGVjdGVkRGV0ZWN0aW9uOiBSZWFjdC5EaXNwYXRjaDxSZWFjdC5TZXRTdGF0ZUFjdGlvbjxDcXNDaHVua1NlbnRlbmNlIHwgdW5kZWZpbmVkPj5cbiAgc2hvdWxkVXNlU2Nyb2xsVHJpZ2dlcjogYm9vbGVhblxuICB2aWV3ZXJQYWRkaW5nVG9wPzogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBjdXN0b21Eb2N1bWVudEhlYWRlclByb3BzPzogQ3VzdG9tRG9jdW1lbnRIZWFkZXJQcm9wc1xuICBjdXN0b21CYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmdcbn1cblxuZnVuY3Rpb24gUlBKU09OVmlld2VyKHtcbiAgYmFja1RpdGxlLFxuICBkaXNhYmxlQmFja0J1dHRvbixcbiAgZGlzYWJsZUNoZWNrYm94LFxuICBkaXNhYmxlRG9jdW1lbnREaXNjb3ZlcnksXG4gIGRvY3VtZW50SWQsXG4gIGVycm9yLFxuICBleHByZXNzaW9uLFxuICBoYW5kbGVDbGljayxcbiAgcnBqc29uSGVhZGVyT2Zmc2V0LFxuICBpc1ByaXZhdGUsXG4gIGlzUnBKc29uTG9hZGluZyxcbiAgb25BZGRUb1dhdGNobGlzdCxcbiAgb25DaGFuZ2UsXG4gIG9uRXhjbHVkZSxcbiAgcnBqc29uRG9jdW1lbnQsXG4gIHNlbGVjdGVkRGV0ZWN0aW9uLFxuICBzZXRTZWxlY3RlZERldGVjdGlvbixcbiAgc2hvdWxkVXNlU2Nyb2xsVHJpZ2dlcixcbiAgdmlld2VyUGFkZGluZ1RvcCxcbiAgbmFtZSxcbiAgY3VzdG9tRG9jdW1lbnRIZWFkZXJQcm9wcyxcbiAgY3VzdG9tQmFja2dyb3VuZENvbG9yLFxufTogUlBKU09OVmlld2VyUHJvcHMpIHtcbiAgY29uc3QgeyBpc1dpZGVTY3JlZW4sIGlzTW9iaWxlIH0gPSB1c2VEZXZpY2VJbmZvKClcbiAgY29uc3QgeyBpc0xpbWl0ZWQsIHVybCB9ID0gY2hlY2tEb2N1bWVudChycGpzb25Eb2N1bWVudClcbiAgY29uc3QgW2ZpeGVkUmVmLCBzZXRGaXhlZFJlZl0gPSB1c2VTdGF0ZTxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpXG5cbiAgY29uc3QgaGFuZGxlRGV0ZWN0aW9uQ2xpY2sgPSAoZGV0ZWN0aW9uOiBBcHBlYXJhbmNlKSA9PiB7XG4gICAgaWYgKGlzTGltaXRlZCkge1xuICAgICAgdGFnTWFuYWdlckV2ZW50cy5kb2N1bWVudE91dGJvdW5kKHtcbiAgICAgICAgZG9jdW1lbnRJZCxcbiAgICAgICAgc2VudGVuY2VJZDogYCR7ZG9jdW1lbnRJZH0tJHtkZXRlY3Rpb24ucG51bX0tJHtkZXRlY3Rpb24uc251bX1gLFxuICAgICAgICBzb3VyY2VOYW1lOiBycGpzb25Eb2N1bWVudD8uZG9jdW1lbnQuc291cmNlLm5hbWUsXG4gICAgICAgIHNvdXJjZUlkOiBycGpzb25Eb2N1bWVudD8uZG9jdW1lbnQuc291cmNlLnJwX3NvdXJjZV9pZCxcbiAgICAgICAgY29tcG9uZW50OiBcImRvY3VtZW50RGlzY292ZXJ5XCIsXG4gICAgICB9KVxuXG4gICAgICB3aW5kb3cub3BlbihnZXRVcmxXaXRoVGV4dEZyYWdtZW50KHVybCwgZGV0ZWN0aW9uLnRleHQpLCBcIl9ibGFua1wiLCBcIm5vcmVmZXJyZXJcIilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBzZXRTZWxlY3RlZERldGVjdGlvbih7IHBudW06IGRldGVjdGlvbi5wbnVtLCBzbnVtOiBkZXRlY3Rpb24uc251bSB9KVxuICB9XG5cbiAgY29uc3QgaXNQYW5lID0gY3VzdG9tRG9jdW1lbnRIZWFkZXJQcm9wcz8udmFyaWFudCA9PT0gXCJwYW5lXCJcblxuICByZXR1cm4gKFxuICAgIDxGYWRlXG4gICAgICBpbj17Qm9vbGVhbihkb2N1bWVudElkKX1cbiAgICAgIG1vdW50T25FbnRlclxuICAgICAgdW5tb3VudE9uRXhpdFxuICAgICAgc3R5bGU9e3sgcGFkZGluZ1RvcDogdmlld2VyUGFkZGluZ1RvcCB9fVxuICAgID5cbiAgICAgIDxNYXhXaWR0aENvbnRhaW5lclxuICAgICAgICBzeD17eyBiYWNrZ3JvdW5kQ29sb3I6IGN1c3RvbUJhY2tncm91bmRDb2xvciA/PyBcImJhY2tncm91bmQuZGVmYXVsdFwiIH19XG4gICAgICAgIGRpc2FibGVHdXR0ZXJzPXtpc1BhbmV9XG4gICAgICAgIGlzUGFuZVxuICAgICAgPlxuICAgICAgICA8R3JpZCBjb250YWluZXIgY29sdW1uU3BhY2luZz17M30+XG4gICAgICAgICAge2lzTW9iaWxlIHx8IGlzUGFuZSA/IG51bGwgOiAoXG4gICAgICAgICAgICA8R3JpZCBpdGVtIHhzPXsxfSBjb250YWluZXIgYWxpZ25JdGVtcz1cInN0YXJ0XCIganVzdGlmeUNvbnRlbnQ9XCJyaWdodFwiPlxuICAgICAgICAgICAgICB7d2luZG93Lmhpc3RvcnkubGVuZ3RoID09PSAxIHx8IGRpc2FibGVCYWNrQnV0dG9uID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICA8UlBUb29sdGlwIHRpdGxlPXtiYWNrVGl0bGV9IGFycm93IHBsYWNlbWVudD1cInRvcFwiPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJiYWNrLWFycm93LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgICAgICAgICAgICAgICBzeD17eyBtYXJnaW5Ub3A6IFwiMTBweFwiLCBwb3NpdGlvbjogXCJmaXhlZFwiIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxBcnJvd0JhY2sgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L1JQVG9vbHRpcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgPEdyaWRcbiAgICAgICAgICAgIGl0ZW1cbiAgICAgICAgICAgIHhzPXtpc01vYmlsZSB8fCBpc1BhbmUgPyAxMiA6IDZ9XG4gICAgICAgICAgICBtYXJnaW5SaWdodD17aXNXaWRlU2NyZWVuICYmICFpc1BhbmUgPyBcIjM2cHhcIiA6IDB9XG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cImRvY3VtZW50LXZpZXdlclwiXG4gICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAvLyBhbGxvdyB0aGUgdXNlciB0byBicmluZyB0aGUgbGFzdCBsaW5lIHVwIG9uIG1vYmlsZVxuICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBpc01vYmlsZSAmJiAhaXNQYW5lID8gXCIxMDBweFwiIDogMCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2lzUnBKc29uTG9hZGluZyA/IDxEb2N1bWVudExvYWRlciAvPiA6IDxIdG1sUGFnZUhlYWQgdGl0bGU9e25hbWV9IC8+fVxuICAgICAgICAgICAge2Vycm9yICYmIDxFcnJvckRvY3VtZW50Vmlld2VyIGVycm9yPXtlcnJvcn0gLz59XG4gICAgICAgICAgICB7cnBqc29uRG9jdW1lbnQgJiYgIWlzTGltaXRlZCA/IChcbiAgICAgICAgICAgICAgPERvY3VtZW50Vmlld2VyXG4gICAgICAgICAgICAgICAgaGVhZGVySGVpZ2h0PXtIRUFERVJfSEVJR0hUfVxuICAgICAgICAgICAgICAgIHJwanNvbkRvY3VtZW50PXtycGpzb25Eb2N1bWVudH1cbiAgICAgICAgICAgICAgICBuYW1lc3BhY2U9e2lzUHJpdmF0ZSA/IFwicHJpdmF0ZVwiIDogXCJwdWJsaWNcIn1cbiAgICAgICAgICAgICAgICBzZWxlY3RlZERldGVjdGlvbj17c2VsZWN0ZWREZXRlY3Rpb259XG4gICAgICAgICAgICAgICAgZml4ZWRSZWY9e2ZpeGVkUmVmfVxuICAgICAgICAgICAgICAgIHNldEZpeGVkUmVmPXtzZXRGaXhlZFJlZn1cbiAgICAgICAgICAgICAgICBycGpzb25IZWFkZXJPZmZzZXQ9e3JwanNvbkhlYWRlck9mZnNldH1cbiAgICAgICAgICAgICAgICBzaG91bGRVc2VTY3JvbGxUcmlnZ2VyPXtzaG91bGRVc2VTY3JvbGxUcmlnZ2VyfVxuICAgICAgICAgICAgICAgIGN1c3RvbURvY3VtZW50SGVhZGVyUHJvcHM9e2N1c3RvbURvY3VtZW50SGVhZGVyUHJvcHN9XG4gICAgICAgICAgICAgICAgY3VzdG9tQmFja2dyb3VuZENvbG9yPXtjdXN0b21CYWNrZ3JvdW5kQ29sb3J9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIHtycGpzb25Eb2N1bWVudCAmJiBpc0xpbWl0ZWQgPyAoXG4gICAgICAgICAgICAgIDxMaW1pdGVkRG9jdW1lbnRWaWV3ZXJcbiAgICAgICAgICAgICAgICBycGpzb25Eb2N1bWVudD17cnBqc29uRG9jdW1lbnR9XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxDb250ZW50VXJsPXt1cmx9XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlPXtpc1ByaXZhdGUgPyBcInByaXZhdGVcIiA6IFwicHVibGljXCJ9XG4gICAgICAgICAgICAgICAgc2V0Rml4ZWRSZWY9e3NldEZpeGVkUmVmfVxuICAgICAgICAgICAgICAgIGZpeGVkUmVmPXtmaXhlZFJlZn1cbiAgICAgICAgICAgICAgICBkb2N1bWVudElkPXtkb2N1bWVudElkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9HcmlkPlxuXG4gICAgICAgICAge2lzTW9iaWxlIHx8IGRpc2FibGVEb2N1bWVudERpc2NvdmVyeSA/IG51bGwgOiAoXG4gICAgICAgICAgICA8R3JpZFxuICAgICAgICAgICAgICBpdGVtXG4gICAgICAgICAgICAgIHhzPXs0fVxuICAgICAgICAgICAgICBwdD17YCR7Zml4ZWRSZWYgPyBmaXhlZFJlZi5jbGllbnRIZWlnaHQgLSBUT09MQkFSX0hFSUdIVCA6IE1JTl9QQU5FTF9QQURESU5HfXB4YH1cbiAgICAgICAgICAgICAgc3g9e3sgdHJhbnNpdGlvbjogXCJwYWRkaW5nLXRvcCAwLjNzXCIgfX1cbiAgICAgICAgICAgICAgekluZGV4PXs3fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RG9jdW1lbnREaXNjb3ZlcnlcbiAgICAgICAgICAgICAgICBpc0xvYWRpbmc9e2lzUnBKc29uTG9hZGluZ31cbiAgICAgICAgICAgICAgICBycGpzb25Eb2N1bWVudD17cnBqc29uRG9jdW1lbnR9XG4gICAgICAgICAgICAgICAgZGlzYWJsZUNoZWNrYm94PXtkaXNhYmxlQ2hlY2tib3h9XG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbj17ZXhwcmVzc2lvbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25FeGNsdWRlPXtvbkV4Y2x1ZGV9XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWREZXRlY3Rpb249e3NlbGVjdGVkRGV0ZWN0aW9ufVxuICAgICAgICAgICAgICAgIG9uRGV0ZWN0aW9uQ2xpY2s9e2hhbmRsZURldGVjdGlvbkNsaWNrfVxuICAgICAgICAgICAgICAgIG9uQWRkVG9XYXRjaGxpc3Q9e29uQWRkVG9XYXRjaGxpc3R9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9HcmlkPlxuICAgICAgPC9NYXhXaWR0aENvbnRhaW5lcj5cbiAgICA8L0ZhZGU+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUlBKU09OVmlld2VyXG4iXSwibmFtZXMiOlsiVE9PTEJBUl9IRUlHSFQiLCJNSU5fUEFORUxfUEFERElORyIsIlJQSlNPTlZpZXdlciIsImJhY2tUaXRsZSIsImRpc2FibGVCYWNrQnV0dG9uIiwiZGlzYWJsZUNoZWNrYm94IiwiZGlzYWJsZURvY3VtZW50RGlzY292ZXJ5IiwiZG9jdW1lbnRJZCIsImVycm9yIiwiZXhwcmVzc2lvbiIsImhhbmRsZUNsaWNrIiwicnBqc29uSGVhZGVyT2Zmc2V0IiwiaXNQcml2YXRlIiwiaXNScEpzb25Mb2FkaW5nIiwib25BZGRUb1dhdGNobGlzdCIsIm9uQ2hhbmdlIiwib25FeGNsdWRlIiwicnBqc29uRG9jdW1lbnQiLCJzZWxlY3RlZERldGVjdGlvbiIsInNldFNlbGVjdGVkRGV0ZWN0aW9uIiwic2hvdWxkVXNlU2Nyb2xsVHJpZ2dlciIsInZpZXdlclBhZGRpbmdUb3AiLCJuYW1lIiwiY3VzdG9tRG9jdW1lbnRIZWFkZXJQcm9wcyIsImN1c3RvbUJhY2tncm91bmRDb2xvciIsImlzV2lkZVNjcmVlbiIsImlzTW9iaWxlIiwidXNlRGV2aWNlSW5mbyIsImlzTGltaXRlZCIsInVybCIsImNoZWNrRG9jdW1lbnQiLCJmaXhlZFJlZiIsInNldEZpeGVkUmVmIiwidXNlU3RhdGUiLCJoYW5kbGVEZXRlY3Rpb25DbGljayIsImRldGVjdGlvbiIsInRhZ01hbmFnZXJFdmVudHMiLCJkb2N1bWVudE91dGJvdW5kIiwic2VudGVuY2VJZCIsInBudW0iLCJzbnVtIiwic291cmNlTmFtZSIsImRvY3VtZW50Iiwic291cmNlIiwic291cmNlSWQiLCJycF9zb3VyY2VfaWQiLCJjb21wb25lbnQiLCJ3aW5kb3ciLCJvcGVuIiwiZ2V0VXJsV2l0aFRleHRGcmFnbWVudCIsInRleHQiLCJpc1BhbmUiLCJ2YXJpYW50IiwiRmFkZSIsImluIiwiQm9vbGVhbiIsIm1vdW50T25FbnRlciIsInVubW91bnRPbkV4aXQiLCJzdHlsZSIsInBhZGRpbmdUb3AiLCJNYXhXaWR0aENvbnRhaW5lciIsInN4IiwiYmFja2dyb3VuZENvbG9yIiwiZGlzYWJsZUd1dHRlcnMiLCJHcmlkIiwiY29udGFpbmVyIiwiY29sdW1uU3BhY2luZyIsIml0ZW0iLCJ4cyIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsImhpc3RvcnkiLCJsZW5ndGgiLCJSUFRvb2x0aXAiLCJ0aXRsZSIsImFycm93IiwicGxhY2VtZW50IiwiSWNvbkJ1dHRvbiIsImRhdGEtdGVzdGlkIiwib25DbGljayIsIm1hcmdpblRvcCIsInBvc2l0aW9uIiwiQXJyb3dCYWNrIiwibWFyZ2luUmlnaHQiLCJwYWRkaW5nQm90dG9tIiwiRG9jdW1lbnRMb2FkZXIiLCJIdG1sUGFnZUhlYWQiLCJFcnJvckRvY3VtZW50Vmlld2VyIiwiRG9jdW1lbnRWaWV3ZXIiLCJoZWFkZXJIZWlnaHQiLCJIRUFERVJfSEVJR0hUIiwibmFtZXNwYWNlIiwiTGltaXRlZERvY3VtZW50Vmlld2VyIiwiZXh0ZXJuYWxDb250ZW50VXJsIiwicHQiLCJjbGllbnRIZWlnaHQiLCJ0cmFuc2l0aW9uIiwiekluZGV4IiwiRG9jdW1lbnREaXNjb3ZlcnkiLCJpc0xvYWRpbmciLCJvbkRldGVjdGlvbkNsaWNrIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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