{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/swiper/modules/effect-creative/effect-creative.js"],"sourcesContent":["import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nimport { getSlideTransformEl } from '../../shared/utils.js';\nexport default function EffectCreative({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    creativeEffect: {\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n  const setTranslate = () => {\n    const {\n      slides,\n      wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      wrapperEl.style.transform = `translateX(calc(50% - ${margin}px))`;\n    }\n    for (let i = 0; i < slides.length; i += 1) {\n      const slideEl = slides[i];\n      const slideProgress = slideEl.progress;\n      const progress = Math.min(Math.max(slideEl.progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max(slideEl.originalProgress, -params.limitProgress), params.limitProgress);\n      }\n      const offset = slideEl.swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      }\n      // set translate\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      });\n      // set rotates\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      slideEl.style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`;\n\n      // Set shadows\n      if (custom && data.shadow || !custom) {\n        let shadowEl = slideEl.querySelector('.swiper-slide-shadow');\n        if (!shadowEl && data.shadow) {\n          shadowEl = createShadow(params, slideEl);\n        }\n        if (shadowEl) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          shadowEl.style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n      const targetEl = effectTarget(params, slideEl);\n      targetEl.style.transform = transform;\n      targetEl.style.opacity = opacityString;\n      if (data.origin) {\n        targetEl.style.transformOrigin = data.origin;\n      }\n    }\n  };\n  const setTransition = duration => {\n    const transformElements = swiper.slides.map(slideEl => getSlideTransformEl(slideEl));\n    transformElements.forEach(el => {\n      el.style.transitionDuration = `${duration}ms`;\n      el.querySelectorAll('.swiper-slide-shadow').forEach(shadowEl => {\n        shadowEl.style.transitionDuration = `${duration}ms`;\n      });\n    });\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformElements,\n      allSlides: true\n    });\n  };\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}"],"names":["EffectCreative","swiper","extendParams","on","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","perspective","prev","translate","rotate","opacity","scale","next","getTranslateValue","value","setTranslate","slides","wrapperEl","slidesSizesGrid","params","multiplier","isCenteredSlides","centeredSlides","margin","slidesOffsetBefore","style","transform","i","length","slideEl","slideProgress","progress","Math","min","max","originalProgress","offset","swiperSlideOffset","t","cssMode","r","custom","isHorizontal","data","forEach","index","abs","zIndex","round","translateString","join","rotateString","scaleString","opacityString","shadow","shadowEl","querySelector","createShadow","shadowOpacity","targetEl","effectTarget","origin","transformOrigin","setTransition","duration","transformElements","map","getSlideTransformEl","el","transitionDuration","querySelectorAll","effectVirtualTransitionEnd","allSlides","effectInit","effect","overwriteParams","watchSlidesProgress","virtualTranslate"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}