a8dbfddb0b2483b6be817dd9036ab356
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useCopyShareLink", {
    enumerable: true,
    get: function() {
        return useCopyShareLink;
    }
});
const _react = require("react");
const _customerio = require("@rp/react/common/customer-io");
const useCopyShareLink = ()=>{
    const [hasBeenCopied, setHasBeenCopied] = (0, _react.useState)(false);
    const copy = (0, _react.useCallback)(async (props)=>{
        if (!window.navigator.clipboard) return;
        if (!props) return;
        setHasBeenCopied(true);
        setTimeout(()=>setHasBeenCopied(false), 1000);
        _customerio.shareCustomerIo.linkGenerated(props);
        return window.navigator.clipboard.writeText(props.url);
    }, []);
    return {
        hasBeenCopied,
        copy
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL2hvb2tzL3NyYy9saWIvdXNlQ29weVNoYXJlTGluay50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgU2hhcmVMaW5rT2JqZWN0IH0gZnJvbSBcIkBycC9jb21tb24vdXRpbHNcIlxuaW1wb3J0IHsgc2hhcmVDdXN0b21lcklvIH0gZnJvbSBcIkBycC9yZWFjdC9jb21tb24vY3VzdG9tZXItaW9cIlxuXG5leHBvcnQgY29uc3QgdXNlQ29weVNoYXJlTGluayA9ICgpID0+IHtcbiAgY29uc3QgW2hhc0JlZW5Db3BpZWQsIHNldEhhc0JlZW5Db3BpZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IGNvcHkgPSB1c2VDYWxsYmFjayhhc3luYyAocHJvcHM6IFNoYXJlTGlua09iamVjdCB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICghd2luZG93Lm5hdmlnYXRvci5jbGlwYm9hcmQpIHJldHVyblxuICAgIGlmICghcHJvcHMpIHJldHVyblxuICAgIHNldEhhc0JlZW5Db3BpZWQodHJ1ZSlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHNldEhhc0JlZW5Db3BpZWQoZmFsc2UpLCAxMDAwKVxuICAgIHNoYXJlQ3VzdG9tZXJJby5saW5rR2VuZXJhdGVkKHByb3BzKVxuICAgIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQocHJvcHMudXJsKVxuICB9LCBbXSlcblxuICByZXR1cm4ge1xuICAgIGhhc0JlZW5Db3BpZWQsXG4gICAgY29weSxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInVzZUNvcHlTaGFyZUxpbmsiLCJoYXNCZWVuQ29waWVkIiwic2V0SGFzQmVlbkNvcGllZCIsInVzZVN0YXRlIiwiY29weSIsInVzZUNhbGxiYWNrIiwicHJvcHMiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJzZXRUaW1lb3V0Iiwic2hhcmVDdXN0b21lcklvIiwibGlua0dlbmVyYXRlZCIsIndyaXRlVGV4dCIsInVybCJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkFJYUE7OztlQUFBQTs7O3VCQUp5Qjs0QkFFTjtBQUV6QixNQUFNQSxtQkFBbUI7SUFDOUIsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR0MsSUFBQUEsZUFBUSxFQUFDO0lBQ25ELE1BQU1DLE9BQU9DLElBQUFBLGtCQUFXLEVBQUMsT0FBT0M7UUFDOUIsSUFBSSxDQUFDQyxPQUFPQyxTQUFTLENBQUNDLFNBQVMsRUFBRTtRQUNqQyxJQUFJLENBQUNILE9BQU87UUFDWkosaUJBQWlCO1FBQ2pCUSxXQUFXLElBQU1SLGlCQUFpQixRQUFRO1FBQzFDUywyQkFBZSxDQUFDQyxhQUFhLENBQUNOO1FBQzlCLE9BQU9DLE9BQU9DLFNBQVMsQ0FBQ0MsU0FBUyxDQUFDSSxTQUFTLENBQUNQLE1BQU1RLEdBQUc7SUFDdkQsR0FBRyxFQUFFO0lBRUwsT0FBTztRQUNMYjtRQUNBRztJQUNGO0FBQ0YifQ==