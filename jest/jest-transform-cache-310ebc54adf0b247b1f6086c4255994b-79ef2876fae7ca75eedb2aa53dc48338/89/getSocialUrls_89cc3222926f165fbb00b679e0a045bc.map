{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/common/utils/src/lib/getSocialUrls.ts"],"sourcesContent":["import qs from \"qs\"\nimport { adapters } from \"@rp/adapters\"\nimport { INTERNAL_ACTION_QUERY_PARAM, INTERNAL_QUERY_PARAM_ACTIONS } from \"@rp/common/settings\"\nimport { truncateString } from \"./truncateString\"\n\ntype Params = {\n  shareObjectId: string\n  shareObjectType: \"chat\" | \"watchlist\"\n  path: string\n  name: string\n  ownerInfo?: {\n    displayName: string\n    name: string\n    avatar: string\n  }\n  infoMessage?: string\n}\n\nfunction getShareObject({\n  shareObjectId,\n  shareObjectType,\n  name,\n  path,\n  ownerInfo,\n  infoMessage,\n}: Params) {\n  const queryParams = qs.stringify(\n    { [INTERNAL_ACTION_QUERY_PARAM]: INTERNAL_QUERY_PARAM_ACTIONS.SHARE },\n    { addQueryPrefix: true },\n  )\n  return {\n    shareObjectId,\n    url: `${adapters.location.getAbsoluteBaseUrl().slice(0, -1)}${path}${queryParams}`,\n    shareObjectType,\n    content: `Bigdata.com ${truncateString(name, 100)}`,\n    emailTitle: `Check out my ${name}`,\n    ownerInfo,\n    infoMessage,\n  }\n}\n\nexport type ShareLinkObject = ReturnType<typeof getShareObject>\n\nfunction getXUrl(itemUrl: string, message: string) {\n  const searchParams = new URLSearchParams({\n    text: message,\n    url: itemUrl,\n  })\n  return `https://x.com/intent/tweet?${searchParams.toString()}`\n}\n\nfunction getFacebookUrl(itemUrl: string) {\n  const searchParams = new URLSearchParams({\n    u: itemUrl,\n  })\n  return `https://www.facebook.com/sharer/sharer.php?${searchParams.toString()}`\n}\n\nfunction getRedditUrl(itemUrl: string, title: string) {\n  const searchParams = new URLSearchParams({\n    url: itemUrl,\n    title,\n  })\n\n  return `http://www.reddit.com/submit?${searchParams.toString()}`\n}\n\nfunction getEmailUrl(subject: string, body: string) {\n  return `mailto:?subject=${subject}&body=${body}`\n}\n\nexport { getShareObject, getXUrl, getFacebookUrl, getRedditUrl, getEmailUrl }\n"],"names":["getEmailUrl","getFacebookUrl","getRedditUrl","getShareObject","getXUrl","shareObjectId","shareObjectType","name","path","ownerInfo","infoMessage","queryParams","qs","stringify","INTERNAL_ACTION_QUERY_PARAM","INTERNAL_QUERY_PARAM_ACTIONS","SHARE","addQueryPrefix","url","adapters","location","getAbsoluteBaseUrl","slice","content","truncateString","emailTitle","itemUrl","message","searchParams","URLSearchParams","text","toString","u","title","subject","body"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAuEgEA,WAAW;eAAXA;;IAA9BC,cAAc;eAAdA;;IAAgBC,YAAY;eAAZA;;IAAzCC,cAAc;eAAdA;;IAAgBC,OAAO;eAAPA;;;2DAvEV;0BACU;0BACiD;gCAC3C;;;;;;AAe/B,SAASD,eAAe,EACtBE,aAAa,EACbC,eAAe,EACfC,IAAI,EACJC,IAAI,EACJC,SAAS,EACTC,WAAW,EACJ;IACP,MAAMC,cAAcC,WAAE,CAACC,SAAS,CAC9B;QAAE,CAACC,qCAA2B,CAAC,EAAEC,sCAA4B,CAACC,KAAK;IAAC,GACpE;QAAEC,gBAAgB;IAAK;IAEzB,OAAO;QACLZ;QACAa,KAAK,CAAC,EAAEC,kBAAQ,CAACC,QAAQ,CAACC,kBAAkB,GAAGC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAEd,KAAK,EAAEG,YAAY,CAAC;QAClFL;QACAiB,SAAS,CAAC,YAAY,EAAEC,IAAAA,8BAAc,EAACjB,MAAM,KAAK,CAAC;QACnDkB,YAAY,CAAC,aAAa,EAAElB,KAAK,CAAC;QAClCE;QACAC;IACF;AACF;AAIA,SAASN,QAAQsB,OAAe,EAAEC,OAAe;IAC/C,MAAMC,eAAe,IAAIC,gBAAgB;QACvCC,MAAMH;QACNT,KAAKQ;IACP;IACA,OAAO,CAAC,2BAA2B,EAAEE,aAAaG,QAAQ,GAAG,CAAC;AAChE;AAEA,SAAS9B,eAAeyB,OAAe;IACrC,MAAME,eAAe,IAAIC,gBAAgB;QACvCG,GAAGN;IACL;IACA,OAAO,CAAC,2CAA2C,EAAEE,aAAaG,QAAQ,GAAG,CAAC;AAChF;AAEA,SAAS7B,aAAawB,OAAe,EAAEO,KAAa;IAClD,MAAML,eAAe,IAAIC,gBAAgB;QACvCX,KAAKQ;QACLO;IACF;IAEA,OAAO,CAAC,6BAA6B,EAAEL,aAAaG,QAAQ,GAAG,CAAC;AAClE;AAEA,SAAS/B,YAAYkC,OAAe,EAAEC,IAAY;IAChD,OAAO,CAAC,gBAAgB,EAAED,QAAQ,MAAM,EAAEC,KAAK,CAAC;AAClD"}