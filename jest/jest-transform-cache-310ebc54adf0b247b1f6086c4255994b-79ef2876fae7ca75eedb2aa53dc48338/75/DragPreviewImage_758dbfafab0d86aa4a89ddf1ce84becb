baa4d1f15386b4b972947e05355fb051
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "DragPreviewImage", {
    enumerable: true,
    get: function() {
        return DragPreviewImage;
    }
});
const _react = require("react");
const DragPreviewImage = /*#__PURE__*/ (0, _react.memo)(function DragPreviewImage({ connect, src }) {
    (0, _react.useEffect)(()=>{
        if (typeof Image === 'undefined') return;
        let connected = false;
        const img = new Image();
        img.src = src;
        img.onload = ()=>{
            connect(img);
            connected = true;
        };
        return ()=>{
            if (connected) {
                connect(null);
            }
        };
    });
    return null;
}); //# sourceMappingURL=DragPreviewImage.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb3JlL0RyYWdQcmV2aWV3SW1hZ2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBGQyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgbWVtbywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB0eXBlIHsgQ29ubmVjdERyYWdQcmV2aWV3IH0gZnJvbSAnLi4vdHlwZXMvaW5kZXguanMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhZ1ByZXZpZXdJbWFnZVByb3BzIHtcblx0Y29ubmVjdDogQ29ubmVjdERyYWdQcmV2aWV3XG5cdHNyYzogc3RyaW5nXG59XG4vKipcbiAqIEEgdXRpbGl0eSBmb3IgcmVuZGVyaW5nIGEgZHJhZyBwcmV2aWV3IGltYWdlXG4gKi9cbmV4cG9ydCBjb25zdCBEcmFnUHJldmlld0ltYWdlOiBGQzxEcmFnUHJldmlld0ltYWdlUHJvcHM+ID0gbWVtbyhcblx0ZnVuY3Rpb24gRHJhZ1ByZXZpZXdJbWFnZSh7IGNvbm5lY3QsIHNyYyB9KSB7XG5cdFx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRcdGlmICh0eXBlb2YgSW1hZ2UgPT09ICd1bmRlZmluZWQnKSByZXR1cm5cblxuXHRcdFx0bGV0IGNvbm5lY3RlZCA9IGZhbHNlXG5cdFx0XHRjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKVxuXHRcdFx0aW1nLnNyYyA9IHNyY1xuXHRcdFx0aW1nLm9ubG9hZCA9ICgpID0+IHtcblx0XHRcdFx0Y29ubmVjdChpbWcpXG5cdFx0XHRcdGNvbm5lY3RlZCA9IHRydWVcblx0XHRcdH1cblx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdGlmIChjb25uZWN0ZWQpIHtcblx0XHRcdFx0XHRjb25uZWN0KG51bGwpXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0cmV0dXJuIG51bGxcblx0fSxcbilcbiJdLCJuYW1lcyI6WyJEcmFnUHJldmlld0ltYWdlIiwibWVtbyIsImNvbm5lY3QiLCJzcmMiLCJ1c2VFZmZlY3QiLCJJbWFnZSIsImNvbm5lY3RlZCIsImltZyIsIm9ubG9hZCJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBWWFBOzs7ZUFBQUE7Ozt1QkFYbUI7QUFXekIsTUFBTUEsaUNBQThDQyxJQUFBQSxXQUFJLEVBQzlELFNBQVNELGlCQUFpQixFQUFFRSxPQUFPLEVBQUVDLEdBQUcsRUFBRTtJQUN6Q0MsSUFBQUEsZ0JBQVMsRUFBQztRQUNULElBQUksT0FBT0MsVUFBVSxhQUFhO1FBRWxDLElBQUlDLFlBQVk7UUFDaEIsTUFBTUMsTUFBTSxJQUFJRjtRQUNoQkUsSUFBSUosR0FBRyxHQUFHQTtRQUNWSSxJQUFJQyxNQUFNLEdBQUc7WUFDWk4sUUFBUUs7WUFDUkQsWUFBWTs7UUFFYixPQUFPO1lBQ04sSUFBSUEsV0FBVztnQkFDZEosUUFBUTs7OztJQUtYLE9BQU8ifQ==