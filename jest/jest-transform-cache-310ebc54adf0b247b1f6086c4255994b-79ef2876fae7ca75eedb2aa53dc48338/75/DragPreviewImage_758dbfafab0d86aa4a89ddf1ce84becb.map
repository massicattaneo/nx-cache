{"version":3,"sources":["../../src/core/DragPreviewImage.ts"],"sourcesContent":["import type { FC } from 'react'\nimport { memo, useEffect } from 'react'\n\nimport type { ConnectDragPreview } from '../types/index.js'\n\nexport interface DragPreviewImageProps {\n\tconnect: ConnectDragPreview\n\tsrc: string\n}\n/**\n * A utility for rendering a drag preview image\n */\nexport const DragPreviewImage: FC<DragPreviewImageProps> = memo(\n\tfunction DragPreviewImage({ connect, src }) {\n\t\tuseEffect(() => {\n\t\t\tif (typeof Image === 'undefined') return\n\n\t\t\tlet connected = false\n\t\t\tconst img = new Image()\n\t\t\timg.src = src\n\t\t\timg.onload = () => {\n\t\t\t\tconnect(img)\n\t\t\t\tconnected = true\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tif (connected) {\n\t\t\t\t\tconnect(null)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn null\n\t},\n)\n"],"names":["DragPreviewImage","memo","connect","src","useEffect","Image","connected","img","onload"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAYaA;;;eAAAA;;;uBAXmB;AAWzB,MAAMA,iCAA8CC,IAAAA,WAAI,EAC9D,SAASD,iBAAiB,EAAEE,OAAO,EAAEC,GAAG,EAAE;IACzCC,IAAAA,gBAAS,EAAC;QACT,IAAI,OAAOC,UAAU,aAAa;QAElC,IAAIC,YAAY;QAChB,MAAMC,MAAM,IAAIF;QAChBE,IAAIJ,GAAG,GAAGA;QACVI,IAAIC,MAAM,GAAG;YACZN,QAAQK;YACRD,YAAY;;QAEb,OAAO;YACN,IAAIA,WAAW;gBACdJ,QAAQ;;;;IAKX,OAAO"}