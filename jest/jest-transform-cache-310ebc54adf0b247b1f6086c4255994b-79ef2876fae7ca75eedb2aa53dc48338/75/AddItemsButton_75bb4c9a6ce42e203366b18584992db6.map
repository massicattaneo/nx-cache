{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/watchlist-editor/src/AddItemsButton.tsx"],"sourcesContent":["import { useTranslation } from \"react-i18next\"\nimport { WATCHLIST_ITEMS_MAXIMUM_COUNT } from \"@rp/common/settings\"\nimport { RPTooltip } from \"@rp/react/web/common/base-components\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { Box, Button, CircularProgress } from \"@rp/react/web/mui/core\"\n\ntype Props = {\n  amount: number\n  onClick: () => void\n  loading?: boolean\n  watchlistItemsCount: number\n}\n\nconst AddItemsButton = ({ amount, onClick, loading, watchlistItemsCount }: Props) => {\n  const { t } = useTranslation()\n  const hasReachedMaximum =\n    watchlistItemsCount + amount > WATCHLIST_ITEMS_MAXIMUM_COUNT ||\n    watchlistItemsCount >= WATCHLIST_ITEMS_MAXIMUM_COUNT\n  const disabled = amount <= 0 || loading || hasReachedMaximum\n  return (\n    <RPTooltip\n      title={\n        hasReachedMaximum\n          ? t(\"watchlistPage.maximumWatchlistSize\", { size: WATCHLIST_ITEMS_MAXIMUM_COUNT })\n          : \"\"\n      }\n    >\n      <Box component=\"span\">\n        <Button\n          variant=\"contained\"\n          disabled={disabled}\n          onClick={onClick}\n          size=\"small\"\n          sx={theme => ({\n            position: \"relative\",\n            bottom: 0,\n            ml: 0,\n            whiteSpace: \"nowrap\",\n            width: \"150px\",\n            display: \"inline-block\",\n            marginLeft: 1,\n            \"&::after\": {\n              content: !disabled ? `\"${amount}\"` : undefined,\n              position: \"absolute\",\n              right: -15,\n              top: -15,\n              backgroundColor: \"common.white\",\n              borderRadius: 20,\n              fontSize: 14,\n              width: 25,\n              outline: `2px solid ${theme.palette.primary.main}`,\n              fontWeight: 700,\n            },\n          })}\n        >\n          {loading ? (\n            <CircularProgress style={{ color: \"black\", width: 20, height: 20 }} />\n          ) : (\n            \"Add to Watchlist\"\n          )}\n        </Button>\n      </Box>\n    </RPTooltip>\n  )\n}\n\nconst AddItemsButtonMobile = ({ amount, onClick, loading, watchlistItemsCount }: Props) => {\n  const { safeArea } = useDeviceInfo()\n  const hasReachedMaximum =\n    watchlistItemsCount + amount > WATCHLIST_ITEMS_MAXIMUM_COUNT ||\n    watchlistItemsCount >= WATCHLIST_ITEMS_MAXIMUM_COUNT\n  const disabled = amount <= 0 || loading || hasReachedMaximum\n  if (!loading && amount === 0) {\n    return null\n  }\n\n  return (\n    <Box\n      sx={{\n        position: \"fixed\",\n        bottom: safeArea.bottom,\n        height: 60,\n        background: \"linear-gradient(0deg, rgba(18,18,18,1) 0%, rgba(18,18,18,0) 100%)\",\n        width: \"calc(100% - 24px)\",\n        zIndex: 10,\n      }}\n    >\n      <Button\n        variant=\"contained\"\n        size=\"large\"\n        onClick={onClick}\n        disabled={disabled}\n        sx={theme => ({\n          mb: 16,\n          width: \"calc(100% - 32px)\",\n          ml: 2,\n          \"&::after\": {\n            content: !disabled ? `\"${amount}\"` : undefined,\n            position: \"absolute\",\n            right: -10,\n            top: -10,\n            backgroundColor: \"common.white\",\n            borderRadius: 20,\n            fontSize: 12,\n            width: 21,\n            outline: `2px solid ${theme.palette.primary.main}`,\n            fontWeight: 700,\n          },\n        })}\n      >\n        {loading ? (\n          <CircularProgress style={{ color: \"black\", width: 24, height: 24 }} />\n        ) : (\n          \"Add to Watchlist\"\n        )}\n      </Button>\n    </Box>\n  )\n}\n\nexport { AddItemsButton, AddItemsButtonMobile }\n"],"names":["AddItemsButton","AddItemsButtonMobile","amount","onClick","loading","watchlistItemsCount","t","useTranslation","hasReachedMaximum","WATCHLIST_ITEMS_MAXIMUM_COUNT","disabled","RPTooltip","title","size","Box","component","Button","variant","sx","theme","position","bottom","ml","whiteSpace","width","display","marginLeft","content","undefined","right","top","backgroundColor","borderRadius","fontSize","outline","palette","primary","main","fontWeight","CircularProgress","style","color","height","safeArea","useDeviceInfo","background","zIndex","mb"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAwHSA,cAAc;eAAdA;;IAAgBC,oBAAoB;eAApBA;;;;8BAxHM;0BACe;gCACpB;uBACI;sBACgB;AAS9C,MAAMD,iBAAiB,CAAC,EAAEE,MAAM,EAAEC,OAAO,EAAEC,OAAO,EAAEC,mBAAmB,EAAS;IAC9E,MAAM,EAAEC,CAAC,EAAE,GAAGC,IAAAA,4BAAc;IAC5B,MAAMC,oBACJH,sBAAsBH,SAASO,uCAA6B,IAC5DJ,uBAAuBI,uCAA6B;IACtD,MAAMC,WAAWR,UAAU,KAAKE,WAAWI;IAC3C,qBACE,qBAACG,yBAAS;QACRC,OACEJ,oBACIF,EAAE,sCAAsC;YAAEO,MAAMJ,uCAA6B;QAAC,KAC9E;kBAGN,cAAA,qBAACK,SAAG;YAACC,WAAU;sBACb,cAAA,qBAACC,YAAM;gBACLC,SAAQ;gBACRP,UAAUA;gBACVP,SAASA;gBACTU,MAAK;gBACLK,IAAIC,CAAAA,QAAU,CAAA;wBACZC,UAAU;wBACVC,QAAQ;wBACRC,IAAI;wBACJC,YAAY;wBACZC,OAAO;wBACPC,SAAS;wBACTC,YAAY;wBACZ,YAAY;4BACVC,SAAS,CAACjB,WAAW,CAAC,CAAC,EAAER,OAAO,CAAC,CAAC,GAAG0B;4BACrCR,UAAU;4BACVS,OAAO,CAAC;4BACRC,KAAK,CAAC;4BACNC,iBAAiB;4BACjBC,cAAc;4BACdC,UAAU;4BACVT,OAAO;4BACPU,SAAS,CAAC,UAAU,EAAEf,MAAMgB,OAAO,CAACC,OAAO,CAACC,IAAI,CAAC,CAAC;4BAClDC,YAAY;wBACd;oBACF,CAAA;0BAEClC,wBACC,qBAACmC,sBAAgB;oBAACC,OAAO;wBAAEC,OAAO;wBAASjB,OAAO;wBAAIkB,QAAQ;oBAAG;qBAEjE;;;;AAMZ;AAEA,MAAMzC,uBAAuB,CAAC,EAAEC,MAAM,EAAEC,OAAO,EAAEC,OAAO,EAAEC,mBAAmB,EAAS;IACpF,MAAM,EAAEsC,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAClC,MAAMpC,oBACJH,sBAAsBH,SAASO,uCAA6B,IAC5DJ,uBAAuBI,uCAA6B;IACtD,MAAMC,WAAWR,UAAU,KAAKE,WAAWI;IAC3C,IAAI,CAACJ,WAAWF,WAAW,GAAG;QAC5B,OAAO;IACT;IAEA,qBACE,qBAACY,SAAG;QACFI,IAAI;YACFE,UAAU;YACVC,QAAQsB,SAAStB,MAAM;YACvBqB,QAAQ;YACRG,YAAY;YACZrB,OAAO;YACPsB,QAAQ;QACV;kBAEA,cAAA,qBAAC9B,YAAM;YACLC,SAAQ;YACRJ,MAAK;YACLV,SAASA;YACTO,UAAUA;YACVQ,IAAIC,CAAAA,QAAU,CAAA;oBACZ4B,IAAI;oBACJvB,OAAO;oBACPF,IAAI;oBACJ,YAAY;wBACVK,SAAS,CAACjB,WAAW,CAAC,CAAC,EAAER,OAAO,CAAC,CAAC,GAAG0B;wBACrCR,UAAU;wBACVS,OAAO,CAAC;wBACRC,KAAK,CAAC;wBACNC,iBAAiB;wBACjBC,cAAc;wBACdC,UAAU;wBACVT,OAAO;wBACPU,SAAS,CAAC,UAAU,EAAEf,MAAMgB,OAAO,CAACC,OAAO,CAACC,IAAI,CAAC,CAAC;wBAClDC,YAAY;oBACd;gBACF,CAAA;sBAEClC,wBACC,qBAACmC,sBAAgB;gBAACC,OAAO;oBAAEC,OAAO;oBAASjB,OAAO;oBAAIkB,QAAQ;gBAAG;iBAEjE;;;AAKV"}