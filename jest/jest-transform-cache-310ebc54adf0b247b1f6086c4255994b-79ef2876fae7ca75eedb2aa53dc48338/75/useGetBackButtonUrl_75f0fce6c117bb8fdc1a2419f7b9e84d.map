{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/pages/WatchlistEditor/useGetBackButtonUrl.ts"],"sourcesContent":["import { useLocation } from \"react-router-dom\"\nimport { WATCHLISTS_ROUTE } from \"@rp/react/web/router\"\n\ntype WatchlistRelatedHistoryState = {\n  comingFrom: \"public\" | \"user\"\n}\n\nconst USER_WATCHLISTS_ROUTE = WATCHLISTS_ROUTE\nconst PUBLIC_WATCHLISTS_ROUTE = `${WATCHLISTS_ROUTE}?tab=public-watchlists`\n\nconst isWatchlistRelatedHistoryState = (state: unknown): state is WatchlistRelatedHistoryState => {\n  return (\n    state !== null &&\n    typeof state === \"object\" &&\n    \"comingFrom\" in state &&\n    (state.comingFrom === \"public\" || state.comingFrom === \"user\")\n  )\n}\n\nconst useGetBackButtonUrl = (\n  user: {\n    userId: string | undefined\n    userEmail: string | undefined\n  },\n  owner: {\n    ownerId: string | undefined\n  },\n) => {\n  const { state } = useLocation()\n\n  if (isWatchlistRelatedHistoryState(state)) {\n    return state.comingFrom === \"public\" ? PUBLIC_WATCHLISTS_ROUTE : USER_WATCHLISTS_ROUTE\n  }\n\n  return user.userId === owner.ownerId ? USER_WATCHLISTS_ROUTE : PUBLIC_WATCHLISTS_ROUTE\n}\n\nexport { useGetBackButtonUrl }\n"],"names":["useGetBackButtonUrl","USER_WATCHLISTS_ROUTE","WATCHLISTS_ROUTE","PUBLIC_WATCHLISTS_ROUTE","isWatchlistRelatedHistoryState","state","comingFrom","user","owner","useLocation","userId","ownerId"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAqCSA;;;eAAAA;;;gCArCmB;wBACK;AAMjC,MAAMC,wBAAwBC,wBAAgB;AAC9C,MAAMC,0BAA0B,CAAC,EAAED,wBAAgB,CAAC,sBAAsB,CAAC;AAE3E,MAAME,iCAAiC,CAACC;IACtC,OACEA,UAAU,QACV,OAAOA,UAAU,YACjB,gBAAgBA,SACfA,CAAAA,MAAMC,UAAU,KAAK,YAAYD,MAAMC,UAAU,KAAK,MAAK;AAEhE;AAEA,MAAMN,sBAAsB,CAC1BO,MAIAC;IAIA,MAAM,EAAEH,KAAK,EAAE,GAAGI,IAAAA,2BAAW;IAE7B,IAAIL,+BAA+BC,QAAQ;QACzC,OAAOA,MAAMC,UAAU,KAAK,WAAWH,0BAA0BF;IACnE;IAEA,OAAOM,KAAKG,MAAM,KAAKF,MAAMG,OAAO,GAAGV,wBAAwBE;AACjE"}