{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/swiper/modules/keyboard/keyboard.js"],"sourcesContent":["/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport { elementOffset, elementParents } from '../../shared/utils.js';\nexport default function Keyboard({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40;\n    // Directions locks\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false;\n      // Check that swiper should be inside of visible area of window\n      if (elementParents(swiper.el, `.${swiper.params.slideClass}, swiper-slide`).length > 0 && elementParents(swiper.el, `.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n      const el = swiper.el;\n      const swiperWidth = el.clientWidth;\n      const swiperHeight = el.clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = elementOffset(el);\n      if (rtl) swiperOffset.left -= el.scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n          inView = true;\n        }\n      }\n      if (!inView) return undefined;\n    }\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n    emit('keyPress', kc);\n    return undefined;\n  }\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    document.addEventListener('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    document.removeEventListener('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}"],"names":["Keyboard","swiper","extendParams","on","emit","document","getDocument","window","getWindow","keyboard","enabled","onlyInViewport","pageUpDown","handle","event","rtlTranslate","rtl","e","originalEvent","kc","keyCode","charCode","params","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","allowSlideNext","isHorizontal","isVertical","allowSlidePrev","shiftKey","altKey","ctrlKey","metaKey","undefined","activeElement","nodeName","toLowerCase","inView","elementParents","el","slideClass","length","slideActiveClass","swiperWidth","clientWidth","swiperHeight","clientHeight","windowWidth","innerWidth","windowHeight","innerHeight","swiperOffset","elementOffset","left","scrollLeft","swiperCoord","top","i","point","preventDefault","returnValue","slideNext","slidePrev","enable","addEventListener","disable","removeEventListener","Object","assign"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}