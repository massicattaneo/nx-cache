62c4e49b089f02c07af87d35fdb9f388
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "generateChangePercentagePrompt", {
    enumerable: true,
    get: function() {
        return generateChangePercentagePrompt;
    }
});
const _datefns = require("date-fns");
const _generatePercentagePrompt = require("./generatePercentagePrompt");
function generateChangePercentagePrompt(name, data) {
    var _data_timestamp;
    const ts = new Date((_data_timestamp = data.timestamp) !== null && _data_timestamp !== void 0 ? _data_timestamp : Date.now()).getTime();
    var _data_changePercentage;
    const percentage = Math.round(((_data_changePercentage = data === null || data === void 0 ? void 0 : data.changePercentage) !== null && _data_changePercentage !== void 0 ? _data_changePercentage : 0) * 100) / 100;
    const whenDefault = `on past ${(0, _datefns.format)(ts, "cccc")}`;
    const whenToday = (0, _datefns.isToday)(ts) ? "today" : undefined;
    const whenYesterday = (0, _datefns.isYesterday)(ts) ? "yesterday" : undefined;
    const verb = (0, _datefns.isToday)(ts) ? "is" : "was";
    var _ref;
    const options = (_ref = whenToday !== null && whenToday !== void 0 ? whenToday : whenYesterday) !== null && _ref !== void 0 ? _ref : whenDefault;
    return (0, _generatePercentagePrompt.generatePercentagePrompt)(name, verb, percentage, options);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL3dhdGNobGlzdHMvc3JjL2xpYi9nZW5lcmF0ZUNoYW5nZVBlcmNlbnRhZ2VQcm9tcHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9ybWF0LCBpc1RvZGF5LCBpc1llc3RlcmRheSB9IGZyb20gXCJkYXRlLWZuc1wiXG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiXG5pbXBvcnQgeyBmaW5hbmNpYWxEYXRhU2NoZW1hcyB9IGZyb20gXCJAcnAvY29tbW9uL3pvZC1jb250cmFjdHMvZmluYW5jaWFsLWRhdGFcIlxuaW1wb3J0IHsgZ2VuZXJhdGVQZXJjZW50YWdlUHJvbXB0IH0gZnJvbSBcIi4vZ2VuZXJhdGVQZXJjZW50YWdlUHJvbXB0XCJcblxudHlwZSBEYXRhID0gei5pbmZlcjx0eXBlb2YgZmluYW5jaWFsRGF0YVNjaGVtYXMuY29tcGFueVF1b3RlPlxuXG5mdW5jdGlvbiBnZW5lcmF0ZUNoYW5nZVBlcmNlbnRhZ2VQcm9tcHQobmFtZTogc3RyaW5nLCBkYXRhOiBEYXRhKSB7XG4gIGNvbnN0IHRzID0gbmV3IERhdGUoZGF0YS50aW1lc3RhbXAgPz8gRGF0ZS5ub3coKSkuZ2V0VGltZSgpXG4gIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKChkYXRhPy5jaGFuZ2VQZXJjZW50YWdlID8/IDApICogMTAwKSAvIDEwMFxuICBjb25zdCB3aGVuRGVmYXVsdCA9IGBvbiBwYXN0ICR7Zm9ybWF0KHRzLCBcImNjY2NcIil9YFxuICBjb25zdCB3aGVuVG9kYXkgPSBpc1RvZGF5KHRzKSA/IFwidG9kYXlcIiA6IHVuZGVmaW5lZFxuICBjb25zdCB3aGVuWWVzdGVyZGF5ID0gaXNZZXN0ZXJkYXkodHMpID8gXCJ5ZXN0ZXJkYXlcIiA6IHVuZGVmaW5lZFxuICBjb25zdCB2ZXJiID0gaXNUb2RheSh0cykgPyBcImlzXCIgOiBcIndhc1wiXG4gIGNvbnN0IG9wdGlvbnMgPSB3aGVuVG9kYXkgPz8gd2hlblllc3RlcmRheSA/PyB3aGVuRGVmYXVsdFxuICByZXR1cm4gZ2VuZXJhdGVQZXJjZW50YWdlUHJvbXB0KG5hbWUsIHZlcmIsIHBlcmNlbnRhZ2UsIG9wdGlvbnMpXG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlQ2hhbmdlUGVyY2VudGFnZVByb21wdCB9XG4iXSwibmFtZXMiOlsiZ2VuZXJhdGVDaGFuZ2VQZXJjZW50YWdlUHJvbXB0IiwibmFtZSIsImRhdGEiLCJ0cyIsIkRhdGUiLCJ0aW1lc3RhbXAiLCJub3ciLCJnZXRUaW1lIiwicGVyY2VudGFnZSIsIk1hdGgiLCJyb3VuZCIsImNoYW5nZVBlcmNlbnRhZ2UiLCJ3aGVuRGVmYXVsdCIsImZvcm1hdCIsIndoZW5Ub2RheSIsImlzVG9kYXkiLCJ1bmRlZmluZWQiLCJ3aGVuWWVzdGVyZGF5IiwiaXNZZXN0ZXJkYXkiLCJ2ZXJiIiwib3B0aW9ucyIsImdlbmVyYXRlUGVyY2VudGFnZVByb21wdCJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBa0JTQTs7O2VBQUFBOzs7eUJBbEJvQzswQ0FHSjtBQUl6QyxTQUFTQSwrQkFBK0JDLElBQVksRUFBRUMsSUFBVTtRQUMxQ0E7SUFBcEIsTUFBTUMsS0FBSyxJQUFJQyxLQUFLRixDQUFBQSxrQkFBQUEsS0FBS0csU0FBUyxjQUFkSCw2QkFBQUEsa0JBQWtCRSxLQUFLRSxHQUFHLElBQUlDLE9BQU87UUFDMUJMO0lBQS9CLE1BQU1NLGFBQWFDLEtBQUtDLEtBQUssQ0FBQyxBQUFDUixDQUFBQSxDQUFBQSx5QkFBQUEsaUJBQUFBLDJCQUFBQSxLQUFNUyxnQkFBZ0IsY0FBdEJULG9DQUFBQSx5QkFBMEIsQ0FBQSxJQUFLLE9BQU87SUFDckUsTUFBTVUsY0FBYyxDQUFDLFFBQVEsRUFBRUMsSUFBQUEsZUFBTSxFQUFDVixJQUFJLFFBQVEsQ0FBQztJQUNuRCxNQUFNVyxZQUFZQyxJQUFBQSxnQkFBTyxFQUFDWixNQUFNLFVBQVVhO0lBQzFDLE1BQU1DLGdCQUFnQkMsSUFBQUEsb0JBQVcsRUFBQ2YsTUFBTSxjQUFjYTtJQUN0RCxNQUFNRyxPQUFPSixJQUFBQSxnQkFBTyxFQUFDWixNQUFNLE9BQU87UUFDbEJXO0lBQWhCLE1BQU1NLFVBQVVOLENBQUFBLE9BQUFBLHNCQUFBQSx1QkFBQUEsWUFBYUcsMkJBQWJILGtCQUFBQSxPQUE4QkY7SUFDOUMsT0FBT1MsSUFBQUEsa0RBQXdCLEVBQUNwQixNQUFNa0IsTUFBTVgsWUFBWVk7QUFDMUQifQ==