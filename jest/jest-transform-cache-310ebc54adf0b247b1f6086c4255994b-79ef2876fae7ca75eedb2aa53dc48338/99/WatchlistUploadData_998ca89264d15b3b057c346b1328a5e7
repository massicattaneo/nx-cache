bee0c89c2af781e97d604ea95da6872e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    WATCHLIST_MODAL_SCROLLABLE_ID: function() {
        return WATCHLIST_MODAL_SCROLLABLE_ID;
    },
    WatchlistUploadData: function() {
        return WatchlistUploadData;
    },
    extendItems: function() {
        return extendItems;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _utils = require("@rp/common/utils");
const _core = require("@rp/react/web/mui/core");
const _icons = require("@rp/react/web/mui/icons");
const _WatchlistUploadDataSection = require("./WatchlistUploadDataSection");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) {
            symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        }
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _object_spread_props(target, source) {
    source = source != null ? source : {};
    if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
        ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
    }
    return target;
}
const WATCHLIST_MODAL_SCROLLABLE_ID = "watchlist-modal-scrollable";
const extendItems = (data, watchlist)=>{
    return data.map((item)=>{
        var _item_data;
        var _item_data_key;
        return _object_spread_props(_object_spread({}, item), {
            isInWatchlist: watchlist.items.includes((_item_data_key = (_item_data = item.data) === null || _item_data === void 0 ? void 0 : _item_data.key) !== null && _item_data_key !== void 0 ? _item_data_key : "")
        });
    });
};
const WatchlistUploadData = ({ data: rawData, onClose, watchlist, onSubmit })=>{
    const ref = (0, _react.useRef)(null);
    const scroll = (0, _react.useRef)(0);
    const [data, setData] = (0, _react.useState)(extendItems(rawData.entities.filter((data)=>!data.isConflict), watchlist));
    const [conflicts, setConflicts] = (0, _react.useState)(extendItems(rawData.entities.filter((data)=>data.isConflict), watchlist));
    const originalConflicts = rawData.entities.filter((i)=>i.isConflict).length;
    (0, _react.useEffect)(()=>{
        const current = ref.current;
        if (!current) return;
        current === null || current === void 0 ? void 0 : current.scrollTo(0, 0);
        const handler = ()=>{
            var _ref_current;
            var _ref_current_scrollTop;
            scroll.current = (_ref_current_scrollTop = (_ref_current = ref.current) === null || _ref_current === void 0 ? void 0 : _ref_current.scrollTop) !== null && _ref_current_scrollTop !== void 0 ? _ref_current_scrollTop : 0;
        };
        current.addEventListener("scroll", handler);
        return ()=>{
            current.removeEventListener("scroll", handler);
        };
    }, []);
    const toAdd = [
        ...data.filter((i)=>!i.isInWatchlist && !i.isDeleted),
        ...conflicts.filter((i)=>!i.isConflict && !i.isInWatchlist && !i.isDeleted)
    ];
    const excludeIds = (0, _react.useMemo)(()=>{
        return [
            ...watchlist.items,
            ...data.filter((i)=>!i.isDeleted).map((i)=>{
                var _i_data;
                var _i_data_key;
                return (_i_data_key = (_i_data = i.data) === null || _i_data === void 0 ? void 0 : _i_data.key) !== null && _i_data_key !== void 0 ? _i_data_key : "";
            }),
            ...conflicts.filter((i)=>!i.isDeleted).map((i)=>{
                var _i_data;
                var _i_data_key;
                return (_i_data_key = (_i_data = i.data) === null || _i_data === void 0 ? void 0 : _i_data.key) !== null && _i_data_key !== void 0 ? _i_data_key : "";
            })
        ];
    }, [
        conflicts,
        data,
        watchlist.items
    ]);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
                sx: {
                    display: "flex",
                    gap: 1
                },
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Typography, {
                        sx: {
                            fontSize: 14,
                            color: "grey.300"
                        },
                        children: [
                            data.length,
                            " ",
                            data.length === 1 ? "entity" : "entities",
                            " found"
                        ]
                    }),
                    originalConflicts > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Typography, {
                                sx: {
                                    fontSize: 14,
                                    color: "grey.300"
                                },
                                children: "|"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Typography, {
                                onClick: ()=>{
                                    var _ref_current;
                                    const el = (_ref_current = ref.current) === null || _ref_current === void 0 ? void 0 : _ref_current.querySelector(".conflicts");
                                    el === null || el === void 0 ? void 0 : el.scrollIntoView({
                                        behavior: "smooth",
                                        block: "start"
                                    });
                                },
                                sx: {
                                    cursor: "pointer",
                                    fontSize: 14,
                                    color: "error.light",
                                    display: "flex",
                                    alignItems: "center"
                                },
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_icons.InfoOutlined, {
                                        sx: {
                                            fontSize: 14,
                                            mr: 0.5
                                        }
                                    }),
                                    originalConflicts,
                                    " conflict",
                                    originalConflicts === 1 ? "" : "s"
                                ]
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Box, {
                sx: {
                    mt: 2
                },
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
                            ref: ref,
                            id: WATCHLIST_MODAL_SCROLLABLE_ID,
                            sx: (theme)=>_object_spread({
                                    height: "calc(450px)",
                                    overflowY: "auto"
                                }, theme.scrollbarStyles),
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_WatchlistUploadDataSection.WatchlistUploadDataSection, {
                                    labels: [
                                        "match",
                                        "matches"
                                    ],
                                    onSortChange: ()=>{
                                        var _ref_current;
                                        return (_ref_current = ref.current) === null || _ref_current === void 0 ? void 0 : _ref_current.scrollTo(0, scroll.current);
                                    },
                                    data: data,
                                    setData: setData,
                                    watchlist: watchlist,
                                    excludeIds: excludeIds
                                }),
                                conflicts.filter((item)=>!item.isDeleted).length ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Box, {
                                            sx: {
                                                pb: 6
                                            }
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_WatchlistUploadDataSection.WatchlistUploadDataSection, {
                                            labels: [
                                                "conflict",
                                                "conflicts"
                                            ],
                                            labelClassName: "conflicts",
                                            onSortChange: ()=>{
                                                var _ref_current;
                                                return (_ref_current = ref.current) === null || _ref_current === void 0 ? void 0 : _ref_current.scrollTo(0, scroll.current);
                                            },
                                            data: conflicts,
                                            setData: setConflicts,
                                            watchlist: watchlist,
                                            excludeIds: excludeIds
                                        })
                                    ]
                                }) : null
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
                            sx: {
                                display: "flex",
                                justifyContent: "flex-end",
                                mt: 2,
                                gap: 2
                            },
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Button, {
                                    onClick: onClose,
                                    variant: "text",
                                    color: "inherit",
                                    "data-testid": "dialog-close-button",
                                    children: "Cancel"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Button, {
                                    role: "form-submit",
                                    onClick: ()=>{
                                        onSubmit(toAdd.map((i)=>i.data).filter(_utils.isDefined), {
                                            conflicts: {
                                                deleted: conflicts.filter((i)=>i.isDeleted).length,
                                                resolved: conflicts.filter((i)=>!i.isConflict && !i.isDeleted).length,
                                                unresolved: conflicts.filter((i)=>i.isConflict && !i.isDeleted).length
                                            },
                                            matched: {
                                                deleted: data.filter((i)=>i.isDeleted).length,
                                                modified: data.filter((i)=>i.isModified && !i.isDeleted).length,
                                                unmodified: data.filter((i)=>!i.isModified && !i.isDeleted).length
                                            }
                                        });
                                    },
                                    autoFocus: true,
                                    variant: "contained",
                                    type: "submit",
                                    children: toAdd.length === 0 ? "Done" : `Add ${toAdd.length} ${toAdd.length === 1 ? "entity" : "entities"}`
                                })
                            ]
                        })
                    ]
                })
            })
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL3dhdGNobGlzdHMvc3JjL2xpYi9XYXRjaGxpc3RVcGxvYWRNb2RhbC9XYXRjaGxpc3RVcGxvYWREYXRhLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgV2F0Y2hsaXN0IH0gZnJvbSBcIkBycC9jb21tb24vYXBpLXR5cGVzXCJcbmltcG9ydCB7IGlzRGVmaW5lZCB9IGZyb20gXCJAcnAvY29tbW9uL3V0aWxzXCJcbmltcG9ydCB7IFdhdGNobGlzdEJhdGNoU3VnZ2VzdGlvblBvc3RSZXNwb25zZUV4dGVuZGVkIH0gZnJvbSBcIkBycC9yZWFjdC90YW5zdGFjay1hcGkvc3VnZ2VzdGlvblwiXG5pbXBvcnQgeyBCb3gsIEJ1dHRvbiwgVHlwb2dyYXBoeSB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL211aS9jb3JlXCJcbmltcG9ydCB7IEluZm9PdXRsaW5lZCB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL211aS9pY29uc1wiXG5pbXBvcnQgeyBSb3dJdGVtIH0gZnJvbSBcIi4vV2F0Y2hsaXN0VXBsb2FkQ29sdW1uc1wiXG5pbXBvcnQgeyBXYXRjaGxpc3RVcGxvYWREYXRhU2VjdGlvbiB9IGZyb20gXCIuL1dhdGNobGlzdFVwbG9hZERhdGFTZWN0aW9uXCJcbmltcG9ydCB7IE9uU3VibWl0IH0gZnJvbSBcIi4vV2F0Y2hsaXN0VXBsb2FkTW9kYWxDb250YWluZXJcIlxuXG50eXBlIFByb3BzID0ge1xuICBkYXRhOiBXYXRjaGxpc3RCYXRjaFN1Z2dlc3Rpb25Qb3N0UmVzcG9uc2VFeHRlbmRlZFxuICBvbkNsb3NlOiAoKSA9PiB2b2lkXG4gIG9uU3VibWl0OiBPblN1Ym1pdFxuICB3YXRjaGxpc3Q6IFdhdGNobGlzdFxufVxuXG5leHBvcnQgY29uc3QgV0FUQ0hMSVNUX01PREFMX1NDUk9MTEFCTEVfSUQgPSBcIndhdGNobGlzdC1tb2RhbC1zY3JvbGxhYmxlXCJcblxuZXhwb3J0IGNvbnN0IGV4dGVuZEl0ZW1zID0gKFxuICBkYXRhOiBXYXRjaGxpc3RCYXRjaFN1Z2dlc3Rpb25Qb3N0UmVzcG9uc2VFeHRlbmRlZFtcImVudGl0aWVzXCJdLFxuICB3YXRjaGxpc3Q6IFdhdGNobGlzdCxcbik6IEFycmF5PFJvd0l0ZW1bXCJkYXRhXCJdPiA9PiB7XG4gIHJldHVybiBkYXRhLm1hcChpdGVtID0+ICh7XG4gICAgLi4uaXRlbSxcbiAgICBpc0luV2F0Y2hsaXN0OiB3YXRjaGxpc3QuaXRlbXMuaW5jbHVkZXMoaXRlbS5kYXRhPy5rZXkgPz8gXCJcIiksXG4gIH0pKVxufVxuXG5leHBvcnQgY29uc3QgV2F0Y2hsaXN0VXBsb2FkRGF0YSA9ICh7IGRhdGE6IHJhd0RhdGEsIG9uQ2xvc2UsIHdhdGNobGlzdCwgb25TdWJtaXQgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBzY3JvbGwgPSB1c2VSZWYoMClcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGU8QXJyYXk8Um93SXRlbVtcImRhdGFcIl0+PihcbiAgICBleHRlbmRJdGVtcyhcbiAgICAgIHJhd0RhdGEuZW50aXRpZXMuZmlsdGVyKGRhdGEgPT4gIWRhdGEuaXNDb25mbGljdCksXG4gICAgICB3YXRjaGxpc3QsXG4gICAgKSxcbiAgKVxuICBjb25zdCBbY29uZmxpY3RzLCBzZXRDb25mbGljdHNdID0gdXNlU3RhdGU8QXJyYXk8Um93SXRlbVtcImRhdGFcIl0+PihcbiAgICBleHRlbmRJdGVtcyhcbiAgICAgIHJhd0RhdGEuZW50aXRpZXMuZmlsdGVyKGRhdGEgPT4gZGF0YS5pc0NvbmZsaWN0KSxcbiAgICAgIHdhdGNobGlzdCxcbiAgICApLFxuICApXG5cbiAgY29uc3Qgb3JpZ2luYWxDb25mbGljdHMgPSByYXdEYXRhLmVudGl0aWVzLmZpbHRlcihpID0+IGkuaXNDb25mbGljdCkubGVuZ3RoXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50ID0gcmVmLmN1cnJlbnRcbiAgICBpZiAoIWN1cnJlbnQpIHJldHVyblxuICAgIGN1cnJlbnQ/LnNjcm9sbFRvKDAsIDApXG4gICAgY29uc3QgaGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHNjcm9sbC5jdXJyZW50ID0gcmVmLmN1cnJlbnQ/LnNjcm9sbFRvcCA/PyAwXG4gICAgfVxuICAgIGN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVyKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlcilcbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IHRvQWRkID0gW1xuICAgIC4uLmRhdGEuZmlsdGVyKGkgPT4gIWkuaXNJbldhdGNobGlzdCAmJiAhaS5pc0RlbGV0ZWQpLFxuICAgIC4uLmNvbmZsaWN0cy5maWx0ZXIoaSA9PiAhaS5pc0NvbmZsaWN0ICYmICFpLmlzSW5XYXRjaGxpc3QgJiYgIWkuaXNEZWxldGVkKSxcbiAgXVxuXG4gIGNvbnN0IGV4Y2x1ZGVJZHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgLi4ud2F0Y2hsaXN0Lml0ZW1zLFxuICAgICAgLi4uZGF0YS5maWx0ZXIoaSA9PiAhaS5pc0RlbGV0ZWQpLm1hcChpID0+IGkuZGF0YT8ua2V5ID8/IFwiXCIpLFxuICAgICAgLi4uY29uZmxpY3RzLmZpbHRlcihpID0+ICFpLmlzRGVsZXRlZCkubWFwKGkgPT4gaS5kYXRhPy5rZXkgPz8gXCJcIiksXG4gICAgXVxuICB9LCBbY29uZmxpY3RzLCBkYXRhLCB3YXRjaGxpc3QuaXRlbXNdKVxuXG4gIHJldHVybiAoXG4gICAgPEJveD5cbiAgICAgIDxCb3ggc3g9e3sgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogMSB9fT5cbiAgICAgICAgPFR5cG9ncmFwaHkgc3g9e3sgZm9udFNpemU6IDE0LCBjb2xvcjogXCJncmV5LjMwMFwiIH19PlxuICAgICAgICAgIHtkYXRhLmxlbmd0aH0ge2RhdGEubGVuZ3RoID09PSAxID8gXCJlbnRpdHlcIiA6IFwiZW50aXRpZXNcIn0gZm91bmRcbiAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICB7b3JpZ2luYWxDb25mbGljdHMgPiAwICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3g9e3sgZm9udFNpemU6IDE0LCBjb2xvcjogXCJncmV5LjMwMFwiIH19Pnw8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICA8VHlwb2dyYXBoeVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWwgPSByZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcihcIi5jb25mbGljdHNcIilcbiAgICAgICAgICAgICAgICBlbD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiwgYmxvY2s6IFwic3RhcnRcIiB9KVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImVycm9yLmxpZ2h0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEluZm9PdXRsaW5lZCBzeD17eyBmb250U2l6ZTogMTQsIG1yOiAwLjUgfX0gLz5cbiAgICAgICAgICAgICAge29yaWdpbmFsQ29uZmxpY3RzfSBjb25mbGljdHtvcmlnaW5hbENvbmZsaWN0cyA9PT0gMSA/IFwiXCIgOiBcInNcIn1cbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgIDwvQm94PlxuICAgICAgPEJveCBzeD17eyBtdDogMiB9fT5cbiAgICAgICAgPEJveD5cbiAgICAgICAgICA8Qm94XG4gICAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgICAgIGlkPXtXQVRDSExJU1RfTU9EQUxfU0NST0xMQUJMRV9JRH1cbiAgICAgICAgICAgIHN4PXt0aGVtZSA9PiAoe1xuICAgICAgICAgICAgICBoZWlnaHQ6IFwiY2FsYyg0NTBweClcIixcbiAgICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgLi4udGhlbWUuc2Nyb2xsYmFyU3R5bGVzLFxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFdhdGNobGlzdFVwbG9hZERhdGFTZWN0aW9uXG4gICAgICAgICAgICAgIGxhYmVscz17W1wibWF0Y2hcIiwgXCJtYXRjaGVzXCJdfVxuICAgICAgICAgICAgICBvblNvcnRDaGFuZ2U9eygpID0+IHJlZi5jdXJyZW50Py5zY3JvbGxUbygwLCBzY3JvbGwuY3VycmVudCl9XG4gICAgICAgICAgICAgIGRhdGE9e2RhdGF9XG4gICAgICAgICAgICAgIHNldERhdGE9e3NldERhdGF9XG4gICAgICAgICAgICAgIHdhdGNobGlzdD17d2F0Y2hsaXN0fVxuICAgICAgICAgICAgICBleGNsdWRlSWRzPXtleGNsdWRlSWRzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtjb25mbGljdHMuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uaXNEZWxldGVkKS5sZW5ndGggPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPEJveCBzeD17eyBwYjogNiB9fSAvPlxuICAgICAgICAgICAgICAgIDxXYXRjaGxpc3RVcGxvYWREYXRhU2VjdGlvblxuICAgICAgICAgICAgICAgICAgbGFiZWxzPXtbXCJjb25mbGljdFwiLCBcImNvbmZsaWN0c1wiXX1cbiAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3NOYW1lPVwiY29uZmxpY3RzXCJcbiAgICAgICAgICAgICAgICAgIG9uU29ydENoYW5nZT17KCkgPT4gcmVmLmN1cnJlbnQ/LnNjcm9sbFRvKDAsIHNjcm9sbC5jdXJyZW50KX1cbiAgICAgICAgICAgICAgICAgIGRhdGE9e2NvbmZsaWN0c31cbiAgICAgICAgICAgICAgICAgIHNldERhdGE9e3NldENvbmZsaWN0c31cbiAgICAgICAgICAgICAgICAgIHdhdGNobGlzdD17d2F0Y2hsaXN0fVxuICAgICAgICAgICAgICAgICAgZXhjbHVkZUlkcz17ZXhjbHVkZUlkc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDwvQm94PlxuICAgICAgICAgIDxCb3ggc3g9e3sgZGlzcGxheTogXCJmbGV4XCIsIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCIsIG10OiAyLCBnYXA6IDIgfX0+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJkaWFsb2ctY2xvc2UtYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgcm9sZT1cImZvcm0tc3VibWl0XCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uU3VibWl0KHRvQWRkLm1hcChpID0+IGkuZGF0YSkuZmlsdGVyKGlzRGVmaW5lZCksIHtcbiAgICAgICAgICAgICAgICAgIGNvbmZsaWN0czoge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVkOiBjb25mbGljdHMuZmlsdGVyKGkgPT4gaS5pc0RlbGV0ZWQpLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQ6IGNvbmZsaWN0cy5maWx0ZXIoaSA9PiAhaS5pc0NvbmZsaWN0ICYmICFpLmlzRGVsZXRlZCkubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICB1bnJlc29sdmVkOiBjb25mbGljdHMuZmlsdGVyKGkgPT4gaS5pc0NvbmZsaWN0ICYmICFpLmlzRGVsZXRlZCkubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIG1hdGNoZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlZDogZGF0YS5maWx0ZXIoaSA9PiBpLmlzRGVsZXRlZCkubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZDogZGF0YS5maWx0ZXIoaSA9PiBpLmlzTW9kaWZpZWQgJiYgIWkuaXNEZWxldGVkKS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHVubW9kaWZpZWQ6IGRhdGEuZmlsdGVyKGkgPT4gIWkuaXNNb2RpZmllZCAmJiAhaS5pc0RlbGV0ZWQpLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RvQWRkLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gXCJEb25lXCJcbiAgICAgICAgICAgICAgICA6IGBBZGQgJHt0b0FkZC5sZW5ndGh9ICR7dG9BZGQubGVuZ3RoID09PSAxID8gXCJlbnRpdHlcIiA6IFwiZW50aXRpZXNcIn1gfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgIDwvQm94PlxuICAgICAgPC9Cb3g+XG4gICAgPC9Cb3g+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJXQVRDSExJU1RfTU9EQUxfU0NST0xMQUJMRV9JRCIsIldhdGNobGlzdFVwbG9hZERhdGEiLCJleHRlbmRJdGVtcyIsImRhdGEiLCJ3YXRjaGxpc3QiLCJtYXAiLCJpdGVtIiwiaXNJbldhdGNobGlzdCIsIml0ZW1zIiwiaW5jbHVkZXMiLCJrZXkiLCJyYXdEYXRhIiwib25DbG9zZSIsIm9uU3VibWl0IiwicmVmIiwidXNlUmVmIiwic2Nyb2xsIiwic2V0RGF0YSIsInVzZVN0YXRlIiwiZW50aXRpZXMiLCJmaWx0ZXIiLCJpc0NvbmZsaWN0IiwiY29uZmxpY3RzIiwic2V0Q29uZmxpY3RzIiwib3JpZ2luYWxDb25mbGljdHMiLCJpIiwibGVuZ3RoIiwidXNlRWZmZWN0IiwiY3VycmVudCIsInNjcm9sbFRvIiwiaGFuZGxlciIsInNjcm9sbFRvcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidG9BZGQiLCJpc0RlbGV0ZWQiLCJleGNsdWRlSWRzIiwidXNlTWVtbyIsIkJveCIsInN4IiwiZGlzcGxheSIsImdhcCIsIlR5cG9ncmFwaHkiLCJmb250U2l6ZSIsImNvbG9yIiwib25DbGljayIsImVsIiwicXVlcnlTZWxlY3RvciIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJibG9jayIsImN1cnNvciIsImFsaWduSXRlbXMiLCJJbmZvT3V0bGluZWQiLCJtciIsIm10IiwiaWQiLCJ0aGVtZSIsImhlaWdodCIsIm92ZXJmbG93WSIsInNjcm9sbGJhclN0eWxlcyIsIldhdGNobGlzdFVwbG9hZERhdGFTZWN0aW9uIiwibGFiZWxzIiwib25Tb3J0Q2hhbmdlIiwicGIiLCJsYWJlbENsYXNzTmFtZSIsImp1c3RpZnlDb250ZW50IiwiQnV0dG9uIiwidmFyaWFudCIsImRhdGEtdGVzdGlkIiwicm9sZSIsImlzRGVmaW5lZCIsImRlbGV0ZWQiLCJyZXNvbHZlZCIsInVucmVzb2x2ZWQiLCJtYXRjaGVkIiwibW9kaWZpZWQiLCJpc01vZGlmaWVkIiwidW5tb2RpZmllZCIsImF1dG9Gb2N1cyIsInR5cGUiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBaUJhQSw2QkFBNkI7ZUFBN0JBOztJQVlBQyxtQkFBbUI7ZUFBbkJBOztJQVZBQyxXQUFXO2VBQVhBOzs7O3VCQW5Cd0M7dUJBRTNCO3NCQUVjO3VCQUNYOzRDQUVjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVwQyxNQUFNRixnQ0FBZ0M7QUFFdEMsTUFBTUUsY0FBYyxDQUN6QkMsTUFDQUM7SUFFQSxPQUFPRCxLQUFLRSxHQUFHLENBQUNDLENBQUFBO1lBRTBCQTtZQUFBQTtlQUZqQix3Q0FDcEJBO1lBQ0hDLGVBQWVILFVBQVVJLEtBQUssQ0FBQ0MsUUFBUSxDQUFDSCxDQUFBQSxrQkFBQUEsYUFBQUEsS0FBS0gsSUFBSSxjQUFURyxpQ0FBQUEsV0FBV0ksR0FBRyxjQUFkSiw0QkFBQUEsaUJBQWtCOztJQUM1RDtBQUNGO0FBRU8sTUFBTUwsc0JBQXNCLENBQUMsRUFBRUUsTUFBTVEsT0FBTyxFQUFFQyxPQUFPLEVB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