ed622dd0e6c58ddddbf82bfed3093a39
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "toggleSourceSelectionFuncV2", {
    enumerable: true,
    get: function() {
        return toggleSourceSelectionFuncV2;
    }
});
function toggleSourceSelectionFuncV2({ e, selectedSources, setSelectedSources, allAutosuggestSources, hasReachedMaxSelection, showMaxSelectionErrorToast, planComparisonHandleOpen }) {
    const id = e.currentTarget.getAttribute("data-id");
    const entitled = e.currentTarget.getAttribute("data-entitled") === "true";
    if (!entitled) {
        planComparisonHandleOpen();
        return;
    }
    if (!id) return;
    if (hasReachedMaxSelection) {
        showMaxSelectionErrorToast();
        return;
    }
    const idx = selectedSources.findIndex((source)=>source.id === id);
    // removing source
    if (idx !== -1) {
        setSelectedSources((selectedSources)=>[
                ...selectedSources.slice(0, idx),
                ...selectedSources.slice(idx + 1)
            ]);
        return;
    }
    // adding source
    const newSource = allAutosuggestSources.find((autosuggestSource)=>autosuggestSource.id === id);
    if (!newSource) return;
    const newSourceSelection = {
        id,
        name: newSource.name,
        categoryID: newSource.category
    };
    setSelectedSources((selectedSources)=>[
            newSourceSelection,
            ...selectedSources
        ].sort((a, b)=>a.name.localeCompare(b.name)));
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL3NvdXJjZS1zZWxlY3Rvci9zcmMvdXRpbHMvdG9nZ2xlU291cmNlU2VsZWN0aW9uRnVuY1YyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNldFN0YXRlQWN0aW9uIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IEF1dG9zdWdnZXN0U291cmNlIH0gZnJvbSBcIkBycC9yZWFjdC90YW5zdGFjay1hcGkvY29udGVudFwiXG5pbXBvcnQgeyBTb3VyY2VTZWxlY3RvclNlbGVjdGVkU291cmNlSW5mb1YyIH0gZnJvbSBcIi4uL3NvdXJjZVNlbGVjdG9yLnR5cGVzXCJcblxudHlwZSBUb2dnbGVTb3VyY2VTZWxlY3Rpb25GdW5jUHJvcHMgPSB7XG4gIGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+XG4gIGFsbEF1dG9zdWdnZXN0U291cmNlczogQXJyYXk8QXV0b3N1Z2dlc3RTb3VyY2U+XG4gIHNlbGVjdGVkU291cmNlczogQXJyYXk8U291cmNlU2VsZWN0b3JTZWxlY3RlZFNvdXJjZUluZm9WMj5cbiAgc2V0U2VsZWN0ZWRTb3VyY2VzOiAodmFsdWU6IFNldFN0YXRlQWN0aW9uPEFycmF5PFNvdXJjZVNlbGVjdG9yU2VsZWN0ZWRTb3VyY2VJbmZvVjI+PikgPT4gdm9pZFxuICBoYXNSZWFjaGVkTWF4U2VsZWN0aW9uOiBib29sZWFuXG4gIHNob3dNYXhTZWxlY3Rpb25FcnJvclRvYXN0OiAoKSA9PiB2b2lkXG4gIHBsYW5Db21wYXJpc29uSGFuZGxlT3BlbjogKCkgPT4gdm9pZFxufVxuXG5mdW5jdGlvbiB0b2dnbGVTb3VyY2VTZWxlY3Rpb25GdW5jVjIoe1xuICBlLFxuICBzZWxlY3RlZFNvdXJjZXMsXG4gIHNldFNlbGVjdGVkU291cmNlcyxcbiAgYWxsQXV0b3N1Z2dlc3RTb3VyY2VzLFxuICBoYXNSZWFjaGVkTWF4U2VsZWN0aW9uLFxuICBzaG93TWF4U2VsZWN0aW9uRXJyb3JUb2FzdCxcbiAgcGxhbkNvbXBhcmlzb25IYW5kbGVPcGVuLFxufTogVG9nZ2xlU291cmNlU2VsZWN0aW9uRnVuY1Byb3BzKTogdm9pZCB7XG4gIGNvbnN0IGlkID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIilcbiAgY29uc3QgZW50aXRsZWQgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbnRpdGxlZFwiKSA9PT0gXCJ0cnVlXCJcblxuICBpZiAoIWVudGl0bGVkKSB7XG4gICAgcGxhbkNvbXBhcmlzb25IYW5kbGVPcGVuKClcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmICghaWQpIHJldHVyblxuXG4gIGlmIChoYXNSZWFjaGVkTWF4U2VsZWN0aW9uKSB7XG4gICAgc2hvd01heFNlbGVjdGlvbkVycm9yVG9hc3QoKVxuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgaWR4ID0gc2VsZWN0ZWRTb3VyY2VzLmZpbmRJbmRleChzb3VyY2UgPT4gc291cmNlLmlkID09PSBpZClcblxuICAvLyByZW1vdmluZyBzb3VyY2VcblxuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIHNldFNlbGVjdGVkU291cmNlcyhzZWxlY3RlZFNvdXJjZXMgPT4gW1xuICAgICAgLi4uc2VsZWN0ZWRTb3VyY2VzLnNsaWNlKDAsIGlkeCksXG4gICAgICAuLi5zZWxlY3RlZFNvdXJjZXMuc2xpY2UoaWR4ICsgMSksXG4gICAgXSlcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIGFkZGluZyBzb3VyY2VcblxuICBjb25zdCBuZXdTb3VyY2UgPSBhbGxBdXRvc3VnZ2VzdFNvdXJjZXMuZmluZChhdXRvc3VnZ2VzdFNvdXJjZSA9PiBhdXRvc3VnZ2VzdFNvdXJjZS5pZCA9PT0gaWQpXG5cbiAgaWYgKCFuZXdTb3VyY2UpIHJldHVyblxuXG4gIGNvbnN0IG5ld1NvdXJjZVNlbGVjdGlvbjogU291cmNlU2VsZWN0b3JTZWxlY3RlZFNvdXJjZUluZm9WMiA9IHtcbiAgICBpZCxcbiAgICBuYW1lOiBuZXdTb3VyY2UubmFtZSxcbiAgICBjYXRlZ29yeUlEOiBuZXdTb3VyY2UuY2F0ZWdvcnksXG4gIH1cblxuICBzZXRTZWxlY3RlZFNvdXJjZXMoc2VsZWN0ZWRTb3VyY2VzID0+XG4gICAgW25ld1NvdXJjZVNlbGVjdGlvbiwgLi4uc2VsZWN0ZWRTb3VyY2VzXS5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKSxcbiAgKVxufVxuXG5leHBvcnQgeyB0b2dnbGVTb3VyY2VTZWxlY3Rpb25GdW5jVjIgfVxuIl0sIm5hbWVzIjpbInRvZ2dsZVNvdXJjZVNlbGVjdGlvbkZ1bmNWMiIsImUiLCJzZWxlY3RlZFNvdXJjZXMiLCJzZXRTZWxlY3RlZFNvdXJjZXMiLCJhbGxBdXRvc3VnZ2VzdFNvdXJjZXMiLCJoYXNSZWFjaGVkTWF4U2VsZWN0aW9uIiwic2hvd01heFNlbGVjdGlvbkVycm9yVG9hc3QiLCJwbGFuQ29tcGFyaXNvbkhhbmRsZU9wZW4iLCJpZCIsImN1cnJlbnRUYXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJlbnRpdGxlZCIsImlkeCIsImZpbmRJbmRleCIsInNvdXJjZSIsInNsaWNlIiwibmV3U291cmNlIiwiZmluZCIsImF1dG9zdWdnZXN0U291cmNlIiwibmV3U291cmNlU2VsZWN0aW9uIiwibmFtZSIsImNhdGVnb3J5SUQiLCJjYXRlZ29yeSIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkFtRVNBOzs7ZUFBQUE7OztBQXJEVCxTQUFTQSw0QkFBNEIsRUFDbkNDLENBQUMsRUFDREMsZUFBZSxFQUNmQyxrQkFBa0IsRUFDbEJDLHFCQUFxQixFQUNyQkMsc0JBQXNCLEVBQ3RCQywwQkFBMEIsRUFDMUJDLHdCQUF3QixFQUNPO0lBQy9CLE1BQU1DLEtBQUtQLEVBQUVRLGFBQWEsQ0FBQ0MsWUFBWSxDQUFDO0lBQ3hDLE1BQU1DLFdBQVdWLEVBQUVRLGFBQWEsQ0FBQ0MsWUFBWSxDQUFDLHFCQUFxQjtJQUVuRSxJQUFJLENBQUNDLFVBQVU7UUFDYko7UUFDQTtJQUNGO0lBRUEsSUFBSSxDQUFDQyxJQUFJO0lBRVQsSUFBSUgsd0JBQXdCO1FBQzFCQztRQUNBO0lBQ0Y7SUFFQSxNQUFNTSxNQUFNVixnQkFBZ0JXLFNBQVMsQ0FBQ0MsQ0FBQUEsU0FBVUEsT0FBT04sRUFBRSxLQUFLQTtJQUU5RCxrQkFBa0I7SUFFbEIsSUFBSUksUUFBUSxDQUFDLEdBQUc7UUFDZFQsbUJBQW1CRCxDQUFBQSxrQkFBbUI7bUJBQ2pDQSxnQkFBZ0JhLEtBQUssQ0FBQyxHQUFHSDttQkFDekJWLGdCQUFnQmEsS0FBSyxDQUFDSCxNQUFNO2FBQ2hDO1FBQ0Q7SUFDRjtJQUVBLGdCQUFnQjtJQUVoQixNQUFNSSxZQUFZWixzQkFBc0JhLElBQUksQ0FBQ0MsQ0FBQUEsb0JBQXFCQSxrQkFBa0JWLEVBQUUsS0FBS0E7SUFFM0YsSUFBSSxDQUFDUSxXQUFXO0lBRWhCLE1BQU1HLHFCQUF5RDtRQUM3RFg7UUFDQVksTUFBTUosVUFBVUksSUFBSTtRQUNwQkMsWUFBWUwsVUFBVU0sUUFBUTtJQUNoQztJQUVBbkIsbUJBQW1CRCxDQUFBQSxrQkFDakI7WUFBQ2lCO2VBQXVCakI7U0FBZ0IsQ0FBQ3FCLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNRCxFQUFFSixJQUFJLENBQUNNLGFBQWEsQ0FBQ0QsRUFBRUwsSUFBSTtBQUV2RiJ9