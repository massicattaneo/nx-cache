{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/components/Hub/Watchlists/UserWatchlists/UserWatchlists.tsx"],"sourcesContent":["import { useMemo } from \"react\"\nimport { useAllWatchlists } from \"@rp/react/tanstack-api/watchlist\"\nimport { LoadingSpinner } from \"@rp/react/web/common/base-components\"\nimport { HubSortableHeadCell, HubTableRow } from \"@rp/react/web/common/composite-components\"\nimport { InfiniteList } from \"@rp/react/web/common/composite-components\"\nimport { usePageWithListSorter } from \"@rp/react/web/common/hooks\"\nimport { Box } from \"@rp/react/web/mui/core\"\nimport { EmptyWatchlists } from \"../EmptyWatchlists\"\nimport { NewWatchlistButtonContainer } from \"../NewWatchlistButtonContainer\"\nimport { UserWatchlistItem } from \"./UserWatchlistItem\"\n\nconst COLUMNS_WIDTH = [\"calc(100% - 472px)\", \"150px\", \"250px\"]\nconst SORT_OPTIONS = [\n  { label: \"Name\", value: \"name\" },\n  { label: \"Last Activity\", value: \"lastInteracted\" },\n]\n\nconst UserWatchlists = () => {\n  const { isLoading: isLoadingWatchlists, data: results = [] } = useAllWatchlists(\"user\")\n  const { sorterFn, sortBy, direction, onChange } = usePageWithListSorter(\"userWatchlists\")\n  const filteredResults = useMemo(() => results.sort(sorterFn), [results, sorterFn])\n\n  if (isLoadingWatchlists) return <LoadingSpinner />\n  if (!isLoadingWatchlists && filteredResults.length === 0) {\n    return (\n      <NewWatchlistButtonContainer>\n        <EmptyWatchlists />\n      </NewWatchlistButtonContainer>\n    )\n  }\n\n  return (\n    <NewWatchlistButtonContainer>\n      <Box sx={{ width: 1, mt: 1 }}>\n        <HubTableRow\n          sx={{ backgroundColor: \"transparent\", height: 35 }}\n          columnsWidth={COLUMNS_WIDTH}\n          columns={[\n            {\n              node: (\n                <HubSortableHeadCell\n                  label=\"NAME\"\n                  value=\"name\"\n                  onChange={onChange}\n                  sortBy={sortBy}\n                  direction={direction}\n                  sortOptions={SORT_OPTIONS}\n                />\n              ),\n            },\n            {\n              node: (\n                <HubSortableHeadCell\n                  label=\"LAST ACTIVITY\"\n                  value=\"lastInteracted\"\n                  onChange={onChange}\n                  sortBy={sortBy}\n                  direction={direction}\n                  sortOptions={SORT_OPTIONS}\n                  defaultDirection=\"desc\"\n                />\n              ),\n            },\n            { node: <>&nbsp;</> },\n          ]}\n        />\n        <InfiniteList\n          rootMargin={\"0px 0px 300px 0px\"}\n          initialElements={20}\n          items={filteredResults}\n          renderItem={item => <UserWatchlistItem item={item} columnsWidth={COLUMNS_WIDTH} />}\n        />\n      </Box>\n    </NewWatchlistButtonContainer>\n  )\n}\n\nexport { UserWatchlists }\n"],"names":["UserWatchlists","COLUMNS_WIDTH","SORT_OPTIONS","label","value","isLoading","isLoadingWatchlists","data","results","useAllWatchlists","sorterFn","sortBy","direction","onChange","usePageWithListSorter","filteredResults","useMemo","sort","LoadingSpinner","length","NewWatchlistButtonContainer","EmptyWatchlists","Box","sx","width","mt","HubTableRow","backgroundColor","height","columnsWidth","columns","node","HubSortableHeadCell","sortOptions","defaultDirection","InfiniteList","rootMargin","initialElements","items","renderItem","item","UserWatchlistItem"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA6ESA;;;eAAAA;;;;uBA7Ee;2BACS;gCACF;qCACkB;uBAEX;sBAClB;iCACY;6CACY;mCACV;AAElC,MAAMC,gBAAgB;IAAC;IAAsB;IAAS;CAAQ;AAC9D,MAAMC,eAAe;IACnB;QAAEC,OAAO;QAAQC,OAAO;IAAO;IAC/B;QAAED,OAAO;QAAiBC,OAAO;IAAiB;CACnD;AAED,MAAMJ,iBAAiB;IACrB,MAAM,EAAEK,WAAWC,mBAAmB,EAAEC,MAAMC,UAAU,EAAE,EAAE,GAAGC,IAAAA,2BAAgB,EAAC;IAChF,MAAM,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,4BAAqB,EAAC;IACxE,MAAMC,kBAAkBC,IAAAA,cAAO,EAAC,IAAMR,QAAQS,IAAI,CAACP,WAAW;QAACF;QAASE;KAAS;IAEjF,IAAIJ,qBAAqB,qBAAO,qBAACY,8BAAc;IAC/C,IAAI,CAACZ,uBAAuBS,gBAAgBI,MAAM,KAAK,GAAG;QACxD,qBACE,qBAACC,wDAA2B;sBAC1B,cAAA,qBAACC,gCAAe;;IAGtB;IAEA,qBACE,qBAACD,wDAA2B;kBAC1B,cAAA,sBAACE,SAAG;YAACC,IAAI;gBAAEC,OAAO;gBAAGC,IAAI;YAAE;;8BACzB,qBAACC,gCAAW;oBACVH,IAAI;wBAAEI,iBAAiB;wBAAeC,QAAQ;oBAAG;oBACjDC,cAAc5B;oBACd6B,SAAS;wBACP;4BACEC,oBACE,qBAACC,wCAAmB;gCAClB7B,OAAM;gCACNC,OAAM;gCACNS,UAAUA;gCACVF,QAAQA;gCACRC,WAAWA;gCACXqB,aAAa/B;;wBAGnB;wBACA;4BACE6B,oBACE,qBAACC,wCAAmB;gCAClB7B,OAAM;gCACNC,OAAM;gCACNS,UAAUA;gCACVF,QAAQA;gCACRC,WAAWA;gCACXqB,aAAa/B;gCACbgC,kBAAiB;;wBAGvB;wBACA;4BAAEH,oBAAM;0CAAE;;wBAAU;qBACrB;;8BAEH,qBAACI,iCAAY;oBACXC,YAAY;oBACZC,iBAAiB;oBACjBC,OAAOvB;oBACPwB,YAAYC,CAAAA,qBAAQ,qBAACC,oCAAiB;4BAACD,MAAMA;4BAAMX,cAAc5B;;;;;;AAK3E"}