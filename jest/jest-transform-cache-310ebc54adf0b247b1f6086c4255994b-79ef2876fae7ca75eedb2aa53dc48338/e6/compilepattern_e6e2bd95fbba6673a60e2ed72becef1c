d192bc6ba79edb12c5825d6b735a46c2
/**
 * @typedef {import('../types.js').CompilePattern} CompilePattern
 */ /**
 * @type {CompilePattern}
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "compilePattern", {
    enumerable: true,
    get: function() {
        return compilePattern;
    }
});
function compilePattern(pattern) {
    if (!pattern._compiled) {
        const before = (pattern.atBreak ? '[\\r\\n][\\t ]*' : '') + (pattern.before ? '(?:' + pattern.before + ')' : '');
        pattern._compiled = new RegExp((before ? '(' + before + ')' : '') + (/[|\\{}()[\]^$+*?.-]/.test(pattern.character) ? '\\' : '') + pattern.character + (pattern.after ? '(?:' + pattern.after + ')' : ''), 'g');
    }
    return pattern._compiled;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9tZGFzdC11dGlsLXRvLW1hcmtkb3duL2xpYi91dGlsL2NvbXBpbGUtcGF0dGVybi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3R5cGVzLmpzJykuQ29tcGlsZVBhdHRlcm59IENvbXBpbGVQYXR0ZXJuXG4gKi9cblxuLyoqXG4gKiBAdHlwZSB7Q29tcGlsZVBhdHRlcm59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21waWxlUGF0dGVybihwYXR0ZXJuKSB7XG4gIGlmICghcGF0dGVybi5fY29tcGlsZWQpIHtcbiAgICBjb25zdCBiZWZvcmUgPVxuICAgICAgKHBhdHRlcm4uYXRCcmVhayA/ICdbXFxcXHJcXFxcbl1bXFxcXHQgXSonIDogJycpICtcbiAgICAgIChwYXR0ZXJuLmJlZm9yZSA/ICcoPzonICsgcGF0dGVybi5iZWZvcmUgKyAnKScgOiAnJylcblxuICAgIHBhdHRlcm4uX2NvbXBpbGVkID0gbmV3IFJlZ0V4cChcbiAgICAgIChiZWZvcmUgPyAnKCcgKyBiZWZvcmUgKyAnKScgOiAnJykgK1xuICAgICAgICAoL1t8XFxcXHt9KClbXFxdXiQrKj8uLV0vLnRlc3QocGF0dGVybi5jaGFyYWN0ZXIpID8gJ1xcXFwnIDogJycpICtcbiAgICAgICAgcGF0dGVybi5jaGFyYWN0ZXIgK1xuICAgICAgICAocGF0dGVybi5hZnRlciA/ICcoPzonICsgcGF0dGVybi5hZnRlciArICcpJyA6ICcnKSxcbiAgICAgICdnJ1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXR0ZXJuLl9jb21waWxlZFxufVxuIl0sIm5hbWVzIjpbImNvbXBpbGVQYXR0ZXJuIiwicGF0dGVybiIsIl9jb21waWxlZCIsImJlZm9yZSIsImF0QnJlYWsiLCJSZWdFeHAiLCJ0ZXN0IiwiY2hhcmFjdGVyIiwiYWZ0ZXIiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiJBQUFBOztDQUVDLEdBRUQ7O0NBRUM7Ozs7K0JBQ2VBOzs7ZUFBQUE7OztBQUFULFNBQVNBLGVBQWVDLE9BQU87SUFDcEMsSUFBSSxDQUFDQSxRQUFRQyxTQUFTLEVBQUU7UUFDdEIsTUFBTUMsU0FDSixBQUFDRixDQUFBQSxRQUFRRyxPQUFPLEdBQUcsb0JBQW9CLEVBQUMsSUFDdkNILENBQUFBLFFBQVFFLE1BQU0sR0FBRyxRQUFRRixRQUFRRSxNQUFNLEdBQUcsTUFBTSxFQUFDO1FBRXBERixRQUFRQyxTQUFTLEdBQUcsSUFBSUcsT0FDdEIsQUFBQ0YsQ0FBQUEsU0FBUyxNQUFNQSxTQUFTLE1BQU0sRUFBQyxJQUM3QixDQUFBLHNCQUFzQkcsSUFBSSxDQUFDTCxRQUFRTSxTQUFTLElBQUksT0FBTyxFQUFDLElBQ3pETixRQUFRTSxTQUFTLEdBQ2hCTixDQUFBQSxRQUFRTyxLQUFLLEdBQUcsUUFBUVAsUUFBUU8sS0FBSyxHQUFHLE1BQU0sRUFBQyxHQUNsRDtJQUVKO0lBRUEsT0FBT1AsUUFBUUMsU0FBUztBQUMxQiJ9