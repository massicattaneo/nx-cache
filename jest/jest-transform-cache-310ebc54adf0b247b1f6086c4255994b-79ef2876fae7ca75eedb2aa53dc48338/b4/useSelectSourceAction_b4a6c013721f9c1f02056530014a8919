53f0dd3f27d0fd068a41c8a9ff1ce246
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useSelectSourceAction", {
    enumerable: true,
    get: function() {
        return useSelectSourceAction;
    }
});
const _react = require("react");
const _launchdarklyreactclientsdk = require("launchdarkly-react-client-sdk");
const _hooks = require("@rp/react/web/common/hooks");
const _providers = require("@rp/react/web/common/providers");
function useSelectSourceAction({ defaultAction, initialState, applyCallback }) {
    const { webFeEnableSourceSelectorModal } = (0, _launchdarklyreactclientsdk.useFlags)();
    const enableSourceSelectorModal = (0, _hooks.getlocalOverrideFlags)("webFeEnableSourceSelectorModal", webFeEnableSourceSelectorModal);
    const { selectSourceModal: { handleOpen: openSelectSourceModal, handleClose: closeSelectSourceModal } } = (0, _providers.useModal)();
    const handleAction = (0, _react.useCallback)(()=>{
        if (enableSourceSelectorModal) {
            openSelectSourceModal({
                initialState,
                applyCallback: (sourceSelectionSubmission)=>{
                    applyCallback(sourceSelectionSubmission);
                    closeSelectSourceModal();
                }
            });
        } else {
            defaultAction();
        }
    }, [
        enableSourceSelectorModal,
        openSelectSourceModal,
        initialState,
        applyCallback,
        closeSelectSourceModal,
        defaultAction
    ]);
    return handleAction;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL3NvdXJjZS1zZWxlY3Rvci9zcmMvaG9va3MvdXNlU2VsZWN0U291cmNlQWN0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZUZsYWdzIH0gZnJvbSBcImxhdW5jaGRhcmtseS1yZWFjdC1jbGllbnQtc2RrXCJcbmltcG9ydCB7IFNvdXJjZVNlbGVjdG9yU3VibWlzc2lvbiB9IGZyb20gXCJAcnAvcmVhY3QvdGFuc3RhY2stYXBpL2ZpbGVcIlxuaW1wb3J0IHsgZ2V0bG9jYWxPdmVycmlkZUZsYWdzIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2hvb2tzXCJcbmltcG9ydCB7IHVzZU1vZGFsIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL3Byb3ZpZGVyc1wiXG5pbXBvcnQgeyBTb3VyY2VTZWxlY3RvckZlYXR1cmVGbGFncyB9IGZyb20gXCIuLi9zb3VyY2VTZWxlY3Rvci50eXBlc1wiXG5cbnR5cGUgVXNlU2VsZWN0U291cmNlQWN0aW9uUHJvcHMgPSB7XG4gIGRlZmF1bHRBY3Rpb246ICgpID0+IHZvaWRcbiAgaW5pdGlhbFN0YXRlPzogU291cmNlU2VsZWN0b3JTdWJtaXNzaW9uXG4gIGFwcGx5Q2FsbGJhY2s6IChzb3VyY2VTZWxlY3Rpb25TdWJtaXNzaW9uOiBTb3VyY2VTZWxlY3RvclN1Ym1pc3Npb24pID0+IHZvaWRcbn1cblxuZnVuY3Rpb24gdXNlU2VsZWN0U291cmNlQWN0aW9uKHtcbiAgZGVmYXVsdEFjdGlvbixcbiAgaW5pdGlhbFN0YXRlLFxuICBhcHBseUNhbGxiYWNrLFxufTogVXNlU2VsZWN0U291cmNlQWN0aW9uUHJvcHMpIHtcbiAgY29uc3QgeyB3ZWJGZUVuYWJsZVNvdXJjZVNlbGVjdG9yTW9kYWwgfSA9IHVzZUZsYWdzPFNvdXJjZVNlbGVjdG9yRmVhdHVyZUZsYWdzPigpXG5cbiAgY29uc3QgZW5hYmxlU291cmNlU2VsZWN0b3JNb2RhbCA9IGdldGxvY2FsT3ZlcnJpZGVGbGFncyhcbiAgICBcIndlYkZlRW5hYmxlU291cmNlU2VsZWN0b3JNb2RhbFwiLFxuICAgIHdlYkZlRW5hYmxlU291cmNlU2VsZWN0b3JNb2RhbCxcbiAgKVxuXG4gIGNvbnN0IHtcbiAgICBzZWxlY3RTb3VyY2VNb2RhbDogeyBoYW5kbGVPcGVuOiBvcGVuU2VsZWN0U291cmNlTW9kYWwsIGhhbmRsZUNsb3NlOiBjbG9zZVNlbGVjdFNvdXJjZU1vZGFsIH0sXG4gIH0gPSB1c2VNb2RhbCgpXG5cbiAgY29uc3QgaGFuZGxlQWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChlbmFibGVTb3VyY2VTZWxlY3Rvck1vZGFsKSB7XG4gICAgICBvcGVuU2VsZWN0U291cmNlTW9kYWwoe1xuICAgICAgICBpbml0aWFsU3RhdGUsXG4gICAgICAgIGFwcGx5Q2FsbGJhY2s6IChzb3VyY2VTZWxlY3Rpb25TdWJtaXNzaW9uOiBTb3VyY2VTZWxlY3RvclN1Ym1pc3Npb24pID0+IHtcbiAgICAgICAgICBhcHBseUNhbGxiYWNrKHNvdXJjZVNlbGVjdGlvblN1Ym1pc3Npb24pXG4gICAgICAgICAgY2xvc2VTZWxlY3RTb3VyY2VNb2RhbCgpXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWZhdWx0QWN0aW9uKClcbiAgICB9XG4gIH0sIFtcbiAgICBlbmFibGVTb3VyY2VTZWxlY3Rvck1vZGFsLFxuICAgIG9wZW5TZWxlY3RTb3VyY2VNb2RhbCxcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgYXBwbHlDYWxsYmFjayxcbiAgICBjbG9zZVNlbGVjdFNvdXJjZU1vZGFsLFxuICAgIGRlZmF1bHRBY3Rpb24sXG4gIF0pXG5cbiAgcmV0dXJuIGhhbmRsZUFjdGlvblxufVxuXG5leHBvcnQgeyB1c2VTZWxlY3RTb3VyY2VBY3Rpb24gfVxuZXhwb3J0IHR5cGUgeyBVc2VTZWxlY3RTb3VyY2VBY3Rpb25Qcm9wcyB9XG4iXSwibmFtZXMiOlsidXNlU2VsZWN0U291cmNlQWN0aW9uIiwiZGVmYXVsdEFjdGlvbiIsImluaXRpYWxTdGF0ZSIsImFwcGx5Q2FsbGJhY2siLCJ3ZWJGZUVuYWJsZVNvdXJjZVNlbGVjdG9yTW9kYWwiLCJ1c2VGbGFncyIsImVuYWJsZVNvdXJjZVNlbGVjdG9yTW9kYWwiLCJnZXRsb2NhbE92ZXJyaWRlRmxhZ3MiLCJzZWxlY3RTb3VyY2VNb2RhbCIsImhhbmRsZU9wZW4iLCJvcGVuU2VsZWN0U291cmNlTW9kYWwiLCJoYW5kbGVDbG9zZSIsImNsb3NlU2VsZWN0U291cmNlTW9kYWwiLCJ1c2VNb2RhbCIsImhhbmRsZUFjdGlvbiIsInVzZUNhbGxiYWNrIiwic291cmNlU2VsZWN0aW9uU3VibWlzc2lvbiJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBcURTQTs7O2VBQUFBOzs7dUJBckRtQjs0Q0FDSDt1QkFFYTsyQkFDYjtBQVN6QixTQUFTQSxzQkFBc0IsRUFDN0JDLGFBQWEsRUFDYkMsWUFBWSxFQUNaQyxhQUFhLEVBQ2M7SUFDM0IsTUFBTSxFQUFFQyw4QkFBOEIsRUFBRSxHQUFHQyxJQUFBQSxvQ0FBUTtJQUVuRCxNQUFNQyw0QkFBNEJDLElBQUFBLDRCQUFxQixFQUNyRCxrQ0FDQUg7SUFHRixNQUFNLEVBQ0pJLG1CQUFtQixFQUFFQyxZQUFZQyxxQkFBcUIsRUFBRUMsYUFBYUMsc0JBQXNCLEVBQUUsRUFDOUYsR0FBR0MsSUFBQUEsbUJBQVE7SUFFWixNQUFNQyxlQUFlQyxJQUFBQSxrQkFBVyxFQUFDO1FBQy9CLElBQUlULDJCQUEyQjtZQUM3Qkksc0JBQXNCO2dCQUNwQlI7Z0JBQ0FDLGVBQWUsQ0FBQ2E7b0JBQ2RiLGNBQWNhO29CQUNkSjtnQkFDRjtZQUNGO1FBQ0YsT0FBTztZQUNMWDtRQUNGO0lBQ0YsR0FBRztRQUNESztRQUNBSTtRQUNBUjtRQUNBQztRQUNBUztRQUNBWDtLQUNEO0lBRUQsT0FBT2E7QUFDVCJ9