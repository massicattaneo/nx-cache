{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/pages/Brief/BriefCreateOrEditSuccess/BriefCreateOrEditSuccess.test.tsx"],"sourcesContent":["import useLocation from \"react-use/lib/useLocation\"\nimport { renderWithProviders } from \"@rp/react/web/common/tools\"\nimport { fireEvent, screen } from \"@testing-library/react\"\nimport { BriefCreateOrEditSuccess } from \"./BriefCreateOrEditSuccess\"\n\nconst mockNavigate = jest.fn()\n\njest.mock(\"react-router-dom\", () => ({\n  ...jest.requireActual(\"react-router-dom\"),\n  useNavigate: () => mockNavigate,\n}))\n\nconst mockUseLocation = useLocation as jest.Mock\njest.mock(\"react-use/lib/useLocation\")\n\nbeforeEach(jest.clearAllMocks)\n\ndescribe(\"BriefSuccess\", () => {\n  describe(\"isEdit\", () => {\n    const isEdit = true\n\n    describe(\"rendering\", () => {\n      beforeEach(() => {\n        renderWithProviders(<BriefCreateOrEditSuccess isEdit={isEdit} />)\n      })\n\n      it(\"should have header\", () => {\n        expect(screen.getByText(\"Edit Brief\")).toBeInTheDocument()\n      })\n\n      it(\"should have title\", () => {\n        expect(screen.getByText(\"Edit a Brief\")).toBeInTheDocument()\n      })\n\n      it(\"should have Back button\", () => {\n        expect(screen.getByRole(\"button\", { name: \"back\" })).toBeInTheDocument()\n      })\n\n      it(\"should have Go Back button\", () => {\n        expect(screen.getByRole(\"button\", { name: \"Go Back\" })).toBeInTheDocument()\n      })\n    })\n  })\n\n  describe(\"!isEdit\", () => {\n    const isEdit = false\n\n    describe(\"rendering\", () => {\n      beforeEach(() => {\n        renderWithProviders(<BriefCreateOrEditSuccess isEdit={isEdit} />)\n      })\n\n      it(\"should have header\", () => {\n        expect(screen.getByText(\"New Brief\")).toBeInTheDocument()\n      })\n\n      it(\"should have title\", () => {\n        expect(screen.getByText(\"Schedule a Brief\")).toBeInTheDocument()\n      })\n\n      it(\"should have Back button\", () => {\n        expect(screen.getByRole(\"button\", { name: \"back\" })).toBeInTheDocument()\n      })\n\n      it(\"should have Go Back button\", () => {\n        expect(screen.getByRole(\"button\", { name: \"Go Back\" })).toBeInTheDocument()\n      })\n    })\n  })\n\n  describe(\"functionality\", () => {\n    describe(\"create from brief page\", () => {\n      describe(\"back button\", () => {\n        beforeEach(() => {\n          renderWithProviders(<BriefCreateOrEditSuccess />)\n\n          fireEvent.click(screen.getByRole(\"button\", { name: \"back\" }))\n        })\n\n        it(\"should call navigate with the correct params\", () => {\n          expect(mockNavigate).toHaveBeenCalledTimes(1)\n          expect(mockNavigate).toHaveBeenCalledWith(\"/brief\", { replace: true })\n        })\n      })\n\n      describe(\"home button\", () => {\n        beforeEach(() => {\n          renderWithProviders(<BriefCreateOrEditSuccess />)\n\n          fireEvent.click(screen.getByRole(\"button\", { name: \"Go Back\" }))\n        })\n\n        it(\"should call navigate with the correct params\", () => {\n          expect(mockNavigate).toHaveBeenCalledTimes(1)\n          expect(mockNavigate).toHaveBeenCalledWith(\"/brief\", { replace: true })\n        })\n      })\n    })\n\n    describe(\"create from watchlist page\", () => {\n      beforeAll(() => {\n        mockUseLocation.mockReturnValue({\n          state: { usr: { initialWatchlistId: \"mock-watchlist-id-123\" } },\n        })\n      })\n\n      describe(\"back button\", () => {\n        beforeEach(() => {\n          renderWithProviders(<BriefCreateOrEditSuccess />)\n\n          fireEvent.click(screen.getByRole(\"button\", { name: \"back\" }))\n        })\n\n        it(\"should call navigate with the correct params\", () => {\n          expect(mockNavigate).toHaveBeenCalledTimes(1)\n          expect(mockNavigate).toHaveBeenCalledWith(\"/watchlists/mock-watchlist-id-123\", {\n            replace: true,\n          })\n        })\n      })\n\n      describe(\"home button\", () => {\n        beforeEach(() => {\n          renderWithProviders(<BriefCreateOrEditSuccess />)\n\n          fireEvent.click(screen.getByRole(\"button\", { name: \"Go Back\" }))\n        })\n\n        it(\"should call navigate with the correct params\", () => {\n          expect(mockNavigate).toHaveBeenCalledTimes(1)\n          expect(mockNavigate).toHaveBeenCalledWith(\"/watchlists/mock-watchlist-id-123\", {\n            replace: true,\n          })\n        })\n      })\n    })\n  })\n})\n"],"names":["jest","mock","requireActual","useNavigate","mockNavigate","fn","mockUseLocation","useLocation","beforeEach","clearAllMocks","describe","isEdit","renderWithProviders","BriefCreateOrEditSuccess","it","expect","screen","getByText","toBeInTheDocument","getByRole","name","fireEvent","click","toHaveBeenCalledTimes","toHaveBeenCalledWith","replace","beforeAll","mockReturnValue","state","usr","initialWatchlistId"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}