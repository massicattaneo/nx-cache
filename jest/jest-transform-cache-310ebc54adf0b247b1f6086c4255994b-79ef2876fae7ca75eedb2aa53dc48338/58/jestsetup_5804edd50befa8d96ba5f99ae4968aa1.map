{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/jest.setup.js"],"sourcesContent":["/// <reference path=\"./jest.d.ts\" />\n// jest-dom adds custom jest matchers for asserting on DOM nodes.\n// allows you to do things like:\n// expect(element).toHaveTextContent(/react/i)\n// learn more: https://github.com/testing-library/jest-dom\nimport i18next from \"i18next\"\nimport { initReactI18next } from \"react-i18next\"\nimport { i18nConstants as constants } from \"./libs/react/common/internationalization/src/lib/internationalization.ts\"\nimport adminPanel from \"./libs/react/common/internationalization/src/lib/locales/en/adminPanel.json\"\nimport agentChatPage from \"./libs/react/common/internationalization/src/lib/locales/en/agentChatPage.json\"\nimport apiErrors from \"./libs/react/common/internationalization/src/lib/locales/en/apiErrors.json\"\nimport briefsPage from \"./libs/react/common/internationalization/src/lib/locales/en/briefs.json\"\nimport chatPage from \"./libs/react/common/internationalization/src/lib/locales/en/chatPage.json\"\nimport chatsPage from \"./libs/react/common/internationalization/src/lib/locales/en/chatsPage.json\"\nimport clerk from \"./libs/react/common/internationalization/src/lib/locales/en/clerk.json\"\nimport common from \"./libs/react/common/internationalization/src/lib/locales/en/common.json\"\nimport errors from \"./libs/react/common/internationalization/src/lib/locales/en/errors.json\"\nimport feedbackPage from \"./libs/react/common/internationalization/src/lib/locales/en/feedbackPage.json\"\nimport filePage from \"./libs/react/common/internationalization/src/lib/locales/en/filePage.json\"\nimport landingPage from \"./libs/react/common/internationalization/src/lib/locales/en/landingPage.json\"\nimport loginPage from \"./libs/react/common/internationalization/src/lib/locales/en/loginPage.json\"\nimport loginSSOPage from \"./libs/react/common/internationalization/src/lib/locales/en/loginSSOPage.json\"\nimport maintenance from \"./libs/react/common/internationalization/src/lib/locales/en/maintenance.json\"\nimport missingRequirements from \"./libs/react/common/internationalization/src/lib/locales/en/missingRequirements.json\"\nimport modals from \"./libs/react/common/internationalization/src/lib/locales/en/modals.json\"\nimport noAccessPage from \"./libs/react/common/internationalization/src/lib/locales/en/noAccess.json\"\nimport onboardingPage from \"./libs/react/common/internationalization/src/lib/locales/en/onboardingPage.json\"\nimport playgroundSearchPage from \"./libs/react/common/internationalization/src/lib/locales/en/playgroundSearchPage.json\"\nimport products from \"./libs/react/common/internationalization/src/lib/locales/en/products.json\"\nimport resetPasswordPage from \"./libs/react/common/internationalization/src/lib/locales/en/resetPassword.json\"\nimport setUpAccount from \"./libs/react/common/internationalization/src/lib/locales/en/setUpAccount.json\"\nimport settingsPage from \"./libs/react/common/internationalization/src/lib/locales/en/settings.json\"\nimport signUpPage from \"./libs/react/common/internationalization/src/lib/locales/en/signUpPage.json\"\nimport tabMenu from \"./libs/react/common/internationalization/src/lib/locales/en/tabMenu.json\"\nimport updateRequired from \"./libs/react/common/internationalization/src/lib/locales/en/updateRequired.json\"\nimport version from \"./libs/react/common/internationalization/src/lib/locales/en/version.json\"\nimport watchlistPage from \"./libs/react/common/internationalization/src/lib/locales/en/watchlistPage.json\"\n\nconst { preview } = require(\"./tools/jestPreviewPlugin/preview.js\")\nObject.assign(global, { preview })\n\nrequire(\"@testing-library/jest-dom\")\nconst { configure } = require(\"@testing-library/react\")\nrequire(\"jest-fail-on-console\")()\n\nconfigure({ asyncUtilTimeout: Number(process.env[\"NX_PUBLIC_JEST_TIMEOUT\"]) })\n\njest.retryTimes(Number(process.env[\"NX_PUBLIC_JEST_RETRY_TIMES\"]), { logErrorsBeforeRetry: false })\njest.setTimeout(Number(process.env[\"NX_PUBLIC_JEST_TIMEOUT\"]))\n\nconst mockUser = {\n  id: \"ownerId\",\n  primaryEmailAddress: { emailAddress: \"test@test.com\" },\n  firstName: \"Test\",\n  lastName: \"User\",\n  username: \"testuser\",\n  profileImageUrl: \"\",\n  createdAt: new Date(),\n  emailAddresses: [{ emailAddress: \"test@test.com\" }],\n  organizationMemberships: [{ organization: { name: \"Organization\" } }],\n  publicMetadata: { ap: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10] },\n}\n\njest.mock(\"@clerk/clerk-react\", () => ({\n  useAuth: jest.fn(() => ({})),\n  useSignUp: jest.fn(() => ({})),\n  useSignIn: jest.fn(() => ({})),\n  ClerkProvider: jest.fn(({ children }) => children),\n  OrganizationProfile: () => <div>ORG_TAB</div>,\n  UserProfile: () => <div>USER_TAB</div>,\n  useSession: () => ({ session: {} }),\n  useClerk: jest.fn(() => ({ user: mockUser, loaded: true })),\n  useOrganizationList: jest.fn(() => ({})),\n  useOrganization: jest.fn(() => ({\n    isLoaded: true,\n    organization: { id: \"organizationId\", name: \"Organization\" },\n  })),\n  useUser: jest.fn(() => ({\n    isLoaded: true,\n    isSignedIn: true,\n    user: mockUser,\n  })),\n}))\n\n// `matchMedia` not present, legacy browsers require a polyfill\n// This error occurred in WidgetCarousel test\nglobal.matchMedia =\n  global.matchMedia ||\n  function matchMediaFix() {\n    return {\n      matches: false,\n      addEventListener() {},\n      removeEventListener() {},\n    }\n  }\n\nglobal.__DEV__ = true\n\nglobal.HTMLElement.prototype.scroll = jest.fn()\n\nglobal.IntersectionObserver = jest.fn(() => ({\n  root: null,\n  rootMargin: \"\",\n  thresholds: [],\n  disconnect: jest.fn(),\n  takeRecords: jest.fn(),\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n}))\nglobal.ResizeObserver = class ResizeObserver {\n  observe() {}\n  unobserve() {}\n  disconnect() {}\n}\n\nglobal.scroll = jest.fn()\nglobal.scrollTo = jest.fn()\n\nglobal.console = {\n  log: console.log,\n  error: console.error,\n  warn: console.warn,\n  info: console.info,\n  debug: jest.fn(),\n}\n\ni18next.use(initReactI18next).init({\n  lng: \"en\",\n  resources: {\n    en: {\n      translation: {\n        constants,\n        chatPage,\n        clerk,\n        errors,\n        landingPage,\n        modals,\n        loginPage,\n        signUpPage,\n        tabMenu,\n        common,\n        version,\n        filePage,\n        chatsPage,\n        feedbackPage,\n        settingsPage,\n        resetPasswordPage,\n        setUpAccount,\n        maintenance,\n        products,\n        updateRequired,\n        noAccessPage,\n        missingRequirements,\n        onboardingPage,\n        adminPanel,\n        apiErrors,\n        watchlistPage,\n        loginSSOPage,\n        briefsPage,\n        agentChatPage,\n        playgroundSearchPage,\n      },\n    },\n  },\n})\n\n// Mock LaunchDarklyProvider to avoid real SDK/network in tests\njest.mock(\n  \"./libs/react/web/common/providers/src/LaunchDarklyProvider/LaunchDarklyProvider\",\n  () => ({\n    LaunchDarklyProvider: ({ children }) => children,\n  }),\n)\n"],"names":["jest","mock","useAuth","fn","useSignUp","useSignIn","ClerkProvider","children","OrganizationProfile","div","UserProfile","useSession","session","useClerk","user","mockUser","loaded","useOrganizationList","useOrganization","isLoaded","organization","id","name","useUser","isSignedIn","LaunchDarklyProvider","preview","require","Object","assign","global","configure","asyncUtilTimeout","Number","process","env","retryTimes","logErrorsBeforeRetry","setTimeout","primaryEmailAddress","emailAddress","firstName","lastName","username","profileImageUrl","createdAt","Date","emailAddresses","organizationMemberships","publicMetadata","ap","matchMedia","matchMediaFix","matches","addEventListener","removeEventListener","__DEV__","HTMLElement","prototype","scroll","IntersectionObserver","root","rootMargin","thresholds","disconnect","takeRecords","observe","unobserve","ResizeObserver","scrollTo","console","log","error","warn","info","debug","i18next","use","initReactI18next","init","lng","resources","en","translation","constants","chatPage","clerk","errors","landingPage","modals","loginPage","signUpPage","tabMenu","common","version","filePage","chatsPage","feedbackPage","settingsPage","resetPasswordPage","setUpAccount","maintenance","products","updateRequired","noAccessPage","missingRequirements","onboardingPage","adminPanel","apiErrors","watchlistPage","loginSSOPage","briefsPage","agentChatPage","playgroundSearchPage"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}