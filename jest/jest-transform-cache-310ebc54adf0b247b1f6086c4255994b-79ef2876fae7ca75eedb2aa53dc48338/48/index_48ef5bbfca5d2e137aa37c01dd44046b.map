{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/common/zod-contracts/watchlists/src/index.ts"],"sourcesContent":["import z from \"zod\"\n\nexport const watchlistSaveImageInputSchema = z.object({\n  id: z.string(),\n  image: z.union([z.boolean(), z.null()]).optional(),\n  avatar: z.union([z.boolean(), z.null()]).optional(),\n})\n\nexport const watchlistSaveImageOutputSchema = z.object({ url: z.string(), key: z.string() })\n\nconst expectedPlaceholders = [\"company\", \"watchlist\"]\n\nexport const watchlistGlobalMotivationValidator = z.string().refine(\n  val => {\n    const matches = [...val.matchAll(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g)].map(m => m[1])\n    const hasAll = expectedPlaceholders.every(ph => matches.includes(ph))\n    const onlyExpected = matches.every(ph => expectedPlaceholders.includes(ph))\n    return hasAll && onlyExpected\n  },\n  {\n    message: \"String must include exactly {{company}} and {{watchlist}} placeholders.\",\n  },\n)\n"],"names":["watchlistGlobalMotivationValidator","watchlistSaveImageInputSchema","watchlistSaveImageOutputSchema","z","object","id","string","image","union","boolean","null","optional","avatar","url","key","expectedPlaceholders","refine","val","matches","matchAll","map","m","hasAll","every","ph","includes","onlyExpected","message"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAYaA,kCAAkC;eAAlCA;;IAVAC,6BAA6B;eAA7BA;;IAMAC,8BAA8B;eAA9BA;;;4DARC;;;;;;AAEP,MAAMD,gCAAgCE,YAAC,CAACC,MAAM,CAAC;IACpDC,IAAIF,YAAC,CAACG,MAAM;IACZC,OAAOJ,YAAC,CAACK,KAAK,CAAC;QAACL,YAAC,CAACM,OAAO;QAAIN,YAAC,CAACO,IAAI;KAAG,EAAEC,QAAQ;IAChDC,QAAQT,YAAC,CAACK,KAAK,CAAC;QAACL,YAAC,CAACM,OAAO;QAAIN,YAAC,CAACO,IAAI;KAAG,EAAEC,QAAQ;AACnD;AAEO,MAAMT,iCAAiCC,YAAC,CAACC,MAAM,CAAC;IAAES,KAAKV,YAAC,CAACG,MAAM;IAAIQ,KAAKX,YAAC,CAACG,MAAM;AAAG;AAE1F,MAAMS,uBAAuB;IAAC;IAAW;CAAY;AAE9C,MAAMf,qCAAqCG,YAAC,CAACG,MAAM,GAAGU,MAAM,CACjEC,CAAAA;IACE,MAAMC,UAAU;WAAID,IAAIE,QAAQ,CAAC;KAAwB,CAACC,GAAG,CAACC,CAAAA,IAAKA,CAAC,CAAC,EAAE;IACvE,MAAMC,SAASP,qBAAqBQ,KAAK,CAACC,CAAAA,KAAMN,QAAQO,QAAQ,CAACD;IACjE,MAAME,eAAeR,QAAQK,KAAK,CAACC,CAAAA,KAAMT,qBAAqBU,QAAQ,CAACD;IACvE,OAAOF,UAAUI;AACnB,GACA;IACEC,SAAS;AACX"}