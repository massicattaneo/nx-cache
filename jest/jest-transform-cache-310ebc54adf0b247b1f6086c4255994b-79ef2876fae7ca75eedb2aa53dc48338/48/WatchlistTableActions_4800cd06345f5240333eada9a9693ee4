f14b81e17a3dad0f8a88d0bc4fe761df
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    WatchlistTableDesktopActions: function() {
        return WatchlistTableDesktopActions;
    },
    WatchlistTableMobilesActions: function() {
        return WatchlistTableMobilesActions;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _reactrouterdom = require("react-router-dom");
const _clerkreact = require("@clerk/clerk-react");
const _providers = require("@rp/react/common/providers");
const _basecomponents = require("@rp/react/web/common/base-components");
const _core = require("@rp/react/web/mui/core");
const _router = require("@rp/react/web/router");
const _watchlists = require("@rp/react/web/watchlists");
function EditButton({ onClick }) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Box, {
        component: "nav",
        className: "hover-action",
        sx: {
            "& button": {
                height: 30,
                fontSize: 12,
                letterSpacing: 1,
                opacity: 0,
                mr: 1
            }
        },
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Button, {
            onClick: (event)=>{
                event.stopPropagation();
                onClick();
            },
            variant: "text-outlined",
            sx: {
                mr: 1,
                fontSize: "12px",
                padding: "4px 10px"
            },
            children: "Edit Watchlist"
        })
    });
}
function ChatButton({ onClick, icon }) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_basecomponents.RPTooltip, {
        title: "Chat",
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.IconButton, {
            onClick: (ev)=>{
                ev.stopPropagation();
                ev.preventDefault();
                onClick(ev);
            },
            children: icon
        })
    });
}
const WatchlistTableDesktopActions = ({ item, actions, openMenu, setOpenMenu })=>{
    const navigate = (0, _reactrouterdom.useNavigate)();
    const { user } = (0, _clerkreact.useUser)();
    // TODO: If we could split the chat functionality we could
    // move it inside the the ChatButton since it only depends
    // only on the watchlist id.
    const { chat } = (0, _watchlists.useWatchlistsActions)();
    const { hasEntitlement } = (0, _providers.useAccount)();
    const isOwner = (user === null || user === void 0 ? void 0 : user.id) === item.ownerUserId;
    const hasWritePermission = item.shared.company.permission === "write";
    const canEdit = isOwner || hasWritePermission;
    const canChat = hasEntitlement("chat:watchlist");
    const handleEditClick = ()=>{
        navigate((0, _reactrouterdom.generatePath)(_router.WATCHLIST_EDIT, {
            id: item.id
        }), {
            state: {
                comingFrom: "watchlists"
            }
        });
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
        sx: {
            display: "flex",
            justifyContent: "right",
            alignItems: "center"
        },
        children: [
            canEdit ? /*#__PURE__*/ (0, _jsxruntime.jsx)(EditButton, {
                onClick: handleEditClick
            }) : null,
            canChat ? /*#__PURE__*/ (0, _jsxruntime.jsx)(ChatButton, {
                onClick: ()=>chat.onClick(item),
                icon: chat.icon
            }) : null,
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_basecomponents.ActionsMenu, {
                open: openMenu,
                setOpen: setOpenMenu,
                actions: actions,
                item: item
            })
        ]
    });
};
const WatchlistTableMobilesActions = ({ item, actions })=>{
    const [open, setOpen] = (0, _react.useState)(false);
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Box, {
        sx: {
            display: "flex",
            justifyContent: "right",
            alignItems: "center"
        },
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_basecomponents.ActionsMenu, {
            open: open,
            setOpen: setOpen,
            actions: actions,
            item: item
        })
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2FwcHMvY2xpZW50LXdlYi9zcmMvYXBwL2NvbXBvbmVudHMvSHViL1dhdGNobGlzdHMvV2F0Y2hsaXN0VGFibGVBY3Rpb25zLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBnZW5lcmF0ZVBhdGgsIHVzZU5hdmlnYXRlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIlxuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gXCJAY2xlcmsvY2xlcmstcmVhY3RcIlxuaW1wb3J0IHsgV2F0Y2hsaXN0IH0gZnJvbSBcIkBycC9jb21tb24vYXBpLXR5cGVzXCJcbmltcG9ydCB7IHVzZUFjY291bnQgfSBmcm9tIFwiQHJwL3JlYWN0L2NvbW1vbi9wcm92aWRlcnNcIlxuaW1wb3J0IHsgUlBUb29sdGlwIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2Jhc2UtY29tcG9uZW50c1wiXG5pbXBvcnQgeyBBY3Rpb25zTWVudSB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi9iYXNlLWNvbXBvbmVudHNcIlxuaW1wb3J0IHsgQWN0aW9ucyB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi90eXBlc1wiXG5pbXBvcnQgeyBCb3gsIEJ1dHRvbiwgSWNvbkJ1dHRvbiB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL211aS9jb3JlXCJcbmltcG9ydCB7IFdBVENITElTVF9FRElUIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvcm91dGVyXCJcbmltcG9ydCB7IHVzZVdhdGNobGlzdHNBY3Rpb25zIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvd2F0Y2hsaXN0c1wiXG5cbmZ1bmN0aW9uIEVkaXRCdXR0b24oeyBvbkNsaWNrIH06IHsgb25DbGljazogKCkgPT4gdm9pZCB9KSB7XG4gIHJldHVybiAoXG4gICAgPEJveFxuICAgICAgY29tcG9uZW50PVwibmF2XCJcbiAgICAgIGNsYXNzTmFtZT1cImhvdmVyLWFjdGlvblwiXG4gICAgICBzeD17e1xuICAgICAgICBcIiYgYnV0dG9uXCI6IHsgaGVpZ2h0OiAzMCwgZm9udFNpemU6IDEyLCBsZXR0ZXJTcGFjaW5nOiAxLCBvcGFjaXR5OiAwLCBtcjogMSB9LFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9e2V2ZW50ID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgIG9uQ2xpY2soKVxuICAgICAgICB9fVxuICAgICAgICB2YXJpYW50PVwidGV4dC1vdXRsaW5lZFwiXG4gICAgICAgIHN4PXt7IG1yOiAxLCBmb250U2l6ZTogXCIxMnB4XCIsIHBhZGRpbmc6IFwiNHB4IDEwcHhcIiB9fVxuICAgICAgPlxuICAgICAgICBFZGl0IFdhdGNobGlzdFxuICAgICAgPC9CdXR0b24+XG4gICAgPC9Cb3g+XG4gIClcbn1cblxuZnVuY3Rpb24gQ2hhdEJ1dHRvbih7XG4gIG9uQ2xpY2ssXG4gIGljb24sXG59OiB7XG4gIG9uQ2xpY2s6IChldjogUmVhY3QuTW91c2VFdmVudDxIVE1MQnV0dG9uRWxlbWVudCwgTW91c2VFdmVudD4pID0+IHZvaWRcbiAgaWNvbjogUmVhY3QuUmVhY3ROb2RlXG59KSB7XG4gIHJldHVybiAoXG4gICAgPFJQVG9vbHRpcCB0aXRsZT17XCJDaGF0XCJ9PlxuICAgICAgPEljb25CdXR0b25cbiAgICAgICAgb25DbGljaz17ZXYgPT4ge1xuICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgIG9uQ2xpY2soZXYpXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHtpY29ufVxuICAgICAgPC9JY29uQnV0dG9uPlxuICAgIDwvUlBUb29sdGlwPlxuICApXG59XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGl0ZW06IFdhdGNobGlzdFxuICBhY3Rpb25zOiBBY3Rpb25zPFdhdGNobGlzdD5cbiAgb3Blbk1lbnU6IGJvb2xlYW5cbiAgc2V0T3Blbk1lbnU6IChvcGVuOiBib29sZWFuKSA9PiB2b2lkXG59XG5cbmNvbnN0IFdhdGNobGlzdFRhYmxlRGVza3RvcEFjdGlvbnMgPSAoeyBpdGVtLCBhY3Rpb25zLCBvcGVuTWVudSwgc2V0T3Blbk1lbnUgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpXG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlVXNlcigpXG5cbiAgLy8gVE9ETzogSWYgd2UgY291bGQgc3BsaXQgdGhlIGNoYXQgZnVuY3Rpb25hbGl0eSB3ZSBjb3VsZFxuICAvLyBtb3ZlIGl0IGluc2lkZSB0aGUgdGhlIENoYXRCdXR0b24gc2luY2UgaXQgb25seSBkZXBlbmRzXG4gIC8vIG9ubHkgb24gdGhlIHdhdGNobGlzdCBpZC5cbiAgY29uc3QgeyBjaGF0IH0gPSB1c2VXYXRjaGxpc3RzQWN0aW9ucygpXG4gIGNvbnN0IHsgaGFzRW50aXRsZW1lbnQgfSA9IHVzZUFjY291bnQoKVxuXG4gIGNvbnN0IGlzT3duZXIgPSB1c2VyPy5pZCA9PT0gaXRlbS5vd25lclVzZXJJZFxuICBjb25zdCBoYXNXcml0ZVBlcm1pc3Npb24gPSBpdGVtLnNoYXJlZC5jb21wYW55LnBlcm1pc3Npb24gPT09IFwid3JpdGVcIlxuICBjb25zdCBjYW5FZGl0ID0gaXNPd25lciB8fCBoYXNXcml0ZVBlcm1pc3Npb25cblxuICBjb25zdCBjYW5DaGF0ID0gaGFzRW50aXRsZW1lbnQoXCJjaGF0OndhdGNobGlzdFwiKVxuXG4gIGNvbnN0IGhhbmRsZUVkaXRDbGljayA9ICgpID0+IHtcbiAgICBuYXZpZ2F0ZShnZW5lcmF0ZVBhdGgoV0FUQ0hMSVNUX0VESVQsIHsgaWQ6IGl0ZW0uaWQgfSksIHsgc3RhdGU6IHsgY29taW5nRnJvbTogXCJ3YXRjaGxpc3RzXCIgfSB9KVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Qm94IHN4PXt7IGRpc3BsYXk6IFwiZmxleFwiLCBqdXN0aWZ5Q29udGVudDogXCJyaWdodFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PlxuICAgICAge2NhbkVkaXQgPyA8RWRpdEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVFZGl0Q2xpY2t9IC8+IDogbnVsbH1cbiAgICAgIHtjYW5DaGF0ID8gPENoYXRCdXR0b24gb25DbGljaz17KCkgPT4gY2hhdC5vbkNsaWNrKGl0ZW0pfSBpY29uPXtjaGF0Lmljb259IC8+IDogbnVsbH1cbiAgICAgIDxBY3Rpb25zTWVudSBvcGVuPXtvcGVuTWVudX0gc2V0T3Blbj17c2V0T3Blbk1lbnV9IGFjdGlvbnM9e2FjdGlvbnN9IGl0ZW09e2l0ZW19IC8+XG4gICAgPC9Cb3g+XG4gIClcbn1cblxuY29uc3QgV2F0Y2hsaXN0VGFibGVNb2JpbGVzQWN0aW9ucyA9ICh7IGl0ZW0sIGFjdGlvbnMgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgcmV0dXJuIChcbiAgICA8Qm94IHN4PXt7IGRpc3BsYXk6IFwiZmxleFwiLCBqdXN0aWZ5Q29udGVudDogXCJyaWdodFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PlxuICAgICAgPEFjdGlvbnNNZW51IG9wZW49e29wZW59IHNldE9wZW49e3NldE9wZW59IGFjdGlvbnM9e2FjdGlvbnN9IGl0ZW09e2l0ZW19IC8+XG4gICAgPC9Cb3g+XG4gIClcbn1cblxuZXhwb3J0IHsgV2F0Y2hsaXN0VGFibGVEZXNrdG9wQWN0aW9ucywgV2F0Y2hsaXN0VGFibGVNb2JpbGVzQWN0aW9ucyB9XG4iXSwibmFtZXMiOlsiV2F0Y2hsaXN0VGFibGVEZXNrdG9wQWN0aW9ucyIsIldhdGNobGlzdFRhYmxlTW9iaWxlc0FjdGlvbnMiLCJFZGl0QnV0dG9uIiwib25DbGljayIsIkJveCIsImNvbXBvbmVudCIsImNsYXNzTmFtZSIsInN4IiwiaGVpZ2h0IiwiZm9udFNpemUiLCJsZXR0ZXJTcGFjaW5nIiwib3BhY2l0eSIsIm1yIiwiQnV0dG9uIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJ2YXJpYW50IiwicGFkZGluZyIsIkNoYXRCdXR0b24iLCJpY29uIiwiUlBUb29sdGlwIiwidGl0bGUiLCJJY29uQnV0dG9uIiwiZXYiLCJwcmV2ZW50RGVmYXVsdCIsIml0ZW0iLCJhY3Rpb25zIiwib3Blbk1lbnUiLCJzZXRPcGVuTWVudSIsIm5hdmlnYXRlIiwidXNlTmF2aWdhdGUiLCJ1c2VyIiwidXNlVXNlciIsImNoYXQiLCJ1c2VXYXRjaGxpc3RzQWN0aW9ucyIsImhhc0VudGl0bGVtZW50IiwidXNlQWNjb3VudCIsImlzT3duZXIiLCJpZCIsIm93bmVyVXNlcklkIiwiaGFzV3JpdGVQZXJtaXNzaW9uIiwic2hhcmVkIiwiY29tcGFueSIsInBlcm1pc3Npb24iLCJjYW5FZGl0IiwiY2FuQ2hhdCIsImhhbmRsZUVkaXRDbGljayIsImdlbmVyYXRlUGF0aCIsIldBVENITElTVF9FRElUIiwic3RhdGUiLCJjb21pbmdGcm9tIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsIkFjdGlvbnNNZW51Iiwib3BlbiIsInNldE9wZW4iLCJ1c2VTdGF0ZSJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQXVHU0EsNEJBQTRCO2VBQTVCQTs7SUFBOEJDLDRCQUE0QjtlQUE1QkE7Ozs7dUJBdkdkO2dDQUNpQjs0QkFDbEI7MkJBRUc7Z0NBQ0Q7c0JBR2M7d0JBQ1Q7NEJBQ007QUFFckMsU0FBU0MsV0FBVyxFQUFFQyxPQUFPLEVBQTJCO0lBQ3RELHFCQUNFLHFCQUFDQyxTQUFHO1FBQ0ZDLFdBQVU7UUFD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