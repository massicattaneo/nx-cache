{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistsListView/PublicWatchlistsListItem.tsx"],"sourcesContent":["import { useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useUser } from \"@clerk/clerk-react\"\nimport { OrganizationMembershipResource } from \"@clerk/types\"\nimport { Watchlist } from \"@rp/common/api-types\"\nimport { formatTime } from \"@rp/common/utils\"\nimport { getWatchlistOwnerInfo } from \"@rp/react/common/watchlists\"\nimport { ActionsMenu, UserAvatar } from \"@rp/react/web/common/base-components\"\nimport { EllipsisTooltip, HubTableRow } from \"@rp/react/web/common/composite-components\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { Box } from \"@rp/react/web/mui/core\"\nimport { WATCHLIST_EDIT, WATCHLIST_ID_ROUTE } from \"@rp/react/web/router\"\nimport { useWatchlistsActions } from \"../hooks/useWatchlistsActions\"\n\ntype Props = {\n  item: Watchlist & { owner?: OrganizationMembershipResource | undefined }\n  columnsWidth: Array<string>\n}\n\nexport const PublicWatchlistsListItem = ({ item, columnsWidth }: Props) => {\n  const navigate = useNavigate()\n  const { user } = useUser()\n  const { share, copy, search, favorite } = useWatchlistsActions()\n  const { isMobile } = useDeviceInfo()\n  const [openMenu, setOpenMenu] = useState(false)\n  const actions = [share, favorite, copy, search]\n  const { displayName, name, avatar } = getWatchlistOwnerInfo(item, user)\n\n  return (\n    <HubTableRow\n      sx={{\n        \"&:hover\": { backgroundColor: \"grey.800\" },\n        gap: 0,\n        \"& > div\": { pr: 2 },\n        \"& > div:last-of-type\": { pr: 0 },\n      }}\n      selected={openMenu}\n      onRowClick={() => {\n        if (isMobile) {\n          navigate(WATCHLIST_EDIT.replace(\":id\", item.id))\n        } else {\n          navigate(WATCHLIST_ID_ROUTE.replace(\":id\", item.id))\n        }\n      }}\n      columnsWidth={columnsWidth}\n      columns={[\n        { text: item.name },\n        {\n          text: `${formatTime(item.lastUpdated)} Â· ${displayName}`,\n          node: (\n            <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n              <UserAvatar imgUrl={avatar} hasImage={!!avatar} ownerName={name} />\n              <EllipsisTooltip tooltipText={name} typographyProps={{ fontSize: 14 }}>\n                {displayName}\n              </EllipsisTooltip>\n            </Box>\n          ),\n        },\n        { text: formatTime(item.lastUpdated) },\n        {\n          node: (\n            <Box sx={{ display: \"flex\", justifyContent: \"right\", alignItems: \"center\" }}>\n              <ActionsMenu open={openMenu} setOpen={setOpenMenu} actions={actions} item={item} />\n            </Box>\n          ),\n        },\n      ]}\n    />\n  )\n}\n"],"names":["PublicWatchlistsListItem","item","columnsWidth","navigate","useNavigate","user","useUser","share","copy","search","favorite","useWatchlistsActions","isMobile","useDeviceInfo","openMenu","setOpenMenu","useState","actions","displayName","name","avatar","getWatchlistOwnerInfo","HubTableRow","sx","backgroundColor","gap","pr","selected","onRowClick","WATCHLIST_EDIT","replace","id","WATCHLIST_ID_ROUTE","columns","text","formatTime","lastUpdated","node","Box","display","alignItems","UserAvatar","imgUrl","hasImage","ownerName","EllipsisTooltip","tooltipText","typographyProps","fontSize","justifyContent","ActionsMenu","open","setOpen"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAmBaA;;;eAAAA;;;;uBAnBY;gCACG;4BACJ;uBAGG;4BACW;gCACE;qCACK;uBACf;sBACV;wBAC+B;sCACd;AAO9B,MAAMA,2BAA2B,CAAC,EAAEC,IAAI,EAAEC,YAAY,EAAS;IACpE,MAAMC,WAAWC,IAAAA,2BAAW;IAC5B,MAAM,EAAEC,IAAI,EAAE,GAAGC,IAAAA,mBAAO;IACxB,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,0CAAoB;IAC9D,MAAM,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAClC,MAAM,CAACC,UAAUC,YAAY,GAAGC,IAAAA,eAAQ,EAAC;IACzC,MAAMC,UAAU;QAACV;QAAOG;QAAUF;QAAMC;KAAO;IAC/C,MAAM,EAAES,WAAW,EAAEC,IAAI,EAAEC,MAAM,EAAE,GAAGC,IAAAA,iCAAqB,EAACpB,MAAMI;IAElE,qBACE,qBAACiB,gCAAW;QACVC,IAAI;YACF,WAAW;gBAAEC,iBAAiB;YAAW;YACzCC,KAAK;YACL,WAAW;gBAAEC,IAAI;YAAE;YACnB,wBAAwB;gBAAEA,IAAI;YAAE;QAClC;QACAC,UAAUb;QACVc,YAAY;YACV,IAAIhB,UAAU;gBACZT,SAAS0B,sBAAc,CAACC,OAAO,CAAC,OAAO7B,KAAK8B,EAAE;YAChD,OAAO;gBACL5B,SAAS6B,0BAAkB,CAACF,OAAO,CAAC,OAAO7B,KAAK8B,EAAE;YACpD;QACF;QACA7B,cAAcA;QACd+B,SAAS;YACP;gBAAEC,MAAMjC,KAAKkB,IAAI;YAAC;YAClB;gBACEe,MAAM,CAAC,EAAEC,IAAAA,iBAAU,EAAClC,KAAKmC,WAAW,EAAE,GAAG,EAAElB,YAAY,CAAC;gBACxDmB,oBACE,sBAACC,SAAG;oBAACf,IAAI;wBAAEgB,SAAS;wBAAQC,YAAY;wBAAUf,KAAK;oBAAE;;sCACvD,qBAACgB,0BAAU;4BAACC,QAAQtB;4BAAQuB,UAAU,CAAC,CAACvB;4BAAQwB,WAAWzB;;sCAC3D,qBAAC0B,oCAAe;4BAACC,aAAa3B;4BAAM4B,iBAAiB;gCAAEC,UAAU;4BAAG;sCACjE9B;;;;YAIT;YACA;gBAAEgB,MAAMC,IAAAA,iBAAU,EAAClC,KAAKmC,WAAW;YAAE;YACrC;gBACEC,oBACE,qBAACC,SAAG;oBAACf,IAAI;wBAAEgB,SAAS;wBAAQU,gBAAgB;wBAAST,YAAY;oBAAS;8BACxE,cAAA,qBAACU,2BAAW;wBAACC,MAAMrC;wBAAUsC,SAASrC;wBAAaE,SAASA;wBAAShB,MAAMA;;;YAGjF;SACD;;AAGP"}