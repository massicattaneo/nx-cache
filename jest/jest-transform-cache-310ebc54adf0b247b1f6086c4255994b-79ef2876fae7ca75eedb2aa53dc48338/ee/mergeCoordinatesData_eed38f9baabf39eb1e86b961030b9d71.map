{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/hooks/src/lib/useAgent/utils/mergeCoordinatesData.ts"],"sourcesContent":["import { GroundingCoordinates, GroundingMessage } from \"../useAgent.types\"\n\nfunction mergeCoordinatesData(\n  prevCoordinates: GroundingCoordinates | undefined,\n  grounding: GroundingMessage,\n) {\n  const coordinatesData: GroundingCoordinates = { ...prevCoordinates }\n\n  for (const reference of grounding.references) {\n    const coordinatesId = `${reference.start}-${reference.end}`\n    coordinatesData[coordinatesId] ??= {\n      type: reference.end - reference.start === 0 ? \"point\" : \"text\",\n      references: [],\n    }\n\n    coordinatesData[coordinatesId].references.push(reference)\n  }\n\n  return coordinatesData\n}\n\nexport { mergeCoordinatesData }\n"],"names":["mergeCoordinatesData","prevCoordinates","grounding","coordinatesData","reference","references","coordinatesId","start","end","type","push"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAqBSA;;;eAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAnBT,SAASA,qBACPC,eAAiD,EACjDC,SAA2B;IAE3B,MAAMC,kBAAwC,mBAAKF;IAEnD,KAAK,MAAMG,aAAaF,UAAUG,UAAU,CAAE;YAE5CF,kBAAgBG;QADhB,MAAMA,gBAAgB,CAAC,EAAEF,UAAUG,KAAK,CAAC,CAAC,EAAEH,UAAUI,GAAG,CAAC,CAAC;;QAC3DL,MAAAA,mBAAAA,gBAAe,CAACG,iBAAAA,cAAc,iCAA9BH,gBAAe,CAACG,eAAc,GAAK;YACjCG,MAAML,UAAUI,GAAG,GAAGJ,UAAUG,KAAK,KAAK,IAAI,UAAU;YACxDF,YAAY,EAAE;QAChB;QAEAF,eAAe,CAACG,cAAc,CAACD,UAAU,CAACK,IAAI,CAACN;IACjD;IAEA,OAAOD;AACT"}