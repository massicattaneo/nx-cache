{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistDataTabs/useWatchlistDataTablesSorting.ts"],"sourcesContent":["import { Dispatch, SetStateAction, useCallback, useMemo } from \"react\"\nimport { useLocalStorage } from \"@rp/react/web/common/hooks\"\nimport { SortingState } from \"@tanstack/react-table\"\n\nfunction useWatchlistDataTablesSorting(\n  dataTab: string,\n  defaultSort: SortingState,\n): [SortingState, Dispatch<SetStateAction<SortingState>>] {\n  const [allSorting, setAllSorting] = useLocalStorage<Record<string, SortingState>>(\n    \"watchlists.dataTabsSort\",\n    {},\n  )\n\n  const setSort: Dispatch<SetStateAction<SortingState>> = useCallback(\n    sort => {\n      setAllSorting(prev => {\n        const toModify = prev[dataTab] || defaultSort\n        const sorting = sort instanceof Function ? sort(toModify) : sort\n        return { ...prev, [dataTab]: sorting }\n      })\n    },\n    [dataTab, defaultSort, setAllSorting],\n  )\n\n  const sort = useMemo(() => {\n    return allSorting[dataTab] || defaultSort\n  }, [allSorting, dataTab, defaultSort])\n\n  return [sort, setSort]\n}\n\nexport { useWatchlistDataTablesSorting }\n"],"names":["useWatchlistDataTablesSorting","dataTab","defaultSort","allSorting","setAllSorting","useLocalStorage","setSort","useCallback","sort","prev","toModify","sorting","Function","useMemo"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA+BSA;;;eAAAA;;;uBA/BsD;uBAC/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGhC,SAASA,8BACPC,OAAe,EACfC,WAAyB;IAEzB,MAAM,CAACC,YAAYC,cAAc,GAAGC,IAAAA,sBAAe,EACjD,2BACA,CAAC;IAGH,MAAMC,UAAkDC,IAAAA,kBAAW,EACjEC,CAAAA;QACEJ,cAAcK,CAAAA;YACZ,MAAMC,WAAWD,IAAI,CAACR,QAAQ,IAAIC;YAClC,MAAMS,UAAUH,gBAAgBI,WAAWJ,KAAKE,YAAYF;YAC5D,OAAO,wCAAKC;gBAAM,CAACR,QAAQ,EAAEU;;QAC/B;IACF,GACA;QAACV;QAASC;QAAaE;KAAc;IAGvC,MAAMI,OAAOK,IAAAA,cAAO,EAAC;QACnB,OAAOV,UAAU,CAACF,QAAQ,IAAIC;IAChC,GAAG;QAACC;QAAYF;QAASC;KAAY;IAErC,OAAO;QAACM;QAAMF;KAAQ;AACxB"}