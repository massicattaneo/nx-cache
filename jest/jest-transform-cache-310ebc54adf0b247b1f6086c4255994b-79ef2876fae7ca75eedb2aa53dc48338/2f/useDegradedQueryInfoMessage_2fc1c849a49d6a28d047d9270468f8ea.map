{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/results-story-card/src/useDegradedQueryInfoMessage.tsx"],"sourcesContent":["import { useEffect } from \"react\"\nimport { CqsCoverage } from \"@rp/common/api-types\"\nimport { formatNumber } from \"@rp/common/utils\"\nimport { useSnackbar } from \"@rp/react/web/common/providers\"\n\nconst useDegradedQueryInfoMessage = (\n  coverage: CqsCoverage | undefined,\n  isFeedbackMode: boolean,\n) => {\n  const { enqueueInfo } = useSnackbar()\n\n  useEffect(() => {\n    if (!coverage?.coverage) return\n    if (!isFeedbackMode) return\n    if (coverage.coverage <= 75) {\n      enqueueInfo(\n        <div>\n          The coverage for this query was <strong>{coverage.coverage}%</strong>. <br />\n          We were able to scan <strong>{formatNumber(coverage.documents)}</strong> documents. <br />\n          To improve the coverage of your query please refine the scope of your search.\n        </div>,\n        { persist: true },\n      )\n    }\n  }, [coverage, enqueueInfo, isFeedbackMode])\n}\n\nexport { useDegradedQueryInfoMessage }\n"],"names":["useDegradedQueryInfoMessage","coverage","isFeedbackMode","enqueueInfo","useSnackbar","useEffect","div","strong","br","formatNumber","documents","persist"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA2BSA;;;eAAAA;;;;uBA3BiB;uBAEG;2BACD;AAE5B,MAAMA,8BAA8B,CAClCC,UACAC;IAEA,MAAM,EAAEC,WAAW,EAAE,GAAGC,IAAAA,sBAAW;IAEnCC,IAAAA,gBAAS,EAAC;QACR,IAAI,EAACJ,qBAAAA,+BAAAA,SAAUA,QAAQ,GAAE;QACzB,IAAI,CAACC,gBAAgB;QACrB,IAAID,SAASA,QAAQ,IAAI,IAAI;YAC3BE,0BACE,sBAACG;;oBAAI;kCAC6B,sBAACC;;4BAAQN,SAASA,QAAQ;4BAAC;;;oBAAU;kCAAE,qBAACO;oBAAK;kCACxD,qBAACD;kCAAQE,IAAAA,mBAAY,EAACR,SAASS,SAAS;;oBAAW;kCAAY,qBAACF;oBAAK;;gBAG5F;gBAAEG,SAAS;YAAK;QAEpB;IACF,GAAG;QAACV;QAAUE;QAAaD;KAAe;AAC5C"}