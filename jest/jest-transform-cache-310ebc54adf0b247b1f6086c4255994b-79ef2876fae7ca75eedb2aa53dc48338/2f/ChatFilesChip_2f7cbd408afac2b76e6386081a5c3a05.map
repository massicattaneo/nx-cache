{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/chat/src/lib/Chat/ChatInput/ChatInputFilters/ChatFilesChip.tsx"],"sourcesContent":["import { FileRowType, SeparatedFiles } from \"@rp/common/utils\"\nimport { useUploadFilesContext } from \"@rp/react/common/providers\"\nimport { Box } from \"@rp/react/web/mui/core\"\nimport { useChatFiles } from \"../../useChatFiles\"\nimport { CompletedFilesChip } from \"./ChatFiles/CompletedFilesChip\"\n\ntype FilesDisplayProps = {\n  filesIds: Array<string>\n  removeFiles: (ids: Array<string>) => void\n  onFileClick: (id: FileRowType) => void\n  openFilesModal: () => void\n}\n\nconst ChatFilesChip = ({ filesIds, removeFiles, openFilesModal }: FilesDisplayProps) => {\n  const { files: allFiles } = useChatFiles(filesIds)\n  const { uploading } = useUploadFilesContext()\n\n  const { completed, loading } = filesIds.reduce<SeparatedFiles>(\n    (acc, id) => {\n      const file = allFiles.find(f => f.id === id)\n      if (!file) {\n        return acc\n      }\n\n      return uploading.find(({ fileId }) => fileId === file.id)\n        ? { ...acc, loading: [...acc.loading, file] }\n        : { ...acc, completed: [...acc.completed, file] }\n    },\n    {\n      completed: [],\n      loading: [],\n    },\n  )\n\n  return (\n    <Box sx={{ display: \"flex\", gap: 1 }}>\n      {completed.length !== 0 || loading.length !== 0 ? (\n        <CompletedFilesChip\n          files={completed}\n          loadingFiles={loading}\n          onRemove={filesToRemove => {\n            removeFiles(filesToRemove)\n          }}\n          openFilesModal={openFilesModal}\n        />\n      ) : null}\n    </Box>\n  )\n}\n\nexport { ChatFilesChip }\n"],"names":["ChatFilesChip","filesIds","removeFiles","openFilesModal","files","allFiles","useChatFiles","uploading","useUploadFilesContext","completed","loading","reduce","acc","id","file","find","f","fileId","Box","sx","display","gap","length","CompletedFilesChip","loadingFiles","onRemove","filesToRemove"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAkDSA;;;eAAAA;;;;2BAjD6B;sBAClB;8BACS;oCACM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASnC,MAAMA,gBAAgB,CAAC,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,cAAc,EAAqB;IACjF,MAAM,EAAEC,OAAOC,QAAQ,EAAE,GAAGC,IAAAA,0BAAY,EAACL;IACzC,MAAM,EAAEM,SAAS,EAAE,GAAGC,IAAAA,gCAAqB;IAE3C,MAAM,EAAEC,SAAS,EAAEC,OAAO,EAAE,GAAGT,SAASU,MAAM,CAC5C,CAACC,KAAKC;QACJ,MAAMC,OAAOT,SAASU,IAAI,CAACC,CAAAA,IAAKA,EAAEH,EAAE,KAAKA;QACzC,IAAI,CAACC,MAAM;YACT,OAAOF;QACT;QAEA,OAAOL,UAAUQ,IAAI,CAAC,CAAC,EAAEE,MAAM,EAAE,GAAKA,WAAWH,KAAKD,EAAE,IACpD,wCAAKD;YAAKF,SAAS;mBAAIE,IAAIF,OAAO;gBAAEI;aAAK;aACzC,wCAAKF;YAAKH,WAAW;mBAAIG,IAAIH,SAAS;gBAAEK;aAAK;;IACnD,GACA;QACEL,WAAW,EAAE;QACbC,SAAS,EAAE;IACb;IAGF,qBACE,qBAACQ,SAAG;QAACC,IAAI;YAAEC,SAAS;YAAQC,KAAK;QAAE;kBAChCZ,UAAUa,MAAM,KAAK,KAAKZ,QAAQY,MAAM,KAAK,kBAC5C,qBAACC,sCAAkB;YACjBnB,OAAOK;YACPe,cAAcd;YACde,UAAUC,CAAAA;gBACRxB,YAAYwB;YACd;YACAvB,gBAAgBA;aAEhB;;AAGV"}