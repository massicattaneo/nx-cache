{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/rpjson/src/lib/helpers/checkDocument.ts"],"sourcesContent":["import { RpJsonDocument } from \"@rp/react/rpjson/types\"\n\ntype NonLimitedDocument = {\n  isLimited: false\n  url?: undefined\n}\n\ntype LimitedDocument = {\n  isLimited: true\n  url: string\n}\n\nconst LIMITED_CHANNELS = [180, 181, 1001]\n\nconst checkDocument = (document?: RpJsonDocument): LimitedDocument | NonLimitedDocument => {\n  if (!document) {\n    return { isLimited: false }\n  }\n  const channelId = document.document.source.rp_channel_id\n\n  if (channelId && LIMITED_CHANNELS.includes(channelId)) {\n    if (!document.document.metadata.url) {\n      // eslint-disable-next-line no-console\n      console.error(\"Limited document doesn't have URL\")\n    }\n\n    return {\n      isLimited: true,\n      url: document.document.metadata.url ?? \"\",\n    }\n  }\n\n  return { isLimited: false }\n}\n\nexport { checkDocument, LIMITED_CHANNELS }\n"],"names":["LIMITED_CHANNELS","checkDocument","document","isLimited","channelId","source","rp_channel_id","includes","metadata","url","console","error"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAmCwBA,gBAAgB;eAAhBA;;IAAfC,aAAa;eAAbA;;;AAvBT,MAAMD,mBAAmB;IAAC;IAAK;IAAK;CAAK;AAEzC,MAAMC,gBAAgB,CAACC;IACrB,IAAI,CAACA,UAAU;QACb,OAAO;YAAEC,WAAW;QAAM;IAC5B;IACA,MAAMC,YAAYF,SAASA,QAAQ,CAACG,MAAM,CAACC,aAAa;IAExD,IAAIF,aAAaJ,iBAAiBO,QAAQ,CAACH,YAAY;QACrD,IAAI,CAACF,SAASA,QAAQ,CAACM,QAAQ,CAACC,GAAG,EAAE;YACnC,sCAAsC;YACtCC,QAAQC,KAAK,CAAC;QAChB;YAIOT;QAFP,OAAO;YACLC,WAAW;YACXM,KAAKP,CAAAA,kCAAAA,SAASA,QAAQ,CAACM,QAAQ,CAACC,GAAG,cAA9BP,6CAAAA,kCAAkC;QACzC;IACF;IAEA,OAAO;QAAEC,WAAW;IAAM;AAC5B"}