{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/layout/src/Header/FollowMobileHeader.tsx"],"sourcesContent":["import { useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { CqsSavedQueryContext } from \"@rp/common/api-types\"\nimport { RPThemeProps } from \"@rp/react/theme\"\nimport { BaseMobileHeader, ShareIcon } from \"@rp/react/web/common/base-components\"\nimport { ActionsMenu } from \"@rp/react/web/common/base-components\"\nimport { FollowButton, useQueryActions } from \"@rp/react/web/common/providers\"\nimport { useModal } from \"@rp/react/web/common/providers\"\nimport { Box, IconButton, Typography } from \"@rp/react/web/mui/core\"\nimport { ArrowBack } from \"@rp/react/web/mui/icons\"\n\ntype DVProps = {\n  isPublic?: boolean\n  showBackArrow?: boolean\n  name?: string\n  savedQuery: CqsSavedQueryContext\n  editable: boolean\n}\n\nconst FollowMobileHeader = ({\n  name,\n  showBackArrow = false,\n  isPublic,\n  savedQuery,\n  editable,\n}: DVProps) => {\n  const { share, rename, copyInANewTab, remove, follow } = useQueryActions(savedQuery)\n  const [menuOpen, setMenuOpen] = useState(false)\n  const navigate = useNavigate()\n  const {\n    saveSearchModal: { handleOpen },\n  } = useModal()\n\n  return (\n    <BaseMobileHeader\n      sx={(theme: RPThemeProps) => ({\n        borderBottom: `1px solid ${theme.palette.outline.sidebar}`,\n        transform: \"translate3d(0,0,0)\", // force GPU for IOS?\n        backfaceVisibility: \"hidden\", // force GPU for IOS?\n        isolation: \"isolate\", // force GPU for IOS?\n      })}\n      leftColumns={0}\n      centerColumns={12}\n      rightColumns={0}\n      centerContent={\n        <Box sx={{ display: \"flex\", px: 2 }}>\n          <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1, width: \"calc(100% - 134px)\" }}>\n            {showBackArrow && (\n              <IconButton data-testid=\"back-arrow-button\" onClick={() => navigate(-1)}>\n                <ArrowBack />\n              </IconButton>\n            )}\n            <Typography\n              onClick={() => editable && handleOpen(savedQuery)}\n              variant=\"body1\"\n              fontWeight={700}\n              whiteSpace=\"nowrap\"\n              textOverflow=\"ellipsis\"\n              overflow=\"hidden\"\n              sx={{ cursor: editable ? \"pointer\" : undefined }}\n            >\n              {name}\n            </Typography>\n            {isPublic ? <ShareIcon shared /> : null}\n          </Box>\n          <Box\n            sx={{\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 1,\n            }}\n          >\n            <ActionsMenu\n              open={menuOpen}\n              setOpen={setMenuOpen}\n              actions={[follow, share, rename, copyInANewTab, remove]}\n              item={undefined}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n            />\n            <FollowButton\n              id={savedQuery.id}\n              saveStatus={savedQuery.saveStatus}\n              sx={{ lineHeight: 2 }}\n            />\n          </Box>\n        </Box>\n      }\n    />\n  )\n}\n\nexport { FollowMobileHeader }\n"],"names":["FollowMobileHeader","name","showBackArrow","isPublic","savedQuery","editable","share","rename","copyInANewTab","remove","follow","useQueryActions","menuOpen","setMenuOpen","useState","navigate","useNavigate","saveSearchModal","handleOpen","useModal","BaseMobileHeader","sx","theme","borderBottom","palette","outline","sidebar","transform","backfaceVisibility","isolation","leftColumns","centerColumns","rightColumns","centerContent","Box","display","px","alignItems","gap","width","IconButton","data-testid","onClick","ArrowBack","Typography","variant","fontWeight","whiteSpace","textOverflow","overflow","cursor","undefined","ShareIcon","shared","ActionsMenu","open","setOpen","actions","item","anchorOrigin","vertical","horizontal","transformOrigin","FollowButton","id","saveStatus","lineHeight"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAkGSA;;;eAAAA;;;;uBAlGgB;gCACG;gCAGgB;2BAEE;sBAEF;uBAClB;AAU1B,MAAMA,qBAAqB,CAAC,EAC1BC,IAAI,EACJC,gBAAgB,KAAK,EACrBC,QAAQ,EACRC,UAAU,EACVC,QAAQ,EACA;IACR,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,aAAa,EAAEC,MAAM,EAAEC,MAAM,EAAE,GAAGC,IAAAA,0BAAe,EAACP;IACzE,MAAM,CAACQ,UAAUC,YAAY,GAAGC,IAAAA,eAAQ,EAAC;IACzC,MAAMC,WAAWC,IAAAA,2BAAW;IAC5B,MAAM,EACJC,iBAAiB,EAAEC,UAAU,EAAE,EAChC,GAAGC,IAAAA,mBAAQ;IAEZ,qBACE,qBAACC,gCAAgB;QACfC,IAAI,CAACC,QAAyB,CAAA;gBAC5BC,cAAc,CAAC,UAAU,EAAED,MAAME,OAAO,CAACC,OAAO,CAACC,OAAO,CAAC,CAAC;gBAC1DC,WAAW;gBACXC,oBAAoB;gBACpBC,WAAW;YACb,CAAA;QACAC,aAAa;QACbC,eAAe;QACfC,cAAc;QACdC,6BACE,sBAACC,SAAG;YAACb,IAAI;gBAAEc,SAAS;gBAAQC,IAAI;YAAE;;8BAChC,sBAACF,SAAG;oBAACb,IAAI;wBAAEc,SAAS;wBAAQE,YAAY;wBAAUC,KAAK;wBAAGC,OAAO;oBAAqB;;wBACnFrC,+BACC,qBAACsC,gBAAU;4BAACC,eAAY;4BAAoBC,SAAS,IAAM3B,SAAS,CAAC;sCACnE,cAAA,qBAAC4B,gBAAS;;sCAGd,qBAACC,gBAAU;4BACTF,SAAS,IAAMrC,YAAYa,WAAWd;4BACtCyC,SAAQ;4BACRC,YAAY;4BACZC,YAAW;4BACXC,cAAa;4BACbC,UAAS;4BACT5B,IAAI;gCAAE6B,QAAQ7C,WAAW,YAAY8C;4BAAU;sCAE9ClD;;wBAEFE,yBAAW,qBAACiD,yBAAS;4BAACC,MAAM;6BAAM;;;8BAErC,sBAACnB,SAAG;oBACFb,IAAI;wBACFc,SAAS;wBACTE,YAAY;wBACZC,KAAK;oBACP;;sCAEA,qBAACgB,2BAAW;4BACVC,MAAM3C;4BACN4C,SAAS3C;4BACT4C,SAAS;gCAAC/C;gCAAQJ;gCAAOC;gCAAQC;gCAAeC;6BAAO;4BACvDiD,MAAMP;4BACNQ,cAAc;gCACZC,UAAU;gCACVC,YAAY;4BACd;4BACAC,iBAAiB;gCACfF,UAAU;gCACVC,YAAY;4BACd;;sCAEF,qBAACE,uBAAY;4BACXC,IAAI5D,WAAW4D,EAAE;4BACjBC,YAAY7D,WAAW6D,UAAU;4BACjC5C,IAAI;gCAAE6C,YAAY;4BAAE;;;;;;;AAOlC"}