d955ad0ff4ce4b6c7e593b619e01c91e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "getTimePassed", {
    enumerable: true,
    get: function() {
        return getTimePassed;
    }
});
const _datefns = require("date-fns");
const _datefnstz = require("date-fns-tz");
const _i18next = /*#__PURE__*/ _interop_require_default(require("i18next"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const DATA_FORMAT = "MMM dd, yyyy";
const getTimePassed = (timestamp)=>{
    const userTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
    const storyDate = (0, _datefnstz.utcToZonedTime)(timestamp, userTimeZone);
    const now = Date.now();
    const daysPassed = (0, _datefns.differenceInDays)(now, storyDate.getTime());
    if (daysPassed > 2) return (0, _datefnstz.format)(new Date(timestamp), DATA_FORMAT);
    if (daysPassed) return _i18next.default.t("chatPage.dayAgo", {
        count: daysPassed
    });
    const hoursPassed = (0, _datefns.differenceInHours)(now, storyDate.getTime());
    if (hoursPassed) return _i18next.default.t("chatPage.hourAgo", {
        count: hoursPassed
    });
    const minutesPassed = (0, _datefns.differenceInMinutes)(now, storyDate.getTime());
    if (minutesPassed) return _i18next.default.t("chatPage.minAgo", {
        count: minutesPassed
    });
    return _i18next.default.t("chatPage.now");
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvY29tbW9uL3V0aWxzL3NyYy9saWIvZ2V0VGltZVBhc3NlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaWZmZXJlbmNlSW5EYXlzLCBkaWZmZXJlbmNlSW5Ib3VycywgZGlmZmVyZW5jZUluTWludXRlcyB9IGZyb20gXCJkYXRlLWZuc1wiXG5pbXBvcnQgeyBmb3JtYXQsIHV0Y1RvWm9uZWRUaW1lIH0gZnJvbSBcImRhdGUtZm5zLXR6XCJcbmltcG9ydCBpMThuZXh0IGZyb20gXCJpMThuZXh0XCJcblxuY29uc3QgREFUQV9GT1JNQVQgPSBcIk1NTSBkZCwgeXl5eVwiXG5cbmNvbnN0IGdldFRpbWVQYXNzZWQgPSAodGltZXN0YW1wOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgdXNlclRpbWVab25lID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lXG4gIGNvbnN0IHN0b3J5RGF0ZSA9IHV0Y1RvWm9uZWRUaW1lKHRpbWVzdGFtcCwgdXNlclRpbWVab25lKVxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG5cbiAgY29uc3QgZGF5c1Bhc3NlZCA9IGRpZmZlcmVuY2VJbkRheXMobm93LCBzdG9yeURhdGUuZ2V0VGltZSgpKVxuXG4gIGlmIChkYXlzUGFzc2VkID4gMikgcmV0dXJuIGZvcm1hdChuZXcgRGF0ZSh0aW1lc3RhbXApLCBEQVRBX0ZPUk1BVClcbiAgaWYgKGRheXNQYXNzZWQpIHJldHVybiBpMThuZXh0LnQoXCJjaGF0UGFnZS5kYXlBZ29cIiwgeyBjb3VudDogZGF5c1Bhc3NlZCB9KVxuXG4gIGNvbnN0IGhvdXJzUGFzc2VkID0gZGlmZmVyZW5jZUluSG91cnMobm93LCBzdG9yeURhdGUuZ2V0VGltZSgpKVxuXG4gIGlmIChob3Vyc1Bhc3NlZCkgcmV0dXJuIGkxOG5leHQudChcImNoYXRQYWdlLmhvdXJBZ29cIiwgeyBjb3VudDogaG91cnNQYXNzZWQgfSlcblxuICBjb25zdCBtaW51dGVzUGFzc2VkID0gZGlmZmVyZW5jZUluTWludXRlcyhub3csIHN0b3J5RGF0ZS5nZXRUaW1lKCkpXG5cbiAgaWYgKG1pbnV0ZXNQYXNzZWQpIHJldHVybiBpMThuZXh0LnQoXCJjaGF0UGFnZS5taW5BZ29cIiwgeyBjb3VudDogbWludXRlc1Bhc3NlZCB9KVxuXG4gIHJldHVybiBpMThuZXh0LnQoXCJjaGF0UGFnZS5ub3dcIilcbn1cblxuZXhwb3J0IHsgZ2V0VGltZVBhc3NlZCB9XG4iXSwibmFtZXMiOlsiZ2V0VGltZVBhc3NlZCIsIkRBVEFfRk9STUFUIiwidGltZXN0YW1wIiwidXNlclRpbWVab25lIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwicmVzb2x2ZWRPcHRpb25zIiwidGltZVpvbmUiLCJzdG9yeURhdGUiLCJ1dGNUb1pvbmVkVGltZSIsIm5vdyIsIkRhdGUiLCJkYXlzUGFzc2VkIiwiZGlmZmVyZW5jZUluRGF5cyIsImdldFRpbWUiLCJmb3JtYXQiLCJpMThuZXh0IiwidCIsImNvdW50IiwiaG91cnNQYXNzZWQiLCJkaWZmZXJlbmNlSW5Ib3VycyIsIm1pbnV0ZXNQYXNzZWQiLCJkaWZmZXJlbmNlSW5NaW51dGVzIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBMkJTQTs7O2VBQUFBOzs7eUJBM0JnRTsyQkFDbEM7Z0VBQ25COzs7Ozs7QUFFcEIsTUFBTUMsY0FBYztBQUVwQixNQUFNRCxnQkFBZ0IsQ0FBQ0U7SUFDckIsTUFBTUMsZUFBZUMsS0FBS0MsY0FBYyxHQUFHQyxlQUFlLEdBQUdDLFFBQVE7SUFDckUsTUFBTUMsWUFBWUMsSUFBQUEseUJBQWMsRUFBQ1AsV0FBV0M7SUFDNUMsTUFBTU8sTUFBTUMsS0FBS0QsR0FBRztJQUVwQixNQUFNRSxhQUFhQyxJQUFBQSx5QkFBZ0IsRUFBQ0gsS0FBS0YsVUFBVU0sT0FBTztJQUUxRCxJQUFJRixhQUFhLEdBQUcsT0FBT0csSUFBQUEsaUJBQU0sRUFBQyxJQUFJSixLQUFLVCxZQUFZRDtJQUN2RCxJQUFJVyxZQUFZLE9BQU9JLGdCQUFPLENBQUNDLENBQUMsQ0FBQyxtQkFBbUI7UUFBRUMsT0FBT047SUFBVztJQUV4RSxNQUFNTyxjQUFjQyxJQUFBQSwwQkFBaUIsRUFBQ1YsS0FBS0YsVUFBVU0sT0FBTztJQUU1RCxJQUFJSyxhQUFhLE9BQU9ILGdCQUFPLENBQUNDLENBQUMsQ0FBQyxvQkFBb0I7UUFBRUMsT0FBT0M7SUFBWTtJQUUzRSxNQUFNRSxnQkFBZ0JDLElBQUFBLDRCQUFtQixFQUFDWixLQUFLRixVQUFVTSxPQUFPO0lBRWhFLElBQUlPLGVBQWUsT0FBT0wsZ0JBQU8sQ0FBQ0MsQ0FBQyxDQUFDLG1CQUFtQjtRQUFFQyxPQUFPRztJQUFjO0lBRTlFLE9BQU9MLGdCQUFPLENBQUNDLENBQUMsQ0FBQztBQUNuQiJ9