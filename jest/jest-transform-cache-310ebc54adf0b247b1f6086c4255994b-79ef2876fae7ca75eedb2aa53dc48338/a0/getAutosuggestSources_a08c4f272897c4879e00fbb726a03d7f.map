{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/tanstack-api/content/src/services/getAutosuggestSources.ts"],"sourcesContent":["import { axiosClient } from \"@rp/react/axios-client\"\nimport type { AutosuggestSourcesResponse, AutosuggestSourcesResponseDTO } from \"..\"\nimport { AUTOSUGGEST_SOURCES_ROUTE } from \"../content.constants\"\n\ntype GetAutosuggestSourcesProps = {\n  pageCount: number\n  offset?: number\n  contentPackage?: string | undefined\n  contentCategory?: string | undefined\n  query?: string\n}\n\nconst category = [\"Sources\"]\nasync function getAutosuggestSources({\n  offset = 0,\n  pageCount,\n  contentPackage,\n  contentCategory,\n  query = \"\",\n}: GetAutosuggestSourcesProps): Promise<AutosuggestSourcesResponse> {\n  const params = {\n    query,\n    category,\n    sourceCategory: contentCategory ? [contentCategory] : undefined,\n    rpPackageId: contentPackage ? [contentPackage] : undefined,\n    perPage: pageCount,\n    page: offset + 1,\n  }\n\n  const { data } = await axiosClient.post<AutosuggestSourcesResponseDTO>(\n    AUTOSUGGEST_SOURCES_ROUTE,\n    params,\n  )\n\n  const response: AutosuggestSourcesResponse = {\n    count: data.count,\n    page: data.page,\n    results: data.results.map(result => ({\n      ...result,\n      id: result.key,\n    })),\n  }\n\n  return response\n}\n\nexport { getAutosuggestSources }\n"],"names":["getAutosuggestSources","category","offset","pageCount","contentPackage","contentCategory","query","params","sourceCategory","undefined","rpPackageId","perPage","page","data","axiosClient","post","AUTOSUGGEST_SOURCES_ROUTE","response","count","results","map","result","id","key"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA8CSA;;;eAAAA;;;6BA9CmB;kCAEc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU1C,MAAMC,WAAW;IAAC;CAAU;AAC5B,eAAeD,sBAAsB,EACnCE,SAAS,CAAC,EACVC,SAAS,EACTC,cAAc,EACdC,eAAe,EACfC,QAAQ,EAAE,EACiB;IAC3B,MAAMC,SAAS;QACbD;QACAL;QACAO,gBAAgBH,kBAAkB;YAACA;SAAgB,GAAGI;QACtDC,aAAaN,iBAAiB;YAACA;SAAe,GAAGK;QACjDE,SAASR;QACTS,MAAMV,SAAS;IACjB;IAEA,MAAM,EAAEW,IAAI,EAAE,GAAG,MAAMC,wBAAW,CAACC,IAAI,CACrCC,2CAAyB,EACzBT;IAGF,MAAMU,WAAuC;QAC3CC,OAAOL,KAAKK,KAAK;QACjBN,MAAMC,KAAKD,IAAI;QACfO,SAASN,KAAKM,OAAO,CAACC,GAAG,CAACC,CAAAA,SAAW,wCAChCA;gBACHC,IAAID,OAAOE,GAAG;;IAElB;IAEA,OAAON;AACT"}