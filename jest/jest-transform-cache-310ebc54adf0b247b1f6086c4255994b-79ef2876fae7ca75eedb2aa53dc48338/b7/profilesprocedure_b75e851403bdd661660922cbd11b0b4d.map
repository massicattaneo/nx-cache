{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/development/src/lib/trpc/bigdata-api/procedures/profiles-procedure.ts"],"sourcesContent":["import { z } from \"zod\"\nimport { bigdataSchemas } from \"@rp/common/contracts\"\nimport { userOwner } from \"../../../database/generators/users\"\nimport { trpcMocks } from \"../../../msw/trpcMocks\"\nimport { bigdataApiProcedure } from \"../bigdata-api-procedure\"\n\nexport const profilesProcedure = {\n  me: bigdataApiProcedure\n    .meta({ openapi: { method: \"GET\", path: \"/profiles/me\" } })\n    .output(bigdataSchemas.st_profiles_MyProfileResponse)\n    .query(async () => trpcMocks.profilesMe()),\n  userQuotas: bigdataApiProcedure\n    .meta({ openapi: { method: \"GET\", path: \"/profiles/users/:id\" } })\n    .input(z.object({ id: z.string() }))\n    .output(bigdataSchemas.st_profiles_FullUserProfileResponse)\n    .query(async () => {\n      return {\n        id: userOwner.ownerUserId,\n        organizationId: userOwner.organization.id,\n        userQuota: trpcMocks.profilesMe().userQuota,\n        userConsumed: trpcMocks.profilesMe().userConsumed,\n        dateCreated: \"2024-03-06T12:18:49.569000\",\n        lastUpdated: \"2024-07-24T13:33:56.466375\",\n      }\n    }),\n  organizationQuotas: bigdataApiProcedure\n    .meta({ openapi: { method: \"GET\", path: \"/profiles/organizations/:id\" } })\n    .input(z.object({ id: z.string() }))\n    .output(bigdataSchemas.st_profiles_FullOrganizationProfileResponse)\n    .query(async () => {\n      return {\n        id: userOwner.ownerUserId,\n        organizationQuota: trpcMocks.profilesMe().organizationQuota,\n        appContentAccessPolicies: trpcMocks.profilesMe().contentAccessPolicies,\n        sdkContentAccessPolicies: trpcMocks.profilesMe().contentAccessPolicies,\n        appFeatureAccessPolicies: trpcMocks.profilesMe().featureAccessPolicies,\n        sdkFeatureAccessPolicies: trpcMocks.profilesMe().featureAccessPolicies,\n        subscriptionStatus: trpcMocks.profilesMe().subscriptionStatus,\n        subscriptionRenewalDate: trpcMocks.profilesMe().subscriptionRenewalDate,\n        subscriptionSource: trpcMocks.profilesMe().subscriptionSource,\n        subscriptionModification: trpcMocks.profilesMe().subscriptionModification,\n        entitlements: [],\n        dateCreated: \"2024-03-06T12:45:04.321000\",\n        lastUpdated: \"2025-03-04T08:19:55.286400\",\n        organizationConsumed: trpcMocks.profilesMe().organizationConsumed,\n      }\n    }),\n}\n"],"names":["profilesProcedure","me","bigdataApiProcedure","meta","openapi","method","path","output","bigdataSchemas","st_profiles_MyProfileResponse","query","trpcMocks","profilesMe","userQuotas","input","z","object","id","string","st_profiles_FullUserProfileResponse","userOwner","ownerUserId","organizationId","organization","userQuota","userConsumed","dateCreated","lastUpdated","organizationQuotas","st_profiles_FullOrganizationProfileResponse","organizationQuota","appContentAccessPolicies","contentAccessPolicies","sdkContentAccessPolicies","appFeatureAccessPolicies","featureAccessPolicies","sdkFeatureAccessPolicies","subscriptionStatus","subscriptionRenewalDate","subscriptionSource","subscriptionModification","entitlements","organizationConsumed"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAMaA;;;eAAAA;;;qBANK;2BACa;uBACL;2BACA;qCACU;AAE7B,MAAMA,oBAAoB;IAC/BC,IAAIC,wCAAmB,CACpBC,IAAI,CAAC;QAAEC,SAAS;YAAEC,QAAQ;YAAOC,MAAM;QAAe;IAAE,GACxDC,MAAM,CAACC,yBAAc,CAACC,6BAA6B,EACnDC,KAAK,CAAC,UAAYC,oBAAS,CAACC,UAAU;IACzCC,YAAYX,wCAAmB,CAC5BC,IAAI,CAAC;QAAEC,SAAS;YAAEC,QAAQ;YAAOC,MAAM;QAAsB;IAAE,GAC/DQ,KAAK,CAACC,MAAC,CAACC,MAAM,CAAC;QAAEC,IAAIF,MAAC,CAACG,MAAM;IAAG,IAChCX,MAAM,CAACC,yBAAc,CAACW,mCAAmC,EACzDT,KAAK,CAAC;QACL,OAAO;YACLO,IAAIG,gBAAS,CAACC,WAAW;YACzBC,gBAAgBF,gBAAS,CAACG,YAAY,CAACN,EAAE;YACzCO,WAAWb,oBAAS,CAACC,UAAU,GAAGY,SAAS;YAC3CC,cAAcd,oBAAS,CAACC,UAAU,GAAGa,YAAY;YACjDC,aAAa;YACbC,aAAa;QACf;IACF;IACFC,oBAAoB1B,wCAAmB,CACpCC,IAAI,CAAC;QAAEC,SAAS;YAAEC,QAAQ;YAAOC,MAAM;QAA8B;IAAE,GACvEQ,KAAK,CAACC,MAAC,CAACC,MAAM,CAAC;QAAEC,IAAIF,MAAC,CAACG,MAAM;IAAG,IAChCX,MAAM,CAACC,yBAAc,CAACqB,2CAA2C,EACjEnB,KAAK,CAAC;QACL,OAAO;YACLO,IAAIG,gBAAS,CAACC,WAAW;YACzBS,mBAAmBnB,oBAAS,CAACC,UAAU,GAAGkB,iBAAiB;YAC3DC,0BAA0BpB,oBAAS,CAACC,UAAU,GAAGoB,qBAAqB;YACtEC,0BAA0BtB,oBAAS,CAACC,UAAU,GAAGoB,qBAAqB;YACtEE,0BAA0BvB,oBAAS,CAACC,UAAU,GAAGuB,qBAAqB;YACtEC,0BAA0BzB,oBAAS,CAACC,UAAU,GAAGuB,qBAAqB;YACtEE,oBAAoB1B,oBAAS,CAACC,UAAU,GAAGyB,kBAAkB;YAC7DC,yBAAyB3B,oBAAS,CAACC,UAAU,GAAG0B,uBAAuB;YACvEC,oBAAoB5B,oBAAS,CAACC,UAAU,GAAG2B,kBAAkB;YAC7DC,0BAA0B7B,oBAAS,CAACC,UAAU,GAAG4B,wBAAwB;YACzEC,cAAc,EAAE;YAChBf,aAAa;YACbC,aAAa;YACbe,sBAAsB/B,oBAAS,CAACC,UAAU,GAAG8B,oBAAoB;QACnE;IACF;AACJ"}