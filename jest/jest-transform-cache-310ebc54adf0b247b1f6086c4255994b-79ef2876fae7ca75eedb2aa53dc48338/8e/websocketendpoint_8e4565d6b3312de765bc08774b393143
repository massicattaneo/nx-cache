5a28b9a12f7cb73af2348973aeae3937
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useWebSocketEndpointAtom", {
    enumerable: true,
    get: function() {
        return useWebSocketEndpointAtom;
    }
});
const _react = require("react");
const _jotai = require("jotai");
const _utils = require("jotai/utils");
const _clerkreact = require("@clerk/clerk-react");
const _utils1 = require("@rp/common/utils");
const webSocketEndpointAtom = (0, _utils.atomWithStorage)("wsOverride", undefined);
const useWebSocketEndpointAtom = ()=>{
    var _user_primaryEmailAddress;
    const { user } = (0, _clerkreact.useUser)();
    const [webSocketEndpoint, setWebsocketEndpoint] = (0, _jotai.useAtom)(webSocketEndpointAtom);
    const resetWebSocketEndpoint = (0, _react.useCallback)(()=>{
        setWebsocketEndpoint(undefined);
    }, [
        setWebsocketEndpoint
    ]);
    var _user_primaryEmailAddress_emailAddress;
    return {
        webSocketEndpoint: (0, _utils1.isAdminUser)((_user_primaryEmailAddress_emailAddress = user === null || user === void 0 ? void 0 : (_user_primaryEmailAddress = user.primaryEmailAddress) === null || _user_primaryEmailAddress === void 0 ? void 0 : _user_primaryEmailAddress.emailAddress) !== null && _user_primaryEmailAddress_emailAddress !== void 0 ? _user_primaryEmailAddress_emailAddress : "") ? webSocketEndpoint : undefined,
        setWebsocketEndpoint,
        resetWebSocketEndpoint
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2FwcHMvY2xpZW50LXdlYi9zcmMvYXBwL2F0b21zL3dlYi1zb2NrZXQtZW5kcG9pbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlQXRvbSB9IGZyb20gXCJqb3RhaVwiXG5pbXBvcnQgeyBhdG9tV2l0aFN0b3JhZ2UgfSBmcm9tIFwiam90YWkvdXRpbHNcIlxuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gXCJAY2xlcmsvY2xlcmstcmVhY3RcIlxuaW1wb3J0IHsgaXNBZG1pblVzZXIgfSBmcm9tIFwiQHJwL2NvbW1vbi91dGlsc1wiXG5cbmNvbnN0IHdlYlNvY2tldEVuZHBvaW50QXRvbSA9IGF0b21XaXRoU3RvcmFnZTx1bmRlZmluZWQgfCBzdHJpbmc+KFwid3NPdmVycmlkZVwiLCB1bmRlZmluZWQpXG5cbmNvbnN0IHVzZVdlYlNvY2tldEVuZHBvaW50QXRvbSA9ICgpID0+IHtcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VVc2VyKClcbiAgY29uc3QgW3dlYlNvY2tldEVuZHBvaW50LCBzZXRXZWJzb2NrZXRFbmRwb2ludF0gPSB1c2VBdG9tKHdlYlNvY2tldEVuZHBvaW50QXRvbSlcblxuICBjb25zdCByZXNldFdlYlNvY2tldEVuZHBvaW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFdlYnNvY2tldEVuZHBvaW50KHVuZGVmaW5lZClcbiAgfSwgW3NldFdlYnNvY2tldEVuZHBvaW50XSlcblxuICByZXR1cm4ge1xuICAgIHdlYlNvY2tldEVuZHBvaW50OiBpc0FkbWluVXNlcih1c2VyPy5wcmltYXJ5RW1haWxBZGRyZXNzPy5lbWFpbEFkZHJlc3MgPz8gXCJcIilcbiAgICAgID8gd2ViU29ja2V0RW5kcG9pbnRcbiAgICAgIDogdW5kZWZpbmVkLFxuICAgIHNldFdlYnNvY2tldEVuZHBvaW50LFxuICAgIHJlc2V0V2ViU29ja2V0RW5kcG9pbnQsXG4gIH1cbn1cblxuZXhwb3J0IHsgdXNlV2ViU29ja2V0RW5kcG9pbnRBdG9tIH1cbiJdLCJuYW1lcyI6WyJ1c2VXZWJTb2NrZXRFbmRwb2ludEF0b20iLCJ3ZWJTb2NrZXRFbmRwb2ludEF0b20iLCJhdG9tV2l0aFN0b3JhZ2UiLCJ1bmRlZmluZWQiLCJ1c2VyIiwidXNlVXNlciIsIndlYlNvY2tldEVuZHBvaW50Iiwic2V0V2Vic29ja2V0RW5kcG9pbnQiLCJ1c2VBdG9tIiwicmVzZXRXZWJTb2NrZXRFbmRwb2ludCIsInVzZUNhbGxiYWNrIiwiaXNBZG1pblVzZXIiLCJwcmltYXJ5RW1haWxBZGRyZXNzIiwiZW1haWxBZGRyZXNzIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBeUJTQTs7O2VBQUFBOzs7dUJBekJtQjt1QkFDSjt1QkFDUTs0QkFDUjt3QkFDSTtBQUU1QixNQUFNQyx3QkFBd0JDLElBQUFBLHNCQUFlLEVBQXFCLGNBQWNDO0FBRWhGLE1BQU1ILDJCQUEyQjtRQVNFSTtJQVJqQyxNQUFNLEVBQUVBLElBQUksRUFBRSxHQUFHQyxJQUFBQSxtQkFBTztJQUN4QixNQUFNLENBQUNDLG1CQUFtQkMscUJBQXFCLEdBQUdDLElBQUFBLGNBQU8sRUFBQ1A7SUFFMUQsTUFBTVEseUJBQXlCQyxJQUFBQSxrQkFBVyxFQUFDO1FBQ3pDSCxxQkFBcUJKO0lBQ3ZCLEdBQUc7UUFBQ0k7S0FBcUI7UUFHUUg7SUFEakMsT0FBTztRQUNMRSxtQkFBbUJLLElBQUFBLG1CQUFXLEVBQUNQLENBQUFBLHlDQUFBQSxpQkFBQUEsNEJBQUFBLDRCQUFBQSxLQUFNUSxtQkFBbUIsY0FBekJSLGdEQUFBQSwwQkFBMkJTLFlBQVksY0FBdkNULG9EQUFBQSx5Q0FBMkMsTUFDdEVFLG9CQUNBSDtRQUNKSTtRQUNBRTtJQUNGO0FBQ0YifQ==