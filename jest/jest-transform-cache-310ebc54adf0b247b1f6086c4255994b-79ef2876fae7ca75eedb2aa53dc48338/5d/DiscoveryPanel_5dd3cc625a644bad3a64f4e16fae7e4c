e98f556659a61d75c3c04e2095729884
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "DiscoveryPanel", {
    enumerable: true,
    get: function() {
        return DiscoveryPanel;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _compositecomponents = require("@rp/react/web/common/composite-components");
const _discoverysidebar = require("@rp/react/web/common/discovery-sidebar");
const _core = require("@rp/react/web/mui/core");
const _DiscoveryPanelWidget = require("./DiscoveryPanelWidget");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) {
            symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        }
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _object_spread_props(target, source) {
    source = source != null ? source : {};
    if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
        ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
    }
    return target;
}
const DiscoveryPanel = ({ onAddToWatchlist, isFeedbackMode })=>{
    const [mentionsItem, setMentionsItem] = (0, _react.useState)({});
    const setMentionItem = (0, _react.useCallback)((category, value)=>{
        setMentionsItem((prev)=>{
            return _object_spread_props(_object_spread({}, prev), {
                [category]: value
            });
        });
    }, []);
    const { categories, widgetActions, isError, isLoading, labels } = (0, _discoverysidebar.useDiscoveryPanelWidgetCategories)();
    (0, _react.useEffect)(()=>{
        setMentionsItem({});
    }, [
        categories
    ]);
    const groups = isLoading ? labels : Object.keys(categories);
    if (isError) {
        return null;
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_discoverysidebar.PanelWrapper, {
        children: groups.map((category)=>{
            return /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.AutoAnimateHeight, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Box, {
                    sx: {
                        pb: 2,
                        "& legend": {
                            opacity: 0,
                            transition: "opacity 0.2s ease-in-out"
                        },
                        "&:hover": {
                            "& legend": {
                                opacity: 1
                            }
                        }
                    },
                    "data-testid": `dp-section-${category}`,
                    children: isLoading ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Box, {
                        sx: {
                            pb: "10px"
                        },
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_discoverysidebar.LoadingFilter, {})
                    }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_DiscoveryPanelWidget.DiscoveryPanelWidget, {
                        isFeedbackMode: isFeedbackMode,
                        widgetCategory: categories[category],
                        widgetActions: widgetActions,
                        mentionsItem: mentionsItem[category],
                        setMentionItem: setMentionItem,
                        onAddToWatchlist: onAddToWatchlist
                    })
                })
            }, category);
        })
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2Rpc2NvdmVyeS1zaWRlYmFyL2Rpc2NvdmVyeS1wYW5lbC9zcmMvRGlzY292ZXJ5UGFuZWwvRGlzY292ZXJ5UGFuZWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IENxc0l0ZW0gfSBmcm9tIFwiQHJwL2NvbW1vbi9hcGktdHlwZXNcIlxuaW1wb3J0IHsgV2F0Y2hsaXN0IH0gZnJvbSBcIkBycC9jb21tb24vYXBpLXR5cGVzXCJcbmltcG9ydCB7IEF1dG9BbmltYXRlSGVpZ2h0IH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2NvbXBvc2l0ZS1jb21wb25lbnRzXCJcbmltcG9ydCB7XG4gIExvYWRpbmdGaWx0ZXIsXG4gIFBhbmVsV3JhcHBlcixcbiAgdXNlRGlzY292ZXJ5UGFuZWxXaWRnZXRDYXRlZ29yaWVzLFxufSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vZGlzY292ZXJ5LXNpZGViYXJcIlxuaW1wb3J0IHsgQm94IH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvbXVpL2NvcmVcIlxuaW1wb3J0IHsgRGlzY292ZXJ5UGFuZWxXaWRnZXQgfSBmcm9tIFwiLi9EaXNjb3ZlcnlQYW5lbFdpZGdldFwiXG5cbnR5cGUgUHJvcHMgPSB7XG4gIG9uQWRkVG9XYXRjaGxpc3Q/OiAod2F0Y2hsaXN0OiBXYXRjaGxpc3QpID0+IHZvaWRcbiAgaXNGZWVkYmFja01vZGU6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNvbnN0IERpc2NvdmVyeVBhbmVsID0gKHsgb25BZGRUb1dhdGNobGlzdCwgaXNGZWVkYmFja01vZGUgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgW21lbnRpb25zSXRlbSwgc2V0TWVudGlvbnNJdGVtXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIENxc0l0ZW0gfCB1bmRlZmluZWQ+Pih7fSlcbiAgY29uc3Qgc2V0TWVudGlvbkl0ZW0gPSB1c2VDYWxsYmFjaygoY2F0ZWdvcnk6IHN0cmluZywgdmFsdWU6IENxc0l0ZW0gfCB1bmRlZmluZWQpID0+IHtcbiAgICBzZXRNZW50aW9uc0l0ZW0ocHJldiA9PiB7XG4gICAgICByZXR1cm4geyAuLi5wcmV2LCBbY2F0ZWdvcnldOiB2YWx1ZSB9XG4gICAgfSlcbiAgfSwgW10pXG4gIGNvbnN0IHsgY2F0ZWdvcmllcywgd2lkZ2V0QWN0aW9ucywgaXNFcnJvciwgaXNMb2FkaW5nLCBsYWJlbHMgfSA9XG4gICAgdXNlRGlzY292ZXJ5UGFuZWxXaWRnZXRDYXRlZ29yaWVzKClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldE1lbnRpb25zSXRlbSh7fSlcbiAgfSwgW2NhdGVnb3JpZXNdKVxuXG4gIGNvbnN0IGdyb3VwcyA9IGlzTG9hZGluZyA/IGxhYmVscyA6IE9iamVjdC5rZXlzKGNhdGVnb3JpZXMpXG5cbiAgaWYgKGlzRXJyb3IpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8UGFuZWxXcmFwcGVyPlxuICAgICAge2dyb3Vwcy5tYXAoY2F0ZWdvcnkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxBdXRvQW5pbWF0ZUhlaWdodCBrZXk9e2NhdGVnb3J5fT5cbiAgICAgICAgICAgIDxCb3hcbiAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICBwYjogMixcbiAgICAgICAgICAgICAgICBcIiYgbGVnZW5kXCI6IHtcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcIm9wYWNpdHkgMC4ycyBlYXNlLWluLW91dFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCImOmhvdmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgIFwiJiBsZWdlbmRcIjoge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGRwLXNlY3Rpb24tJHtjYXRlZ29yeX1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgIDxCb3ggc3g9e3sgcGI6IFwiMTBweFwiIH19PlxuICAgICAgICAgICAgICAgICAgPExvYWRpbmdGaWx0ZXIgLz5cbiAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8RGlzY292ZXJ5UGFuZWxXaWRnZXRcbiAgICAgICAgICAgICAgICAgIGlzRmVlZGJhY2tNb2RlPXtpc0ZlZWRiYWNrTW9kZX1cbiAgICAgICAgICAgICAgICAgIHdpZGdldENhdGVnb3J5PXtjYXRlZ29yaWVzW2NhdGVnb3J5XX1cbiAgICAgICAgICAgICAgICAgIHdpZGdldEFjdGlvbnM9e3dpZGdldEFjdGlvbnN9XG4gICAgICAgICAgICAgICAgICBtZW50aW9uc0l0ZW09e21lbnRpb25zSXRlbVtjYXRlZ29yeV19XG4gICAgICAgICAgICAgICAgICBzZXRNZW50aW9uSXRlbT17c2V0TWVudGlvbkl0ZW19XG4gICAgICAgICAgICAgICAgICBvbkFkZFRvV2F0Y2hsaXN0PXtvbkFkZFRvV2F0Y2hsaXN0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICA8L0F1dG9BbmltYXRlSGVpZ2h0PlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L1BhbmVsV3JhcHBlcj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIkRpc2NvdmVyeVBhbmVsIiwib25BZGRUb1dhdGNobGlzdCIsImlzRmVlZGJhY2tNb2RlIiwibWVudGlvbnNJdGVtIiwic2V0TWVudGlvbnNJdGVtIiwidXNlU3RhdGUiLCJzZXRNZW50aW9uSXRlbSIsInVzZUNhbGxiYWNrIiwiY2F0ZWdvcnkiLCJ2YWx1ZSIsInByZXYiLCJjYXRlZ29yaWVzIiwid2lkZ2V0QWN0aW9ucyIsImlzRXJyb3IiLCJpc0xvYWRpbmciLCJsYWJlbHMiLCJ1c2VEaXNjb3ZlcnlQYW5lbFdpZGdldENhdGVnb3JpZXMiLCJ1c2VFZmZlY3QiLCJncm91cHMiLCJPYmplY3QiLCJrZXlzIiwiUGFuZWxXcmFwcGVyIiwibWFwIiwiQXV0b0FuaW1hdGVIZWlnaHQiLCJCb3giLCJzeCIsInBiIiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJkYXRhLXRlc3RpZCIsIkxvYWRpbmdGaWx0ZXIiLCJEaXNjb3ZlcnlQYW5lbFdpZGdldCIsIndpZGdldENhdGVnb3J5Il0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBaUJhQTs7O2VBQUFBOzs7O3VCQWpCb0M7cUNBR2Y7a0NBSzNCO3NCQUNhO3NDQUNpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPOUIsTUFBTUEsaUJBQWlCLENBQUMsRUFBRUMsZ0JBQWdCLEVBQUVDLGNBQWMsRUFBUztJQUN4RSxNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHQyxJQUFBQSxlQUFRLEVBQXNDLENBQUM7SUFDdkYsTUFBTUMsaUJBQWlCQyxJQUFBQSxrQkFBVyxFQUFDLENBQUNDLFVBQWtCQztRQUNwREwsZ0JBQWdCTSxDQUFBQTtZQUNkLE9BQU8sd0NBQUtBO2dCQUFNLENBQUNGLFNBQVMsRUFBRUM7O1FBQ2hDO0lBQ0YsR0FBRyxFQUFFO0lBQ0wsTUFBTSxFQUFFRSxVQUFVLEVBQUVDLGFBQWEsRUFBRUMsT0FBTyxFQUFFQyxTQUFTLEVBQUVDLE1BQU0sRUFBRSxHQUM3REMsSUFBQUEsbURBQWlDO0lBRW5DQyxJQUFBQSxnQkFBUyxFQUFDO1FBQ1JiLGdCQUFnQixDQUFDO0lBQ25CLEdBQUc7UUFBQ087S0FBVztJQUVmLE1BQU1PLFNBQVNKLFlBQVlDLFNBQVNJLE9BQU9DLElBQUksQ0FBQ1Q7SUFFaEQsSUFBSUUsU0FBUztRQUNYLE9BQU87SUFDVDtJQUVBLHFCQUNFLHFCQUFDUSw4QkFBWTtrQkFDVkgsT0FBT0ksR0FBRyxDQUFDZCxDQUFBQTtZQUNWLHFCQUNFLHFCQUFDZSxzQ0FBaUI7MEJBQ2hCLGNBQUEscUJBQUNDLFNBQUc7b0JBQ0ZDLElBQUk7d0JBQ0ZDLElBQUk7d0JBQ0osWUFBWTs0QkFDVkMsU0FBUzs0QkFDVEMsWUFBWTt3QkFDZDt3QkFDQSxXQUFXOzRCQUNULFlBQVk7Z0NBQ1ZELFNBQVM7NEJBQ1g7d0JBQ0Y7b0JBQ0Y7b0JBQ0FFLGVBQWEsQ0FBQyxXQUFXLEVBQUVyQixTQUFTLENBQUM7OEJBRXBDTSwwQkFDQyxxQkFBQ1UsU0FBRzt3QkFBQ0MsSUFBSTs0QkFBRUMsSUFBSTt3QkFBTztrQ0FDcEIsY0FBQSxxQkFBQ0ksK0JBQWE7dUNBR2hCLHFCQUFDQywwQ0FBb0I7d0JBQ25CN0IsZ0JBQWdCQTt3QkFDaEI4QixnQkFBZ0JyQixVQUFVLENBQUNILFNBQVM7d0JBQ3BDSSxlQUFlQTt3QkFDZlQsY0FBY0EsWUFBWSxDQUFDSyxTQUFTO3dCQUNwQ0YsZ0JBQWdCQTt3QkFDaEJMLGtCQUFrQkE7OztlQTNCRk87UUFpQzVCOztBQUdOIn0=