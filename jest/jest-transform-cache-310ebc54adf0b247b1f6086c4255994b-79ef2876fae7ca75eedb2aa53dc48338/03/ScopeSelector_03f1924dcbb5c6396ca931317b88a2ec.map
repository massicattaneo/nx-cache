{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/results-story-card/src/ScopeSelector/ScopeSelector.tsx"],"sourcesContent":["import { ReactElement, useEffect, useState } from \"react\"\nimport { CqsQueryScope, CqsQueryScopeEnum } from \"@rp/common/api-types\"\nimport { useReplaceSearchParam } from \"@rp/react/web/common/hooks\"\n// Date\nimport { useQueryContext } from \"@rp/react/web/common/providers\"\n// Components\nimport { Typography } from \"@rp/react/web/mui/core\"\nimport { Article, Description, Public } from \"@rp/react/web/mui/icons\"\n// Styles\nimport { ScopeSelectorRoot, TabStyled, TabsStyled } from \"./ScopeSelector.styles\"\n\ntype ScopeTab = {\n  label: CqsQueryScope\n  key: CqsQueryScopeEnum\n  icon?: ReactElement\n}\n\nconst scopeTabs: Array<ScopeTab> = [\n  { label: \"All\", key: CqsQueryScopeEnum.All },\n  { label: \"News\", key: CqsQueryScopeEnum.News, icon: <Public /> },\n  { label: \"Transcripts\", key: CqsQueryScopeEnum.Transcripts, icon: <Article /> },\n  { label: \"Files\", key: CqsQueryScopeEnum.Files, icon: <Description /> },\n]\n\nfunction a11yProps(index: number) {\n  return {\n    id: `scope-tab-${index}`,\n    \"aria-controls\": `scope-tabpanel-${index}`,\n  }\n}\n\nexport const ScopeSelector = () => {\n  const tabParam = new URLSearchParams(window.location.search).get(\"tab\")\n  const val = scopeTabs.findIndex(scope => scope.key === tabParam)\n  const [value, setValue] = useState<number>(val === -1 ? 0 : val)\n  const replace = useReplaceSearchParam()\n\n  const {\n    actions: { setScope },\n  } = useQueryContext()\n\n  useEffect(() => {\n    setScope(scopeTabs[value].key)\n  }, [value, setScope])\n\n  return (\n    <ScopeSelectorRoot>\n      <TabsStyled\n        value={value}\n        variant=\"scrollable\"\n        onChange={(e, newValue: number) => {\n          setValue(newValue)\n          replace(() => (newValue !== 0 ? scopeTabs[newValue].key : undefined))\n        }}\n        aria-label=\"scope tabs\"\n      >\n        {scopeTabs.map(({ label, icon }, i) => {\n          return (\n            <TabStyled\n              {...a11yProps(i)}\n              key={i}\n              icon={icon}\n              iconPosition=\"start\"\n              label={\n                <Typography variant=\"body2\" textTransform=\"none\">\n                  {label}\n                </Typography>\n              }\n            />\n          )\n        })}\n      </TabsStyled>\n    </ScopeSelectorRoot>\n  )\n}\n"],"names":["ScopeSelector","scopeTabs","label","key","CqsQueryScopeEnum","All","News","icon","Public","Transcripts","Article","Files","Description","a11yProps","index","id","tabParam","URLSearchParams","window","location","search","get","val","findIndex","scope","value","setValue","useState","replace","useReplaceSearchParam","actions","setScope","useQueryContext","useEffect","ScopeSelectorRoot","TabsStyled","variant","onChange","e","newValue","undefined","aria-label","map","i","TabStyled","iconPosition","Typography","textTransform"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA+BaA;;;eAAAA;;;;uBA/BqC;0BACD;uBACX;2BAEN;sBAEL;uBACkB;qCAEY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQzD,MAAMC,YAA6B;IACjC;QAAEC,OAAO;QAAOC,KAAKC,2BAAiB,CAACC,GAAG;IAAC;IAC3C;QAAEH,OAAO;QAAQC,KAAKC,2BAAiB,CAACE,IAAI;QAAEC,oBAAM,qBAACC,aAAM;IAAI;IAC/D;QAAEN,OAAO;QAAeC,KAAKC,2BAAiB,CAACK,WAAW;QAAEF,oBAAM,qBAACG,cAAO;IAAI;IAC9E;QAAER,OAAO;QAASC,KAAKC,2BAAiB,CAACO,KAAK;QAAEJ,oBAAM,qBAACK,kBAAW;IAAI;CACvE;AAED,SAASC,UAAUC,KAAa;IAC9B,OAAO;QACLC,IAAI,CAAC,UAAU,EAAED,MAAM,CAAC;QACxB,iBAAiB,CAAC,eAAe,EAAEA,MAAM,CAAC;IAC5C;AACF;AAEO,MAAMd,gBAAgB;IAC3B,MAAMgB,WAAW,IAAIC,gBAAgBC,OAAOC,QAAQ,CAACC,MAAM,EAAEC,GAAG,CAAC;IACjE,MAAMC,MAAMrB,UAAUsB,SAAS,CAACC,CAAAA,QAASA,MAAMrB,GAAG,KAAKa;IACvD,MAAM,CAACS,OAAOC,SAAS,GAAGC,IAAAA,eAAQ,EAASL,QAAQ,CAAC,IAAI,IAAIA;IAC5D,MAAMM,UAAUC,IAAAA,4BAAqB;IAErC,MAAM,EACJC,SAAS,EAAEC,QAAQ,EAAE,EACtB,GAAGC,IAAAA,0BAAe;IAEnBC,IAAAA,gBAAS,EAAC;QACRF,SAAS9B,SAAS,CAACwB,MAAM,CAACtB,GAAG;IAC/B,GAAG;QAACsB;QAAOM;KAAS;IAEpB,qBACE,qBAACG,sCAAiB;kBAChB,cAAA,qBAACC,+BAAU;YACTV,OAAOA;YACPW,SAAQ;YACRC,UAAU,CAACC,GAAGC;gBACZb,SAASa;gBACTX,QAAQ,IAAOW,aAAa,IAAItC,SAAS,CAACsC,SAAS,CAACpC,GAAG,GAAGqC;YAC5D;YACAC,cAAW;sBAEVxC,UAAUyC,GAAG,CAAC,CAAC,EAAExC,KAAK,EAAEK,IAAI,EAAE,EAAEoC;gBAC/B,qBACE,0BAACC,8BAAS,0CACJ/B,UAAU8B;oBACdxC,KAAKwC;oBACLpC,MAAMA;oBACNsC,cAAa;oBACb3C,qBACE,qBAAC4C,gBAAU;wBAACV,SAAQ;wBAAQW,eAAc;kCACvC7C;;;YAKX;;;AAIR"}