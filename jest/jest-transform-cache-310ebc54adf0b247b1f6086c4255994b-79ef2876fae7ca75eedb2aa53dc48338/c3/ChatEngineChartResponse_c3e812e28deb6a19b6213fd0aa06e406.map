{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/chat/src/lib/Chat/Chat/ChatResponse/EngineChart/ChatEngineChartResponse.tsx"],"sourcesContent":["import { Suspense, lazy } from \"react\"\nimport { DatasetScope } from \"@rp/common/api-types\"\nimport { canDownloadCSV } from \"@rp/react/common/chat\"\nimport { EngineChartContent, LlmEngineSource } from \"@rp/react/tanstack-api/llm-summary\"\nimport { Box, Skeleton, Typography } from \"@rp/react/web/mui/core\"\nimport { EngineChartSources } from \"./EngineChartSources\"\n\nconst EngineChartWidget = lazy(() => import(\"@rp/react/web/common/vendors/engine-chart-widget\"))\n\ntype Props = {\n  responseBlock: EngineChartContent\n  sources: Array<LlmEngineSource>\n  scope?: DatasetScope\n}\n\nexport const ChatEngineChartResponse = ({ responseBlock, sources, scope }: Props) => {\n  const canDownload = canDownloadCSV(scope)\n  return (\n    <Box>\n      {responseBlock.widgetSpec ? (\n        <Suspense fallback={<Skeleton width=\"100%\" sx={{ minHeight: \"246px\" }} />}>\n          <EngineChartWidget\n            input={responseBlock.widgetSpec}\n            exportingOptions={{ downloadCSV: canDownload }}\n          />\n        </Suspense>\n      ) : null}\n\n      {responseBlock.isSuccessfulAnswer ? (\n        <>\n          <Typography sx={{ fontSize: 14, color: \"grey.300\", mb: 1, mt: 2.5 }}>Sources</Typography>\n          <EngineChartSources sources={sources} explainer={responseBlock.explainer} />\n        </>\n      ) : null}\n    </Box>\n  )\n}\n"],"names":["ChatEngineChartResponse","EngineChartWidget","lazy","responseBlock","sources","scope","canDownload","canDownloadCSV","Box","widgetSpec","Suspense","fallback","Skeleton","width","sx","minHeight","input","exportingOptions","downloadCSV","isSuccessfulAnswer","Typography","fontSize","color","mb","mt","EngineChartSources","explainer"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAeaA;;;eAAAA;;;;uBAfkB;sBAEA;sBAEW;oCACP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEnC,MAAMC,kCAAoBC,IAAAA,WAAI,EAAC,IAAM,mEAAA,QAAO;AAQrC,MAAMF,0BAA0B,CAAC,EAAEG,aAAa,EAAEC,OAAO,EAAEC,KAAK,EAAS;IAC9E,MAAMC,cAAcC,IAAAA,oBAAc,EAACF;IACnC,qBACE,sBAACG,SAAG;;YACDL,cAAcM,UAAU,iBACvB,qBAACC,eAAQ;gBAACC,wBAAU,qBAACC,cAAQ;oBAACC,OAAM;oBAAOC,IAAI;wBAAEC,WAAW;oBAAQ;;0BAClE,cAAA,qBAACd;oBACCe,OAAOb,cAAcM,UAAU;oBAC/BQ,kBAAkB;wBAAEC,aAAaZ;oBAAY;;iBAG/C;YAEHH,cAAcgB,kBAAkB,iBAC/B;;kCACE,qBAACC,gBAAU;wBAACN,IAAI;4BAAEO,UAAU;4BAAIC,OAAO;4BAAYC,IAAI;4BAAGC,IAAI;wBAAI;kCAAG;;kCACrE,qBAACC,sCAAkB;wBAACrB,SAASA;wBAASsB,WAAWvB,cAAcuB,SAAS;;;iBAExE;;;AAGV"}