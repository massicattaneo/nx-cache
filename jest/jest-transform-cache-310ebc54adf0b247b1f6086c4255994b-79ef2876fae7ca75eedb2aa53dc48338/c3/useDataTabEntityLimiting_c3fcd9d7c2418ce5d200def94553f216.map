{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistDataTabs/hooks/useDataTabEntityLimiting.ts"],"sourcesContent":["import { useMemo } from \"react\"\nimport { CqsItem } from \"@rp/common/api-types\"\nimport { FinanceDataTabs } from \"../../hooks/useWatchlistsFinanceDataTabNavigation\"\nimport { WATCHLIST_MAX_ENTITIES_FREEMIUM_USERS } from \"../WatchlistDataTabsTableUnlockBanner\"\n\ntype UseDataTabEntityLimitingProps = {\n  entities: Array<CqsItem>\n  dataTab: FinanceDataTabs\n  isFinancialPackageSubscriber: boolean\n  isFeatureBlocked: boolean\n}\n\nexport function useDataTabEntityLimiting({\n  entities,\n  dataTab,\n  isFinancialPackageSubscriber,\n  isFeatureBlocked,\n}: UseDataTabEntityLimitingProps) {\n  // For custom tab, free users can access it but see limited data\n  const isCustomTabWithLimitedData = !isFinancialPackageSubscriber && dataTab === \"custom\"\n\n  const financialEntities = useMemo(() => {\n    const slice = isFeatureBlocked || isCustomTabWithLimitedData\n    return slice ? entities.slice(0, WATCHLIST_MAX_ENTITIES_FREEMIUM_USERS) : entities\n  }, [entities, isFeatureBlocked, isCustomTabWithLimitedData])\n\n  return {\n    isCustomTabWithLimitedData,\n    financialEntities,\n  }\n}\n"],"names":["useDataTabEntityLimiting","entities","dataTab","isFinancialPackageSubscriber","isFeatureBlocked","isCustomTabWithLimitedData","financialEntities","useMemo","slice","WATCHLIST_MAX_ENTITIES_FREEMIUM_USERS"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAYgBA;;;eAAAA;;;uBAZQ;oDAG8B;AAS/C,SAASA,yBAAyB,EACvCC,QAAQ,EACRC,OAAO,EACPC,4BAA4B,EAC5BC,gBAAgB,EACc;IAC9B,gEAAgE;IAChE,MAAMC,6BAA6B,CAACF,gCAAgCD,YAAY;IAEhF,MAAMI,oBAAoBC,IAAAA,cAAO,EAAC;QAChC,MAAMC,QAAQJ,oBAAoBC;QAClC,OAAOG,QAAQP,SAASO,KAAK,CAAC,GAAGC,yEAAqC,IAAIR;IAC5E,GAAG;QAACA;QAAUG;QAAkBC;KAA2B;IAE3D,OAAO;QACLA;QACAC;IACF;AACF"}