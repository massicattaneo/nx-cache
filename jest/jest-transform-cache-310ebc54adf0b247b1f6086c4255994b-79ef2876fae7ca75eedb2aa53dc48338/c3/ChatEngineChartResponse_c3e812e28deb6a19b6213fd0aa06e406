0d8953737f393f5fcabeaef88cdd3a3b
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "ChatEngineChartResponse", {
    enumerable: true,
    get: function() {
        return ChatEngineChartResponse;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _chat = require("@rp/react/common/chat");
const _core = require("@rp/react/web/mui/core");
const _EngineChartSources = require("./EngineChartSources");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const EngineChartWidget = /*#__PURE__*/ (0, _react.lazy)(()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("@rp/react/web/common/vendors/engine-chart-widget"))));
const ChatEngineChartResponse = ({ responseBlock, sources, scope })=>{
    const canDownload = (0, _chat.canDownloadCSV)(scope);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
        children: [
            responseBlock.widgetSpec ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_react.Suspense, {
                fallback: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Skeleton, {
                    width: "100%",
                    sx: {
                        minHeight: "246px"
                    }
                }),
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(EngineChartWidget, {
                    input: responseBlock.widgetSpec,
                    exportingOptions: {
                        downloadCSV: canDownload
                    }
                })
            }) : null,
            responseBlock.isSuccessfulAnswer ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Typography, {
                        sx: {
                            fontSize: 14,
                            color: "grey.300",
                            mb: 1,
                            mt: 2.5
                        },
                        children: "Sources"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_EngineChartSources.EngineChartSources, {
                        sources: sources,
                        explainer: responseBlock.explainer
                    })
                ]
            }) : null
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NoYXQvc3JjL2xpYi9DaGF0L0NoYXQvQ2hhdFJlc3BvbnNlL0VuZ2luZUNoYXJ0L0NoYXRFbmdpbmVDaGFydFJlc3BvbnNlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdXNwZW5zZSwgbGF6eSB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBEYXRhc2V0U2NvcGUgfSBmcm9tIFwiQHJwL2NvbW1vbi9hcGktdHlwZXNcIlxuaW1wb3J0IHsgY2FuRG93bmxvYWRDU1YgfSBmcm9tIFwiQHJwL3JlYWN0L2NvbW1vbi9jaGF0XCJcbmltcG9ydCB7IEVuZ2luZUNoYXJ0Q29udGVudCwgTGxtRW5naW5lU291cmNlIH0gZnJvbSBcIkBycC9yZWFjdC90YW5zdGFjay1hcGkvbGxtLXN1bW1hcnlcIlxuaW1wb3J0IHsgQm94LCBTa2VsZXRvbiwgVHlwb2dyYXBoeSB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL211aS9jb3JlXCJcbmltcG9ydCB7IEVuZ2luZUNoYXJ0U291cmNlcyB9IGZyb20gXCIuL0VuZ2luZUNoYXJ0U291cmNlc1wiXG5cbmNvbnN0IEVuZ2luZUNoYXJ0V2lkZ2V0ID0gbGF6eSgoKSA9PiBpbXBvcnQoXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi92ZW5kb3JzL2VuZ2luZS1jaGFydC13aWRnZXRcIikpXG5cbnR5cGUgUHJvcHMgPSB7XG4gIHJlc3BvbnNlQmxvY2s6IEVuZ2luZUNoYXJ0Q29udGVudFxuICBzb3VyY2VzOiBBcnJheTxMbG1FbmdpbmVTb3VyY2U+XG4gIHNjb3BlPzogRGF0YXNldFNjb3BlXG59XG5cbmV4cG9ydCBjb25zdCBDaGF0RW5naW5lQ2hhcnRSZXNwb25zZSA9ICh7IHJlc3BvbnNlQmxvY2ssIHNvdXJjZXMsIHNjb3BlIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IGNhbkRvd25sb2FkID0gY2FuRG93bmxvYWRDU1Yoc2NvcGUpXG4gIHJldHVybiAoXG4gICAgPEJveD5cbiAgICAgIHtyZXNwb25zZUJsb2NrLndpZGdldFNwZWMgPyAoXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PFNrZWxldG9uIHdpZHRoPVwiMTAwJVwiIHN4PXt7IG1pbkhlaWdodDogXCIyNDZweFwiIH19IC8+fT5cbiAgICAgICAgICA8RW5naW5lQ2hhcnRXaWRnZXRcbiAgICAgICAgICAgIGlucHV0PXtyZXNwb25zZUJsb2NrLndpZGdldFNwZWN9XG4gICAgICAgICAgICBleHBvcnRpbmdPcHRpb25zPXt7IGRvd25sb2FkQ1NWOiBjYW5Eb3dubG9hZCB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU3VzcGVuc2U+XG4gICAgICApIDogbnVsbH1cblxuICAgICAge3Jlc3BvbnNlQmxvY2suaXNTdWNjZXNzZnVsQW5zd2VyID8gKFxuICAgICAgICA8PlxuICAgICAgICAgIDxUeXBvZ3JhcGh5IHN4PXt7IGZvbnRTaXplOiAxNCwgY29sb3I6IFwiZ3JleS4zMDBcIiwgbWI6IDEsIG10OiAyLjUgfX0+U291cmNlczwvVHlwb2dyYXBoeT5cbiAgICAgICAgICA8RW5naW5lQ2hhcnRTb3VyY2VzIHNvdXJjZXM9e3NvdXJjZXN9IGV4cGxhaW5lcj17cmVzcG9uc2VCbG9jay5leHBsYWluZXJ9IC8+XG4gICAgICAgIDwvPlxuICAgICAgKSA6IG51bGx9XG4gICAgPC9Cb3g+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJDaGF0RW5naW5lQ2hhcnRSZXNwb25zZSIsIkVuZ2luZUNoYXJ0V2lkZ2V0IiwibGF6eSIsInJlc3BvbnNlQmxvY2siLCJzb3VyY2VzIiwic2NvcGUiLCJjYW5Eb3dubG9hZCIsImNhbkRvd25sb2FkQ1NWIiwiQm94Iiwid2lkZ2V0U3BlYyIsIlN1c3BlbnNlIiwiZmFsbGJhY2siLCJTa2VsZXRvbiIsIndpZHRoIiwic3giLCJtaW5IZWlnaHQiLCJpbnB1dCIsImV4cG9ydGluZ09wdGlvbnMiLCJkb3dubG9hZENTViIsImlzU3VjY2Vzc2Z1bEFuc3dlciIsIlR5cG9ncmFwaHkiLCJmb250U2l6ZSIsImNvbG9yIiwibWIiLCJtdCIsIkVuZ2luZUNoYXJ0U291cmNlcyIsImV4cGxhaW5lciJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7OytCQWVhQTs7O2VBQUFBOzs7O3VCQWZrQjtzQkFFQTtzQkFFVztvQ0FDUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRW5DLE1BQU1DLGtDQUFvQkMsSUFBQUEsV0FBSSxFQUFDLElBQU0sbUVBQUEsUUFBTztBQVFyQyxNQUFNRiwwQkFBMEIsQ0FBQyxFQUFFRyxhQUFhLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFTO0lBQzlFLE1BQU1DLGNBQWNDLElBQUFBLG9CQUFjLEVBQUNGO0lBQ25DLHFCQUNFLHNCQUFDRyxTQUFHOztZQUNETCxjQUFjTSxVQUFVLGlCQUN2QixxQkFBQ0MsZUFBUTtnQkFBQ0Msd0JBQVUscUJBQUNDLGNBQVE7b0JBQUNDLE9BQU07b0JBQU9DLElBQUk7d0JBQUVDLFdBQVc7b0JBQVE7OzBCQUNsRSxjQUFBLHFCQUFDZDtvQkFDQ2UsT0FBT2IsY0FBY00sVUFBVTtvQkFDL0JRLGtCQUFrQjt3QkFBRUMsYUFBYVo7b0JBQVk7O2lCQUcvQztZQUVISCxjQUFjZ0Isa0JBQWtCLGlCQUMvQjs7a0NBQ0UscUJBQUNDLGdCQUFVO3dCQUFDTixJQUFJOzRCQUFFTyxVQUFVOzRCQUFJQyxPQUFPOzRCQUFZQyxJQUFJOzRCQUFHQyxJQUFJO3dCQUFJO2tDQUFHOztrQ0FDckUscUJBQUNDLHNDQUFrQjt3QkFBQ3JCLFNBQVNBO3dCQUFTc0IsV0FBV3ZCLGNBQWN1QixTQUFTOzs7aUJBRXhFOzs7QUFHViJ9