530d4c84edef719d37c719bc59669db9
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useDragSourceConnector", {
    enumerable: true,
    get: function() {
        return useDragSourceConnector;
    }
});
const _react = require("react");
const _index = require("../../internals/index.js");
const _useDragDropManager = require("../useDragDropManager.js");
const _useIsomorphicLayoutEffect = require("../useIsomorphicLayoutEffect.js");
function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {
    const manager = (0, _useDragDropManager.useDragDropManager)();
    const connector = (0, _react.useMemo)(()=>new _index.SourceConnector(manager.getBackend()), [
        manager
    ]);
    (0, _useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(()=>{
        connector.dragSourceOptions = dragSourceOptions || null;
        connector.reconnect();
        return ()=>connector.disconnectDragSource();
    }, [
        connector,
        dragSourceOptions
    ]);
    (0, _useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(()=>{
        connector.dragPreviewOptions = dragPreviewOptions || null;
        connector.reconnect();
        return ()=>connector.disconnectDragPreview();
    }, [
        connector,
        dragPreviewOptions
    ]);
    return connector;
} //# sourceMappingURL=useDragSourceConnector.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ob29rcy91c2VEcmFnL3VzZURyYWdTb3VyY2VDb25uZWN0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBTb3VyY2VDb25uZWN0b3IgfSBmcm9tICcuLi8uLi9pbnRlcm5hbHMvaW5kZXguanMnXG5pbXBvcnQgdHlwZSB7XG5cdERyYWdQcmV2aWV3T3B0aW9ucyxcblx0RHJhZ1NvdXJjZU9wdGlvbnMsXG59IGZyb20gJy4uLy4uL3R5cGVzL2luZGV4LmpzJ1xuaW1wb3J0IHsgdXNlRHJhZ0Ryb3BNYW5hZ2VyIH0gZnJvbSAnLi4vdXNlRHJhZ0Ryb3BNYW5hZ2VyLmpzJ1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uL3VzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VEcmFnU291cmNlQ29ubmVjdG9yKFxuXHRkcmFnU291cmNlT3B0aW9uczogRHJhZ1NvdXJjZU9wdGlvbnMgfCB1bmRlZmluZWQsXG5cdGRyYWdQcmV2aWV3T3B0aW9uczogRHJhZ1ByZXZpZXdPcHRpb25zIHwgdW5kZWZpbmVkLFxuKTogU291cmNlQ29ubmVjdG9yIHtcblx0Y29uc3QgbWFuYWdlciA9IHVzZURyYWdEcm9wTWFuYWdlcigpXG5cdGNvbnN0IGNvbm5lY3RvciA9IHVzZU1lbW8oXG5cdFx0KCkgPT4gbmV3IFNvdXJjZUNvbm5lY3RvcihtYW5hZ2VyLmdldEJhY2tlbmQoKSksXG5cdFx0W21hbmFnZXJdLFxuXHQpXG5cdHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuXHRcdGNvbm5lY3Rvci5kcmFnU291cmNlT3B0aW9ucyA9IGRyYWdTb3VyY2VPcHRpb25zIHx8IG51bGxcblx0XHRjb25uZWN0b3IucmVjb25uZWN0KClcblx0XHRyZXR1cm4gKCkgPT4gY29ubmVjdG9yLmRpc2Nvbm5lY3REcmFnU291cmNlKClcblx0fSwgW2Nvbm5lY3RvciwgZHJhZ1NvdXJjZU9wdGlvbnNdKVxuXHR1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcblx0XHRjb25uZWN0b3IuZHJhZ1ByZXZpZXdPcHRpb25zID0gZHJhZ1ByZXZpZXdPcHRpb25zIHx8IG51bGxcblx0XHRjb25uZWN0b3IucmVjb25uZWN0KClcblx0XHRyZXR1cm4gKCkgPT4gY29ubmVjdG9yLmRpc2Nvbm5lY3REcmFnUHJldmlldygpXG5cdH0sIFtjb25uZWN0b3IsIGRyYWdQcmV2aWV3T3B0aW9uc10pXG5cdHJldHVybiBjb25uZWN0b3Jcbn1cbiJdLCJuYW1lcyI6WyJ1c2VEcmFnU291cmNlQ29ubmVjdG9yIiwiZHJhZ1NvdXJjZU9wdGlvbnMiLCJkcmFnUHJldmlld09wdGlvbnMiLCJtYW5hZ2VyIiwidXNlRHJhZ0Ryb3BNYW5hZ2VyIiwiY29ubmVjdG9yIiwidXNlTWVtbyIsIlNvdXJjZUNvbm5lY3RvciIsImdldEJhY2tlbmQiLCJ1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwicmVjb25uZWN0IiwiZGlzY29ubmVjdERyYWdTb3VyY2UiLCJkaXNjb25uZWN0RHJhZ1ByZXZpZXciXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBVWdCQTs7O2VBQUFBOzs7dUJBVlE7dUJBRVE7b0NBS0c7MkNBQ087QUFFbkMsU0FBU0EsdUJBQ2ZDLGlCQUFnRCxFQUNoREMsa0JBQWtEO0lBRWxELE1BQU1DLFVBQVVDLElBQUFBLHNDQUFrQjtJQUNsQyxNQUFNQyxZQUFZQyxJQUFBQSxjQUFPLEVBQ3hCLElBQU0sSUFBSUMsc0JBQWUsQ0FBQ0osUUFBUUssVUFBVSxLQUM1QztRQUFDTDtLQUFRO0lBRVZNLElBQUFBLG9EQUF5QixFQUFDO1FBQ3pCSixVQUFVSixpQkFBaUIsR0FBR0EscUJBQXFCO1FBQ25ESSxVQUFVSyxTQUFTO1FBQ25CLE9BQU8sSUFBTUwsVUFBVU0sb0JBQW9CO09BQ3pDO1FBQUNOO1FBQVdKO0tBQWtCO0lBQ2pDUSxJQUFBQSxvREFBeUIsRUFBQztRQUN6QkosVUFBVUgsa0JBQWtCLEdBQUdBLHNCQUFzQjtRQUNyREcsVUFBVUssU0FBUztRQUNuQixPQUFPLElBQU1MLFVBQVVPLHFCQUFxQjtPQUMxQztRQUFDUDtRQUFXSDtLQUFtQjtJQUNsQyxPQUFPRyJ9