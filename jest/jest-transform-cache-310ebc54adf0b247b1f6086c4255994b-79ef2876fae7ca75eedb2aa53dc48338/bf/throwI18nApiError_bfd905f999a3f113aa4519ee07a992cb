f21678e20ae53b7af0cfee94a8ff283f
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "throwI18nApiError", {
    enumerable: true,
    get: function() {
        return throwI18nApiError;
    }
});
const _axios = /*#__PURE__*/ _interop_require_default(require("axios"));
const _i18next = require("i18next");
const _resources = require("./resources");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const isWatchlistBatchUploadCode = (code)=>code in _resources.resources.en.translation.apiErrors.watchlistBatchUpload;
const isErrorCode = (data)=>!!data && typeof data === "object" && "errorCode" in data;
function throwI18nApiError(page, error, params) {
    var _error_response;
    if (_axios.default.isAxiosError(error) && isErrorCode((_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.data)) {
        const { errorCode = "" } = error.response.data;
        if (page === "watchlistBatchUpload" && isWatchlistBatchUploadCode(errorCode)) {
            throw new Error((0, _i18next.t)(`apiErrors.${page}.${errorCode}`, params));
        }
    }
    throw new Error((0, _i18next.t)("apiErrors.genericServerApiError"));
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL2ludGVybmF0aW9uYWxpemF0aW9uL3NyYy9saWIvdGhyb3dJMThuQXBpRXJyb3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiXG5pbXBvcnQgeyB0IH0gZnJvbSBcImkxOG5leHRcIlxuaW1wb3J0IHsgcmVzb3VyY2VzIH0gZnJvbSBcIi4vcmVzb3VyY2VzXCJcblxudHlwZSBBcGkgPSBrZXlvZiB0eXBlb2YgcmVzb3VyY2VzW1wiZW5cIl1bXCJ0cmFuc2xhdGlvblwiXVtcImFwaUVycm9yc1wiXVxuXG5jb25zdCBpc1dhdGNobGlzdEJhdGNoVXBsb2FkQ29kZSA9IChcbiAgY29kZTogc3RyaW5nLFxuKTogY29kZSBpcyBrZXlvZiB0eXBlb2YgcmVzb3VyY2VzW1wiZW5cIl1bXCJ0cmFuc2xhdGlvblwiXVtcImFwaUVycm9yc1wiXVtcIndhdGNobGlzdEJhdGNoVXBsb2FkXCJdID0+XG4gIGNvZGUgaW4gcmVzb3VyY2VzLmVuLnRyYW5zbGF0aW9uLmFwaUVycm9ycy53YXRjaGxpc3RCYXRjaFVwbG9hZFxuXG5jb25zdCBpc0Vycm9yQ29kZSA9IChkYXRhOiB1bmtub3duKTogZGF0YSBpcyB7IGVycm9yQ29kZTogc3RyaW5nIH0gPT5cbiAgISFkYXRhICYmIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIFwiZXJyb3JDb2RlXCIgaW4gZGF0YVxuXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dJMThuQXBpRXJyb3IocGFnZTogQXBpLCBlcnJvcjogdW5rbm93biwgcGFyYW1zPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikgJiYgaXNFcnJvckNvZGUoZXJyb3IucmVzcG9uc2U/LmRhdGEpKSB7XG4gICAgY29uc3QgeyBlcnJvckNvZGUgPSBcIlwiIH0gPSBlcnJvci5yZXNwb25zZS5kYXRhXG4gICAgaWYgKHBhZ2UgPT09IFwid2F0Y2hsaXN0QmF0Y2hVcGxvYWRcIiAmJiBpc1dhdGNobGlzdEJhdGNoVXBsb2FkQ29kZShlcnJvckNvZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodChgYXBpRXJyb3JzLiR7cGFnZX0uJHtlcnJvckNvZGV9YCwgcGFyYW1zKSlcbiAgICB9XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKHQoXCJhcGlFcnJvcnMuZ2VuZXJpY1NlcnZlckFwaUVycm9yXCIpKVxufVxuIl0sIm5hbWVzIjpbInRocm93STE4bkFwaUVycm9yIiwiaXNXYXRjaGxpc3RCYXRjaFVwbG9hZENvZGUiLCJjb2RlIiwicmVzb3VyY2VzIiwiZW4iLCJ0cmFuc2xhdGlvbiIsImFwaUVycm9ycyIsIndhdGNobGlzdEJhdGNoVXBsb2FkIiwiaXNFcnJvckNvZGUiLCJkYXRhIiwicGFnZSIsImVycm9yIiwicGFyYW1zIiwiYXhpb3MiLCJpc0F4aW9zRXJyb3IiLCJyZXNwb25zZSIsImVycm9yQ29kZSIsIkVycm9yIiwidCJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkFjZ0JBOzs7ZUFBQUE7Ozs4REFkRTt5QkFDQTsyQkFDUTs7Ozs7O0FBSTFCLE1BQU1DLDZCQUE2QixDQUNqQ0MsT0FFQUEsUUFBUUMsb0JBQVMsQ0FBQ0MsRUFBRSxDQUFDQyxXQUFXLENBQUNDLFNBQVMsQ0FBQ0Msb0JBQW9CO0FBRWpFLE1BQU1DLGNBQWMsQ0FBQ0MsT0FDbkIsQ0FBQyxDQUFDQSxRQUFRLE9BQU9BLFNBQVMsWUFBWSxlQUFlQTtBQUVoRCxTQUFTVCxrQkFBa0JVLElBQVMsRUFBRUMsS0FBYyxFQUFFQyxNQUFnQztRQUM5Q0Q7SUFBN0MsSUFBSUUsY0FBSyxDQUFDQyxZQUFZLENBQUNILFVBQVVILGFBQVlHLGtCQUFBQSxNQUFNSSxRQUFRLGNBQWRKLHNDQUFBQSxnQkFBZ0JGLElBQUksR0FBRztRQUNsRSxNQUFNLEVBQUVPLFlBQVksRUFBRSxFQUFFLEdBQUdMLE1BQU1JLFFBQVEsQ0FBQ04sSUFBSTtRQUM5QyxJQUFJQyxTQUFTLDBCQUEwQlQsMkJBQTJCZSxZQUFZO1lBQzVFLE1BQU0sSUFBSUMsTUFBTUMsSUFBQUEsVUFBQyxFQUFDLENBQUMsVUFBVSxFQUFFUixLQUFLLENBQUMsRUFBRU0sVUFBVSxDQUFDLEVBQUVKO1FBQ3REO0lBQ0Y7SUFDQSxNQUFNLElBQUlLLE1BQU1DLElBQUFBLFVBQUMsRUFBQztBQUNwQiJ9