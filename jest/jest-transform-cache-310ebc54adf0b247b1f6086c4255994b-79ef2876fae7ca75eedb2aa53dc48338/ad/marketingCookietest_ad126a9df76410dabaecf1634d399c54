f541a6385e648a561b52912e6fac13ee
"use strict";
jest.mock("typescript-cookie", ()=>({
        getCookie: jest.fn(),
        setCookie: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _typescriptcookie = require("typescript-cookie");
const _marketingCookie = require("../marketingCookie");
const mockGetCookie = _typescriptcookie.getCookie;
const mockSetCookie = _typescriptcookie.setCookie;
describe("setMarketingCookie", ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it("should get back a default object", ()=>{
        expect((0, _marketingCookie.getMarketingCookie)()).toEqual({});
    });
    it("should call the setCookie", ()=>{
        (0, _marketingCookie.setMarketingCookie)(true, "123");
        expect(mockGetCookie).toHaveBeenCalledWith(_marketingCookie.MARKETING_COOKIE_NAME);
        expect(mockSetCookie).toHaveBeenCalledWith(_marketingCookie.MARKETING_COOKIE_NAME, expect.any(String), {
            domain: ".bigdata.com",
            path: "/",
            secure: true
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2FwcHMvY2xpZW50LXdlYi9zcmMvYXBwL3V0aWxzL19fdGVzdHNfXy9tYXJrZXRpbmdDb29raWUudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDb29raWUsIHNldENvb2tpZSB9IGZyb20gXCJ0eXBlc2NyaXB0LWNvb2tpZVwiXG5pbXBvcnQgeyBNQVJLRVRJTkdfQ09PS0lFX05BTUUsIGdldE1hcmtldGluZ0Nvb2tpZSwgc2V0TWFya2V0aW5nQ29va2llIH0gZnJvbSBcIi4uL21hcmtldGluZ0Nvb2tpZVwiXG5cbmNvbnN0IG1vY2tHZXRDb29raWUgPSBnZXRDb29raWUgYXMgamVzdC5Nb2NrXG5jb25zdCBtb2NrU2V0Q29va2llID0gc2V0Q29va2llIGFzIGplc3QuTW9ja1xuXG5qZXN0Lm1vY2soXCJ0eXBlc2NyaXB0LWNvb2tpZVwiLCAoKSA9PiAoe1xuICBnZXRDb29raWU6IGplc3QuZm4oKSxcbiAgc2V0Q29va2llOiBqZXN0LmZuKCksXG59KSlcblxuZGVzY3JpYmUoXCJzZXRNYXJrZXRpbmdDb29raWVcIiwgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGl0KFwic2hvdWxkIGdldCBiYWNrIGEgZGVmYXVsdCBvYmplY3RcIiwgKCkgPT4ge1xuICAgIGV4cGVjdChnZXRNYXJrZXRpbmdDb29raWUoKSkudG9FcXVhbCh7fSlcbiAgfSlcblxuICBpdChcInNob3VsZCBjYWxsIHRoZSBzZXRDb29raWVcIiwgKCkgPT4ge1xuICAgIHNldE1hcmtldGluZ0Nvb2tpZSh0cnVlLCBcIjEyM1wiKVxuICAgIGV4cGVjdChtb2NrR2V0Q29va2llKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChNQVJLRVRJTkdfQ09PS0lFX05BTUUpXG4gICAgZXhwZWN0KG1vY2tTZXRDb29raWUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKE1BUktFVElOR19DT09LSUVfTkFNRSwgZXhwZWN0LmFueShTdHJpbmcpLCB7XG4gICAgICBkb21haW46IFwiLmJpZ2RhdGEuY29tXCIsXG4gICAgICBwYXRoOiBcIi9cIixcbiAgICAgIHNlY3VyZTogdHJ1ZSxcbiAgICB9KVxuICB9KVxufSlcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsImdldENvb2tpZSIsImZuIiwic2V0Q29va2llIiwibW9ja0dldENvb2tpZSIsIm1vY2tTZXRDb29raWUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJleHBlY3QiLCJnZXRNYXJrZXRpbmdDb29raWUiLCJ0b0VxdWFsIiwic2V0TWFya2V0aW5nQ29va2llIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJNQVJLRVRJTkdfQ09PS0lFX05BTUUiLCJhbnkiLCJTdHJpbmciLCJkb21haW4iLCJwYXRoIiwic2VjdXJlIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7QUFNQUEsS0FBS0MsSUFBSSxDQUFDLHFCQUFxQixJQUFPLENBQUE7UUFDcENDLFdBQVdGLEtBQUtHLEVBQUU7UUFDbEJDLFdBQVdKLEtBQUtHLEVBQUU7SUFDcEIsQ0FBQTs7OztrQ0FUcUM7aUNBQ3lDO0FBRTlFLE1BQU1FLGdCQUFnQkgsMkJBQVM7QUFDL0IsTUFBTUksZ0JBQWdCRiwyQkFBUztBQU8vQkcsU0FBUyxzQkFBc0I7SUFDN0JDLFdBQVc7UUFDVFIsS0FBS1MsYUFBYTtJQUNwQjtJQUVBQyxHQUFHLG9DQUFvQztRQUNyQ0MsT0FBT0MsSUFBQUEsbUNBQWtCLEtBQUlDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDO0lBRUFILEdBQUcsNkJBQTZCO1FBQzlCSSxJQUFBQSxtQ0FBa0IsRUFBQyxNQUFNO1FBQ3pCSCxPQUFPTixlQUFlVSxvQkFBb0IsQ0FBQ0Msc0NBQXFCO1FBQ2hFTCxPQUFPTCxlQUFlUyxvQkFBb0IsQ0FBQ0Msc0NBQXFCLEVBQUVMLE9BQU9NLEdBQUcsQ0FBQ0MsU0FBUztZQUNwRkMsUUFBUTtZQUNSQyxNQUFNO1lBQ05DLFFBQVE7UUFDVjtJQUNGO0FBQ0YifQ==