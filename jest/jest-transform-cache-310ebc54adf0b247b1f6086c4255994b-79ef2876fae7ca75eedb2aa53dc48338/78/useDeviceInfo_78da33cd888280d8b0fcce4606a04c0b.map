{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/hooks/src/useDeviceInfo.ts"],"sourcesContent":["import UAParser from \"ua-parser-js\"\nimport { useMediaQuery } from \"@mui/material\"\nimport { useTheme } from \"@mui/material/styles\"\n\nconst useDeviceInfo = () => {\n  const theme = useTheme()\n\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"))\n  const isSmallMobile = useMediaQuery(theme.breakpoints.down(\"smallMobile\"))\n  const isWideScreen = useMediaQuery(theme.breakpoints.up(\"xl\"))\n  const isHoverDevice = useMediaQuery(\"(hover: hover)\")\n  const isPortrait = useMediaQuery(\"(orientation: portrait)\")\n\n  const userAgent = window.navigator.userAgent\n\n  const parser = new UAParser(userAgent)\n\n  const browser = parser.getBrowser().name || \"\"\n  const OS = parser.getOS().name || \"\"\n\n  const isIpad = parser.getDevice().model === \"iPad\"\n  const isIPhone = parser.getDevice().model === \"iPhone\"\n\n  const isIOS = isIpad || isIPhone\n  const isAndroid = parser.getOS().name === \"Android\"\n  const isMacOS = /Mac OS/i.test(OS)\n  const isSafari = /Safari/i.test(browser)\n\n  const isPWA = useMediaQuery(\"(display-mode: standalone)\")\n\n  // Everything below is to try and fix Armando's iPhone in PWA.\n  // The bottom nav sometimes looses its bottom padding from env(safe-area-inset-bottom)...\n  // ...and the bottom nav is not clickable and too low.\n  // This is a hack to remember the initial value and keep using it.\n\n  const sat = getComputedStyle(document.documentElement).getPropertyValue(\"--sat\")\n  const sar = getComputedStyle(document.documentElement).getPropertyValue(\"--sar\")\n  const sab = getComputedStyle(document.documentElement).getPropertyValue(\"--sab\")\n  const sal = getComputedStyle(document.documentElement).getPropertyValue(\"--sal\")\n  const test = getComputedStyle(document.documentElement).getPropertyValue(\"--test\")\n\n  const safeArea = {\n    top: sat,\n    right: sar,\n    bottom: isIOS && isPWA ? \"34px\" : sab,\n    left: sal,\n    test: test,\n  }\n\n  return {\n    isAndroid,\n    isMobile,\n    isWideScreen,\n    isHoverDevice,\n    isIOS,\n    isSafari,\n    isPWA,\n    isMacOS,\n    isIPhone,\n    isIpad,\n    safeArea,\n    isPortrait,\n    isSmallMobile,\n  }\n}\n\nexport { useDeviceInfo }\n"],"names":["useDeviceInfo","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","isSmallMobile","isWideScreen","up","isHoverDevice","isPortrait","userAgent","window","navigator","parser","UAParser","browser","getBrowser","name","OS","getOS","isIpad","getDevice","model","isIPhone","isIOS","isAndroid","isMacOS","test","isSafari","isPWA","sat","getComputedStyle","document","documentElement","getPropertyValue","sar","sab","sal","safeArea","top","right","bottom","left"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAkESA;;;eAAAA;;;mEAlEY;0BACS;wBACL;;;;;;AAEzB,MAAMA,gBAAgB;IACpB,MAAMC,QAAQC,IAAAA,gBAAQ;IAEtB,MAAMC,WAAWC,IAAAA,uBAAa,EAACH,MAAMI,WAAW,CAACC,IAAI,CAAC;IACtD,MAAMC,gBAAgBH,IAAAA,uBAAa,EAACH,MAAMI,WAAW,CAACC,IAAI,CAAC;IAC3D,MAAME,eAAeJ,IAAAA,uBAAa,EAACH,MAAMI,WAAW,CAACI,EAAE,CAAC;IACxD,MAAMC,gBAAgBN,IAAAA,uBAAa,EAAC;IACpC,MAAMO,aAAaP,IAAAA,uBAAa,EAAC;IAEjC,MAAMQ,YAAYC,OAAOC,SAAS,CAACF,SAAS;IAE5C,MAAMG,SAAS,IAAIC,mBAAQ,CAACJ;IAE5B,MAAMK,UAAUF,OAAOG,UAAU,GAAGC,IAAI,IAAI;IAC5C,MAAMC,KAAKL,OAAOM,KAAK,GAAGF,IAAI,IAAI;IAElC,MAAMG,SAASP,OAAOQ,SAAS,GAAGC,KAAK,KAAK;IAC5C,MAAMC,WAAWV,OAAOQ,SAAS,GAAGC,KAAK,KAAK;IAE9C,MAAME,QAAQJ,UAAUG;IACxB,MAAME,YAAYZ,OAAOM,KAAK,GAAGF,IAAI,KAAK;IAC1C,MAAMS,UAAU,UAAUC,IAAI,CAACT;IAC/B,MAAMU,WAAW,UAAUD,IAAI,CAACZ;IAEhC,MAAMc,QAAQ3B,IAAAA,uBAAa,EAAC;IAE5B,8DAA8D;IAC9D,yFAAyF;IACzF,sDAAsD;IACtD,kEAAkE;IAElE,MAAM4B,MAAMC,iBAAiBC,SAASC,eAAe,EAAEC,gBAAgB,CAAC;IACxE,MAAMC,MAAMJ,iBAAiBC,SAASC,eAAe,EAAEC,gBAAgB,CAAC;IACxE,MAAME,MAAML,iBAAiBC,SAASC,eAAe,EAAEC,gBAAgB,CAAC;IACxE,MAAMG,MAAMN,iBAAiBC,SAASC,eAAe,EAAEC,gBAAgB,CAAC;IACxE,MAAMP,OAAOI,iBAAiBC,SAASC,eAAe,EAAEC,gBAAgB,CAAC;IAEzE,MAAMI,WAAW;QACfC,KAAKT;QACLU,OAAOL;QACPM,QAAQjB,SAASK,QAAQ,SAASO;QAClCM,MAAML;QACNV,MAAMA;IACR;IAEA,OAAO;QACLF;QACAxB;QACAK;QACAE;QACAgB;QACAI;QACAC;QACAH;QACAH;QACAH;QACAkB;QACA7B;QACAJ;IACF;AACF"}