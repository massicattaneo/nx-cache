{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/GenericModal/GenericModal.tsx"],"sourcesContent":["import { PropsWithChildren, ReactNode, useEffect } from \"react\"\nimport { useDisableIOSTouch } from \"@rp/react/web/common/hooks\"\nimport { Box, Button, ButtonProps, CircularProgress } from \"@rp/react/web/mui/core\"\nimport { ModalStyled } from \"./GenericModal.styles\"\nimport { GenericModalHeader } from \"./GenericModalHeader\"\nimport { GenericModalWrapper } from \"./GenericModalWrapper\"\n\ntype Props = PropsWithChildren & {\n  onAccept: (event: React.FormEvent<HTMLFormElement>) => void | Promise<void>\n  onClose: () => void\n  onCancel?: () => void\n  open: boolean\n  title?: ReactNode\n  titleMultiline?: boolean\n  loading?: boolean\n  loadingButtons?: boolean\n  AcceptProps?: {\n    disabled?: boolean\n    text?: string\n    variant?: ButtonProps[\"variant\"]\n  }\n  CancelProps?: {\n    disabled?: boolean\n    text?: string\n    variant?: ButtonProps[\"variant\"]\n  }\n}\n\nconst GenericModal = ({\n  loading,\n  onAccept,\n  onClose,\n  onCancel,\n  open,\n  title = \"Confirm\",\n  loadingButtons = false,\n  AcceptProps,\n  CancelProps,\n  children,\n  titleMultiline,\n}: Props) => {\n  const { variant: AcceptVariant = \"contained\" } = AcceptProps || {}\n  useDisableIOSTouch(open)\n\n  // Remove scrolling when modals are open on mobile IOS devices.\n  useEffect(() => {\n    const body = document.body\n    if (open) {\n      body.style.touchAction = \"none\"\n    }\n    return () => {\n      body.style.touchAction = \"\"\n    }\n  }, [open])\n\n  return (\n    <GenericModalWrapper isOpen={open} handleClose={onClose}>\n      <ModalStyled>\n        <GenericModalHeader titleMultiline={titleMultiline} title={title} handleClose={onClose} />\n        {loading ? (\n          <Box sx={{ p: 3 }}>\n            <CircularProgress style={{ margin: \"0 auto\", display: \"block\" }} />\n          </Box>\n        ) : (\n          <Box sx={{ pt: 2 }}>\n            <form\n              onSubmit={ev => {\n                ev.preventDefault()\n                onAccept(ev)\n              }}\n            >\n              <Box sx={{ fontSize: 16 }}>{children}</Box>\n              {loadingButtons ? (\n                <Box>\n                  <CircularProgress\n                    data-testid=\"dialog-buttons-loading-spinner\"\n                    size={24}\n                    style={{ margin: \"10px 22px 7px 0\", display: \"block\" }}\n                  />\n                </Box>\n              ) : (\n                <Box>\n                  <Button\n                    onClick={onCancel ?? onClose}\n                    variant={CancelProps?.variant}\n                    disabled={CancelProps?.disabled}\n                    color=\"inherit\"\n                    data-testid=\"dialog-close-button\"\n                  >\n                    {CancelProps?.text ?? \"Cancel\"}\n                  </Button>\n                  <Button\n                    autoFocus\n                    variant={AcceptVariant}\n                    disabled={AcceptProps?.disabled}\n                    data-testid=\"dialog-accept-button\"\n                    type=\"submit\"\n                  >\n                    {AcceptProps?.text ?? \"OK\"}\n                  </Button>\n                </Box>\n              )}\n            </form>\n          </Box>\n        )}\n      </ModalStyled>\n    </GenericModalWrapper>\n  )\n}\n\nexport { GenericModal }\n"],"names":["GenericModal","loading","onAccept","onClose","onCancel","open","title","loadingButtons","AcceptProps","CancelProps","children","titleMultiline","variant","AcceptVariant","useDisableIOSTouch","useEffect","body","document","style","touchAction","GenericModalWrapper","isOpen","handleClose","ModalStyled","GenericModalHeader","Box","sx","p","CircularProgress","margin","display","pt","form","onSubmit","ev","preventDefault","fontSize","data-testid","size","Button","onClick","disabled","color","text","autoFocus","type"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA8GSA;;;eAAAA;;;;uBA9G+C;uBACrB;sBACwB;oCAC/B;oCACO;qCACC;AAuBpC,MAAMA,eAAe,CAAC,EACpBC,OAAO,EACPC,QAAQ,EACRC,OAAO,EACPC,QAAQ,EACRC,IAAI,EACJC,QAAQ,SAAS,EACjBC,iBAAiB,KAAK,EACtBC,WAAW,EACXC,WAAW,EACXC,QAAQ,EACRC,cAAc,EACR;IACN,MAAM,EAAEC,SAASC,gBAAgB,WAAW,EAAE,GAAGL,eAAe,CAAC;IACjEM,IAAAA,yBAAkB,EAACT;IAEnB,+DAA+D;IAC/DU,IAAAA,gBAAS,EAAC;QACR,MAAMC,OAAOC,SAASD,IAAI;QAC1B,IAAIX,MAAM;YACRW,KAAKE,KAAK,CAACC,WAAW,GAAG;QAC3B;QACA,OAAO;YACLH,KAAKE,KAAK,CAACC,WAAW,GAAG;QAC3B;IACF,GAAG;QAACd;KAAK;QAoCUI,mBASAD;IA3CnB,qBACE,qBAACY,wCAAmB;QAACC,QAAQhB;QAAMiB,aAAanB;kBAC9C,cAAA,sBAACoB,+BAAW;;8BACV,qBAACC,sCAAkB;oBAACb,gBAAgBA;oBAAgBL,OAAOA;oBAAOgB,aAAanB;;gBAC9EF,wBACC,qBAACwB,SAAG;oBAACC,IAAI;wBAAEC,GAAG;oBAAE;8BACd,cAAA,qBAACC,sBAAgB;wBAACV,OAAO;4BAAEW,QAAQ;4BAAUC,SAAS;wBAAQ;;mCAGhE,qBAACL,SAAG;oBAACC,IAAI;wBAAEK,IAAI;oBAAE;8BACf,cAAA,sBAACC;wBACCC,UAAUC,CAAAA;4BACRA,GAAGC,cAAc;4BACjBjC,SAASgC;wBACX;;0CAEA,qBAACT,SAAG;gCAACC,IAAI;oCAAEU,UAAU;gCAAG;0CAAI1B;;4BAC3BH,+BACC,qBAACkB,SAAG;0CACF,cAAA,qBAACG,sBAAgB;oCACfS,eAAY;oCACZC,MAAM;oCACNpB,OAAO;wCAAEW,QAAQ;wCAAmBC,SAAS;oCAAQ;;+CAIzD,sBAACL,SAAG;;kDACF,qBAACc,YAAM;wCACLC,SAASpC,qBAAAA,sBAAAA,WAAYD;wCACrBS,OAAO,EAAEH,wBAAAA,kCAAAA,YAAaG,OAAO;wCAC7B6B,QAAQ,EAAEhC,wBAAAA,kCAAAA,YAAagC,QAAQ;wCAC/BC,OAAM;wCACNL,eAAY;kDAEX5B,CAAAA,oBAAAA,wBAAAA,kCAAAA,YAAakC,IAAI,cAAjBlC,+BAAAA,oBAAqB;;kDAExB,qBAAC8B,YAAM;wCACLK,SAAS;wCACThC,SAASC;wCACT4B,QAAQ,EAAEjC,wBAAAA,kCAAAA,YAAaiC,QAAQ;wCAC/BJ,eAAY;wCACZQ,MAAK;kDAEJrC,CAAAA,oBAAAA,wBAAAA,kCAAAA,YAAamC,IAAI,cAAjBnC,+BAAAA,oBAAqB;;;;;;;;;;AAU1C"}