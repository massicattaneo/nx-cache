{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistUploadModal/WatchlistUploadModalContainer.tsx"],"sourcesContent":["import { PropsWithChildren } from \"react\"\nimport { Watchlist } from \"@rp/common/api-types\"\nimport {\n  BatchEntitySuggestion,\n  WatchlistBatchSuggestionPostResponseExtended,\n} from \"@rp/react/tanstack-api/suggestion\"\nimport {\n  GenericModalHeader,\n  GenericModalWrapper,\n  ModalStyled,\n} from \"@rp/react/web/common/composite-components\"\nimport { Box, CircularProgress, Typography } from \"@rp/react/web/mui/core\"\nimport { WatchlistsUploadDropZone } from \"../WatchlistsUploadDropZone\"\nimport { WatchlistUploadData } from \"./WatchlistUploadData\"\nimport { WatchlistUploadError } from \"./WatchlistUploadError\"\nimport { WatchlistUploadInstructions } from \"./WatchlistUploadInstructions\"\n\nconst CenteredContainer = ({ children }: PropsWithChildren) => {\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        height: \"100%\",\n      }}\n    >\n      {children}\n    </Box>\n  )\n}\n\ntype OnSubmitStats = {\n  conflicts: {\n    deleted: number\n    resolved: number\n    unresolved: number\n  }\n  matched: {\n    deleted: number\n    modified: number\n    unmodified: number\n  }\n}\nexport type OnSubmit = (ids: Array<BatchEntitySuggestion>, stats: OnSubmitStats) => void\n\ntype Props = {\n  open: boolean\n  onClose: () => void\n  isUploading: boolean\n  error?: Error | null\n  onBrowse: () => void\n  onDropFiles: (files: Array<File>) => void\n  onFilesRejected?: (props: { error: Error }) => void\n  data: WatchlistBatchSuggestionPostResponseExtended | null\n  watchlist: Watchlist\n  onSubmit: OnSubmit\n}\nexport const WatchlistUploadModalContainer = ({\n  open,\n  onClose,\n  isUploading,\n  onBrowse,\n  error,\n  onDropFiles,\n  onFilesRejected,\n  data,\n  watchlist,\n  onSubmit,\n}: Props) => {\n  if (!open) return null\n  return (\n    <GenericModalWrapper isOpen={open} handleClose={onClose}>\n      <Box sx={{ position: \"relative\" }}>\n        <WatchlistsUploadDropZone\n          centerContent\n          onDropFiles={onDropFiles}\n          onFilesRejected={onFilesRejected}\n        >\n          <ModalStyled sx={{ width: 960 }}>\n            <GenericModalHeader title={data ? \"Upload List\" : \"\"} handleClose={onClose} />\n            <Box sx={{ height: 555 }}>\n              {error && (\n                <CenteredContainer>\n                  <WatchlistUploadError error={error} />\n                </CenteredContainer>\n              )}\n              {isUploading && !error && !data && (\n                <CenteredContainer>\n                  <CircularProgress size=\"24px\" color=\"primary\" />\n                  <Typography sx={{ mt: 2 }}>Analyzing your file</Typography>\n                </CenteredContainer>\n              )}\n              {!isUploading && !error && !data && (\n                <WatchlistUploadInstructions onBrowse={onBrowse} />\n              )}\n              {data && (\n                <WatchlistUploadData\n                  onSubmit={onSubmit}\n                  onClose={onClose}\n                  data={data}\n                  watchlist={watchlist}\n                />\n              )}\n            </Box>\n          </ModalStyled>\n        </WatchlistsUploadDropZone>\n      </Box>\n    </GenericModalWrapper>\n  )\n}\n"],"names":["WatchlistUploadModalContainer","CenteredContainer","children","Box","sx","display","justifyContent","alignItems","flexDirection","height","open","onClose","isUploading","onBrowse","error","onDropFiles","onFilesRejected","data","watchlist","onSubmit","GenericModalWrapper","isOpen","handleClose","position","WatchlistsUploadDropZone","centerContent","ModalStyled","width","GenericModalHeader","title","WatchlistUploadError","CircularProgress","size","color","Typography","mt","WatchlistUploadInstructions","WatchlistUploadData"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA2DaA;;;eAAAA;;;;qCAjDN;sBAC2C;0CACT;qCACL;sCACC;6CACO;AAE5C,MAAMC,oBAAoB,CAAC,EAAEC,QAAQ,EAAqB;IACxD,qBACE,qBAACC,SAAG;QACFC,IAAI;YACFC,SAAS;YACTC,gBAAgB;YAChBC,YAAY;YACZC,eAAe;YACfC,QAAQ;QACV;kBAECP;;AAGP;AA4BO,MAAMF,gCAAgC,CAAC,EAC5CU,IAAI,EACJC,OAAO,EACPC,WAAW,EACXC,QAAQ,EACRC,KAAK,EACLC,WAAW,EACXC,eAAe,EACfC,IAAI,EACJC,SAAS,EACTC,QAAQ,EACF;IACN,IAAI,CAACT,MAAM,OAAO;IAClB,qBACE,qBAACU,wCAAmB;QAACC,QAAQX;QAAMY,aAAaX;kBAC9C,cAAA,qBAACR,SAAG;YAACC,IAAI;gBAAEmB,UAAU;YAAW;sBAC9B,cAAA,qBAACC,kDAAwB;gBACvBC,aAAa;gBACbV,aAAaA;gBACbC,iBAAiBA;0BAEjB,cAAA,sBAACU,gCAAW;oBAACtB,IAAI;wBAAEuB,OAAO;oBAAI;;sCAC5B,qBAACC,uCAAkB;4BAACC,OAAOZ,OAAO,gBAAgB;4BAAIK,aAAaX;;sCACnE,sBAACR,SAAG;4BAACC,IAAI;gCAAEK,QAAQ;4BAAI;;gCACpBK,uBACC,qBAACb;8CACC,cAAA,qBAAC6B,0CAAoB;wCAAChB,OAAOA;;;gCAGhCF,eAAe,CAACE,SAAS,CAACG,sBACzB,sBAAChB;;sDACC,qBAAC8B,sBAAgB;4CAACC,MAAK;4CAAOC,OAAM;;sDACpC,qBAACC,gBAAU;4CAAC9B,IAAI;gDAAE+B,IAAI;4CAAE;sDAAG;;;;gCAG9B,CAACvB,eAAe,CAACE,SAAS,CAACG,sBAC1B,qBAACmB,wDAA2B;oCAACvB,UAAUA;;gCAExCI,sBACC,qBAACoB,wCAAmB;oCAClBlB,UAAUA;oCACVR,SAASA;oCACTM,MAAMA;oCACNC,WAAWA;;;;;;;;;AAS7B"}