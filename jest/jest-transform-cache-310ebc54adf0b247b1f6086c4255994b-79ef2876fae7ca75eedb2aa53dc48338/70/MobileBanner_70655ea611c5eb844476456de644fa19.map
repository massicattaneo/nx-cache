{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/MobileBanner/MobileBanner.tsx"],"sourcesContent":["import { useEffect } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { BigdataIconWhite } from \"@rp/react/common/assets\"\nimport { promptMobileWebCustomerIo } from \"@rp/react/common/customer-io\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport {\n  Box,\n  Button,\n  Card,\n  IconButton,\n  Slide,\n  Stack,\n  Typography,\n  useTheme,\n} from \"@rp/react/web/mui/core\"\nimport { Android, Apple, Close } from \"@rp/react/web/mui/icons\"\n\ntype Props = {\n  isVisible: boolean\n  onClose: () => void\n  deepLinkURL: string\n}\n\nconst MobileBanner = ({ deepLinkURL, isVisible, onClose }: Props) => {\n  const theme = useTheme()\n  const { t } = useTranslation()\n  const { isAndroid, isIOS } = useDeviceInfo()\n\n  useEffect(() => {\n    if (isVisible) {\n      return promptMobileWebCustomerIo.sendPromptMobileWebInteraction({\n        action: \"promptShown\",\n        promptType: \"banner\",\n        URL: deepLinkURL,\n      })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isVisible])\n\n  const handleSOIconButton = () => {\n    if (isAndroid) return <Android />\n    if (isIOS) return <Apple />\n    return null\n  }\n\n  const handleOnCloseBanner = () => {\n    promptMobileWebCustomerIo.sendPromptMobileWebInteraction({\n      action: \"dismiss\",\n      promptType: \"banner\",\n      URL: deepLinkURL,\n    })\n    onClose()\n  }\n\n  const handleGetAppButtonClick = () => {\n    promptMobileWebCustomerIo.sendPromptMobileWebInteraction({\n      action: \"getApp\",\n      promptType: \"banner\",\n      URL: deepLinkURL,\n    })\n    window.open(deepLinkURL, \"_blank\", \"noopener,noreferrer\")\n  }\n\n  return (\n    <Slide direction=\"down\" in={isVisible} mountOnEnter unmountOnExit>\n      <Card\n        sx={{\n          bgcolor: theme.palette.background.default,\n          p: \"9px\",\n          pr: \"16px\",\n          width: \"100%\",\n        }}\n      >\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent={\"space-between\"} spacing={2}>\n          <Box display={\"flex\"} alignItems={\"center\"} gap={1}>\n            <IconButton\n              size=\"small\"\n              sx={{\n                color: theme.palette.textColor[200],\n                width: \"28px\",\n                height: \"28px\",\n              }}\n              onClick={handleOnCloseBanner}\n            >\n              <Close fontSize=\"small\" />\n            </IconButton>\n\n            <Box\n              display={\"flex\"}\n              alignItems={\"center\"}\n              justifyContent={\"center\"}\n              p={\"8px\"}\n              width={40}\n              height={40}\n              bgcolor={theme.palette.primary.dark}\n              borderRadius={1}\n            >\n              <BigdataIconWhite width={24} height={24} />\n            </Box>\n\n            <Box>\n              <Typography\n                fontSize={\"12px\"}\n                fontWeight={600}\n                lineHeight={\"22px\"}\n                color={theme.palette.textColor[200]}\n                sx={{\n                  fontFamily: \"'Hanken Grotesk', sans-serif !important\",\n                }}\n              >\n                {t(\"mobileOnboardingPage.mobileBanner.title\")}\n              </Typography>\n              <Typography\n                variant=\"caption\"\n                color={theme.palette.textColor[200]}\n                fontSize={\"12px\"}\n                lineHeight={\"18px\"}\n                sx={{\n                  fontFamily: \"'Hanken Grotesk', sans-serif !important\",\n                  display: \"block\",\n                  mt: 0.25,\n                }}\n              >\n                {t(\"mobileOnboardingPage.mobileBanner.description\")}\n              </Typography>\n            </Box>\n          </Box>\n\n          <Button\n            component=\"button\"\n            onClick={handleGetAppButtonClick}\n            variant=\"contained\"\n            size=\"medium\"\n            startIcon={handleSOIconButton()}\n            sx={{\n              bgcolor: theme.palette.primary.main,\n              borderRadius: \"4px\",\n              textTransform: \"none\",\n              minWidth: 120,\n              height: 36,\n              fontSize: \"14px\",\n              fontWeight: 500,\n            }}\n          >\n            {t(\"mobileOnboardingPage.mobileBanner.buttonLabel\")}\n          </Button>\n        </Stack>\n      </Card>\n    </Slide>\n  )\n}\n\nexport { MobileBanner }\n"],"names":["MobileBanner","deepLinkURL","isVisible","onClose","theme","useTheme","t","useTranslation","isAndroid","isIOS","useDeviceInfo","useEffect","promptMobileWebCustomerIo","sendPromptMobileWebInteraction","action","promptType","URL","handleSOIconButton","Android","Apple","handleOnCloseBanner","handleGetAppButtonClick","window","open","Slide","direction","in","mountOnEnter","unmountOnExit","Card","sx","bgcolor","palette","background","default","p","pr","width","Stack","alignItems","justifyContent","spacing","Box","display","gap","IconButton","size","color","textColor","height","onClick","Close","fontSize","primary","dark","borderRadius","BigdataIconWhite","Typography","fontWeight","lineHeight","fontFamily","variant","mt","Button","component","startIcon","main","textTransform","minWidth"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}