{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/source-selector/src/utils/toggleCategorySelectionFunc.ts"],"sourcesContent":["import { SetStateAction } from \"react\"\nimport { ContentCategory } from \"@rp/react/tanstack-api/content\"\nimport { SourceSelectorSelectedCategoryInfo } from \"../sourceSelector.types\"\n\ntype ToggleCategorySelectionFuncProps = {\n  e: React.MouseEvent<HTMLDivElement>\n  allContentCategories: Array<ContentCategory>\n  selectedCategories: Array<SourceSelectorSelectedCategoryInfo>\n  setSelectedCategories: (value: SetStateAction<Array<SourceSelectorSelectedCategoryInfo>>) => void\n}\n\nfunction toggleCategorySelectionFunc({\n  e,\n  selectedCategories,\n  setSelectedCategories,\n  allContentCategories,\n}: ToggleCategorySelectionFuncProps) {\n  const id = e.currentTarget.getAttribute(\"data-id\")\n\n  if (!id) return\n\n  const idx = selectedCategories.findIndex(category => category.id === id)\n\n  if (idx !== -1) {\n    setSelectedCategories(prev => [...prev.slice(0, idx), ...prev.slice(idx + 1)])\n    return\n  }\n\n  const newCategory = allContentCategories.find(contentCategory => contentCategory.id === id)\n\n  if (!newCategory) return\n\n  const newCategorySelection: SourceSelectorSelectedCategoryInfo = {\n    id,\n    name: newCategory.name,\n  }\n\n  setSelectedCategories(prev => [newCategorySelection, ...prev])\n}\n\nexport { toggleCategorySelectionFunc }\n"],"names":["toggleCategorySelectionFunc","e","selectedCategories","setSelectedCategories","allContentCategories","id","currentTarget","getAttribute","idx","findIndex","category","prev","slice","newCategory","find","contentCategory","newCategorySelection","name"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAwCSA;;;eAAAA;;;AA7BT,SAASA,4BAA4B,EACnCC,CAAC,EACDC,kBAAkB,EAClBC,qBAAqB,EACrBC,oBAAoB,EACa;IACjC,MAAMC,KAAKJ,EAAEK,aAAa,CAACC,YAAY,CAAC;IAExC,IAAI,CAACF,IAAI;IAET,MAAMG,MAAMN,mBAAmBO,SAAS,CAACC,CAAAA,WAAYA,SAASL,EAAE,KAAKA;IAErE,IAAIG,QAAQ,CAAC,GAAG;QACdL,sBAAsBQ,CAAAA,OAAQ;mBAAIA,KAAKC,KAAK,CAAC,GAAGJ;mBAASG,KAAKC,KAAK,CAACJ,MAAM;aAAG;QAC7E;IACF;IAEA,MAAMK,cAAcT,qBAAqBU,IAAI,CAACC,CAAAA,kBAAmBA,gBAAgBV,EAAE,KAAKA;IAExF,IAAI,CAACQ,aAAa;IAElB,MAAMG,uBAA2D;QAC/DX;QACAY,MAAMJ,YAAYI,IAAI;IACxB;IAEAd,sBAAsBQ,CAAAA,OAAQ;YAACK;eAAyBL;SAAK;AAC/D"}