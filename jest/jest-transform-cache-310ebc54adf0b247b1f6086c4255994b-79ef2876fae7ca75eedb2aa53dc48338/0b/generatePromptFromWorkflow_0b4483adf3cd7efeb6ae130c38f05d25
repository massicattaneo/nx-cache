103da9116cea773fdf74756dd0eea201
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "generatePromptFromWorkflow", {
    enumerable: true,
    get: function() {
        return generatePromptFromWorkflow;
    }
});
const _utils = require("@rp/common/utils");
const _generateWorkflowTitle = require("./generateWorkflowTitle");
const generatePromptFromWorkflow = (workflow)=>{
    var _workflow_selectedData_selectedCompanies_, _workflow_selectedData_selectedCompanies, _workflow_selectedData, _workflow_selectedData1, _workflow_selectedData_selectedCompanies_1, _workflow_selectedData_selectedCompanies1, _workflow_selectedData2, _workflow_selectedData3;
    var _workflow_selectedData_selectedCompanies__name, _workflow_selectedData_selectedSector;
    return {
        prompt: (0, _utils.replacePlaceholder)(workflow.originWorkflow.input_message, {
            entity: (_workflow_selectedData_selectedCompanies__name = (_workflow_selectedData = workflow.selectedData) === null || _workflow_selectedData === void 0 ? void 0 : (_workflow_selectedData_selectedCompanies = _workflow_selectedData.selectedCompanies) === null || _workflow_selectedData_selectedCompanies === void 0 ? void 0 : (_workflow_selectedData_selectedCompanies_ = _workflow_selectedData_selectedCompanies[0]) === null || _workflow_selectedData_selectedCompanies_ === void 0 ? void 0 : _workflow_selectedData_selectedCompanies_.name) !== null && _workflow_selectedData_selectedCompanies__name !== void 0 ? _workflow_selectedData_selectedCompanies__name : "",
            sector: (_workflow_selectedData_selectedSector = (_workflow_selectedData1 = workflow.selectedData) === null || _workflow_selectedData1 === void 0 ? void 0 : _workflow_selectedData1.selectedSector) !== null && _workflow_selectedData_selectedSector !== void 0 ? _workflow_selectedData_selectedSector : ""
        }),
        customTitle: (0, _generateWorkflowTitle.generateWorkflowTitle)(workflow.originWorkflow.flowName, (_workflow_selectedData2 = workflow.selectedData) === null || _workflow_selectedData2 === void 0 ? void 0 : (_workflow_selectedData_selectedCompanies1 = _workflow_selectedData2.selectedCompanies) === null || _workflow_selectedData_selectedCompanies1 === void 0 ? void 0 : (_workflow_selectedData_selectedCompanies_1 = _workflow_selectedData_selectedCompanies1[0]) === null || _workflow_selectedData_selectedCompanies_1 === void 0 ? void 0 : _workflow_selectedData_selectedCompanies_1.name),
        replaceState: true,
        interactionType: "flow",
        entities: (_workflow_selectedData3 = workflow.selectedData) === null || _workflow_selectedData3 === void 0 ? void 0 : _workflow_selectedData3.selectedCompanies
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL3dvcmtmbG93L3NyYy9saWIvZ2VuZXJhdGVQcm9tcHRGcm9tV29ya2Zsb3cudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVwbGFjZVBsYWNlaG9sZGVyIH0gZnJvbSBcIkBycC9jb21tb24vdXRpbHNcIlxuaW1wb3J0IHsgV29ya2Zsb3dTdGF0ZSB9IGZyb20gXCIuL1dvcmtmbG93LnR5cGVzXCJcbmltcG9ydCB7IGdlbmVyYXRlV29ya2Zsb3dUaXRsZSB9IGZyb20gXCIuL2dlbmVyYXRlV29ya2Zsb3dUaXRsZVwiXG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVByb21wdEZyb21Xb3JrZmxvdyA9ICh3b3JrZmxvdzogV29ya2Zsb3dTdGF0ZSkgPT4ge1xuICByZXR1cm4ge1xuICAgIHByb21wdDogcmVwbGFjZVBsYWNlaG9sZGVyKHdvcmtmbG93Lm9yaWdpbldvcmtmbG93LmlucHV0X21lc3NhZ2UsIHtcbiAgICAgIGVudGl0eTogd29ya2Zsb3cuc2VsZWN0ZWREYXRhPy5zZWxlY3RlZENvbXBhbmllcz8uWzBdPy5uYW1lID8/IFwiXCIsXG4gICAgICBzZWN0b3I6IHdvcmtmbG93LnNlbGVjdGVkRGF0YT8uc2VsZWN0ZWRTZWN0b3IgPz8gXCJcIixcbiAgICB9KSxcbiAgICBjdXN0b21UaXRsZTogZ2VuZXJhdGVXb3JrZmxvd1RpdGxlKFxuICAgICAgd29ya2Zsb3cub3JpZ2luV29ya2Zsb3cuZmxvd05hbWUsXG4gICAgICB3b3JrZmxvdy5zZWxlY3RlZERhdGE/LnNlbGVjdGVkQ29tcGFuaWVzPy5bMF0/Lm5hbWUsXG4gICAgKSxcbiAgICByZXBsYWNlU3RhdGU6IHRydWUsXG4gICAgaW50ZXJhY3Rpb25UeXBlOiBcImZsb3dcIiBhcyBjb25zdCxcbiAgICBlbnRpdGllczogd29ya2Zsb3cuc2VsZWN0ZWREYXRhPy5zZWxlY3RlZENvbXBhbmllcyxcbiAgfVxufVxuIl0sIm5hbWVzIjpbImdlbmVyYXRlUHJvbXB0RnJvbVdvcmtmbG93Iiwid29ya2Zsb3ciLCJwcm9tcHQiLCJyZXBsYWNlUGxhY2Vob2xkZXIiLCJvcmlnaW5Xb3JrZmxvdyIsImlucHV0X21lc3NhZ2UiLCJlbnRpdHkiLCJzZWxlY3RlZERhdGEiLCJzZWxlY3RlZENvbXBhbmllcyIsIm5hbWUiLCJzZWN0b3IiLCJzZWxlY3RlZFNlY3RvciIsImN1c3RvbVRpdGxlIiwiZ2VuZXJhdGVXb3JrZmxvd1RpdGxlIiwiZmxvd05hbWUiLCJyZXBsYWNlU3RhdGUiLCJpbnRlcmFjdGlvblR5cGUiLCJlbnRpdGllcyJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7OytCQUlhQTs7O2VBQUFBOzs7dUJBSnNCO3VDQUVHO0FBRS9CLE1BQU1BLDZCQUE2QixDQUFDQztRQUc3QkEsMkNBQUFBLDBDQUFBQSx3QkFDQUEseUJBSVJBLDRDQUFBQSwyQ0FBQUEseUJBSVFBO1FBVEFBLGdEQUNBQTtJQUhaLE9BQU87UUFDTEMsUUFBUUMsSUFBQUEseUJBQWtCLEVBQUNGLFNBQVNHLGNBQWMsQ0FBQ0MsYUFBYSxFQUFFO1lBQ2hFQyxRQUFRTCxDQUFBQSxrREFBQUEseUJBQUFBLFNBQVNNLFlBQVksY0FBckJOLDhDQUFBQSwyQ0FBQUEsdUJBQXVCTyxpQkFBaUIsY0FBeENQLGdFQUFBQSw0Q0FBQUEsd0NBQTBDLENBQUMsRUFBRSxjQUE3Q0EsZ0VBQUFBLDBDQUErQ1EsSUFBSSxjQUFuRFIsNERBQUFBLGlEQUF1RDtZQUMvRFMsUUFBUVQsQ0FBQUEseUNBQUFBLDBCQUFBQSxTQUFTTSxZQUFZLGNBQXJCTiw4Q0FBQUEsd0JBQXVCVSxjQUFjLGNBQXJDVixtREFBQUEsd0NBQXlDO1FBQ25EO1FBQ0FXLGFBQWFDLElBQUFBLDRDQUFxQixFQUNoQ1osU0FBU0csY0FBYyxDQUFDVSxRQUFRLEdBQ2hDYiwwQkFBQUEsU0FBU00sWUFBWSxjQUFyQk4sK0NBQUFBLDRDQUFBQSx3QkFBdUJPLGlCQUFpQixjQUF4Q1AsaUVBQUFBLDZDQUFBQSx5Q0FBMEMsQ0FBQyxFQUFFLGNBQTdDQSxpRUFBQUEsMkNBQStDUSxJQUFJO1FBRXJETSxjQUFjO1FBQ2RDLGlCQUFpQjtRQUNqQkMsUUFBUSxHQUFFaEIsMEJBQUFBLFNBQVNNLFlBQVksY0FBckJOLDhDQUFBQSx3QkFBdUJPLGlCQUFpQjtJQUNwRDtBQUNGIn0=