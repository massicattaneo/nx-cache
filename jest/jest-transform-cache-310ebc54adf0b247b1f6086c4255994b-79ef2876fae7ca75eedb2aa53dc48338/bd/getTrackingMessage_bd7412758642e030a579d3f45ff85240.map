{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/hooks/src/lib/useChat/getTrackingMessage.ts"],"sourcesContent":["import { adapters } from \"@rp/adapters\"\nimport { chatCustomerIo } from \"@rp/react/common/customer-io\"\nimport { LlmTracking, NativeDeviceAnalytics } from \"./useChat.types\"\n\nconst getTrackingMessage = (\n  nativeDeviceAnalytics?: NativeDeviceAnalytics,\n): LlmTracking | undefined => {\n  const customerIoMessage = chatCustomerIo.getMessage()\n  if (customerIoMessage === null) {\n    return\n  }\n  return {\n    files: customerIoMessage.files.map(file => ({\n      ownerId: file.ownerId,\n      fileId: file.id,\n      userIsOwner: file.ownerIsUser,\n    })),\n    watchlists: customerIoMessage.watchlists.map(watchlist => ({\n      ownerId: watchlist.ownerId,\n      watchlistId: watchlist.id,\n      userIsOwner: watchlist.ownerIsUser,\n    })),\n    promptTask: customerIoMessage.promptTask,\n    promptTopics: customerIoMessage.promptTopics,\n    status: customerIoMessage.status,\n    chatStartLocation: customerIoMessage.type,\n    followUpSuggestionIndex: customerIoMessage.followUpSuggestionIndex,\n    platform: adapters.platform.name,\n    platformType: adapters.platform.os,\n    promptContextLevel: customerIoMessage.promptContextLevel,\n    promptCategory: customerIoMessage.promptCategory,\n    promptCompanyType: customerIoMessage.promptCompanyType,\n    dataViewAtClick: customerIoMessage.dataViewAtClick,\n    clickedSuggestedPromptText: customerIoMessage.clickedSuggestedPromptText,\n    suggestedPromptClassification: customerIoMessage.suggestedPromptClassification,\n    ...nativeDeviceAnalytics,\n  }\n}\n\nexport { getTrackingMessage }\nexport type { NativeDeviceAnalytics }\n"],"names":["getTrackingMessage","nativeDeviceAnalytics","customerIoMessage","chatCustomerIo","getMessage","files","map","file","ownerId","fileId","id","userIsOwner","ownerIsUser","watchlists","watchlist","watchlistId","promptTask","promptTopics","status","chatStartLocation","type","followUpSuggestionIndex","platform","adapters","name","platformType","os","promptContextLevel","promptCategory","promptCompanyType","dataViewAtClick","clickedSuggestedPromptText","suggestedPromptClassification"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuCSA;;;eAAAA;;;0BAvCgB;4BACM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAG/B,MAAMA,qBAAqB,CACzBC;IAEA,MAAMC,oBAAoBC,0BAAc,CAACC,UAAU;IACnD,IAAIF,sBAAsB,MAAM;QAC9B;IACF;IACA,OAAO;QACLG,OAAOH,kBAAkBG,KAAK,CAACC,GAAG,CAACC,CAAAA,OAAS,CAAA;gBAC1CC,SAASD,KAAKC,OAAO;gBACrBC,QAAQF,KAAKG,EAAE;gBACfC,aAAaJ,KAAKK,WAAW;YAC/B,CAAA;QACAC,YAAYX,kBAAkBW,UAAU,CAACP,GAAG,CAACQ,CAAAA,YAAc,CAAA;gBACzDN,SAASM,UAAUN,OAAO;gBAC1BO,aAAaD,UAAUJ,EAAE;gBACzBC,aAAaG,UAAUF,WAAW;YACpC,CAAA;QACAI,YAAYd,kBAAkBc,UAAU;QACxCC,cAAcf,kBAAkBe,YAAY;QAC5CC,QAAQhB,kBAAkBgB,MAAM;QAChCC,mBAAmBjB,kBAAkBkB,IAAI;QACzCC,yBAAyBnB,kBAAkBmB,uBAAuB;QAClEC,UAAUC,kBAAQ,CAACD,QAAQ,CAACE,IAAI;QAChCC,cAAcF,kBAAQ,CAACD,QAAQ,CAACI,EAAE;QAClCC,oBAAoBzB,kBAAkByB,kBAAkB;QACxDC,gBAAgB1B,kBAAkB0B,cAAc;QAChDC,mBAAmB3B,kBAAkB2B,iBAAiB;QACtDC,iBAAiB5B,kBAAkB4B,eAAe;QAClDC,4BAA4B7B,kBAAkB6B,0BAA0B;QACxEC,+BAA+B9B,kBAAkB8B,6BAA6B;OAC3E/B;AAEP"}