db95f0de09d4411c28d83ebb063f4041
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "getTrackingMessage", {
    enumerable: true,
    get: function() {
        return getTrackingMessage;
    }
});
const _adapters = require("@rp/adapters");
const _customerio = require("@rp/react/common/customer-io");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
const getTrackingMessage = (nativeDeviceAnalytics)=>{
    const customerIoMessage = _customerio.chatCustomerIo.getMessage();
    if (customerIoMessage === null) {
        return;
    }
    return _object_spread({
        files: customerIoMessage.files.map((file)=>({
                ownerId: file.ownerId,
                fileId: file.id,
                userIsOwner: file.ownerIsUser
            })),
        watchlists: customerIoMessage.watchlists.map((watchlist)=>({
                ownerId: watchlist.ownerId,
                watchlistId: watchlist.id,
                userIsOwner: watchlist.ownerIsUser
            })),
        promptTask: customerIoMessage.promptTask,
        promptTopics: customerIoMessage.promptTopics,
        status: customerIoMessage.status,
        chatStartLocation: customerIoMessage.type,
        followUpSuggestionIndex: customerIoMessage.followUpSuggestionIndex,
        platform: _adapters.adapters.platform.name,
        platformType: _adapters.adapters.platform.os,
        promptContextLevel: customerIoMessage.promptContextLevel,
        promptCategory: customerIoMessage.promptCategory,
        promptCompanyType: customerIoMessage.promptCompanyType,
        dataViewAtClick: customerIoMessage.dataViewAtClick,
        clickedSuggestedPromptText: customerIoMessage.clickedSuggestedPromptText,
        suggestedPromptClassification: customerIoMessage.suggestedPromptClassification
    }, nativeDeviceAnalytics);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL2hvb2tzL3NyYy9saWIvdXNlQ2hhdC9nZXRUcmFja2luZ01lc3NhZ2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRhcHRlcnMgfSBmcm9tIFwiQHJwL2FkYXB0ZXJzXCJcbmltcG9ydCB7IGNoYXRDdXN0b21lcklvIH0gZnJvbSBcIkBycC9yZWFjdC9jb21tb24vY3VzdG9tZXItaW9cIlxuaW1wb3J0IHsgTGxtVHJhY2tpbmcsIE5hdGl2ZURldmljZUFuYWx5dGljcyB9IGZyb20gXCIuL3VzZUNoYXQudHlwZXNcIlxuXG5jb25zdCBnZXRUcmFja2luZ01lc3NhZ2UgPSAoXG4gIG5hdGl2ZURldmljZUFuYWx5dGljcz86IE5hdGl2ZURldmljZUFuYWx5dGljcyxcbik6IExsbVRyYWNraW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgY3VzdG9tZXJJb01lc3NhZ2UgPSBjaGF0Q3VzdG9tZXJJby5nZXRNZXNzYWdlKClcbiAgaWYgKGN1c3RvbWVySW9NZXNzYWdlID09PSBudWxsKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgcmV0dXJuIHtcbiAgICBmaWxlczogY3VzdG9tZXJJb01lc3NhZ2UuZmlsZXMubWFwKGZpbGUgPT4gKHtcbiAgICAgIG93bmVySWQ6IGZpbGUub3duZXJJZCxcbiAgICAgIGZpbGVJZDogZmlsZS5pZCxcbiAgICAgIHVzZXJJc093bmVyOiBmaWxlLm93bmVySXNVc2VyLFxuICAgIH0pKSxcbiAgICB3YXRjaGxpc3RzOiBjdXN0b21lcklvTWVzc2FnZS53YXRjaGxpc3RzLm1hcCh3YXRjaGxpc3QgPT4gKHtcbiAgICAgIG93bmVySWQ6IHdhdGNobGlzdC5vd25lcklkLFxuICAgICAgd2F0Y2hsaXN0SWQ6IHdhdGNobGlzdC5pZCxcbiAgICAgIHVzZXJJc093bmVyOiB3YXRjaGxpc3Qub3duZXJJc1VzZXIsXG4gICAgfSkpLFxuICAgIHByb21wdFRhc2s6IGN1c3RvbWVySW9NZXNzYWdlLnByb21wdFRhc2ssXG4gICAgcHJvbXB0VG9waWNzOiBjdXN0b21lcklvTWVzc2FnZS5wcm9tcHRUb3BpY3MsXG4gICAgc3RhdHVzOiBjdXN0b21lcklvTWVzc2FnZS5zdGF0dXMsXG4gICAgY2hhdFN0YXJ0TG9jYXRpb246IGN1c3RvbWVySW9NZXNzYWdlLnR5cGUsXG4gICAgZm9sbG93VXBTdWdnZXN0aW9uSW5kZXg6IGN1c3RvbWVySW9NZXNzYWdlLmZvbGxvd1VwU3VnZ2VzdGlvbkluZGV4LFxuICAgIHBsYXRmb3JtOiBhZGFwdGVycy5wbGF0Zm9ybS5uYW1lLFxuICAgIHBsYXRmb3JtVHlwZTogYWRhcHRlcnMucGxhdGZvcm0ub3MsXG4gICAgcHJvbXB0Q29udGV4dExldmVsOiBjdXN0b21lcklvTWVzc2FnZS5wcm9tcHRDb250ZXh0TGV2ZWwsXG4gICAgcHJvbXB0Q2F0ZWdvcnk6IGN1c3RvbWVySW9NZXNzYWdlLnByb21wdENhdGVnb3J5LFxuICAgIHByb21wdENvbXBhbnlUeXBlOiBjdXN0b21lcklvTWVzc2FnZS5wcm9tcHRDb21wYW55VHlwZSxcbiAgICBkYXRhVmlld0F0Q2xpY2s6IGN1c3RvbWVySW9NZXNzYWdlLmRhdGFWaWV3QXRDbGljayxcbiAgICBjbGlja2VkU3VnZ2VzdGVkUHJvbXB0VGV4dDogY3VzdG9tZXJJb01lc3NhZ2UuY2xpY2tlZFN1Z2dlc3RlZFByb21wdFRleHQsXG4gICAgc3VnZ2VzdGVkUHJvbXB0Q2xhc3NpZmljYXRpb246IGN1c3RvbWVySW9NZXNzYWdlLnN1Z2dlc3RlZFByb21wdENsYXNzaWZpY2F0aW9uLFxuICAgIC4uLm5hdGl2ZURldmljZUFuYWx5dGljcyxcbiAgfVxufVxuXG5leHBvcnQgeyBnZXRUcmFja2luZ01lc3NhZ2UgfVxuZXhwb3J0IHR5cGUgeyBOYXRpdmVEZXZpY2VBbmFseXRpY3MgfVxuIl0sIm5hbWVzIjpbImdldFRyYWNraW5nTWVzc2FnZSIsIm5hdGl2ZURldmljZUFuYWx5dGljcyIsImN1c3RvbWVySW9NZXNzYWdlIiwiY2hhdEN1c3RvbWVySW8iLCJnZXRNZXNzYWdlIiwiZmlsZXMiLCJtYXAiLCJmaWxlIiwib3duZXJJZCIsImZpbGVJZCIsImlkIiwidXNlcklzT3duZXIiLCJvd25lcklzVXNlciIsIndhdGNobGlzdHMiLCJ3YXRjaGxpc3QiLCJ3YXRjaGxpc3RJZCIsInByb21wdFRhc2siLCJwcm9tcHRUb3BpY3MiLCJzdGF0dXMiLCJjaGF0U3RhcnRMb2NhdGlvbiIsInR5cGUiLCJmb2xsb3dVcFN1Z2dlc3Rpb25JbmRleCIsInBsYXRmb3JtIiwiYWRhcHRlcnMiLCJuYW1lIiwicGxhdGZvcm1UeXBlIiwib3MiLCJwcm9tcHRDb250ZXh0TGV2ZWwiLCJwcm9tcHRDYXRlZ29yeSIsInByb21wdENvbXBhbnlUeXBlIiwiZGF0YVZpZXdBdENsaWNrIiwiY2xpY2tlZFN1Z2dlc3RlZFByb21wdFRleHQiLCJzdWdnZXN0ZWRQcm9tcHRDbGFzc2lmaWNhdGlvbiJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7OytCQXVDU0E7OztlQUFBQTs7OzBCQXZDZ0I7NEJBQ007Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRy9CLE1BQU1BLHFCQUFxQixDQUN6QkM7SUFFQSxNQUFNQyxvQkFBb0JDLDBCQUFjLENBQUNDLFVBQVU7SUFDbkQsSUFBSUYsc0JBQXNCLE1BQU07UUFDOUI7SUFDRjtJQUNBLE9BQU87UUFDTEcsT0FBT0gsa0JBQWtCRyxLQUFLLENBQUNDLEdBQUcsQ0FBQ0MsQ0FBQUEsT0FBUyxDQUFBO2dCQUMxQ0MsU0FBU0QsS0FBS0MsT0FBTztnQkFDckJDLFFBQVFGLEtBQUtHLEVBQUU7Z0JBQ2ZDLGFBQWFKLEtBQUtLLFdBQVc7WUFDL0IsQ0FBQTtRQUNBQyxZQUFZWCxrQkFBa0JXLFVBQVUsQ0FBQ1AsR0FBRyxDQUFDUSxDQUFBQSxZQUFjLENBQUE7Z0JBQ3pETixTQUFTTSxVQUFVTixPQUFPO2dCQUMxQk8sYUFBYUQsVUFBVUosRUFBRTtnQkFDekJDLGFBQWFHLFVBQVVGLFdBQVc7WUFDcEMsQ0FBQTtRQUNBSSxZQUFZZCxrQkFBa0JjLFVBQVU7UUFDeENDLGNBQWNmLGtCQUFrQmUsWUFBWTtRQUM1Q0MsUUFBUWhCLGtCQUFrQmdCLE1BQU07UUFDaENDLG1CQUFtQmpCLGtCQUFrQmtCLElBQUk7UUFDekNDLHlCQUF5Qm5CLGtCQUFrQm1CLHVCQUF1QjtRQUNsRUMsVUFBVUMsa0JBQVEsQ0FBQ0QsUUFBUSxDQUFDRSxJQUFJO1FBQ2hDQyxjQUFjRixrQkFBUSxDQUFDRCxRQUFRLENBQUNJLEVBQUU7UUFDbENDLG9CQUFvQnpCLGtCQUFrQnlCLGtCQUFrQjtRQUN4REMsZ0JBQWdCMUIsa0JBQWtCMEIsY0FBYztRQUNoREMsbUJBQW1CM0Isa0JBQWtCMkIsaUJBQWlCO1FBQ3REQyxpQkFBaUI1QixrQkFBa0I0QixlQUFlO1FBQ2xEQyw0QkFBNEI3QixrQkFBa0I2QiwwQkFBMEI7UUFDeEVDLCtCQUErQjlCLGtCQUFrQjhCLDZCQUE2QjtPQUMzRS9CO0FBRVAifQ==