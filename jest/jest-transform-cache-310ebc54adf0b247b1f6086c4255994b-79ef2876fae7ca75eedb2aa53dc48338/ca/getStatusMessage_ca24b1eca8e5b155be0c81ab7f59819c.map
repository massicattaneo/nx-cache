{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/hooks/src/lib/useChat/getStatusMessage.ts"],"sourcesContent":["import { LlmStatusMessage } from \"@rp/react/tanstack-api/llm-summary\"\n\ntype StatusData = {\n  step: \"initial\" | \"concluding\" | \"completed\"\n  message?: string | Array<string>\n  queries: Array<{ query: string; queryId: number }>\n}\n\nconst getMessageFromBlock = (title: string) => {\n  return `Analyzing results for ${title}`\n}\n\nconst getStatusData = (baseData: StatusData, statusMessage: LlmStatusMessage): StatusData => {\n  switch (statusMessage.type) {\n    case \"STATUS\":\n      return { ...baseData, message: statusMessage.message }\n\n    case \"STATUS_RESET\":\n      return {\n        message: statusMessage.message ?? baseData.message,\n        queries: [],\n        step: \"initial\",\n      }\n\n    case \"STATUS_QUERY\":\n      return { ...baseData, queries: [...baseData.queries, ...statusMessage.queries] }\n\n    case \"STATUS_COLLAPSE\":\n      return {\n        ...baseData,\n        message:\n          typeof baseData.message === \"string\" || baseData.message === undefined\n            ? [getMessageFromBlock(statusMessage.title)]\n            : [...baseData.message, getMessageFromBlock(statusMessage.title)],\n      }\n\n    case \"STATUS_CONCLUDING\":\n      return { ...baseData, step: \"concluding\" }\n\n    default:\n      return baseData\n  }\n}\n\nexport { getStatusData }\n"],"names":["getStatusData","getMessageFromBlock","title","baseData","statusMessage","type","message","queries","step","undefined"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA4CSA;;;eAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AApCT,MAAMC,sBAAsB,CAACC;IAC3B,OAAO,CAAC,sBAAsB,EAAEA,MAAM,CAAC;AACzC;AAEA,MAAMF,gBAAgB,CAACG,UAAsBC;IAC3C,OAAQA,cAAcC,IAAI;QACxB,KAAK;YACH,OAAO,wCAAKF;gBAAUG,SAASF,cAAcE,OAAO;;QAEtD,KAAK;gBAEQF;YADX,OAAO;gBACLE,SAASF,CAAAA,yBAAAA,cAAcE,OAAO,cAArBF,oCAAAA,yBAAyBD,SAASG,OAAO;gBAClDC,SAAS,EAAE;gBACXC,MAAM;YACR;QAEF,KAAK;YACH,OAAO,wCAAKL;gBAAUI,SAAS;uBAAIJ,SAASI,OAAO;uBAAKH,cAAcG,OAAO;iBAAC;;QAEhF,KAAK;YACH,OAAO,wCACFJ;gBACHG,SACE,OAAOH,SAASG,OAAO,KAAK,YAAYH,SAASG,OAAO,KAAKG,YACzD;oBAACR,oBAAoBG,cAAcF,KAAK;iBAAE,GAC1C;uBAAIC,SAASG,OAAO;oBAAEL,oBAAoBG,cAAcF,KAAK;iBAAE;;QAGzE,KAAK;YACH,OAAO,wCAAKC;gBAAUK,MAAM;;QAE9B;YACE,OAAOL;IACX;AACF"}