{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/search-autosuggest-input/src/lib/UnifiedSearch/WatchlistAutosuggestPopperFilters.tsx"],"sourcesContent":["import { Box, Chip } from \"@rp/react/web/mui/core\"\nimport { SuggestionCustomFilter } from \"./WatchlistAutosuggestInput\"\n\ntype WatchlistFacet = {\n  category?: string | null\n  group1?: string | null\n}\n\ntype Option = {\n  id: SuggestionCustomFilter\n  label: string\n  disjunctiveFacets: WatchlistFacet\n}\nconst OPTIONS: Array<Option> = [\n  {\n    id: \"stocks\",\n    label: \"Stocks\",\n    disjunctiveFacets: { category: \"Companies\", group1: \"Public\" },\n  },\n  {\n    id: \"etfs\",\n    label: \"ETFs\",\n    disjunctiveFacets: { category: \"ETFs\" },\n  },\n  {\n    id: \"privateCompanies\",\n    label: \"Private Companies\",\n    disjunctiveFacets: { category: \"Companies\", group1: \"Private\" },\n  },\n]\n\nconst checkFacetContainsFacet = (parent: WatchlistFacet, child: WatchlistFacet) => {\n  if (!parent.group1) {\n    return parent.category === child.category\n  }\n\n  return parent.category === child.category && parent.group1 === child.group1\n}\n\ntype Props = {\n  customFilter: SuggestionCustomFilter\n  onFilterClick: (filter: SuggestionCustomFilter) => void\n  disjunctiveFacets?: Array<WatchlistFacet>\n}\n\nconst WatchlistAutosuggestPopperFilters = ({\n  customFilter,\n  onFilterClick,\n  disjunctiveFacets,\n}: Props) => {\n  const filteredOptions = disjunctiveFacets\n    ? OPTIONS.filter(option =>\n        disjunctiveFacets.some(facet => checkFacetContainsFacet(facet, option.disjunctiveFacets)),\n      )\n    : OPTIONS\n\n  if (filteredOptions.length <= 1) {\n    return null\n  }\n\n  return (\n    <Box\n      sx={theme => ({\n        backgroundColor: \"elevation.dp08\",\n        display: \"flex\",\n        gap: 1,\n        p: 1,\n        \"& .MuiChip-root\": { height: 24 },\n        \"& .MuiChip-root.selected\": {\n          height: 24,\n          backgroundColor: theme.palette.primary.main,\n          color: theme.palette.primary.contrastText,\n        },\n        \"& .MuiChip-label\": { fontSize: 14, px: 1.2 },\n      })}\n    >\n      <Chip\n        label=\"All\"\n        className={customFilter === \"all\" ? \"selected\" : undefined}\n        onClick={() => {\n          onFilterClick(\"all\")\n        }}\n      />\n\n      {filteredOptions.map(option => (\n        <Chip\n          label={option.label}\n          key={option.id}\n          className={customFilter === option.id ? \"selected\" : undefined}\n          onClick={() => {\n            onFilterClick(option.id)\n          }}\n        />\n      ))}\n    </Box>\n  )\n}\n\nexport { WatchlistAutosuggestPopperFilters }\nexport type { WatchlistFacet }\n"],"names":["WatchlistAutosuggestPopperFilters","OPTIONS","id","label","disjunctiveFacets","category","group1","checkFacetContainsFacet","parent","child","customFilter","onFilterClick","filteredOptions","filter","option","some","facet","length","Box","sx","theme","backgroundColor","display","gap","p","height","palette","primary","main","color","contrastText","fontSize","px","Chip","className","undefined","onClick","map"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAkGSA;;;eAAAA;;;;sBAlGiB;AAa1B,MAAMC,UAAyB;IAC7B;QACEC,IAAI;QACJC,OAAO;QACPC,mBAAmB;YAAEC,UAAU;YAAaC,QAAQ;QAAS;IAC/D;IACA;QACEJ,IAAI;QACJC,OAAO;QACPC,mBAAmB;YAAEC,UAAU;QAAO;IACxC;IACA;QACEH,IAAI;QACJC,OAAO;QACPC,mBAAmB;YAAEC,UAAU;YAAaC,QAAQ;QAAU;IAChE;CACD;AAED,MAAMC,0BAA0B,CAACC,QAAwBC;IACvD,IAAI,CAACD,OAAOF,MAAM,EAAE;QAClB,OAAOE,OAAOH,QAAQ,KAAKI,MAAMJ,QAAQ;IAC3C;IAEA,OAAOG,OAAOH,QAAQ,KAAKI,MAAMJ,QAAQ,IAAIG,OAAOF,MAAM,KAAKG,MAAMH,MAAM;AAC7E;AAQA,MAAMN,oCAAoC,CAAC,EACzCU,YAAY,EACZC,aAAa,EACbP,iBAAiB,EACX;IACN,MAAMQ,kBAAkBR,oBACpBH,QAAQY,MAAM,CAACC,CAAAA,SACbV,kBAAkBW,IAAI,CAACC,CAAAA,QAAST,wBAAwBS,OAAOF,OAAOV,iBAAiB,MAEzFH;IAEJ,IAAIW,gBAAgBK,MAAM,IAAI,GAAG;QAC/B,OAAO;IACT;IAEA,qBACE,sBAACC,SAAG;QACFC,IAAIC,CAAAA,QAAU,CAAA;gBACZC,iBAAiB;gBACjBC,SAAS;gBACTC,KAAK;gBACLC,GAAG;gBACH,mBAAmB;oBAAEC,QAAQ;gBAAG;gBAChC,4BAA4B;oBAC1BA,QAAQ;oBACRJ,iBAAiBD,MAAMM,OAAO,CAACC,OAAO,CAACC,IAAI;oBAC3CC,OAAOT,MAAMM,OAAO,CAACC,OAAO,CAACG,YAAY;gBAC3C;gBACA,oBAAoB;oBAAEC,UAAU;oBAAIC,IAAI;gBAAI;YAC9C,CAAA;;0BAEA,qBAACC,UAAI;gBACH9B,OAAM;gBACN+B,WAAWxB,iBAAiB,QAAQ,aAAayB;gBACjDC,SAAS;oBACPzB,cAAc;gBAChB;;YAGDC,gBAAgByB,GAAG,CAACvB,CAAAA,uBACnB,qBAACmB,UAAI;oBACH9B,OAAOW,OAAOX,KAAK;oBAEnB+B,WAAWxB,iBAAiBI,OAAOZ,EAAE,GAAG,aAAaiC;oBACrDC,SAAS;wBACPzB,cAAcG,OAAOZ,EAAE;oBACzB;mBAJKY,OAAOZ,EAAE;;;AASxB"}