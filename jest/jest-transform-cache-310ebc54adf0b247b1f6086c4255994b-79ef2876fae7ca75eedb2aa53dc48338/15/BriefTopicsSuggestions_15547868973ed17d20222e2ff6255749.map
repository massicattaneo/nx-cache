{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/brief/src/components/briefSteps/BriefTopicsSuggestions.tsx"],"sourcesContent":["import { Fragment } from \"react\"\nimport { EnhancedSuggestion } from \"@rp/react/tanstack-api/suggestion\"\nimport { useTrendingSearches } from \"@rp/react/tanstack-api/trending\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { Box, Link, Skeleton } from \"@rp/react/web/mui/core\"\n\ntype Props = {\n  onItemClick: (newTopic: EnhancedSuggestion) => void\n  topics: Array<EnhancedSuggestion>\n}\n\nconst NUM_OF_SUGGESTIONS = 3\n\nconst BriefTopicsSuggestions = ({ onItemClick, topics }: Props) => {\n  const { isMobile } = useDeviceInfo()\n  const LOADING = isMobile ? [60, 120, 100] : [200, 260, 160]\n  const { data, isLoading } = useTrendingSearches()\n  const suggestions = data?.pages[0]?.trendingSearches\n    .slice(0, NUM_OF_SUGGESTIONS)\n    .filter(\n      ({ title }) =>\n        !topics.find(({ id }) => id.toLowerCase() === `keyword|${title}`.toLowerCase()),\n    )\n\n  if (!isLoading && suggestions?.length === 0) return null\n\n  if (isLoading) {\n    return (\n      <Box sx={{ display: \"flex\", gap: 1, width: \"100%\" }}>\n        Suggestions:{\" \"}\n        <Box sx={{ width: \"100%\" }}>\n          {new Array(NUM_OF_SUGGESTIONS).fill(0).map((_, index) => {\n            return (\n              <Skeleton\n                key={index}\n                sx={{\n                  display: \"inline-block\",\n                  width: LOADING[index % NUM_OF_SUGGESTIONS],\n                  ml: 1,\n                }}\n              />\n            )\n          })}\n        </Box>\n      </Box>\n    )\n  }\n\n  return (\n    <Box sx={{ display: \"flex\", gap: 1, width: \"100%\" }}>\n      Suggestions:{\" \"}\n      <Box sx={{ width: \"100%\" }}>\n        {suggestions?.map((item, index) => {\n          return (\n            <Fragment key={item.title}>\n              <Link\n                sx={{\n                  cursor: \"pointer\",\n                  \"&:hover\": { textDecoration: isMobile ? \"none\" : undefined },\n                }}\n                onClick={() => {\n                  onItemClick({\n                    id: `keyword|${item.title}`,\n                    label: item.title,\n                    text: item.title,\n                    type: \"keyword\",\n                    isKeyword: true,\n                  })\n                }}\n              >\n                {item.title}\n              </Link>\n              {index < suggestions.length - 1 ? \", \" : \"\"}\n            </Fragment>\n          )\n        })}\n      </Box>\n    </Box>\n  )\n}\n\nexport { BriefTopicsSuggestions }\n"],"names":["BriefTopicsSuggestions","NUM_OF_SUGGESTIONS","onItemClick","topics","data","isMobile","useDeviceInfo","LOADING","isLoading","useTrendingSearches","suggestions","pages","trendingSearches","slice","filter","title","find","id","toLowerCase","length","Box","sx","display","gap","width","Array","fill","map","_","index","Skeleton","ml","item","Fragment","Link","cursor","textDecoration","undefined","onClick","label","text","type","isKeyword"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAiFSA;;;eAAAA;;;;uBAjFgB;0BAEW;uBACN;sBACM;AAOpC,MAAMC,qBAAqB;AAE3B,MAAMD,yBAAyB,CAAC,EAAEE,WAAW,EAAEC,MAAM,EAAS;QAIxCC;IAHpB,MAAM,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAClC,MAAMC,UAAUF,WAAW;QAAC;QAAI;QAAK;KAAI,GAAG;QAAC;QAAK;QAAK;KAAI;IAC3D,MAAM,EAAED,IAAI,EAAEI,SAAS,EAAE,GAAGC,IAAAA,6BAAmB;IAC/C,MAAMC,cAAcN,iBAAAA,4BAAAA,eAAAA,KAAMO,KAAK,CAAC,EAAE,cAAdP,mCAAAA,aAAgBQ,gBAAgB,CACjDC,KAAK,CAAC,GAAGZ,oBACTa,MAAM,CACL,CAAC,EAAEC,KAAK,EAAE,GACR,CAACZ,OAAOa,IAAI,CAAC,CAAC,EAAEC,EAAE,EAAE,GAAKA,GAAGC,WAAW,OAAO,CAAC,QAAQ,EAAEH,MAAM,CAAC,CAACG,WAAW;IAGlF,IAAI,CAACV,aAAaE,CAAAA,wBAAAA,kCAAAA,YAAaS,MAAM,MAAK,GAAG,OAAO;IAEpD,IAAIX,WAAW;QACb,qBACE,sBAACY,SAAG;YAACC,IAAI;gBAAEC,SAAS;gBAAQC,KAAK;gBAAGC,OAAO;YAAO;;gBAAG;gBACtC;8BACb,qBAACJ,SAAG;oBAACC,IAAI;wBAAEG,OAAO;oBAAO;8BACtB,IAAIC,MAAMxB,oBAAoByB,IAAI,CAAC,GAAGC,GAAG,CAAC,CAACC,GAAGC;wBAC7C,qBACE,qBAACC,cAAQ;4BAEPT,IAAI;gCACFC,SAAS;gCACTE,OAAOjB,OAAO,CAACsB,QAAQ5B,mBAAmB;gCAC1C8B,IAAI;4BACN;2BALKF;oBAQX;;;;IAIR;IAEA,qBACE,sBAACT,SAAG;QAACC,IAAI;YAAEC,SAAS;YAAQC,KAAK;YAAGC,OAAO;QAAO;;YAAG;YACtC;0BACb,qBAACJ,SAAG;gBAACC,IAAI;oBAAEG,OAAO;gBAAO;0BACtBd,wBAAAA,kCAAAA,YAAaiB,GAAG,CAAC,CAACK,MAAMH;oBACvB,qBACE,sBAACI,eAAQ;;0CACP,qBAACC,UAAI;gCACHb,IAAI;oCACFc,QAAQ;oCACR,WAAW;wCAAEC,gBAAgB/B,WAAW,SAASgC;oCAAU;gCAC7D;gCACAC,SAAS;oCACPpC,YAAY;wCACVe,IAAI,CAAC,QAAQ,EAAEe,KAAKjB,KAAK,CAAC,CAAC;wCAC3BwB,OAAOP,KAAKjB,KAAK;wCACjByB,MAAMR,KAAKjB,KAAK;wCAChB0B,MAAM;wCACNC,WAAW;oCACb;gCACF;0CAECV,KAAKjB,KAAK;;4BAEZc,QAAQnB,YAAYS,MAAM,GAAG,IAAI,OAAO;;uBAlB5Ba,KAAKjB,KAAK;gBAqB7B;;;;AAIR"}