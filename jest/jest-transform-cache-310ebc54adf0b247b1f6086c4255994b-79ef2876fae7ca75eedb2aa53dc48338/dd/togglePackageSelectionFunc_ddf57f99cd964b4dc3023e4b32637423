5f20c4e45662de3aded8be7bb9591760
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "togglePackageSelectionFunc", {
    enumerable: true,
    get: function() {
        return togglePackageSelectionFunc;
    }
});
function togglePackageSelectionFunc({ e, selectedAllPackages, setSelectedAllPackages, allContentPackages, hasReachedMaxSelection, showMaxSelectionErrorToast, planComparisonHandleOpen }) {
    const id = e.currentTarget.getAttribute("data-id");
    const entitled = e.currentTarget.getAttribute("data-entitled") === "true";
    if (!entitled) {
        planComparisonHandleOpen();
        return;
    }
    if (!id) return;
    if (hasReachedMaxSelection) {
        showMaxSelectionErrorToast();
        return;
    }
    const idx = selectedAllPackages.findIndex((contentPackage)=>contentPackage.id === id);
    // removing package
    if (idx !== -1) {
        setSelectedAllPackages((selectedAllPackages)=>[
                ...selectedAllPackages.slice(0, idx),
                ...selectedAllPackages.slice(idx + 1)
            ]);
        return;
    }
    // adding package
    const newContentPackage = allContentPackages.find((contentElement)=>contentElement.id === id);
    if (!newContentPackage) return;
    const newPackageSelection = {
        id,
        name: newContentPackage.name,
        sourceCount: newContentPackage.sourceCount
    };
    setSelectedAllPackages((selectedAllPackages)=>[
            newPackageSelection,
            ...selectedAllPackages
        ].sort((a, b)=>a.id.localeCompare(b.id)));
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL3NvdXJjZS1zZWxlY3Rvci9zcmMvdXRpbHMvdG9nZ2xlUGFja2FnZVNlbGVjdGlvbkZ1bmMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2V0U3RhdGVBY3Rpb24gfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgQ29udGVudFBhY2thZ2UgfSBmcm9tIFwiQHJwL3JlYWN0L3RhbnN0YWNrLWFwaS9jb250ZW50XCJcbmltcG9ydCB7IFNvdXJjZVNlbGVjdG9yU2VsZWN0ZWRQYWNrYWdlSW5mbyB9IGZyb20gXCIuLi9zb3VyY2VTZWxlY3Rvci50eXBlc1wiXG5cbnR5cGUgVG9nZ2xlUGFja2FnZVNlbGVjdGlvbkZ1bmNQcm9wcyA9IHtcbiAgZTogUmVhY3QuTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD5cbiAgYWxsQ29udGVudFBhY2thZ2VzOiBBcnJheTxDb250ZW50UGFja2FnZT5cbiAgc2VsZWN0ZWRBbGxQYWNrYWdlczogQXJyYXk8U291cmNlU2VsZWN0b3JTZWxlY3RlZFBhY2thZ2VJbmZvPlxuICBzZXRTZWxlY3RlZEFsbFBhY2thZ2VzOiAodmFsdWU6IFNldFN0YXRlQWN0aW9uPEFycmF5PFNvdXJjZVNlbGVjdG9yU2VsZWN0ZWRQYWNrYWdlSW5mbz4+KSA9PiB2b2lkXG4gIGhhc1JlYWNoZWRNYXhTZWxlY3Rpb246IGJvb2xlYW5cbiAgc2hvd01heFNlbGVjdGlvbkVycm9yVG9hc3Q6ICgpID0+IHZvaWRcbiAgcGxhbkNvbXBhcmlzb25IYW5kbGVPcGVuOiAoKSA9PiB2b2lkXG59XG5cbmZ1bmN0aW9uIHRvZ2dsZVBhY2thZ2VTZWxlY3Rpb25GdW5jKHtcbiAgZSxcbiAgc2VsZWN0ZWRBbGxQYWNrYWdlcyxcbiAgc2V0U2VsZWN0ZWRBbGxQYWNrYWdlcyxcbiAgYWxsQ29udGVudFBhY2thZ2VzLFxuICBoYXNSZWFjaGVkTWF4U2VsZWN0aW9uLFxuICBzaG93TWF4U2VsZWN0aW9uRXJyb3JUb2FzdCxcbiAgcGxhbkNvbXBhcmlzb25IYW5kbGVPcGVuLFxufTogVG9nZ2xlUGFja2FnZVNlbGVjdGlvbkZ1bmNQcm9wcyk6IHZvaWQge1xuICBjb25zdCBpZCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpXG4gIGNvbnN0IGVudGl0bGVkID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtZW50aXRsZWRcIikgPT09IFwidHJ1ZVwiXG5cbiAgaWYgKCFlbnRpdGxlZCkge1xuICAgIHBsYW5Db21wYXJpc29uSGFuZGxlT3BlbigpXG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoIWlkKSByZXR1cm5cblxuICBpZiAoaGFzUmVhY2hlZE1heFNlbGVjdGlvbikge1xuICAgIHNob3dNYXhTZWxlY3Rpb25FcnJvclRvYXN0KClcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGlkeCA9IHNlbGVjdGVkQWxsUGFja2FnZXMuZmluZEluZGV4KGNvbnRlbnRQYWNrYWdlID0+IGNvbnRlbnRQYWNrYWdlLmlkID09PSBpZClcblxuICAvLyByZW1vdmluZyBwYWNrYWdlXG5cbiAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICBzZXRTZWxlY3RlZEFsbFBhY2thZ2VzKHNlbGVjdGVkQWxsUGFja2FnZXMgPT4gW1xuICAgICAgLi4uc2VsZWN0ZWRBbGxQYWNrYWdlcy5zbGljZSgwLCBpZHgpLFxuICAgICAgLi4uc2VsZWN0ZWRBbGxQYWNrYWdlcy5zbGljZShpZHggKyAxKSxcbiAgICBdKVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8gYWRkaW5nIHBhY2thZ2VcblxuICBjb25zdCBuZXdDb250ZW50UGFja2FnZSA9IGFsbENvbnRlbnRQYWNrYWdlcy5maW5kKGNvbnRlbnRFbGVtZW50ID0+IGNvbnRlbnRFbGVtZW50LmlkID09PSBpZClcblxuICBpZiAoIW5ld0NvbnRlbnRQYWNrYWdlKSByZXR1cm5cblxuICBjb25zdCBuZXdQYWNrYWdlU2VsZWN0aW9uOiBTb3VyY2VTZWxlY3RvclNlbGVjdGVkUGFja2FnZUluZm8gPSB7XG4gICAgaWQsXG4gICAgbmFtZTogbmV3Q29udGVudFBhY2thZ2UubmFtZSxcbiAgICBzb3VyY2VDb3VudDogbmV3Q29udGVudFBhY2thZ2Uuc291cmNlQ291bnQsXG4gIH1cblxuICBzZXRTZWxlY3RlZEFsbFBhY2thZ2VzKHNlbGVjdGVkQWxsUGFja2FnZXMgPT5cbiAgICBbbmV3UGFja2FnZVNlbGVjdGlvbiwgLi4uc2VsZWN0ZWRBbGxQYWNrYWdlc10uc29ydCgoYSwgYikgPT4gYS5pZC5sb2NhbGVDb21wYXJlKGIuaWQpKSxcbiAgKVxufVxuXG5leHBvcnQgeyB0b2dnbGVQYWNrYWdlU2VsZWN0aW9uRnVuYyB9XG4iXSwibmFtZXMiOlsidG9nZ2xlUGFja2FnZVNlbGVjdGlvbkZ1bmMiLCJlIiwic2VsZWN0ZWRBbGxQYWNrYWdlcyIsInNldFNlbGVjdGVkQWxsUGFja2FnZXMiLCJhbGxDb250ZW50UGFja2FnZXMiLCJoYXNSZWFjaGVkTWF4U2VsZWN0aW9uIiwic2hvd01heFNlbGVjdGlvbkVycm9yVG9hc3QiLCJwbGFuQ29tcGFyaXNvbkhhbmRsZU9wZW4iLCJpZCIsImN1cnJlbnRUYXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJlbnRpdGxlZCIsImlkeCIsImZpbmRJbmRleCIsImNvbnRlbnRQYWNrYWdlIiwic2xpY2UiLCJuZXdDb250ZW50UGFja2FnZSIsImZpbmQiLCJjb250ZW50RWxlbWVudCIsIm5ld1BhY2thZ2VTZWxlY3Rpb24iLCJuYW1lIiwic291cmNlQ291bnQiLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBbUVTQTs7O2VBQUFBOzs7QUFyRFQsU0FBU0EsMkJBQTJCLEVBQ2xDQyxDQUFDLEVBQ0RDLG1CQUFtQixFQUNuQkMsc0JBQXNCLEVBQ3RCQyxrQkFBa0IsRUFDbEJDLHNCQUFzQixFQUN0QkMsMEJBQTBCLEVBQzFCQyx3QkFBd0IsRUFDUTtJQUNoQyxNQUFNQyxLQUFLUCxFQUFFUSxhQUFhLENBQUNDLFlBQVksQ0FBQztJQUN4QyxNQUFNQyxXQUFXVixFQUFFUSxhQUFhLENBQUNDLFlBQVksQ0FBQyxxQkFBcUI7SUFFbkUsSUFBSSxDQUFDQyxVQUFVO1FBQ2JKO1FBQ0E7SUFDRjtJQUVBLElBQUksQ0FBQ0MsSUFBSTtJQUVULElBQUlILHdCQUF3QjtRQUMxQkM7UUFDQTtJQUNGO0lBRUEsTUFBTU0sTUFBTVYsb0JBQW9CVyxTQUFTLENBQUNDLENBQUFBLGlCQUFrQkEsZUFBZU4sRUFBRSxLQUFLQTtJQUVsRixtQkFBbUI7SUFFbkIsSUFBSUksUUFBUSxDQUFDLEdBQUc7UUFDZFQsdUJBQXVCRCxDQUFBQSxzQkFBdUI7bUJBQ3pDQSxvQkFBb0JhLEtBQUssQ0FBQyxHQUFHSDttQkFDN0JWLG9CQUFvQmEsS0FBSyxDQUFDSCxNQUFNO2FBQ3BDO1FBQ0Q7SUFDRjtJQUVBLGlCQUFpQjtJQUVqQixNQUFNSSxvQkFBb0JaLG1CQUFtQmEsSUFBSSxDQUFDQyxDQUFBQSxpQkFBa0JBLGVBQWVWLEVBQUUsS0FBS0E7SUFFMUYsSUFBSSxDQUFDUSxtQkFBbUI7SUFFeEIsTUFBTUcsc0JBQXlEO1FBQzdEWDtRQUNBWSxNQUFNSixrQkFBa0JJLElBQUk7UUFDNUJDLGFBQWFMLGtCQUFrQkssV0FBVztJQUM1QztJQUVBbEIsdUJBQXVCRCxDQUFBQSxzQkFDckI7WUFBQ2lCO2VBQXdCakI7U0FBb0IsQ0FBQ29CLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNRCxFQUFFZixFQUFFLENBQUNpQixhQUFhLENBQUNELEVBQUVoQixFQUFFO0FBRXhGIn0=