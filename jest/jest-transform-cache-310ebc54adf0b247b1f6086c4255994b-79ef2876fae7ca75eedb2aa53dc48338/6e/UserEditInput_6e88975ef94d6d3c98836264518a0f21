047bfc7f3fe549aab1b95893f654e07f
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "UserEditInput", {
    enumerable: true,
    get: function() {
        return UserEditInput;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _hooks = require("@rp/react/web/common/hooks");
const _core = require("@rp/react/web/mui/core");
const UserEditInput = ({ initialPrompt, onUpdate, onClose })=>{
    const [prompt, setPrompt] = (0, _react.useState)(initialPrompt);
    const { isMobile } = (0, _hooks.useDeviceInfo)();
    const submitPrompt = ()=>{
        if (prompt === initialPrompt || prompt.length === 0) {
            return;
        }
        onUpdate(prompt);
        onClose();
    };
    const handleKeyDown = (event)=>{
        if (event.key === "Enter" && !isMobile && event.shiftKey === false) {
            event.preventDefault();
            submitPrompt();
        }
        if (event.key === "Escape") {
            event.preventDefault();
            onClose();
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
        sx: {
            width: "100%",
            "& textarea": {
                backgroundColor: "transparent",
                width: "100%",
                borderRadius: 0.5,
                fontSize: isMobile ? 18 : 17,
                color: "text.primary",
                py: 1,
                px: 1.5,
                fontFamily: "body1.fontFamily",
                resize: "none"
            },
            "& textarea:focus": {
                outline: "none",
                borderColor: "primary.main"
            }
        },
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.TextareaAutosize, {
                maxRows: 5,
                value: prompt,
                onChange: (event)=>setPrompt(event.target.value),
                onKeyDown: handleKeyDown,
                onFocus: (event)=>event.target.setSelectionRange(prompt.length, prompt.length),
                autoFocus: true,
                maxLength: 5000
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
                sx: {
                    display: "flex",
                    mt: 2,
                    gap: 2
                },
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Button, {
                        onClick: onClose,
                        children: "Cancel"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Button, {
                        onClick: submitPrompt,
                        variant: "contained",
                        "data-testid": "question-update",
                        disabled: initialPrompt === prompt,
                        children: "Update"
                    })
                ]
            })
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NoYXQvc3JjL2xpYi9DaGF0L0NoYXQvVXNlcklucHV0L1VzZXJFZGl0SW5wdXQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZURldmljZUluZm8gfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vaG9va3NcIlxuaW1wb3J0IHsgQm94LCBCdXR0b24sIFRleHRhcmVhQXV0b3NpemUgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9tdWkvY29yZVwiXG5cbnR5cGUgUHJvcHMgPSB7XG4gIGluaXRpYWxQcm9tcHQ6IHN0cmluZ1xuICBvblVwZGF0ZTogKHByb21wdDogc3RyaW5nKSA9PiB2b2lkXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWRcbn1cblxuY29uc3QgVXNlckVkaXRJbnB1dCA9ICh7IGluaXRpYWxQcm9tcHQsIG9uVXBkYXRlLCBvbkNsb3NlIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IFtwcm9tcHQsIHNldFByb21wdF0gPSB1c2VTdGF0ZShpbml0aWFsUHJvbXB0KVxuICBjb25zdCB7IGlzTW9iaWxlIH0gPSB1c2VEZXZpY2VJbmZvKClcblxuICBjb25zdCBzdWJtaXRQcm9tcHQgPSAoKSA9PiB7XG4gICAgaWYgKHByb21wdCA9PT0gaW5pdGlhbFByb21wdCB8fCBwcm9tcHQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgb25VcGRhdGUocHJvbXB0KVxuICAgIG9uQ2xvc2UoKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChldmVudDogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MRGl2RWxlbWVudCB8IEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiICYmICFpc01vYmlsZSAmJiBldmVudC5zaGlmdEtleSA9PT0gZmFsc2UpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIHN1Ym1pdFByb21wdCgpXG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgb25DbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Qm94XG4gICAgICBzeD17e1xuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIFwiJiB0ZXh0YXJlYVwiOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogMC41LFxuICAgICAgICAgIGZvbnRTaXplOiBpc01vYmlsZSA/IDE4IDogMTcsXG4gICAgICAgICAgY29sb3I6IFwidGV4dC5wcmltYXJ5XCIsXG4gICAgICAgICAgcHk6IDEsXG4gICAgICAgICAgcHg6IDEuNSxcbiAgICAgICAgICBmb250RmFtaWx5OiBcImJvZHkxLmZvbnRGYW1pbHlcIixcbiAgICAgICAgICByZXNpemU6IFwibm9uZVwiLFxuICAgICAgICB9LFxuXG4gICAgICAgIFwiJiB0ZXh0YXJlYTpmb2N1c1wiOiB7XG4gICAgICAgICAgb3V0bGluZTogXCJub25lXCIsXG4gICAgICAgICAgYm9yZGVyQ29sb3I6IFwicHJpbWFyeS5tYWluXCIsXG4gICAgICAgIH0sXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxUZXh0YXJlYUF1dG9zaXplXG4gICAgICAgIG1heFJvd3M9ezV9XG4gICAgICAgIHZhbHVlPXtwcm9tcHR9XG4gICAgICAgIG9uQ2hhbmdlPXtldmVudCA9PiBzZXRQcm9tcHQoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICBvbkZvY3VzPXtldmVudCA9PiBldmVudC50YXJnZXQuc2V0U2VsZWN0aW9uUmFuZ2UocHJvbXB0Lmxlbmd0aCwgcHJvbXB0Lmxlbmd0aCl9XG4gICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICBtYXhMZW5ndGg9ezUwMDB9XG4gICAgICAvPlxuICAgICAgPEJveCBzeD17eyBkaXNwbGF5OiBcImZsZXhcIiwgbXQ6IDIsIGdhcDogMiB9fT5cbiAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfT5DYW5jZWw8L0J1dHRvbj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e3N1Ym1pdFByb21wdH1cbiAgICAgICAgICB2YXJpYW50PVwiY29udGFpbmVkXCJcbiAgICAgICAgICBkYXRhLXRlc3RpZD1cInF1ZXN0aW9uLXVwZGF0ZVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2luaXRpYWxQcm9tcHQgPT09IHByb21wdH1cbiAgICAgICAgPlxuICAgICAgICAgIFVwZGF0ZVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvQm94PlxuICAgIDwvQm94PlxuICApXG59XG5cbmV4cG9ydCB7IFVzZXJFZGl0SW5wdXQgfVxuIl0sIm5hbWVzIjpbIlVzZXJFZGl0SW5wdXQiLCJpbml0aWFsUHJvbXB0Iiwib25VcGRhdGUiLCJvbkNsb3NlIiwicHJvbXB0Iiwic2V0UHJvbXB0IiwidXNlU3RhdGUiLCJpc01vYmlsZSIsInVzZURldmljZUluZm8iLCJzdWJtaXRQcm9tcHQiLCJsZW5ndGgiLCJoYW5kbGVLZXlEb3duIiwiZXZlbnQiLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiQm94Iiwic3giLCJ3aWR0aCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlclJhZGl1cyIsImZvbnRTaXplIiwiY29sb3IiLCJweSIsInB4IiwiZm9udEZhbWlseSIsInJlc2l6ZSIsIm91dGxpbmUiLCJib3JkZXJDb2xvciIsIlRleHRhcmVhQXV0b3NpemUiLCJtYXhSb3dzIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsIm9uS2V5RG93biIsIm9uRm9jdXMiLCJzZXRTZWxlY3Rpb25SYW5nZSIsImF1dG9Gb2N1cyIsIm1heExlbmd0aCIsImRpc3BsYXkiLCJtdCIsImdhcCIsIkJ1dHRvbiIsIm9uQ2xpY2siLCJ2YXJpYW50IiwiZGF0YS10ZXN0aWQiLCJkaXNhYmxlZCJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7OytCQWdGU0E7OztlQUFBQTs7Ozt1QkFoRmdCO3VCQUNLO3NCQUNnQjtBQVE5QyxNQUFNQSxnQkFBZ0IsQ0FBQyxFQUFFQyxhQUFhLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFTO0lBQ2hFLE1BQU0sQ0FBQ0MsUUFBUUMsVUFBVSxHQUFHQyxJQUFBQSxlQUFRLEVBQUNMO0lBQ3JDLE1BQU0sRUFBRU0sUUFBUSxFQUFFLEdBQUdDLElBQUFBLG9CQUFhO0lBRWxDLE1BQU1DLGVBQWU7UUFDbkIsSUFBSUwsV0FBV0gsaUJBQWlCRyxPQUFPTSxNQUFNLEtBQUssR0FBRztZQUNuRDtRQUNGO1FBQ0FSLFNBQVNFO1FBQ1REO0lBQ0Y7SUFFQSxNQUFNUSxnQkFBZ0IsQ0FBQ0M7UUFDckIsSUFBSUEsTUFBTUMsR0FBRyxLQUFLLFdBQVcsQ0FBQ04sWUFBWUssTUFBTUUsUUFBUSxLQUFLLE9BQU87WUFDbEVGLE1BQU1HLGNBQWM7WUFDcEJOO1FBQ0Y7UUFFQSxJQUFJRyxNQUFNQyxHQUFHLEtBQUssVUFBVTtZQUMxQkQsTUFBTUcsY0FBYztZQUNwQlo7UUFDRjtJQUNGO0lBRUEscUJBQ0Usc0JBQUNhLFNBQUc7UUFDRkMsSUFBSTtZQUNGQyxPQUFPO1lBQ1AsY0FBYztnQkFDWkMsaUJBQWlCO2dCQUNqQkQsT0FBTztnQkFDUEUsY0FBYztnQkFDZEMsVUFBVWQsV0FBVyxLQUFLO2dCQUMxQmUsT0FBTztnQkFDUEMsSUFBSTtnQkFDSkMsSUFBSTtnQkFDSkMsWUFBWTtnQkFDWkMsUUFBUTtZQUNWO1lBRUEsb0JBQW9CO2dCQUNsQkMsU0FBUztnQkFDVEMsYUFBYTtZQUNmO1FBQ0Y7OzBCQUVBLHFCQUFDQyxzQkFBZ0I7Z0JBQ2ZDLFNBQVM7Z0JBQ1RDLE9BQU8zQjtnQkFDUDRCLFVBQVVwQixDQUFBQSxRQUFTUCxVQUFVTyxNQUFNcUIsTUFBTSxDQUFDRixLQUFLO2dCQUMvQ0csV0FBV3ZCO2dCQUNYd0IsU0FBU3ZCLENBQUFBLFFBQVNBLE1BQU1xQixNQUFNLENBQUNHLGlCQUFpQixDQUFDaEMsT0FBT00sTUFBTSxFQUFFTixPQUFPTSxNQUFNO2dCQUM3RTJCLFNBQVM7Z0JBQ1RDLFdBQVc7OzBCQUViLHNCQUFDdEIsU0FBRztnQkFBQ0MsSUFBSTtvQkFBRXNCLFNBQVM7b0JBQVFDLElBQUk7b0JBQUdDLEtBQUs7Z0JBQUU7O2tDQUN4QyxxQkFBQ0MsWUFBTTt3QkFBQ0MsU0FBU3hDO2tDQUFTOztrQ0FDMUIscUJBQUN1QyxZQUFNO3dCQUNMQyxTQUFTbEM7d0JBQ1RtQyxTQUFRO3dCQUNSQyxlQUFZO3dCQUNaQyxVQUFVN0Msa0JBQWtCRztrQ0FDN0I7Ozs7OztBQU1UIn0=