{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/pages/Files/FilesV2/components/ChatPane/ChatPaneInput/ChatPaneInput.tsx"],"sourcesContent":["import React from \"react\"\nimport noop from \"lodash/noop\"\nimport { CHAT_INPUT_ID } from \"@rp/common/settings\"\nimport {\n  CHAT_INPUT_CONTAINER_CLASS_NAME,\n  CHAT_INPUT_CONTROLS_CLASS_NAME,\n  CHAT_INPUT_HIDDEN_WRAPPER_CLASS_NAME,\n  CHAT_INPUT_WRAPPER_CLASS_NAME,\n  ExtendableChatInput,\n  SCOPE_DISPLAY_CLASS_NAME,\n} from \"@rp/react/web/chat\"\nimport { AddPromptParams } from \"@rp/react/web/chat\"\nimport { Box, Typography } from \"@rp/react/web/mui/core\"\n\ntype ChatPaneInputProps = {\n  name: string | undefined\n  addPrompt: (params: AddPromptParams) => Promise<void>\n  filesIds: Array<string>\n  hasChat: boolean\n}\n\nfunction ChatPaneInput({ name, addPrompt, filesIds, hasChat }: ChatPaneInputProps) {\n  const variant = \"new\"\n  const placeholder = `Ask a ${hasChat ? \"follow up\" : \"question\"} about ${name || \"your files\"}`\n\n  return (\n    <Box\n      sx={{\n        position: \"relative\",\n        height: 1,\n        px: 2,\n        backgroundColor: \"elevation.dp01\",\n        width: \"100%\",\n        zIndex: 1,\n        [`& .${CHAT_INPUT_CONTROLS_CLASS_NAME}`]: { left: \"8px\" },\n        [`& .${CHAT_INPUT_HIDDEN_WRAPPER_CLASS_NAME}`]: { width: \"calc(100% - 32px)\" },\n        [`& #${CHAT_INPUT_ID}.${CHAT_INPUT_WRAPPER_CLASS_NAME}, & .${CHAT_INPUT_HIDDEN_WRAPPER_CLASS_NAME} .${CHAT_INPUT_WRAPPER_CLASS_NAME}`]:\n          {\n            width: \"100%\",\n            minWidth: \"100%\",\n            [`& .${CHAT_INPUT_CONTAINER_CLASS_NAME}`]: {\n              width: \"100%\",\n              backgroundColor: \"elevation.dp06\",\n            },\n          },\n      }}\n    >\n      <Box\n        sx={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: 1,\n          position: \"absolute\",\n          bottom: 0,\n          width: \"calc(100% - 32px)\",\n          [`& .${SCOPE_DISPLAY_CLASS_NAME}`]: { backgroundColor: \"elevation.dp08\" },\n        }}\n      >\n        <ExtendableChatInput\n          enableFreeTier={false}\n          filesIds={filesIds}\n          hideControls={[\"watchlist\", \"files\", \"source\"]}\n          location={\"filesPage\"}\n          openScopeSelectorModal={noop}\n          placeholder={placeholder}\n          setFilesIds={noop}\n          setScope={noop}\n          sourceFilter={{}}\n          stopGenerating={undefined}\n          submitWatchlistId={noop}\n          variant={variant}\n          watchlistId={undefined}\n          onPromptSubmit={prompt =>\n            addPrompt({\n              prompt,\n              // TODO: implement these\n              // customTitle: getCustomTitle(prompt),\n              // entities: chatEntities,\n              // interactionType: shouldCreateWatchlistInteraction ? \"watchlist\" : undefined,\n              // watchlistId: watchlist.id,\n            })\n          }\n        />\n        <Typography sx={{ textAlign: \"center\", fontSize: 12, color: \"grey.300\", mb: 2 }}>\n          Bigdata can make mistakes. Please check important info.\n        </Typography>\n      </Box>\n    </Box>\n  )\n}\n\nexport { ChatPaneInput }\n"],"names":["ChatPaneInput","name","addPrompt","filesIds","hasChat","variant","placeholder","Box","sx","position","height","px","backgroundColor","width","zIndex","CHAT_INPUT_CONTROLS_CLASS_NAME","left","CHAT_INPUT_HIDDEN_WRAPPER_CLASS_NAME","CHAT_INPUT_ID","CHAT_INPUT_WRAPPER_CLASS_NAME","minWidth","CHAT_INPUT_CONTAINER_CLASS_NAME","display","flexDirection","gap","bottom","SCOPE_DISPLAY_CLASS_NAME","ExtendableChatInput","enableFreeTier","hideControls","location","openScopeSelectorModal","noop","setFilesIds","setScope","sourceFilter","stopGenerating","undefined","submitWatchlistId","watchlistId","onPromptSubmit","prompt","Typography","textAlign","fontSize","color","mb"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA2FSA;;;eAAAA;;;;8DA3FS;6DACD;0BACa;sBAQvB;sBAEyB;;;;;;AAShC,SAASA,cAAc,EAAEC,IAAI,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,OAAO,EAAsB;IAC/E,MAAMC,UAAU;IAChB,MAAMC,cAAc,CAAC,MAAM,EAAEF,UAAU,cAAc,WAAW,OAAO,EAAEH,QAAQ,aAAa,CAAC;IAE/F,qBACE,qBAACM,SAAG;QACFC,IAAI;YACFC,UAAU;YACVC,QAAQ;YACRC,IAAI;YACJC,iBAAiB;YACjBC,OAAO;YACPC,QAAQ;YACR,CAAC,CAAC,GAAG,EAAEC,oCAA8B,CAAC,CAAC,CAAC,EAAE;gBAAEC,MAAM;YAAM;YACxD,CAAC,CAAC,GAAG,EAAEC,0CAAoC,CAAC,CAAC,CAAC,EAAE;gBAAEJ,OAAO;YAAoB;YAC7E,CAAC,CAAC,GAAG,EAAEK,uBAAa,CAAC,CAAC,EAAEC,mCAA6B,CAAC,KAAK,EAAEF,0CAAoC,CAAC,EAAE,EAAEE,mCAA6B,CAAC,CAAC,CAAC,EACpI;gBACEN,OAAO;gBACPO,UAAU;gBACV,CAAC,CAAC,GAAG,EAAEC,qCAA+B,CAAC,CAAC,CAAC,EAAE;oBACzCR,OAAO;oBACPD,iBAAiB;gBACnB;YACF;QACJ;kBAEA,cAAA,sBAACL,SAAG;YACFC,IAAI;gBACFc,SAAS;gBACTC,eAAe;gBACfC,KAAK;gBACLf,UAAU;gBACVgB,QAAQ;gBACRZ,OAAO;gBACP,CAAC,CAAC,GAAG,EAAEa,8BAAwB,CAAC,CAAC,CAAC,EAAE;oBAAEd,iBAAiB;gBAAiB;YAC1E;;8BAEA,qBAACe,yBAAmB;oBAClBC,gBAAgB;oBAChBzB,UAAUA;oBACV0B,cAAc;wBAAC;wBAAa;wBAAS;qBAAS;oBAC9CC,UAAU;oBACVC,wBAAwBC,aAAI;oBAC5B1B,aAAaA;oBACb2B,aAAaD,aAAI;oBACjBE,UAAUF,aAAI;oBACdG,cAAc,CAAC;oBACfC,gBAAgBC;oBAChBC,mBAAmBN,aAAI;oBACvB3B,SAASA;oBACTkC,aAAaF;oBACbG,gBAAgBC,CAAAA,SACdvC,UAAU;4BACRuC;wBAMF;;8BAGJ,qBAACC,gBAAU;oBAAClC,IAAI;wBAAEmC,WAAW;wBAAUC,UAAU;wBAAIC,OAAO;wBAAYC,IAAI;oBAAE;8BAAG;;;;;AAMzF"}