825b7db87ddba1de37c61ee50066fcb4
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "groupByOperations", {
    enumerable: true,
    get: function() {
        return groupByOperations;
    }
});
const _apitypes = require("@rp/common/api-types");
const groupByOperations = (filters)=>{
    const operations = {
        in: [],
        all: [],
        "not-in": []
    };
    Object.entries(filters).forEach(([filterId, filter])=>{
        if (!filter) return;
        if ((0, _apitypes.isRpqlFlatMatchFilter)(filter)) {
            operations.in.push(filterId);
            return;
        }
        if ((0, _apitypes.isRpqlFlatArrayFilter)(filter) || (0, _apitypes.isRpqlFlatArrayIdFilter)(filter)) {
            if (filter.operation === "not-all") return;
            operations[filter.operation].push(filterId);
        }
    });
    return operations;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2Nxcy1xdWVyeS1iYXIvc3JjL2xpYi9ncm91cEJ5T3BlcmF0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc1JwcWxGbGF0QXJyYXlGaWx0ZXIsXG4gIGlzUnBxbEZsYXRBcnJheUlkRmlsdGVyLFxuICBpc1JwcWxGbGF0TWF0Y2hGaWx0ZXIsXG59IGZyb20gXCJAcnAvY29tbW9uL2FwaS10eXBlc1wiXG5pbXBvcnQgeyBScHFsRmxhdEZpbHRlciB9IGZyb20gXCJAcnAvY29tbW9uL2FwaS10eXBlc1wiXG5cbnR5cGUgT3BlcmF0aW9uc1R5cGUgPSBcImluXCIgfCBcImFsbFwiIHwgXCJub3QtaW5cIlxuXG5jb25zdCBncm91cEJ5T3BlcmF0aW9ucyA9IChmaWx0ZXJzOiBSZWNvcmQ8c3RyaW5nLCBScHFsRmxhdEZpbHRlciB8IG51bGw+KSA9PiB7XG4gIGNvbnN0IG9wZXJhdGlvbnM6IFJlY29yZDxPcGVyYXRpb25zVHlwZSwgQXJyYXk8c3RyaW5nPj4gPSB7IGluOiBbXSwgYWxsOiBbXSwgXCJub3QtaW5cIjogW10gfVxuXG4gIE9iamVjdC5lbnRyaWVzKGZpbHRlcnMpLmZvckVhY2goKFtmaWx0ZXJJZCwgZmlsdGVyXSkgPT4ge1xuICAgIGlmICghZmlsdGVyKSByZXR1cm5cbiAgICBpZiAoaXNScHFsRmxhdE1hdGNoRmlsdGVyKGZpbHRlcikpIHtcbiAgICAgIG9wZXJhdGlvbnMuaW4ucHVzaChmaWx0ZXJJZClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoaXNScHFsRmxhdEFycmF5RmlsdGVyKGZpbHRlcikgfHwgaXNScHFsRmxhdEFycmF5SWRGaWx0ZXIoZmlsdGVyKSkge1xuICAgICAgaWYgKGZpbHRlci5vcGVyYXRpb24gPT09IFwibm90LWFsbFwiKSByZXR1cm5cbiAgICAgIG9wZXJhdGlvbnNbZmlsdGVyLm9wZXJhdGlvbl0ucHVzaChmaWx0ZXJJZClcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIG9wZXJhdGlvbnNcbn1cblxuZXhwb3J0IHsgZ3JvdXBCeU9wZXJhdGlvbnMgfVxuIl0sIm5hbWVzIjpbImdyb3VwQnlPcGVyYXRpb25zIiwiZmlsdGVycyIsIm9wZXJhdGlvbnMiLCJpbiIsImFsbCIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwiZmlsdGVySWQiLCJmaWx0ZXIiLCJpc1JwcWxGbGF0TWF0Y2hGaWx0ZXIiLCJwdXNoIiwiaXNScHFsRmxhdEFycmF5RmlsdGVyIiwiaXNScHFsRmxhdEFycmF5SWRGaWx0ZXIiLCJvcGVyYXRpb24iXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBMkJTQTs7O2VBQUFBOzs7MEJBdkJGO0FBS1AsTUFBTUEsb0JBQW9CLENBQUNDO0lBQ3pCLE1BQU1DLGFBQW9EO1FBQUVDLElBQUksRUFBRTtRQUFFQyxLQUFLLEVBQUU7UUFBRSxVQUFVLEVBQUU7SUFBQztJQUUxRkMsT0FBT0MsT0FBTyxDQUFDTCxTQUFTTSxPQUFPLENBQUMsQ0FBQyxDQUFDQyxVQUFVQyxPQUFPO1FBQ2pELElBQUksQ0FBQ0EsUUFBUTtRQUNiLElBQUlDLElBQUFBLCtCQUFxQixFQUFDRCxTQUFTO1lBQ2pDUCxXQUFXQyxFQUFFLENBQUNRLElBQUksQ0FBQ0g7WUFDbkI7UUFDRjtRQUNBLElBQUlJLElBQUFBLCtCQUFxQixFQUFDSCxXQUFXSSxJQUFBQSxpQ0FBdUIsRUFBQ0osU0FBUztZQUNwRSxJQUFJQSxPQUFPSyxTQUFTLEtBQUssV0FBVztZQUNwQ1osVUFBVSxDQUFDTyxPQUFPSyxTQUFTLENBQUMsQ0FBQ0gsSUFBSSxDQUFDSDtRQUNwQztJQUNGO0lBRUEsT0FBT047QUFDVCJ9