05649fb0d3123c75b68f7b9c6275fa1b
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "consensus", {
    enumerable: true,
    get: function() {
        return consensus;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _AnalystRatingsDistributionTooltip = require("../../WatchlistDataTableCells/AnalystRatingsDistributionTooltip");
const _WatchlistDataTableColoredCell = require("../../WatchlistDataTableCells/WatchlistDataTableColoredCell");
const _genericColumn = require("../../genericColumn");
function consensus(tableName) {
    const title = "Consensus";
    return (0, _genericColumn.genericColumn)({
        endpoint: "companyAnalystRatings",
        columnKeys: [
            "consensus"
        ],
        size: 90,
        title,
        enableSorting: true,
        enableHiding: true,
        tooltip: "Summarizes analyst views into an actionable signal for investors. (Strong Buy/Buy/Hold/Sell/Strong Sell)",
        cell: (info)=>{
            var _info_row_original_financialData_companyAnalystRatings_data, _info_row_original_financialData_companyAnalystRatings, _info_row_original_financialData_companyAnalystRatings1, _info_row_original_financialData_companyAnalystRatings_data1, _info_row_original_financialData_companyAnalystRatings2;
            var _info_row_original_financialData_companyAnalystRatings_data_consensus;
            const rawValue = (_info_row_original_financialData_companyAnalystRatings_data_consensus = (_info_row_original_financialData_companyAnalystRatings = info.row.original.financialData.companyAnalystRatings) === null || _info_row_original_financialData_companyAnalystRatings === void 0 ? void 0 : (_info_row_original_financialData_companyAnalystRatings_data = _info_row_original_financialData_companyAnalystRatings.data) === null || _info_row_original_financialData_companyAnalystRatings_data === void 0 ? void 0 : _info_row_original_financialData_companyAnalystRatings_data.consensus) !== null && _info_row_original_financialData_companyAnalystRatings_data_consensus !== void 0 ? _info_row_original_financialData_companyAnalystRatings_data_consensus : "Hold";
            const numValue = rawValue === "Hold" ? 0 : [
                "Sell",
                "Strong Sell"
            ].includes(rawValue) ? -1 : 1;
            const ratingsData = (_info_row_original_financialData_companyAnalystRatings1 = info.row.original.financialData.companyAnalystRatings) === null || _info_row_original_financialData_companyAnalystRatings1 === void 0 ? void 0 : _info_row_original_financialData_companyAnalystRatings1.data;
            return /*#__PURE__*/ (0, _jsxruntime.jsx)(_WatchlistDataTableColoredCell.WatchlistDataTableColoredCell, {
                queryResult: info.row.original.financialData.companyAnalystRatings,
                tooltip: ratingsData ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_AnalystRatingsDistributionTooltip.AnalystRatingsDistributionTooltip, {
                    data: ratingsData
                }) : undefined,
                onClick: ()=>{
                    var _info_row_original_onChatWithCell, _info_row_original;
                    (_info_row_original_onChatWithCell = (_info_row_original = info.row.original).onChatWithCell) === null || _info_row_original_onChatWithCell === void 0 ? void 0 : _info_row_original_onChatWithCell.call(_info_row_original, {
                        prompt: `Explain how market conditions in the Medium-term support the ${rawValue} for ${info.row.original.entityInfo.name}`,
                        value: rawValue,
                        entityInfo: info.row.original.entityInfo,
                        columnName: `${tableName}: ${title}`
                    });
                },
                value: ((_info_row_original_financialData_companyAnalystRatings2 = info.row.original.financialData.companyAnalystRatings) === null || _info_row_original_financialData_companyAnalystRatings2 === void 0 ? void 0 : (_info_row_original_financialData_companyAnalystRatings_data1 = _info_row_original_financialData_companyAnalystRatings2.data) === null || _info_row_original_financialData_companyAnalystRatings_data1 === void 0 ? void 0 : _info_row_original_financialData_companyAnalystRatings_data1.consensus) ? numValue : undefined,
                children: rawValue
            });
        }
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL3dhdGNobGlzdHMvc3JjL2xpYi9XYXRjaGxpc3REYXRhVGFicy9lbmRwb2ludHMvY29tcGFueUFuYWx5c3RSYXRpbmdzL2NvbnNlbnN1cy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQW5hbHlzdFJhdGluZ3NEaXN0cmlidXRpb25Ub29sdGlwIH0gZnJvbSBcIi4uLy4uL1dhdGNobGlzdERhdGFUYWJsZUNlbGxzL0FuYWx5c3RSYXRpbmdzRGlzdHJpYnV0aW9uVG9vbHRpcFwiXG5pbXBvcnQgeyBXYXRjaGxpc3REYXRhVGFibGVDb2xvcmVkQ2VsbCB9IGZyb20gXCIuLi8uLi9XYXRjaGxpc3REYXRhVGFibGVDZWxscy9XYXRjaGxpc3REYXRhVGFibGVDb2xvcmVkQ2VsbFwiXG5pbXBvcnQgeyBnZW5lcmljQ29sdW1uIH0gZnJvbSBcIi4uLy4uL2dlbmVyaWNDb2x1bW5cIlxuXG5mdW5jdGlvbiBjb25zZW5zdXModGFibGVOYW1lOiBzdHJpbmcpIHtcbiAgY29uc3QgdGl0bGUgPSBcIkNvbnNlbnN1c1wiXG4gIHJldHVybiBnZW5lcmljQ29sdW1uKHtcbiAgICBlbmRwb2ludDogXCJjb21wYW55QW5hbHlzdFJhdGluZ3NcIixcbiAgICBjb2x1bW5LZXlzOiBbXCJjb25zZW5zdXNcIl0sXG4gICAgc2l6ZTogOTAsXG4gICAgdGl0bGUsXG4gICAgZW5hYmxlU29ydGluZzogdHJ1ZSxcbiAgICBlbmFibGVIaWRpbmc6IHRydWUsXG4gICAgdG9vbHRpcDpcbiAgICAgIFwiU3VtbWFyaXplcyBhbmFseXN0IHZpZXdzIGludG8gYW4gYWN0aW9uYWJsZSBzaWduYWwgZm9yIGludmVzdG9ycy4gKFN0cm9uZyBCdXkvQnV5L0hvbGQvU2VsbC9TdHJvbmcgU2VsbClcIixcbiAgICBjZWxsOiBpbmZvID0+IHtcbiAgICAgIGNvbnN0IHJhd1ZhbHVlID1cbiAgICAgICAgaW5mby5yb3cub3JpZ2luYWwuZmluYW5jaWFsRGF0YS5jb21wYW55QW5hbHlzdFJhdGluZ3M/LmRhdGE/LmNvbnNlbnN1cyA/PyBcIkhvbGRcIlxuICAgICAgY29uc3QgbnVtVmFsdWUgPSByYXdWYWx1ZSA9PT0gXCJIb2xkXCIgPyAwIDogW1wiU2VsbFwiLCBcIlN0cm9uZyBTZWxsXCJdLmluY2x1ZGVzKHJhd1ZhbHVlKSA/IC0xIDogMVxuICAgICAgY29uc3QgcmF0aW5nc0RhdGEgPSBpbmZvLnJvdy5vcmlnaW5hbC5maW5hbmNpYWxEYXRhLmNvbXBhbnlBbmFseXN0UmF0aW5ncz8uZGF0YVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8V2F0Y2hsaXN0RGF0YVRhYmxlQ29sb3JlZENlbGxcbiAgICAgICAgICBxdWVyeVJlc3VsdD17aW5mby5yb3cub3JpZ2luYWwuZmluYW5jaWFsRGF0YS5jb21wYW55QW5hbHlzdFJhdGluZ3N9XG4gICAgICAgICAgdG9vbHRpcD17XG4gICAgICAgICAgICByYXRpbmdzRGF0YSA/IDxBbmFseXN0UmF0aW5nc0Rpc3RyaWJ1dGlvblRvb2x0aXAgZGF0YT17cmF0aW5nc0RhdGF9IC8+IDogdW5kZWZpbmVkXG4gICAgICAgICAgfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIGluZm8ucm93Lm9yaWdpbmFsLm9uQ2hhdFdpdGhDZWxsPy4oe1xuICAgICAgICAgICAgICBwcm9tcHQ6IGBFeHBsYWluIGhvdyBtYXJrZXQgY29uZGl0aW9ucyBpbiB0aGUgTWVkaXVtLXRlcm0gc3VwcG9ydCB0aGUgJHtyYXdWYWx1ZX0gZm9yICR7aW5mby5yb3cub3JpZ2luYWwuZW50aXR5SW5mby5uYW1lfWAsXG4gICAgICAgICAgICAgIHZhbHVlOiByYXdWYWx1ZSxcbiAgICAgICAgICAgICAgZW50aXR5SW5mbzogaW5mby5yb3cub3JpZ2luYWwuZW50aXR5SW5mbyxcbiAgICAgICAgICAgICAgY29sdW1uTmFtZTogYCR7dGFibGVOYW1lfTogJHt0aXRsZX1gLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9fVxuICAgICAgICAgIHZhbHVlPXtcbiAgICAgICAgICAgIGluZm8ucm93Lm9yaWdpbmFsLmZpbmFuY2lhbERhdGEuY29tcGFueUFuYWx5c3RSYXRpbmdzPy5kYXRhPy5jb25zZW5zdXNcbiAgICAgICAgICAgICAgPyBudW1WYWx1ZVxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIHtyYXdWYWx1ZX1cbiAgICAgICAgPC9XYXRjaGxpc3REYXRhVGFibGVDb2xvcmVkQ2VsbD5cbiAgICAgIClcbiAgICB9LFxuICB9KVxufVxuXG5leHBvcnQgeyBjb25zZW5zdXMgfVxuIl0sIm5hbWVzIjpbImNvbnNlbnN1cyIsInRhYmxlTmFtZSIsInRpdGxlIiwiZ2VuZXJpY0NvbHVtbiIsImVuZHBvaW50IiwiY29sdW1uS2V5cyIsInNpemUiLCJlbmFibGVTb3J0aW5nIiwiZW5hYmxlSGlkaW5nIiwidG9vbHRpcCIsImNlbGwiLCJpbmZvIiwicmF3VmFsdWUiLCJyb3ciLCJvcmlnaW5hbCIsImZpbmFuY2lhbERhdGEiLCJjb21wYW55QW5hbHlzdFJhdGluZ3MiLCJkYXRhIiwibnVtVmFsdWUiLCJpbmNsdWRlcyIsInJhdGluZ3NEYXRhIiwiV2F0Y2hsaXN0RGF0YVRhYmxlQ29sb3JlZENlbGwiLCJxdWVyeVJlc3VsdCIsIkFuYWx5c3RSYXRpbmdzRGlzdHJpYnV0aW9uVG9vbHRpcCIsInVuZGVmaW5lZCIsIm9uQ2xpY2siLCJvbkNoYXRXaXRoQ2VsbCIsInByb21wdCIsImVudGl0eUluZm8iLCJuYW1lIiwidmFsdWUiLCJjb2x1bW5OYW1lIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkFnRFNBOzs7ZUFBQUE7Ozs7bURBaER5QzsrQ0FDSjsrQkFDaEI7QUFFOUIsU0FBU0EsVUFBVUMsU0FBaUI7SUFDbEMsTUFBTUMsUUFBUTtJQUNkLE9BQU9DLElBQUFBLDRCQUFhLEVBQUM7UUFDbkJDLFVBQVU7UUFDVkMsWUFBWTtZQUFDO1NBQVk7UUFDekJDLE1BQU07UUFDTko7UUFDQUssZUFBZTtRQUNmQyxjQUFjO1FBQ2RDLFNBQ0U7UUFDRkMsTUFBTUMsQ0FBQUE7Z0JBRUZBLDZEQUFBQSx3REFFa0JBLHlEQWlCZEEsOERBQUFBO2dCQW5CSkE7WUFERixNQUFNQyxXQUNKRCxDQUFBQSx5RUFBQUEseURBQUFBLEtBQUtFLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDQyxhQUFhLENBQUNDLHFCQUFxQixjQUFyREwsOEVBQUFBLDhEQUFBQSx1REFBdURNLElBQUksY0FBM0ROLGtGQUFBQSw0REFBNkRYLFNBQVMsY0FBdEVXLG1GQUFBQSx3RUFBMEU7WUFDNUUsTUFBTU8sV0FBV04sYUFBYSxTQUFTLElBQUk7Z0JBQUM7Z0JBQVE7YUFBYyxDQUFDTyxRQUFRLENBQUNQLFlBQVksQ0FBQyxJQUFJO1lBQzdGLE1BQU1RLGVBQWNULDBEQUFBQSxLQUFLRSxHQUFHLENBQUNDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDQyxxQkFBcUIsY0FBckRMLDhFQUFBQSx3REFBdURNLElBQUk7WUFFL0UscUJBQ0UscUJBQUNJLDREQUE2QjtnQkFDNUJDLGFBQWFYLEtBQUtFLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDQyxhQUFhLENBQUNDLHFCQUFxQjtnQkFDbEVQLFNBQ0VXLDRCQUFjLHFCQUFDRyxvRUFBaUM7b0JBQUNOLE1BQU1HO3FCQUFrQkk7Z0JBRTNFQyxTQUFTO3dCQUNQZCxtQ0FBQUE7cUJBQUFBLG9DQUFBQSxDQUFBQSxxQkFBQUEsS0FBS0UsR0FBRyxDQUFDQyxRQUFRLEVBQUNZLGNBQWMsY0FBaENmLHdEQUFBQSx1Q0FBQUEsb0JBQW1DO3dCQUNqQ2dCLFFBQVEsQ0FBQyw2REFBNkQsRUFBRWYsU0FBUyxLQUFLLEVBQUVELEtBQUtFLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDYyxVQUFVLENBQUNDLElBQUksQ0FBQyxDQUFDO3dCQUMzSEMsT0FBT2xCO3dCQUNQZ0IsWUFBWWpCLEtBQUtFLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDYyxVQUFVO3dCQUN4Q0csWUFBWSxDQUFDLEVBQUU5QixVQUFVLEVBQUUsRUFBRUMsTUFBTSxDQUFDO29CQUN0QztnQkFDRjtnQkFDQTRCLE9BQ0VuQixFQUFBQSwwREFBQUEsS0FBS0UsR0FBRyxDQUFDQyxRQUFRLENBQUNDLGFBQWEsQ0FBQ0MscUJBQXFCLGNBQXJETCwrRUFBQUEsK0RBQUFBLHdEQUF1RE0sSUFBSSxjQUEzRE4sbUZBQUFBLDZEQUE2RFgsU0FBUyxJQUNsRWtCLFdBQ0FNOzBCQUdMWjs7UUFHUDtJQUNGO0FBQ0YifQ==