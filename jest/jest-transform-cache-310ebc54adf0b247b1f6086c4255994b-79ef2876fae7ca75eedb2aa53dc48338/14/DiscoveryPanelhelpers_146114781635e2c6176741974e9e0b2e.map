{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/discovery-sidebar/src/hooks/DiscoveryPanel.helpers.tsx"],"sourcesContent":["import { CqsItem } from \"@rp/common/api-types\"\nimport { formatTopicGroupToLabel } from \"@rp/common/utils\"\n\ntype Group = \"group1\" | \"group2\" | \"group3\" | \"group4\" | \"group5\"\n\nconst isGroup = (group: string | null): group is Group => {\n  return [\"group1\", \"group2\", \"group3\", \"group4\", \"group5\"].includes(group || \"\")\n}\n\nconst getGroupFamilies = (filters: Array<CqsItem>, groupBy: string) => {\n  const families = filters\n    .map(filter => (isGroup(groupBy) ? filter[groupBy] : \"\"))\n    .filter((str, index, array) => array.indexOf(str) === index)\n    .filter(str => str)\n\n  return families\n    .map(family => {\n      const familyFilters = filters.filter(filter =>\n        isGroup(groupBy) ? filter[groupBy] === family : false,\n      )\n      const [first] = familyFilters\n      return {\n        family,\n        label: first.queryType === \"rp_topic\" ? formatTopicGroupToLabel(family) : family ?? \"\",\n        volume: familyFilters.reduce((total, filter) => total + filter.volume, 0),\n        filters: familyFilters,\n      }\n    })\n    .sort((first, second) => second.volume - first.volume)\n}\n\nexport { getGroupFamilies, isGroup }\n"],"names":["getGroupFamilies","isGroup","group","includes","filters","groupBy","families","map","filter","str","index","array","indexOf","family","familyFilters","first","label","queryType","formatTopicGroupToLabel","volume","reduce","total","sort","second"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IA+BSA,gBAAgB;eAAhBA;;IAAkBC,OAAO;eAAPA;;;uBA9Ba;AAIxC,MAAMA,UAAU,CAACC;IACf,OAAO;QAAC;QAAU;QAAU;QAAU;QAAU;KAAS,CAACC,QAAQ,CAACD,SAAS;AAC9E;AAEA,MAAMF,mBAAmB,CAACI,SAAyBC;IACjD,MAAMC,WAAWF,QACdG,GAAG,CAACC,CAAAA,SAAWP,QAAQI,WAAWG,MAAM,CAACH,QAAQ,GAAG,IACpDG,MAAM,CAAC,CAACC,KAAKC,OAAOC,QAAUA,MAAMC,OAAO,CAACH,SAASC,OACrDF,MAAM,CAACC,CAAAA,MAAOA;IAEjB,OAAOH,SACJC,GAAG,CAACM,CAAAA;QACH,MAAMC,gBAAgBV,QAAQI,MAAM,CAACA,CAAAA,SACnCP,QAAQI,WAAWG,MAAM,CAACH,QAAQ,KAAKQ,SAAS;QAElD,MAAM,CAACE,MAAM,GAAGD;QAChB,OAAO;YACLD;YACAG,OAAOD,MAAME,SAAS,KAAK,aAAaC,IAAAA,8BAAuB,EAACL,UAAUA,mBAAAA,oBAAAA,SAAU;YACpFM,QAAQL,cAAcM,MAAM,CAAC,CAACC,OAAOb,SAAWa,QAAQb,OAAOW,MAAM,EAAE;YACvEf,SAASU;QACX;IACF,GACCQ,IAAI,CAAC,CAACP,OAAOQ,SAAWA,OAAOJ,MAAM,GAAGJ,MAAMI,MAAM;AACzD"}