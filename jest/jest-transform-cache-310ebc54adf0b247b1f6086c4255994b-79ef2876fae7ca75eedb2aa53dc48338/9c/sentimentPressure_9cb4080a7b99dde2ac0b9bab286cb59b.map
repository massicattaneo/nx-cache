{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistDataTabs/endpoints/companySentiment/sentimentPressure.tsx"],"sourcesContent":["import { WatchlistDataTableColoredCell } from \"../../WatchlistDataTableCells/WatchlistDataTableColoredCell\"\nimport { genericColumn } from \"../../genericColumn\"\n\nfunction sentimentPressure(tableName: string) {\n  const title = \"Sentiment Trend\"\n  return genericColumn({\n    endpoint: \"companySentiment\",\n    columnKeys: [\"sentimentPressure\"],\n    size: 140,\n    title,\n    enableSorting: true,\n    enableHiding: true,\n    tooltip:\n      \"Measures how sentiment today compares to recent history, highlighting unusually strong positive or negative sentiment trends. In the range: [-1, 1].\",\n    cell: info => {\n      const rawValue =\n        info.row.original.financialData.companySentiment?.data?.sentimentPressure ?? 0\n      const sign = rawValue === 0 ? \"neutral\" : rawValue > 0 ? \"positive\" : \"negative\"\n\n      return (\n        <WatchlistDataTableColoredCell\n          queryResult={info.row.original.financialData.companySentiment}\n          tooltip={\"Explain the Sentiment Pressure\"}\n          onClick={() => {\n            info.row.original.onChatWithCell?.({\n              prompt: `What news is driving ${sign} sentiment pressure for ${info.row.original.entityInfo.name} over the last 3 months?`,\n              value: info.row.original.financialData.companySentiment?.data?.sentimentPressure,\n              entityInfo: info.row.original.entityInfo,\n              columnName: `${tableName}: ${title}`,\n            })\n          }}\n          value={rawValue}\n        >\n          {rawValue === 0\n            ? \"Neutral\"\n            : `${rawValue > 0 ? \"+\" : \"-\"}${Number(Math.abs(rawValue)).toFixed(2)}`}\n        </WatchlistDataTableColoredCell>\n      )\n    },\n  })\n}\n\nexport { sentimentPressure }\n"],"names":["sentimentPressure","tableName","title","genericColumn","endpoint","columnKeys","size","enableSorting","enableHiding","tooltip","cell","info","rawValue","row","original","financialData","companySentiment","data","sign","WatchlistDataTableColoredCell","queryResult","onClick","onChatWithCell","prompt","entityInfo","name","value","columnName","Number","Math","abs","toFixed"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA0CSA;;;eAAAA;;;;+CA1CqC;+BAChB;AAE9B,SAASA,kBAAkBC,SAAiB;IAC1C,MAAMC,QAAQ;IACd,OAAOC,IAAAA,4BAAa,EAAC;QACnBC,UAAU;QACVC,YAAY;YAAC;SAAoB;QACjCC,MAAM;QACNJ;QACAK,eAAe;QACfC,cAAc;QACdC,SACE;QACFC,MAAMC,CAAAA;gBAEFA,wDAAAA;gBAAAA;YADF,MAAMC,WACJD,CAAAA,4EAAAA,oDAAAA,KAAKE,GAAG,CAACC,QAAQ,CAACC,aAAa,CAACC,gBAAgB,cAAhDL,yEAAAA,yDAAAA,kDAAkDM,IAAI,cAAtDN,6EAAAA,uDAAwDX,iBAAiB,cAAzEW,sFAAAA,2EAA6E;YAC/E,MAAMO,OAAON,aAAa,IAAI,YAAYA,WAAW,IAAI,aAAa;YAEtE,qBACE,qBAACO,4DAA6B;gBAC5BC,aAAaT,KAAKE,GAAG,CAACC,QAAQ,CAACC,aAAa,CAACC,gBAAgB;gBAC7DP,SAAS;gBACTY,SAAS;wBAGEV,wDAAAA,mDAFTA,mCAAAA;qBAAAA,oCAAAA,CAAAA,qBAAAA,KAAKE,GAAG,CAACC,QAAQ,EAACQ,cAAc,cAAhCX,wDAAAA,uCAAAA,oBAAmC;wBACjCY,QAAQ,CAAC,qBAAqB,EAAEL,KAAK,wBAAwB,EAAEP,KAAKE,GAAG,CAACC,QAAQ,CAACU,UAAU,CAACC,IAAI,CAAC,wBAAwB,CAAC;wBAC1HC,KAAK,GAAEf,oDAAAA,KAAKE,GAAG,CAACC,QAAQ,CAACC,aAAa,CAACC,gBAAgB,cAAhDL,yEAAAA,yDAAAA,kDAAkDM,IAAI,cAAtDN,6EAAAA,uDAAwDX,iBAAiB;wBAChFwB,YAAYb,KAAKE,GAAG,CAACC,QAAQ,CAACU,UAAU;wBACxCG,YAAY,CAAC,EAAE1B,UAAU,EAAE,EAAEC,MAAM,CAAC;oBACtC;gBACF;gBACAwB,OAAOd;0BAENA,aAAa,IACV,YACA,CAAC,EAAEA,WAAW,IAAI,MAAM,IAAI,EAAEgB,OAAOC,KAAKC,GAAG,CAAClB,WAAWmB,OAAO,CAAC,GAAG,CAAC;;QAG/E;IACF;AACF"}