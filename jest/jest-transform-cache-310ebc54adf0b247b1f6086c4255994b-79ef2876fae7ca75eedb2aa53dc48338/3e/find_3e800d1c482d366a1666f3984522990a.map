{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/property-information/lib/find.js"],"sourcesContent":["/**\n * @typedef {import('./util/schema.js').Schema} Schema\n */\n\nimport {normalize} from './normalize.js'\nimport {DefinedInfo} from './util/defined-info.js'\nimport {Info} from './util/info.js'\n\nconst valid = /^data[-\\w.:]+$/i\nconst dash = /-[a-z]/g\nconst cap = /[A-Z]/g\n\n/**\n * @param {Schema} schema\n * @param {string} value\n * @returns {Info}\n */\nexport function find(schema, value) {\n  const normal = normalize(value)\n  let prop = value\n  let Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === 'data' && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      // Turn it into a property.\n      const rest = value.slice(5).replace(dash, camelcase)\n      prop = 'data' + rest.charAt(0).toUpperCase() + rest.slice(1)\n    } else {\n      // Turn it into an attribute.\n      const rest = value.slice(4)\n\n      if (!dash.test(rest)) {\n        let dashes = rest.replace(cap, kebab)\n\n        if (dashes.charAt(0) !== '-') {\n          dashes = '-' + dashes\n        }\n\n        value = 'data' + dashes\n      }\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n"],"names":["find","valid","dash","cap","schema","value","normal","normalize","prop","Type","Info","property","length","slice","test","charAt","rest","replace","camelcase","toUpperCase","dashes","kebab","DefinedInfo","$0","toLowerCase"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA;;CAEC;;;;+BAeeA;;;eAAAA;;;2BAbQ;6BACE;sBACP;AAEnB,MAAMC,QAAQ;AACd,MAAMC,OAAO;AACb,MAAMC,MAAM;AAOL,SAASH,KAAKI,MAAM,EAAEC,KAAK;IAChC,MAAMC,SAASC,IAAAA,oBAAS,EAACF;IACzB,IAAIG,OAAOH;IACX,IAAII,OAAOC,UAAI;IAEf,IAAIJ,UAAUF,OAAOE,MAAM,EAAE;QAC3B,OAAOF,OAAOO,QAAQ,CAACP,OAAOE,MAAM,CAACA,OAAO,CAAC;IAC/C;IAEA,IAAIA,OAAOM,MAAM,GAAG,KAAKN,OAAOO,KAAK,CAAC,GAAG,OAAO,UAAUZ,MAAMa,IAAI,CAACT,QAAQ;QAC3E,yBAAyB;QACzB,IAAIA,MAAMU,MAAM,CAAC,OAAO,KAAK;YAC3B,2BAA2B;YAC3B,MAAMC,OAAOX,MAAMQ,KAAK,CAAC,GAAGI,OAAO,CAACf,MAAMgB;YAC1CV,OAAO,SAASQ,KAAKD,MAAM,CAAC,GAAGI,WAAW,KAAKH,KAAKH,KAAK,CAAC;QAC5D,OAAO;YACL,6BAA6B;YAC7B,MAAMG,OAAOX,MAAMQ,KAAK,CAAC;YAEzB,IAAI,CAACX,KAAKY,IAAI,CAACE,OAAO;gBACpB,IAAII,SAASJ,KAAKC,OAAO,CAACd,KAAKkB;gBAE/B,IAAID,OAAOL,MAAM,CAAC,OAAO,KAAK;oBAC5BK,SAAS,MAAMA;gBACjB;gBAEAf,QAAQ,SAASe;YACnB;QACF;QAEAX,OAAOa,wBAAW;IACpB;IAEA,OAAO,IAAIb,KAAKD,MAAMH;AACxB;AAEA;;;CAGC,GACD,SAASgB,MAAME,EAAE;IACf,OAAO,MAAMA,GAAGC,WAAW;AAC7B;AAEA;;;CAGC,GACD,SAASN,UAAUK,EAAE;IACnB,OAAOA,GAAGR,MAAM,CAAC,GAAGI,WAAW;AACjC"}