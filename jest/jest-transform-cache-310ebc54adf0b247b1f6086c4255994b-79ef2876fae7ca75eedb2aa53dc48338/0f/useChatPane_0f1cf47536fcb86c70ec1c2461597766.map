{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/pages/Files/FilesV2/hooks/useChatPane.ts"],"sourcesContent":["import { useMemo } from \"react\"\nimport { useRpjson } from \"@rp/react/common/rpjson\"\nimport { CurrentInteraction } from \"@rp/react/web/chat\"\nimport { SelectedFile } from \"../../../../components/Hub/Files/Files\"\n\ntype UseChatPaneProps = {\n  chatId: string | undefined\n  currentInteraction: CurrentInteraction | undefined\n  selectedFiles: Array<SelectedFile>\n}\n\ntype UseChatPaneState = {\n  shouldShowChat: boolean\n  shouldShowLoadingChat: boolean\n  shouldShowSuggestions: boolean\n  name: string\n}\n\nfunction useChatPane({\n  chatId,\n  currentInteraction,\n  selectedFiles,\n}: UseChatPaneProps): UseChatPaneState {\n  const documentId = selectedFiles.length === 1 ? selectedFiles[0].id : \"\"\n  const isShared = !!selectedFiles[0]?.shared\n  const { data: rpjsonDocument } = useRpjson(documentId, isShared ? \"public\" : \"private\")\n  return useMemo(() => {\n    const shouldShowChat = !!chatId\n    const shouldShowLoadingChat = !shouldShowChat && !!currentInteraction\n    const shouldShowSuggestions = !shouldShowChat && !currentInteraction\n\n    const name = (() => {\n      if (selectedFiles.length === 0) {\n        return \"Your Files\"\n      }\n\n      if (selectedFiles.length === 1) {\n        return rpjsonDocument?.document.metadata.provider_filename || \"Your File\"\n      }\n\n      return `Your ${selectedFiles.length} Files`\n    })()\n\n    return {\n      shouldShowChat,\n      shouldShowLoadingChat,\n      shouldShowSuggestions,\n      name,\n    }\n  }, [chatId, currentInteraction, rpjsonDocument, selectedFiles])\n}\n\nexport { useChatPane }\nexport type { UseChatPaneProps, UseChatPaneState }\n"],"names":["useChatPane","chatId","currentInteraction","selectedFiles","documentId","length","id","isShared","shared","data","rpjsonDocument","useRpjson","useMemo","shouldShowChat","shouldShowLoadingChat","shouldShowSuggestions","name","document","metadata","provider_filename"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAoDSA;;;eAAAA;;;uBApDe;wBACE;AAiB1B,SAASA,YAAY,EACnBC,MAAM,EACNC,kBAAkB,EAClBC,aAAa,EACI;QAEEA;IADnB,MAAMC,aAAaD,cAAcE,MAAM,KAAK,IAAIF,aAAa,CAAC,EAAE,CAACG,EAAE,GAAG;IACtE,MAAMC,WAAW,CAAC,GAACJ,kBAAAA,aAAa,CAAC,EAAE,cAAhBA,sCAAAA,gBAAkBK,MAAM;IAC3C,MAAM,EAAEC,MAAMC,cAAc,EAAE,GAAGC,IAAAA,iBAAS,EAACP,YAAYG,WAAW,WAAW;IAC7E,OAAOK,IAAAA,cAAO,EAAC;QACb,MAAMC,iBAAiB,CAAC,CAACZ;QACzB,MAAMa,wBAAwB,CAACD,kBAAkB,CAAC,CAACX;QACnD,MAAMa,wBAAwB,CAACF,kBAAkB,CAACX;QAElD,MAAMc,OAAO,AAAC,CAAA;YACZ,IAAIb,cAAcE,MAAM,KAAK,GAAG;gBAC9B,OAAO;YACT;YAEA,IAAIF,cAAcE,MAAM,KAAK,GAAG;gBAC9B,OAAOK,CAAAA,2BAAAA,qCAAAA,eAAgBO,QAAQ,CAACC,QAAQ,CAACC,iBAAiB,KAAI;YAChE;YAEA,OAAO,CAAC,KAAK,EAAEhB,cAAcE,MAAM,CAAC,MAAM,CAAC;QAC7C,CAAA;QAEA,OAAO;YACLQ;YACAC;YACAC;YACAC;QACF;IACF,GAAG;QAACf;QAAQC;QAAoBQ;QAAgBP;KAAc;AAChE"}