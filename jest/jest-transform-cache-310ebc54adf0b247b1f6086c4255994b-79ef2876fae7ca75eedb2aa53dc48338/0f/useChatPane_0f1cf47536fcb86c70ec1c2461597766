4022e65c1e124c677ca77598a9aa8357
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useChatPane", {
    enumerable: true,
    get: function() {
        return useChatPane;
    }
});
const _react = require("react");
const _rpjson = require("@rp/react/common/rpjson");
function useChatPane({ chatId, currentInteraction, selectedFiles }) {
    var _selectedFiles_;
    const documentId = selectedFiles.length === 1 ? selectedFiles[0].id : "";
    const isShared = !!((_selectedFiles_ = selectedFiles[0]) === null || _selectedFiles_ === void 0 ? void 0 : _selectedFiles_.shared);
    const { data: rpjsonDocument } = (0, _rpjson.useRpjson)(documentId, isShared ? "public" : "private");
    return (0, _react.useMemo)(()=>{
        const shouldShowChat = !!chatId;
        const shouldShowLoadingChat = !shouldShowChat && !!currentInteraction;
        const shouldShowSuggestions = !shouldShowChat && !currentInteraction;
        const name = (()=>{
            if (selectedFiles.length === 0) {
                return "Your Files";
            }
            if (selectedFiles.length === 1) {
                return (rpjsonDocument === null || rpjsonDocument === void 0 ? void 0 : rpjsonDocument.document.metadata.provider_filename) || "Your File";
            }
            return `Your ${selectedFiles.length} Files`;
        })();
        return {
            shouldShowChat,
            shouldShowLoadingChat,
            shouldShowSuggestions,
            name
        };
    }, [
        chatId,
        currentInteraction,
        rpjsonDocument,
        selectedFiles
    ]);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2FwcHMvY2xpZW50LXdlYi9zcmMvYXBwL3BhZ2VzL0ZpbGVzL0ZpbGVzVjIvaG9va3MvdXNlQ2hhdFBhbmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyB1c2VScGpzb24gfSBmcm9tIFwiQHJwL3JlYWN0L2NvbW1vbi9ycGpzb25cIlxuaW1wb3J0IHsgQ3VycmVudEludGVyYWN0aW9uIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY2hhdFwiXG5pbXBvcnQgeyBTZWxlY3RlZEZpbGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9IdWIvRmlsZXMvRmlsZXNcIlxuXG50eXBlIFVzZUNoYXRQYW5lUHJvcHMgPSB7XG4gIGNoYXRJZDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGN1cnJlbnRJbnRlcmFjdGlvbjogQ3VycmVudEludGVyYWN0aW9uIHwgdW5kZWZpbmVkXG4gIHNlbGVjdGVkRmlsZXM6IEFycmF5PFNlbGVjdGVkRmlsZT5cbn1cblxudHlwZSBVc2VDaGF0UGFuZVN0YXRlID0ge1xuICBzaG91bGRTaG93Q2hhdDogYm9vbGVhblxuICBzaG91bGRTaG93TG9hZGluZ0NoYXQ6IGJvb2xlYW5cbiAgc2hvdWxkU2hvd1N1Z2dlc3Rpb25zOiBib29sZWFuXG4gIG5hbWU6IHN0cmluZ1xufVxuXG5mdW5jdGlvbiB1c2VDaGF0UGFuZSh7XG4gIGNoYXRJZCxcbiAgY3VycmVudEludGVyYWN0aW9uLFxuICBzZWxlY3RlZEZpbGVzLFxufTogVXNlQ2hhdFBhbmVQcm9wcyk6IFVzZUNoYXRQYW5lU3RhdGUge1xuICBjb25zdCBkb2N1bWVudElkID0gc2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDEgPyBzZWxlY3RlZEZpbGVzWzBdLmlkIDogXCJcIlxuICBjb25zdCBpc1NoYXJlZCA9ICEhc2VsZWN0ZWRGaWxlc1swXT8uc2hhcmVkXG4gIGNvbnN0IHsgZGF0YTogcnBqc29uRG9jdW1lbnQgfSA9IHVzZVJwanNvbihkb2N1bWVudElkLCBpc1NoYXJlZCA/IFwicHVibGljXCIgOiBcInByaXZhdGVcIilcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNob3VsZFNob3dDaGF0ID0gISFjaGF0SWRcbiAgICBjb25zdCBzaG91bGRTaG93TG9hZGluZ0NoYXQgPSAhc2hvdWxkU2hvd0NoYXQgJiYgISFjdXJyZW50SW50ZXJhY3Rpb25cbiAgICBjb25zdCBzaG91bGRTaG93U3VnZ2VzdGlvbnMgPSAhc2hvdWxkU2hvd0NoYXQgJiYgIWN1cnJlbnRJbnRlcmFjdGlvblxuXG4gICAgY29uc3QgbmFtZSA9ICgoKSA9PiB7XG4gICAgICBpZiAoc2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFwiWW91ciBGaWxlc1wiXG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gcnBqc29uRG9jdW1lbnQ/LmRvY3VtZW50Lm1ldGFkYXRhLnByb3ZpZGVyX2ZpbGVuYW1lIHx8IFwiWW91ciBGaWxlXCJcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGBZb3VyICR7c2VsZWN0ZWRGaWxlcy5sZW5ndGh9IEZpbGVzYFxuICAgIH0pKClcblxuICAgIHJldHVybiB7XG4gICAgICBzaG91bGRTaG93Q2hhdCxcbiAgICAgIHNob3VsZFNob3dMb2FkaW5nQ2hhdCxcbiAgICAgIHNob3VsZFNob3dTdWdnZXN0aW9ucyxcbiAgICAgIG5hbWUsXG4gICAgfVxuICB9LCBbY2hhdElkLCBjdXJyZW50SW50ZXJhY3Rpb24sIHJwanNvbkRvY3VtZW50LCBzZWxlY3RlZEZpbGVzXSlcbn1cblxuZXhwb3J0IHsgdXNlQ2hhdFBhbmUgfVxuZXhwb3J0IHR5cGUgeyBVc2VDaGF0UGFuZVByb3BzLCBVc2VDaGF0UGFuZVN0YXRlIH1cbiJdLCJuYW1lcyI6WyJ1c2VDaGF0UGFuZSIsImNoYXRJZCIsImN1cnJlbnRJbnRlcmFjdGlvbiIsInNlbGVjdGVkRmlsZXMiLCJkb2N1bWVudElkIiwibGVuZ3RoIiwiaWQiLCJpc1NoYXJlZCIsInNoYXJlZCIsImRhdGEiLCJycGpzb25Eb2N1bWVudCIsInVzZVJwanNvbiIsInVzZU1lbW8iLCJzaG91bGRTaG93Q2hhdCIsInNob3VsZFNob3dMb2FkaW5nQ2hhdCIsInNob3VsZFNob3dTdWdnZXN0aW9ucyIsIm5hbWUiLCJkb2N1bWVudCIsIm1ldGFkYXRhIiwicHJvdmlkZXJfZmlsZW5hbWUiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7OytCQW9EU0E7OztlQUFBQTs7O3VCQXBEZTt3QkFDRTtBQWlCMUIsU0FBU0EsWUFBWSxFQUNuQkMsTUFBTSxFQUNOQyxrQkFBa0IsRUFDbEJDLGFBQWEsRUFDSTtRQUVFQTtJQURuQixNQUFNQyxhQUFhRCxjQUFjRSxNQUFNLEtBQUssSUFBSUYsYUFBYSxDQUFDLEVBQUUsQ0FBQ0csRUFBRSxHQUFHO0lBQ3RFLE1BQU1DLFdBQVcsQ0FBQyxHQUFDSixrQkFBQUEsYUFBYSxDQUFDLEVBQUUsY0FBaEJBLHNDQUFBQSxnQkFBa0JLLE1BQU07SUFDM0MsTUFBTSxFQUFFQyxNQUFNQyxjQUFjLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVMsRUFBQ1AsWUFBWUcsV0FBVyxXQUFXO0lBQzdFLE9BQU9LLElBQUFBLGNBQU8sRUFBQztRQUNiLE1BQU1DLGlCQUFpQixDQUFDLENBQUNaO1FBQ3pCLE1BQU1hLHdCQUF3QixDQUFDRCxrQkFBa0IsQ0FBQyxDQUFDWDtRQUNuRCxNQUFNYSx3QkFBd0IsQ0FBQ0Ysa0JBQWtCLENBQUNYO1FBRWxELE1BQU1jLE9BQU8sQUFBQyxDQUFBO1lBQ1osSUFBSWIsY0FBY0UsTUFBTSxLQUFLLEdBQUc7Z0JBQzlCLE9BQU87WUFDVDtZQUVBLElBQUlGLGNBQWNFLE1BQU0sS0FBSyxHQUFHO2dCQUM5QixPQUFPSyxDQUFBQSwyQkFBQUEscUNBQUFBLGVBQWdCTyxRQUFRLENBQUNDLFFBQVEsQ0FBQ0MsaUJBQWlCLEtBQUk7WUFDaEU7WUFFQSxPQUFPLENBQUMsS0FBSyxFQUFFaEIsY0FBY0UsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM3QyxDQUFBO1FBRUEsT0FBTztZQUNMUTtZQUNBQztZQUNBQztZQUNBQztRQUNGO0lBQ0YsR0FBRztRQUFDZjtRQUFRQztRQUFvQlE7UUFBZ0JQO0tBQWM7QUFDaEUifQ==