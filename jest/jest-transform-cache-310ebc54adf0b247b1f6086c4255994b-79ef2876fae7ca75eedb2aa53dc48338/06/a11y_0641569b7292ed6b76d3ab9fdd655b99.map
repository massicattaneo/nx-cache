{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/swiper/modules/a11y/a11y.js"],"sourcesContent":["import classesToSelector from '../../shared/classes-to-selector.js';\nimport { createElement, elementIndex } from '../../shared/utils.js';\nexport default function A11y({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  swiper.a11y = {\n    clicked: false\n  };\n  let liveRegion = null;\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.innerHTML = '';\n    notification.innerHTML = message;\n  }\n  const makeElementsArray = el => {\n    if (!Array.isArray(el)) el = [el].filter(e => !!e);\n    return el;\n  };\n  function getRandomNumber(size = 16) {\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n  function makeElFocusable(el) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('tabIndex', '0');\n    });\n  }\n  function makeElNotFocusable(el) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('tabIndex', '-1');\n    });\n  }\n  function addElRole(el, role) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('role', role);\n    });\n  }\n  function addElRoleDescription(el, description) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('aria-roledescription', description);\n    });\n  }\n  function addElControls(el, controls) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('aria-controls', controls);\n    });\n  }\n  function addElLabel(el, label) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('aria-label', label);\n    });\n  }\n  function addElId(el, id) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('id', id);\n    });\n  }\n  function addElLive(el, live) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('aria-live', live);\n    });\n  }\n  function disableEl(el) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('aria-disabled', true);\n    });\n  }\n  function enableEl(el) {\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.setAttribute('aria-disabled', false);\n    });\n  }\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const targetEl = e.target;\n    if (swiper.pagination && swiper.pagination.el && (targetEl === swiper.pagination.el || swiper.pagination.el.contains(e.target))) {\n      if (!e.target.matches(classesToSelector(swiper.params.pagination.bulletClass))) return;\n    }\n    if (swiper.navigation && swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n    if (swiper.navigation && swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n    if (swiper.pagination && targetEl.matches(classesToSelector(swiper.params.pagination.bulletClass))) {\n      targetEl.click();\n    }\n  }\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      nextEl,\n      prevEl\n    } = swiper.navigation;\n    if (prevEl) {\n      if (swiper.isBeginning) {\n        disableEl(prevEl);\n        makeElNotFocusable(prevEl);\n      } else {\n        enableEl(prevEl);\n        makeElFocusable(prevEl);\n      }\n    }\n    if (nextEl) {\n      if (swiper.isEnd) {\n        disableEl(nextEl);\n        makeElNotFocusable(nextEl);\n      } else {\n        enableEl(nextEl);\n        makeElFocusable(nextEl);\n      }\n    }\n  }\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.forEach(bulletEl => {\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable(bulletEl);\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole(bulletEl, 'button');\n          addElLabel(bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, elementIndex(bulletEl) + 1));\n        }\n      }\n      if (bulletEl.matches(classesToSelector(swiper.params.pagination.bulletActiveClass))) {\n        bulletEl.setAttribute('aria-current', 'true');\n      } else {\n        bulletEl.removeAttribute('aria-current');\n      }\n    });\n  }\n  const initNavEl = (el, wrapperId, message) => {\n    makeElFocusable(el);\n    if (el.tagName !== 'BUTTON') {\n      addElRole(el, 'button');\n      el.addEventListener('keydown', onEnterOrSpaceKey);\n    }\n    addElLabel(el, message);\n    addElControls(el, wrapperId);\n  };\n  const handlePointerDown = () => {\n    swiper.a11y.clicked = true;\n  };\n  const handlePointerUp = () => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        if (!swiper.destroyed) {\n          swiper.a11y.clicked = false;\n        }\n      });\n    });\n  };\n  const handleFocus = e => {\n    if (swiper.a11y.clicked) return;\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}, swiper-slide`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;\n    if (swiper.isHorizontal()) {\n      swiper.el.scrollLeft = 0;\n    } else {\n      swiper.el.scrollTop = 0;\n    }\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription(swiper.slides, params.itemRoleDescriptionMessage);\n    }\n    if (params.slideRole) {\n      addElRole(swiper.slides, params.slideRole);\n    }\n    const slidesLength = swiper.slides.length;\n    if (params.slideLabelMessage) {\n      swiper.slides.forEach((slideEl, index) => {\n        const slideIndex = swiper.params.loop ? parseInt(slideEl.getAttribute('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel(slideEl, ariaLabelMessage);\n      });\n    }\n  };\n  const init = () => {\n    const params = swiper.params.a11y;\n    if (swiper.isElement) {\n      swiper.el.shadowEl.append(liveRegion);\n    } else {\n      swiper.el.append(liveRegion);\n    }\n\n    // Container\n    const containerEl = swiper.el;\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription(containerEl, params.containerRoleDescriptionMessage);\n    }\n    if (params.containerMessage) {\n      addElLabel(containerEl, params.containerMessage);\n    }\n\n    // Wrapper\n    const wrapperEl = swiper.wrapperEl;\n    const wrapperId = params.id || wrapperEl.getAttribute('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId(wrapperEl, wrapperId);\n    addElLive(wrapperEl, live);\n\n    // Slide\n    initSlides();\n\n    // Navigation\n    let {\n      nextEl,\n      prevEl\n    } = swiper.navigation ? swiper.navigation : {};\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    if (nextEl) {\n      nextEl.forEach(el => initNavEl(el, wrapperId, params.nextSlideMessage));\n    }\n    if (prevEl) {\n      prevEl.forEach(el => initNavEl(el, wrapperId, params.prevSlideMessage));\n    }\n\n    // Pagination\n    if (hasClickablePagination()) {\n      const paginationEl = Array.isArray(swiper.pagination.el) ? swiper.pagination.el : [swiper.pagination.el];\n      paginationEl.forEach(el => {\n        el.addEventListener('keydown', onEnterOrSpaceKey);\n      });\n    }\n\n    // Tab focus\n    swiper.el.addEventListener('focus', handleFocus, true);\n    swiper.el.addEventListener('pointerdown', handlePointerDown, true);\n    swiper.el.addEventListener('pointerup', handlePointerUp, true);\n  };\n  function destroy() {\n    if (liveRegion) liveRegion.remove();\n    let {\n      nextEl,\n      prevEl\n    } = swiper.navigation ? swiper.navigation : {};\n    nextEl = makeElementsArray(nextEl);\n    prevEl = makeElementsArray(prevEl);\n    if (nextEl) {\n      nextEl.forEach(el => el.removeEventListener('keydown', onEnterOrSpaceKey));\n    }\n    if (prevEl) {\n      prevEl.forEach(el => el.removeEventListener('keydown', onEnterOrSpaceKey));\n    }\n\n    // Pagination\n    if (hasClickablePagination()) {\n      const paginationEl = Array.isArray(swiper.pagination.el) ? swiper.pagination.el : [swiper.pagination.el];\n      paginationEl.forEach(el => {\n        el.removeEventListener('keydown', onEnterOrSpaceKey);\n      });\n    }\n\n    // Tab focus\n    swiper.el.removeEventListener('focus', handleFocus, true);\n    swiper.el.removeEventListener('pointerdown', handlePointerDown, true);\n    swiper.el.removeEventListener('pointerup', handlePointerUp, true);\n  }\n  on('beforeInit', () => {\n    liveRegion = createElement('span', swiper.params.a11y.notificationClass);\n    liveRegion.setAttribute('aria-live', 'assertive');\n    liveRegion.setAttribute('aria-atomic', 'true');\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}"],"names":["A11y","swiper","extendParams","on","a11y","enabled","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","id","clicked","liveRegion","notify","message","notification","length","innerHTML","makeElementsArray","el","Array","isArray","filter","e","getRandomNumber","size","randomChar","Math","round","random","toString","repeat","replace","makeElFocusable","forEach","subEl","setAttribute","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElControls","controls","addElLabel","label","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","keyCode","params","targetEl","target","pagination","contains","matches","classesToSelector","bulletClass","navigation","nextEl","isEnd","loop","slideNext","prevEl","isBeginning","slidePrev","click","updateNavigation","rewind","hasPagination","bullets","hasClickablePagination","clickable","updatePagination","bulletEl","renderBullet","elementIndex","bulletActiveClass","removeAttribute","initNavEl","wrapperId","tagName","addEventListener","handlePointerDown","handlePointerUp","requestAnimationFrame","destroyed","handleFocus","slideEl","closest","slideClass","slides","includes","isActive","indexOf","activeIndex","isVisible","watchSlidesProgress","visibleSlides","sourceCapabilities","firesTouchEvents","isHorizontal","scrollLeft","scrollTop","slideTo","initSlides","slidesLength","index","slideIndex","parseInt","getAttribute","ariaLabelMessage","init","isElement","shadowEl","append","containerEl","wrapperEl","autoplay","paginationEl","destroy","remove","removeEventListener","createElement"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}