{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/watchlist-editor/src/WatchlistPortfolioUpload/portfolioUploadValidators.tsx"],"sourcesContent":["const regExp = /\"?rp_entity_id\"?:\\s?\"([^\"]+)\"/\n\nconst getUniqueMappingJsonIds = (value: string) => {\n  const ids = []\n  let string = value\n  let [matched, entityId] = string.replace(/\\n/g, \"\").match(regExp) || []\n  while (matched && entityId) {\n    ids.push(entityId)\n    string = string.replace(matched, \"\")\n    ;[matched, entityId] = string.match(regExp) || []\n  }\n  return ids\n    .filter((item, index, array) => array.indexOf(item) === index)\n    .map(key => ({ key, queryType: \"entity\" }))\n}\n\nconst getUniqueRpIds = (value: string) => {\n  const formatted = value.replace(/\\n/g, \" \").replace(/\\s\\s/g, \" \").trim()\n  if (formatted.match(/,/)) {\n    const ids = formatted.split(\",\").map(item => item.trim())\n    return ids\n      .filter((item, index, array) => array.indexOf(item) === index)\n      .map(key => ({ key, queryType: \"entity\" }))\n  } else {\n    const ids = formatted.split(\" \").map(item => item.trim())\n    return ids\n      .filter(item => item)\n      .filter((item, index, array) => array.indexOf(item) === index)\n      .map(key => ({ key, queryType: \"entity\" }))\n  }\n}\n\nexport { getUniqueMappingJsonIds, getUniqueRpIds }\n"],"names":["getUniqueMappingJsonIds","getUniqueRpIds","regExp","value","ids","string","matched","entityId","replace","match","push","filter","item","index","array","indexOf","map","key","queryType","formatted","trim","split"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAgCSA,uBAAuB;eAAvBA;;IAAyBC,cAAc;eAAdA;;;AAhClC,MAAMC,SAAS;AAEf,MAAMF,0BAA0B,CAACG;IAC/B,MAAMC,MAAM,EAAE;IACd,IAAIC,SAASF;IACb,IAAI,CAACG,SAASC,SAAS,GAAGF,OAAOG,OAAO,CAAC,OAAO,IAAIC,KAAK,CAACP,WAAW,EAAE;IACvE,MAAOI,WAAWC,SAAU;QAC1BH,IAAIM,IAAI,CAACH;QACTF,SAASA,OAAOG,OAAO,CAACF,SAAS;QAChC,CAACA,SAASC,SAAS,GAAGF,OAAOI,KAAK,CAACP,WAAW,EAAE;IACnD;IACA,OAAOE,IACJO,MAAM,CAAC,CAACC,MAAMC,OAAOC,QAAUA,MAAMC,OAAO,CAACH,UAAUC,OACvDG,GAAG,CAACC,CAAAA,MAAQ,CAAA;YAAEA;YAAKC,WAAW;QAAS,CAAA;AAC5C;AAEA,MAAMjB,iBAAiB,CAACE;IACtB,MAAMgB,YAAYhB,MAAMK,OAAO,CAAC,OAAO,KAAKA,OAAO,CAAC,SAAS,KAAKY,IAAI;IACtE,IAAID,UAAUV,KAAK,CAAC,MAAM;QACxB,MAAML,MAAMe,UAAUE,KAAK,CAAC,KAAKL,GAAG,CAACJ,CAAAA,OAAQA,KAAKQ,IAAI;QACtD,OAAOhB,IACJO,MAAM,CAAC,CAACC,MAAMC,OAAOC,QAAUA,MAAMC,OAAO,CAACH,UAAUC,OACvDG,GAAG,CAACC,CAAAA,MAAQ,CAAA;gBAAEA;gBAAKC,WAAW;YAAS,CAAA;IAC5C,OAAO;QACL,MAAMd,MAAMe,UAAUE,KAAK,CAAC,KAAKL,GAAG,CAACJ,CAAAA,OAAQA,KAAKQ,IAAI;QACtD,OAAOhB,IACJO,MAAM,CAACC,CAAAA,OAAQA,MACfD,MAAM,CAAC,CAACC,MAAMC,OAAOC,QAAUA,MAAMC,OAAO,CAACH,UAAUC,OACvDG,GAAG,CAACC,CAAAA,MAAQ,CAAA;gBAAEA;gBAAKC,WAAW;YAAS,CAAA;IAC5C;AACF"}