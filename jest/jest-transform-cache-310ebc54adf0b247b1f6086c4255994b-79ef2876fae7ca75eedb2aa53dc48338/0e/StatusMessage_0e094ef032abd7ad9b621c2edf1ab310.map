{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/chat/src/lib/Chat/Chat/ChatResponse/RealTimeAudit/StatusMessage.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Typography } from \"@mui/material\"\n\nconst UPDATE_INTERVAL = 500\n\ntype StatusMessageText = string | Array<string> | undefined\n\ntype Props = {\n  message: StatusMessageText\n  completed: boolean\n}\n\nconst getMessageToDisplay = (message: StatusMessageText, currentMessage: StatusMessageText) => {\n  if (message === undefined) {\n    return \"\"\n  }\n\n  if (typeof message === \"string\") {\n    return message\n  }\n\n  if (message.length === 1) {\n    return message[0]\n  }\n\n  let newMessage: string | undefined = undefined\n  while (newMessage === undefined || newMessage === currentMessage) {\n    const randomIndex = Math.floor(Math.random() * message.length)\n    newMessage = message[randomIndex]\n  }\n\n  return newMessage\n}\n\nconst StatusMessage = ({ message, completed }: Props) => {\n  const [displayMessage, setDisplaymessage] = useState(getMessageToDisplay(message, undefined))\n\n  useEffect(() => {\n    let intervalId: ReturnType<typeof setInterval>\n    if (!completed) {\n      intervalId = setInterval(\n        () => setDisplaymessage(prev => getMessageToDisplay(message, prev)),\n        UPDATE_INTERVAL,\n      )\n    }\n\n    if (completed) {\n      setDisplaymessage(prev => getMessageToDisplay(message, prev))\n    }\n\n    return () => clearInterval(intervalId)\n  }, [completed, message])\n\n  return <Typography> {displayMessage}</Typography>\n}\n\nexport { StatusMessage }\n"],"names":["StatusMessage","UPDATE_INTERVAL","getMessageToDisplay","message","currentMessage","undefined","length","newMessage","randomIndex","Math","floor","random","completed","displayMessage","setDisplaymessage","useState","useEffect","intervalId","setInterval","prev","clearInterval","Typography"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAwDSA;;;eAAAA;;;;uBAxD2B;0BACT;AAE3B,MAAMC,kBAAkB;AASxB,MAAMC,sBAAsB,CAACC,SAA4BC;IACvD,IAAID,YAAYE,WAAW;QACzB,OAAO;IACT;IAEA,IAAI,OAAOF,YAAY,UAAU;QAC/B,OAAOA;IACT;IAEA,IAAIA,QAAQG,MAAM,KAAK,GAAG;QACxB,OAAOH,OAAO,CAAC,EAAE;IACnB;IAEA,IAAII,aAAiCF;IACrC,MAAOE,eAAeF,aAAaE,eAAeH,eAAgB;QAChE,MAAMI,cAAcC,KAAKC,KAAK,CAACD,KAAKE,MAAM,KAAKR,QAAQG,MAAM;QAC7DC,aAAaJ,OAAO,CAACK,YAAY;IACnC;IAEA,OAAOD;AACT;AAEA,MAAMP,gBAAgB,CAAC,EAAEG,OAAO,EAAES,SAAS,EAAS;IAClD,MAAM,CAACC,gBAAgBC,kBAAkB,GAAGC,IAAAA,eAAQ,EAACb,oBAAoBC,SAASE;IAElFW,IAAAA,gBAAS,EAAC;QACR,IAAIC;QACJ,IAAI,CAACL,WAAW;YACdK,aAAaC,YACX,IAAMJ,kBAAkBK,CAAAA,OAAQjB,oBAAoBC,SAASgB,QAC7DlB;QAEJ;QAEA,IAAIW,WAAW;YACbE,kBAAkBK,CAAAA,OAAQjB,oBAAoBC,SAASgB;QACzD;QAEA,OAAO,IAAMC,cAAcH;IAC7B,GAAG;QAACL;QAAWT;KAAQ;IAEvB,qBAAO,sBAACkB,oBAAU;;YAAC;YAAER;;;AACvB"}