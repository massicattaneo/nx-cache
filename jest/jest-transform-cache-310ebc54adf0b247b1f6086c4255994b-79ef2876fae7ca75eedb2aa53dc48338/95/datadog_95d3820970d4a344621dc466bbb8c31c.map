{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/vendors/utils/src/utils/datadog.ts"],"sourcesContent":["import { formatInTimeZone } from \"date-fns-tz\"\nimport { datadogRum } from \"@datadog/browser-rum\"\nimport { ConfigEnvs } from \"@rp/common/environment/types\"\n\nexport const initDatadog = (environment: ConfigEnvs) => {\n  datadogRum.init({\n    applicationId: \"5ce97988-9c75-4fdb-8c35-90e5daa35c7a\",\n    clientToken: \"pub9f5dfbe9ff3a4876e161bb4016906243\",\n    // `site` refers to the Datadog site parameter of your organization\n    // see https://docs.datadoghq.com/getting_started/site/\n    site: \"datadoghq.com\",\n    service: \"[bigdata][frontend][web]-bigdata-web-frontend\",\n    env: environment,\n    // Specify a version number to identify the deployed version of your application in Datadog\n    version: `${environment}-${formatInTimeZone(\n      Number(process.env[\"NX_PUBLIC_VERSION_TIMESTAMP\"] ?? 0),\n      \"Europe/Madrid\",\n      \"yyyy.MM.dd-HH:mm\",\n    )}`,\n    sessionSampleRate: 100,\n    sessionReplaySampleRate: environment === \"production\" ? 0 : 100,\n    trackUserInteractions: true,\n    trackResources: true,\n    trackLongTasks: true,\n    defaultPrivacyLevel: \"mask-user-input\",\n  })\n}\n\nexport const identifyDatadogUser = (userInfo: { id: string; companyId: string }) => {\n  datadogRum.setUser({\n    id: userInfo.id,\n    companyId: userInfo.companyId,\n  })\n}\n"],"names":["identifyDatadogUser","initDatadog","environment","process","datadogRum","init","applicationId","clientToken","site","service","env","version","formatInTimeZone","Number","sessionSampleRate","sessionReplaySampleRate","trackUserInteractions","trackResources","trackLongTasks","defaultPrivacyLevel","userInfo","setUser","id","companyId"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IA4BaA,mBAAmB;eAAnBA;;IAxBAC,WAAW;eAAXA;;;2BAJoB;4BACN;AAGpB,MAAMA,cAAc,CAACC;QAWfC;IAVXC,sBAAU,CAACC,IAAI,CAAC;QACdC,eAAe;QACfC,aAAa;QACb,mEAAmE;QACnE,uDAAuD;QACvDC,MAAM;QACNC,SAAS;QACTC,KAAKR;QACL,2FAA2F;QAC3FS,SAAS,CAAC,EAAET,YAAY,CAAC,EAAEU,IAAAA,2BAAgB,EACzCC,OAAOV,CAAAA,2CAAAA,QAAQO,GAAG,CAAC,8BAA8B,cAA1CP,sDAAAA,2CAA8C,IACrD,iBACA,oBACA,CAAC;QACHW,mBAAmB;QACnBC,yBAAyBb,gBAAgB,eAAe,IAAI;QAC5Dc,uBAAuB;QACvBC,gBAAgB;QAChBC,gBAAgB;QAChBC,qBAAqB;IACvB;AACF;AAEO,MAAMnB,sBAAsB,CAACoB;IAClChB,sBAAU,CAACiB,OAAO,CAAC;QACjBC,IAAIF,SAASE,EAAE;QACfC,WAAWH,SAASG,SAAS;IAC/B;AACF"}