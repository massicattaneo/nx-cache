a9b18d20eab42ef21a2335d93c15129c
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "FilesMobileHeader", {
    enumerable: true,
    get: function() {
        return FilesMobileHeader;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _providers = require("@rp/react/common/providers");
const _file = require("@rp/react/tanstack-api/file");
const _compositecomponents = require("@rp/react/web/common/composite-components");
const _files = require("@rp/react/web/common/files");
const _hooks = require("@rp/react/web/common/hooks");
const _core = require("@rp/react/web/mui/core");
const _icons = require("@rp/react/web/mui/icons");
const FilesMobileHeader = ({ page, filterTerm, setFilterTerm, placeholder, onDeleteClick, onChatClick, onFileUpload })=>{
    const { actions } = (0, _files.useFileActions)();
    const input = (0, _react.useState)(!!filterTerm);
    const [_, setIsOpen] = input;
    const [documentParams] = (0, _hooks.useHashParams)();
    const { document: documentId } = documentParams;
    const buttonRef = (0, _react.useRef)(null);
    const { isOverLimit, disableUpload } = (0, _file.useQuota)();
    const { hasEntitlement } = (0, _providers.useAccount)();
    const isUploadEnabled = !documentId && hasEntitlement("file:upload");
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.SearchMobileHeader, {
                title: page,
                input: input,
                hideSearch: !!documentId,
                right: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                    children: [
                        onChatClick ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.IconButton, {
                            sx: {
                                mr: 2
                            },
                            onClick: onChatClick,
                            children: actions.chat.icon
                        }) : null,
                        onDeleteClick ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.IconButton, {
                            sx: {
                                mr: 2
                            },
                            onClick: onDeleteClick,
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_icons.Delete, {})
                        }) : null
                    ]
                }),
                filterTerm: filterTerm,
                setFilterTerm: setFilterTerm,
                placeholder: placeholder
            }),
            isUploadEnabled && !isOverLimit ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.FabExpanding, {
                disabled: disableUpload,
                animateTo: 150,
                Icon: /*#__PURE__*/ (0, _jsxruntime.jsx)(_icons.FileUploadOutlined, {}),
                onClick: ()=>{
                    var _buttonRef_current;
                    (_buttonRef_current = buttonRef.current) === null || _buttonRef_current === void 0 ? void 0 : _buttonRef_current.open();
                },
                yOffset: _compositecomponents.BOTTOM_NAV_HEIGHT,
                children: "Upload File"
            }) : null,
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_files.UploadFiles, {
                multiple: true,
                location: "filesPage",
                ref: buttonRef,
                onSubmit: ()=>{
                    setIsOpen(false);
                    onFileUpload === null || onFileUpload === void 0 ? void 0 : onFileUpload();
                }
            })
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2FwcHMvY2xpZW50LXdlYi9zcmMvYXBwL3BhZ2VzL0ZpbGVzL0ZpbGVNb2JpbGVIZWFkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlQWNjb3VudCB9IGZyb20gXCJAcnAvcmVhY3QvY29tbW9uL3Byb3ZpZGVyc1wiXG5pbXBvcnQgeyB1c2VRdW90YSB9IGZyb20gXCJAcnAvcmVhY3QvdGFuc3RhY2stYXBpL2ZpbGVcIlxuaW1wb3J0IHsgVXBsb2FkSW5wdXRSZWYgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vYmFzZS1jb21wb25lbnRzXCJcbmltcG9ydCB7IFNlYXJjaE1vYmlsZUhlYWRlciB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi9jb21wb3NpdGUtY29tcG9uZW50c1wiXG5pbXBvcnQgeyBCT1RUT01fTkFWX0hFSUdIVCB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi9jb21wb3NpdGUtY29tcG9uZW50c1wiXG5pbXBvcnQgeyBGYWJFeHBhbmRpbmcgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vY29tcG9zaXRlLWNvbXBvbmVudHNcIlxuaW1wb3J0IHsgVXBsb2FkRmlsZXMsIHVzZUZpbGVBY3Rpb25zIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2ZpbGVzXCJcbmltcG9ydCB7IHVzZUhhc2hQYXJhbXMgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vaG9va3NcIlxuaW1wb3J0IHsgSWNvbkJ1dHRvbiB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL211aS9jb3JlXCJcbmltcG9ydCB7IERlbGV0ZSwgRmlsZVVwbG9hZE91dGxpbmVkIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvbXVpL2ljb25zXCJcbmltcG9ydCB7IEh1YkhlYWRlclByb3BzIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvSHViL0h1YkhlYWRlci9IdWJIZWFkZXIudHlwZXNcIlxuXG50eXBlIFByb3BzID0gSHViSGVhZGVyUHJvcHMgJiB7XG4gIG9uRGVsZXRlQ2xpY2s/OiAoKSA9PiB2b2lkXG4gIG9uQ2hhdENsaWNrPzogKCkgPT4gdm9pZFxufVxuXG5jb25zdCBGaWxlc01vYmlsZUhlYWRlciA9ICh7XG4gIHBhZ2UsXG4gIGZpbHRlclRlcm0sXG4gIHNldEZpbHRlclRlcm0sXG4gIHBsYWNlaG9sZGVyLFxuICBvbkRlbGV0ZUNsaWNrLFxuICBvbkNoYXRDbGljayxcbiAgb25GaWxlVXBsb2FkLFxufTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBhY3Rpb25zIH0gPSB1c2VGaWxlQWN0aW9ucygpXG4gIGNvbnN0IGlucHV0ID0gdXNlU3RhdGUoISFmaWx0ZXJUZXJtKVxuICBjb25zdCBbXywgc2V0SXNPcGVuXSA9IGlucHV0XG4gIGNvbnN0IFtkb2N1bWVudFBhcmFtc10gPSB1c2VIYXNoUGFyYW1zKClcbiAgY29uc3QgeyBkb2N1bWVudDogZG9jdW1lbnRJZCB9ID0gZG9jdW1lbnRQYXJhbXNcbiAgY29uc3QgYnV0dG9uUmVmID0gdXNlUmVmPFVwbG9hZElucHV0UmVmPihudWxsKVxuICBjb25zdCB7IGlzT3ZlckxpbWl0LCBkaXNhYmxlVXBsb2FkIH0gPSB1c2VRdW90YSgpXG4gIGNvbnN0IHsgaGFzRW50aXRsZW1lbnQgfSA9IHVzZUFjY291bnQoKVxuICBjb25zdCBpc1VwbG9hZEVuYWJsZWQgPSAhZG9jdW1lbnRJZCAmJiBoYXNFbnRpdGxlbWVudChcImZpbGU6dXBsb2FkXCIpXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPFNlYXJjaE1vYmlsZUhlYWRlclxuICAgICAgICB0aXRsZT17cGFnZX1cbiAgICAgICAgaW5wdXQ9e2lucHV0fVxuICAgICAgICBoaWRlU2VhcmNoPXshIWRvY3VtZW50SWR9XG4gICAgICAgIHJpZ2h0PXtcbiAgICAgICAgICA8PlxuICAgICAgICAgICAge29uQ2hhdENsaWNrID8gKFxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBzeD17eyBtcjogMiB9fSBvbkNsaWNrPXtvbkNoYXRDbGlja30+XG4gICAgICAgICAgICAgICAge2FjdGlvbnMuY2hhdC5pY29ufVxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIHtvbkRlbGV0ZUNsaWNrID8gKFxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBzeD17eyBtcjogMiB9fSBvbkNsaWNrPXtvbkRlbGV0ZUNsaWNrfT5cbiAgICAgICAgICAgICAgICA8RGVsZXRlIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDwvPlxuICAgICAgICB9XG4gICAgICAgIGZpbHRlclRlcm09e2ZpbHRlclRlcm19XG4gICAgICAgIHNldEZpbHRlclRlcm09e3NldEZpbHRlclRlcm19XG4gICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cbiAgICAgIC8+XG4gICAgICB7aXNVcGxvYWRFbmFibGVkICYmICFpc092ZXJMaW1pdCA/IChcbiAgICAgICAgPEZhYkV4cGFuZGluZ1xuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlVXBsb2FkfVxuICAgICAgICAgIGFuaW1hdGVUbz17MTUwfVxuICAgICAgICAgIEljb249ezxGaWxlVXBsb2FkT3V0bGluZWQgLz59XG4gICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgYnV0dG9uUmVmLmN1cnJlbnQ/Lm9wZW4oKVxuICAgICAgICAgIH19XG4gICAgICAgICAgeU9mZnNldD17Qk9UVE9NX05BVl9IRUlHSFR9XG4gICAgICAgID5cbiAgICAgICAgICBVcGxvYWQgRmlsZVxuICAgICAgICA8L0ZhYkV4cGFuZGluZz5cbiAgICAgICkgOiBudWxsfVxuICAgICAgPFVwbG9hZEZpbGVzXG4gICAgICAgIG11bHRpcGxlXG4gICAgICAgIGxvY2F0aW9uPVwiZmlsZXNQYWdlXCJcbiAgICAgICAgcmVmPXtidXR0b25SZWZ9XG4gICAgICAgIG9uU3VibWl0PXsoKSA9PiB7XG4gICAgICAgICAgc2V0SXNPcGVuKGZhbHNlKVxuICAgICAgICAgIG9uRmlsZVVwbG9hZD8uKClcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IHsgRmlsZXNNb2JpbGVIZWFkZXIgfVxuIl0sIm5hbWVzIjpbIkZpbGVzTW9iaWxlSGVhZGVyIiwicGFnZSIsImZpbHRlclRlcm0iLCJzZXRGaWx0ZXJUZXJtIiwicGxhY2Vob2xkZXIiLCJvbkRlbGV0ZUNsaWNrIiwib25DaGF0Q2xpY2siLCJvbkZpbGVVcGxvYWQiLCJhY3Rpb25zIiwidXNlRmlsZUFjdGlvbnMiLCJpbnB1dCIsInVzZVN0YXRlIiwiXyIsInNldElzT3BlbiIsImRvY3VtZW50UGFyYW1zIiwidXNlSGFzaFBhcmFtcyIsImRvY3VtZW50IiwiZG9jdW1lbnRJZCIsImJ1dHRvblJlZiIsInVzZVJlZiIsImlzT3ZlckxpbWl0IiwiZGlzYWJsZVVwbG9hZCIsInVzZVF1b3RhIiwiaGFzRW50aXRsZW1lbnQiLCJ1c2VBY2NvdW50IiwiaXNVcGxvYWRFbmFibGVkIiwiU2VhcmNoTW9iaWxlSGVhZGVyIiwidGl0bGUiLCJoaWRlU2VhcmNoIiwicmlnaHQiLCJJY29uQnV0dG9uIiwic3giLCJtciIsIm9uQ2xpY2siLCJjaGF0IiwiaWNvbiIsIkRlbGV0ZSIsIkZhYkV4cGFuZGluZyIsImRpc2FibGVkIiwiYW5pbWF0ZVRvIiwiSWNvbiIsIkZpbGVVcGxvYWRPdXRsaW5lZCIsImN1cnJlbnQiLCJvcGVuIiwieU9mZnNldCIsIkJPVFRPTV9OQVZfSEVJR0hUIiwiVXBsb2FkRmlsZXMiLCJtdWx0aXBsZSIsImxvY2F0aW9uIiwicmVmIiwib25TdWJtaXQiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkF1RlNBOzs7ZUFBQUE7Ozs7dUJBdkZ3QjsyQkFDTjtzQkFDRjtxQ0FFVTt1QkFHUzt1QkFDZDtzQkFDSDt1QkFDZ0I7QUFRM0MsTUFBTUEsb0JBQW9CLENBQUMsRUFDekJDLElBQUksRUFDSkMsVUFBVSxFQUNWQyxhQUFhLEVBQ2JDLFdBQVcsRUFDWEMsYUFBYSxFQUNiQyxXQUFXLEVBQ1hDLFlBQVksRUFDTjtJQUNOLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdDLElBQUFBLHFCQUFjO0lBQ2xDLE1BQU1DLFFBQVFDLElBQUFBLGVBQVEsRUFBQyxDQUFDLENBQUNUO0lBQ3pCLE1BQU0sQ0FBQ1UsR0FBR0MsVUFBVSxHQUFHSDtJQUN2QixNQUFNLENBQUNJLGVBQWUsR0FBR0MsSUFBQUEsb0JBQWE7SUFDdEMsTUFBTSxFQUFFQyxVQUFVQyxVQUFVLEVBQUUsR0FBR0g7SUFDakMsTUFBTUksWUFBWUMsSUFBQUEsYUFBTSxFQUFpQjtJQUN6QyxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsYUFBYSxFQUFFLEdBQUdDLElBQUFBLGNBQVE7SUFDL0MsTUFBTSxFQUFFQyxjQUFjLEVBQUUsR0FBR0MsSUFBQUEscUJBQVU7SUFDckMsTUFBTUMsa0JBQWtCLENBQUNSLGNBQWNNLGVBQWU7SUFFdEQscUJBQ0U7OzBCQUNFLHFCQUFDRyx1Q0FBa0I7Z0JBQ2pCQyxPQUFPMUI7Z0JBQ1BTLE9BQU9BO2dCQUNQa0IsWUFBWSxDQUFDLENBQUNYO2dCQUNkWSxxQkFDRTs7d0JBQ0d2Qiw0QkFDQyxxQkFBQ3dCLGdCQUFVOzRCQUFDQyxJQUFJO2dDQUFFQyxJQUFJOzRCQUFFOzRCQUFHQyxTQUFTM0I7c0NBQ2pDRSxRQUFRMEIsSUFBSSxDQUFDQyxJQUFJOzZCQUVsQjt3QkFDSDlCLDhCQUNDLHFCQUFDeUIsZ0JBQVU7NEJBQUNDLElBQUk7Z0NBQUVDLElBQUk7NEJBQUU7NEJBQUdDLFNBQVM1QjtzQ0FDbEMsY0FBQSxxQkFBQytCLGFBQU07NkJBRVA7OztnQkFHUmxDLFlBQVlBO2dCQUNaQyxlQUFlQTtnQkFDZkMsYUFBYUE7O1lBRWRxQixtQkFBbUIsQ0FBQ0wsNEJBQ25CLHFCQUFDaUIsaUNBQVk7Z0JBQ1hDLFVBQVVqQjtnQkFDVmtCLFdBQVc7Z0JBQ1hDLG9CQUFNLHFCQUFDQyx5QkFBa0I7Z0JBQ3pCUixTQUFTO3dCQUNQZjtxQkFBQUEscUJBQUFBLFVBQVV3QixPQUFPLGNBQWpCeEIseUNBQUFBLG1CQUFtQnlCLElBQUk7Z0JBQ3pCO2dCQUNBQyxTQUFTQyxzQ0FBaUI7MEJBQzNCO2lCQUdDOzBCQUNKLHFCQUFDQyxrQkFBVztnQkFDVkMsUUFBUTtnQkFDUkMsVUFBUztnQkFDVEMsS0FBSy9CO2dCQUNMZ0MsVUFBVTtvQkFDUnJDLFVBQVU7b0JBQ1ZOLHlCQUFBQSxtQ0FBQUE7Z0JBQ0Y7Ozs7QUFJUiJ9