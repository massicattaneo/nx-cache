38d46b71327acba709dde55abd42ed31
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useQueryFeedback", {
    enumerable: true,
    get: function() {
        return useQueryFeedback;
    }
});
const _axiosclient = require("@rp/react/axios-client");
const _reactquery = require("@tanstack/react-query");
const getQueryFeedback = async (queryId)=>{
    const { data } = await _axiosclient.axiosClient.get(`/feedback/${queryId}`);
    return data;
};
const useQueryFeedback = (queryId)=>{
    const isFeedbackMode = window.localStorage.getItem("enableFeedbackMode") === "true";
    return (0, _reactquery.useQuery)({
        queryKey: [
            "feedback",
            queryId
        ],
        queryFn: ()=>getQueryFeedback(queryId),
        staleTime: Infinity,
        gcTime: Infinity,
        enabled: isFeedbackMode,
        select: (data)=>{
            return new Map(data.map(({ sentenceId, rankingValue })=>[
                    sentenceId,
                    Number(rankingValue)
                ]));
        }
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NvbW1vbi9wcm92aWRlcnMvc3JjL0ZlZWRiYWNrQ29udGV4dC91c2VRdWVyeUZlZWRiYWNrLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF4aW9zQ2xpZW50IH0gZnJvbSBcIkBycC9yZWFjdC9heGlvcy1jbGllbnRcIlxuaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tIFwiQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5XCJcbmltcG9ydCB7IEZlZWRiYWNrIH0gZnJvbSBcIi4vdXNlU3RvcnlDYXJkRmVlZGJhY2tcIlxuXG5jb25zdCBnZXRRdWVyeUZlZWRiYWNrID0gYXN5bmMgKHF1ZXJ5SWQ6IHN0cmluZyk6IFByb21pc2U8QXJyYXk8RmVlZGJhY2s+PiA9PiB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3NDbGllbnQuZ2V0PEFycmF5PEZlZWRiYWNrPj4oYC9mZWVkYmFjay8ke3F1ZXJ5SWR9YClcbiAgcmV0dXJuIGRhdGFcbn1cblxuY29uc3QgdXNlUXVlcnlGZWVkYmFjayA9IChxdWVyeUlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgaXNGZWVkYmFja01vZGUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJlbmFibGVGZWVkYmFja01vZGVcIikgPT09IFwidHJ1ZVwiXG4gIHJldHVybiB1c2VRdWVyeSh7XG4gICAgcXVlcnlLZXk6IFtcImZlZWRiYWNrXCIsIHF1ZXJ5SWRdLFxuICAgIHF1ZXJ5Rm46ICgpID0+IGdldFF1ZXJ5RmVlZGJhY2socXVlcnlJZCksXG4gICAgc3RhbGVUaW1lOiBJbmZpbml0eSxcbiAgICBnY1RpbWU6IEluZmluaXR5LFxuICAgIGVuYWJsZWQ6IGlzRmVlZGJhY2tNb2RlLFxuICAgIHNlbGVjdDogZGF0YSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE1hcChkYXRhLm1hcCgoeyBzZW50ZW5jZUlkLCByYW5raW5nVmFsdWUgfSkgPT4gW3NlbnRlbmNlSWQsIE51bWJlcihyYW5raW5nVmFsdWUpXSkpXG4gICAgfSxcbiAgfSlcbn1cblxuZXhwb3J0IHsgdXNlUXVlcnlGZWVkYmFjayB9XG4iXSwibmFtZXMiOlsidXNlUXVlcnlGZWVkYmFjayIsImdldFF1ZXJ5RmVlZGJhY2siLCJxdWVyeUlkIiwiZGF0YSIsImF4aW9zQ2xpZW50IiwiZ2V0IiwiaXNGZWVkYmFja01vZGUiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXNlUXVlcnkiLCJxdWVyeUtleSIsInF1ZXJ5Rm4iLCJzdGFsZVRpbWUiLCJJbmZpbml0eSIsImdjVGltZSIsImVuYWJsZWQiLCJzZWxlY3QiLCJNYXAiLCJtYXAiLCJzZW50ZW5jZUlkIiwicmFua2luZ1ZhbHVlIiwiTnVtYmVyIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBdUJTQTs7O2VBQUFBOzs7NkJBdkJtQjs0QkFDSDtBQUd6QixNQUFNQyxtQkFBbUIsT0FBT0M7SUFDOUIsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBRyxNQUFNQyx3QkFBVyxDQUFDQyxHQUFHLENBQWtCLENBQUMsVUFBVSxFQUFFSCxRQUFRLENBQUM7SUFDOUUsT0FBT0M7QUFDVDtBQUVBLE1BQU1ILG1CQUFtQixDQUFDRTtJQUN4QixNQUFNSSxpQkFBaUJDLE9BQU9DLFlBQVksQ0FBQ0MsT0FBTyxDQUFDLDBCQUEwQjtJQUM3RSxPQUFPQyxJQUFBQSxvQkFBUSxFQUFDO1FBQ2RDLFVBQVU7WUFBQztZQUFZVDtTQUFRO1FBQy9CVSxTQUFTLElBQU1YLGlCQUFpQkM7UUFDaENXLFdBQVdDO1FBQ1hDLFFBQVFEO1FBQ1JFLFNBQVNWO1FBQ1RXLFFBQVFkLENBQUFBO1lBQ04sT0FBTyxJQUFJZSxJQUFJZixLQUFLZ0IsR0FBRyxDQUFDLENBQUMsRUFBRUMsVUFBVSxFQUFFQyxZQUFZLEVBQUUsR0FBSztvQkFBQ0Q7b0JBQVlFLE9BQU9EO2lCQUFjO1FBQzlGO0lBQ0Y7QUFDRiJ9