{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/pages/Files/FileMobileHeader.tsx"],"sourcesContent":["import { useRef, useState } from \"react\"\nimport { useAccount } from \"@rp/react/common/providers\"\nimport { useQuota } from \"@rp/react/tanstack-api/file\"\nimport { UploadInputRef } from \"@rp/react/web/common/base-components\"\nimport { SearchMobileHeader } from \"@rp/react/web/common/composite-components\"\nimport { BOTTOM_NAV_HEIGHT } from \"@rp/react/web/common/composite-components\"\nimport { FabExpanding } from \"@rp/react/web/common/composite-components\"\nimport { UploadFiles, useFileActions } from \"@rp/react/web/common/files\"\nimport { useHashParams } from \"@rp/react/web/common/hooks\"\nimport { IconButton } from \"@rp/react/web/mui/core\"\nimport { Delete, FileUploadOutlined } from \"@rp/react/web/mui/icons\"\nimport { HubHeaderProps } from \"../../components/Hub/HubHeader/HubHeader.types\"\n\ntype Props = HubHeaderProps & {\n  onDeleteClick?: () => void\n  onChatClick?: () => void\n}\n\nconst FilesMobileHeader = ({\n  page,\n  filterTerm,\n  setFilterTerm,\n  placeholder,\n  onDeleteClick,\n  onChatClick,\n  onFileUpload,\n}: Props) => {\n  const { actions } = useFileActions()\n  const input = useState(!!filterTerm)\n  const [_, setIsOpen] = input\n  const [documentParams] = useHashParams()\n  const { document: documentId } = documentParams\n  const buttonRef = useRef<UploadInputRef>(null)\n  const { isOverLimit, disableUpload } = useQuota()\n  const { hasEntitlement } = useAccount()\n  const isUploadEnabled = !documentId && hasEntitlement(\"file:upload\")\n\n  return (\n    <>\n      <SearchMobileHeader\n        title={page}\n        input={input}\n        hideSearch={!!documentId}\n        right={\n          <>\n            {onChatClick ? (\n              <IconButton sx={{ mr: 2 }} onClick={onChatClick}>\n                {actions.chat.icon}\n              </IconButton>\n            ) : null}\n            {onDeleteClick ? (\n              <IconButton sx={{ mr: 2 }} onClick={onDeleteClick}>\n                <Delete />\n              </IconButton>\n            ) : null}\n          </>\n        }\n        filterTerm={filterTerm}\n        setFilterTerm={setFilterTerm}\n        placeholder={placeholder}\n      />\n      {isUploadEnabled && !isOverLimit ? (\n        <FabExpanding\n          disabled={disableUpload}\n          animateTo={150}\n          Icon={<FileUploadOutlined />}\n          onClick={() => {\n            buttonRef.current?.open()\n          }}\n          yOffset={BOTTOM_NAV_HEIGHT}\n        >\n          Upload File\n        </FabExpanding>\n      ) : null}\n      <UploadFiles\n        multiple\n        location=\"filesPage\"\n        ref={buttonRef}\n        onSubmit={() => {\n          setIsOpen(false)\n          onFileUpload?.()\n        }}\n      />\n    </>\n  )\n}\n\nexport { FilesMobileHeader }\n"],"names":["FilesMobileHeader","page","filterTerm","setFilterTerm","placeholder","onDeleteClick","onChatClick","onFileUpload","actions","useFileActions","input","useState","_","setIsOpen","documentParams","useHashParams","document","documentId","buttonRef","useRef","isOverLimit","disableUpload","useQuota","hasEntitlement","useAccount","isUploadEnabled","SearchMobileHeader","title","hideSearch","right","IconButton","sx","mr","onClick","chat","icon","Delete","FabExpanding","disabled","animateTo","Icon","FileUploadOutlined","current","open","yOffset","BOTTOM_NAV_HEIGHT","UploadFiles","multiple","location","ref","onSubmit"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuFSA;;;eAAAA;;;;uBAvFwB;2BACN;sBACF;qCAEU;uBAGS;uBACd;sBACH;uBACgB;AAQ3C,MAAMA,oBAAoB,CAAC,EACzBC,IAAI,EACJC,UAAU,EACVC,aAAa,EACbC,WAAW,EACXC,aAAa,EACbC,WAAW,EACXC,YAAY,EACN;IACN,MAAM,EAAEC,OAAO,EAAE,GAAGC,IAAAA,qBAAc;IAClC,MAAMC,QAAQC,IAAAA,eAAQ,EAAC,CAAC,CAACT;IACzB,MAAM,CAACU,GAAGC,UAAU,GAAGH;IACvB,MAAM,CAACI,eAAe,GAAGC,IAAAA,oBAAa;IACtC,MAAM,EAAEC,UAAUC,UAAU,EAAE,GAAGH;IACjC,MAAMI,YAAYC,IAAAA,aAAM,EAAiB;IACzC,MAAM,EAAEC,WAAW,EAAEC,aAAa,EAAE,GAAGC,IAAAA,cAAQ;IAC/C,MAAM,EAAEC,cAAc,EAAE,GAAGC,IAAAA,qBAAU;IACrC,MAAMC,kBAAkB,CAACR,cAAcM,eAAe;IAEtD,qBACE;;0BACE,qBAACG,uCAAkB;gBACjBC,OAAO1B;gBACPS,OAAOA;gBACPkB,YAAY,CAAC,CAACX;gBACdY,qBACE;;wBACGvB,4BACC,qBAACwB,gBAAU;4BAACC,IAAI;gCAAEC,IAAI;4BAAE;4BAAGC,SAAS3B;sCACjCE,QAAQ0B,IAAI,CAACC,IAAI;6BAElB;wBACH9B,8BACC,qBAACyB,gBAAU;4BAACC,IAAI;gCAAEC,IAAI;4BAAE;4BAAGC,SAAS5B;sCAClC,cAAA,qBAAC+B,aAAM;6BAEP;;;gBAGRlC,YAAYA;gBACZC,eAAeA;gBACfC,aAAaA;;YAEdqB,mBAAmB,CAACL,4BACnB,qBAACiB,iCAAY;gBACXC,UAAUjB;gBACVkB,WAAW;gBACXC,oBAAM,qBAACC,yBAAkB;gBACzBR,SAAS;wBACPf;qBAAAA,qBAAAA,UAAUwB,OAAO,cAAjBxB,yCAAAA,mBAAmByB,IAAI;gBACzB;gBACAC,SAASC,sCAAiB;0BAC3B;iBAGC;0BACJ,qBAACC,kBAAW;gBACVC,QAAQ;gBACRC,UAAS;gBACTC,KAAK/B;gBACLgC,UAAU;oBACRrC,UAAU;oBACVN,yBAAAA,mCAAAA;gBACF;;;;AAIR"}