{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/source-selector/src/hooks/usePillBoxExpandability.ts"],"sourcesContent":["import { Dispatch, SetStateAction, useCallback, useEffect, useMemo, useState } from \"react\"\nimport { createHandlePillBoxResizeObservation } from \"../utils/createHandlePillBoxResizeObservation\"\n\nconst PILL_BOX_BREAKPOINT = 90\n\ntype UsePillBoxExpandability = {\n  isExpanded: boolean\n  isLargerThanBreakpoint: boolean\n  pillBoxMaxHeight: number | string\n  setPillBoxRef: Dispatch<SetStateAction<HTMLDivElement | null>>\n  toggleIsExpanded: () => void\n}\n\nfunction usePillBoxExpandability(): UsePillBoxExpandability {\n  const [pillBoxRef, setPillBoxRef] = useState<HTMLDivElement | null>(null)\n  const [isLargerThanBreakpoint, setIsLargerThanBreakpoint] = useState(false)\n  const [isExpanded, setIsExpanded] = useState(false)\n  const toggleIsExpanded = useCallback(() => setIsExpanded(s => !s), [])\n\n  useEffect(() => {\n    if (!pillBoxRef) return\n\n    const observer = new ResizeObserver(\n      createHandlePillBoxResizeObservation(PILL_BOX_BREAKPOINT, setIsLargerThanBreakpoint),\n    )\n\n    observer.observe(pillBoxRef)\n\n    return () => observer.disconnect()\n  }, [pillBoxRef])\n\n  const pillBoxMaxHeight = useMemo(() => (isExpanded ? \"none\" : PILL_BOX_BREAKPOINT), [isExpanded])\n\n  return {\n    isExpanded,\n    isLargerThanBreakpoint,\n    pillBoxMaxHeight,\n    setPillBoxRef,\n    toggleIsExpanded,\n  }\n}\n\nexport { usePillBoxExpandability }\n"],"names":["usePillBoxExpandability","PILL_BOX_BREAKPOINT","pillBoxRef","setPillBoxRef","useState","isLargerThanBreakpoint","setIsLargerThanBreakpoint","isExpanded","setIsExpanded","toggleIsExpanded","useCallback","s","useEffect","observer","ResizeObserver","createHandlePillBoxResizeObservation","observe","disconnect","pillBoxMaxHeight","useMemo"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA0CSA;;;eAAAA;;;uBA1C2E;sDAC/B;AAErD,MAAMC,sBAAsB;AAU5B,SAASD;IACP,MAAM,CAACE,YAAYC,cAAc,GAAGC,IAAAA,eAAQ,EAAwB;IACpE,MAAM,CAACC,wBAAwBC,0BAA0B,GAAGF,IAAAA,eAAQ,EAAC;IACrE,MAAM,CAACG,YAAYC,cAAc,GAAGJ,IAAAA,eAAQ,EAAC;IAC7C,MAAMK,mBAAmBC,IAAAA,kBAAW,EAAC,IAAMF,cAAcG,CAAAA,IAAK,CAACA,IAAI,EAAE;IAErEC,IAAAA,gBAAS,EAAC;QACR,IAAI,CAACV,YAAY;QAEjB,MAAMW,WAAW,IAAIC,eACnBC,IAAAA,0EAAoC,EAACd,qBAAqBK;QAG5DO,SAASG,OAAO,CAACd;QAEjB,OAAO,IAAMW,SAASI,UAAU;IAClC,GAAG;QAACf;KAAW;IAEf,MAAMgB,mBAAmBC,IAAAA,cAAO,EAAC,IAAOZ,aAAa,SAASN,qBAAsB;QAACM;KAAW;IAEhG,OAAO;QACLA;QACAF;QACAa;QACAf;QACAM;IACF;AACF"}