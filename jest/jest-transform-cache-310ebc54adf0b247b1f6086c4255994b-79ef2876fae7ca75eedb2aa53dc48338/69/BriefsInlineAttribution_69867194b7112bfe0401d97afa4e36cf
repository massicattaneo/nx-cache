c786f968ba12927fbc6c32dcfba1943e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "briefsInlineAttributionRenderer", {
    enumerable: true,
    get: function() {
        return briefsInlineAttributionRenderer;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _settings = require("@rp/common/settings");
const _utils = require("@rp/common/utils");
const _chat = require("@rp/react/common/chat");
const _chat1 = require("@rp/react/web/chat");
const _hooks = require("@rp/react/web/common/hooks");
const _providers = require("@rp/react/web/common/providers");
const _utils1 = require("@rp/web/utils");
const _transformSourceIntoChunk = require("./transformSourceIntoChunk");
const briefsInlineAttributionRenderer = ({ sources })=>({ children, className })=>{
        if (typeof children === "string" && children.match(_utils.INLINE_ATTRIBUTION_REGEX)) {
            return /*#__PURE__*/ (0, _jsxruntime.jsx)(BriefsInlineAttribution, {
                refId: children,
                sources: sources
            });
        }
        const code = /*#__PURE__*/ (0, _react.createElement)("code", className ? {
            className: className
        } : null, children);
        return /*#__PURE__*/ (0, _react.createElement)("code", {}, code);
    };
const BriefsInlineAttribution = ({ refId, sources })=>{
    const { setDocumentData } = (0, _providers.useDocumentViewerData)();
    const { isMobile } = (0, _hooks.useDeviceInfo)();
    const [, setHashParams] = (0, _hooks.useHashParams)();
    const [showTooltip, setShowTooltip] = (0, _react.useState)(false);
    const [isModalOpen, setIsModalOpen] = (0, _react.useState)(false);
    const listData = (0, _chat.getRefList)(refId);
    let groups = undefined;
    if (listData !== null) {
        const attributionData = listData.map((item)=>{
            const chunk = sources[item.id];
            if (!chunk || item.type !== "CQS") {
                return undefined;
            }
            const url = chunk.url;
            var _chunk_sourceName, _chunk_language, _chunk_rpProviderId;
            return {
                type: "CQS",
                hd: chunk.headline,
                text: chunk.text,
                sourceName: (_chunk_sourceName = chunk.sourceName) !== null && _chunk_sourceName !== void 0 ? _chunk_sourceName : "Unknown Source",
                language: (_chunk_language = chunk.language) !== null && _chunk_language !== void 0 ? _chunk_language : "English",
                ts: chunk.ts,
                documentScope: chunk.documentScope,
                contentType: chunk.contentType,
                srcKey: chunk.sourceKey,
                url: url !== null && url !== void 0 ? url : null,
                documentId: chunk.documentId,
                rpProviderId: chunk.rpProviderId,
                relatedSource: {
                    id: chunk.documentId,
                    hd: chunk.headline,
                    imageUrls: chunk.imageUrl ? [
                        chunk.imageUrl
                    ] : null,
                    name: chunk.sourceName
                },
                onClick: url && _settings.REDIRECT_PROVIDERS.includes((_chunk_rpProviderId = chunk.rpProviderId) !== null && _chunk_rpProviderId !== void 0 ? _chunk_rpProviderId : "") ? ()=>{
                    window.open((0, _utils1.getUrlWithTextFragment)(url, chunk.text), "_blank", "noopener,noreferrer");
                    setShowTooltip(false);
                } : ()=>{
                    setDocumentData({
                        documentId: chunk.documentId,
                        documentScope: "news",
                        language: "English",
                        chunks: [
                            (0, _transformSourceIntoChunk.transformSourceIntoChunk)(chunk)
                        ],
                        startingChunkId: chunk.chunkId
                    });
                    chunk.documentScope === "files" ? setHashParams({
                        document: chunk.documentId,
                        private: "true"
                    }) : setHashParams({
                        document: chunk.documentId
                    });
                }
            };
        });
        groups = (0, _chat1.groupInlineAttributions)(attributionData);
    }
    if (groups === undefined || groups.length === 0) {
        return "";
    }
    const { onClick } = groups[0].data[0];
    const onButtonClick = (ev)=>{
        if (isMobile) {
            setIsModalOpen(true);
        } else {
            onClick(ev);
            setShowTooltip(false);
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_chat1.InlineAttributionListModal, {
        attributions: groups,
        closeModal: ()=>setIsModalOpen(false),
        isOpen: isModalOpen,
        showTooltip: showTooltip,
        onOpenTooltip: ()=>{
            setShowTooltip(true);
        },
        onCloseTooltip: ()=>setShowTooltip(false),
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_chat1.InlineAttributionArrowButton, {
            onClick: onButtonClick,
            isModalOpen: isModalOpen
        })
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2JyaWVmL3NyYy9jb21wb25lbnRzL0JyaWVmUmVwb3J0L0JyaWVmUmVwb3J0U2VjdGlvbi9CcmllZnNJbmxpbmVBdHRyaWJ1dGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW91c2VFdmVudCwgY3JlYXRlRWxlbWVudCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgUkVESVJFQ1RfUFJPVklERVJTIH0gZnJvbSBcIkBycC9jb21tb24vc2V0dGluZ3NcIlxuaW1wb3J0IHsgSU5MSU5FX0FUVFJJQlVUSU9OX1JFR0VYIH0gZnJvbSBcIkBycC9jb21tb24vdXRpbHNcIlxuaW1wb3J0IHsgZ2V0UmVmTGlzdCB9IGZyb20gXCJAcnAvcmVhY3QvY29tbW9uL2NoYXRcIlxuaW1wb3J0IHsgQnJpZWZTb3VyY2VzIH0gZnJvbSBcIkBycC9yZWFjdC90YW5zdGFjay1hcGkvYnJpZWZcIlxuaW1wb3J0IHtcbiAgR3JvdXBlZElubGluZUF0dHJpYnV0aW9uTGlzdCxcbiAgSW5saW5lQXR0cmlidXRpb25BcnJvd0J1dHRvbixcbiAgSW5saW5lQXR0cmlidXRpb25MaXN0TW9kYWwsXG4gIGdyb3VwSW5saW5lQXR0cmlidXRpb25zLFxufSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jaGF0XCJcbmltcG9ydCB7IHVzZURldmljZUluZm8sIHVzZUhhc2hQYXJhbXMgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vaG9va3NcIlxuaW1wb3J0IHsgdXNlRG9jdW1lbnRWaWV3ZXJEYXRhIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL3Byb3ZpZGVyc1wiXG5pbXBvcnQgeyBnZXRVcmxXaXRoVGV4dEZyYWdtZW50IH0gZnJvbSBcIkBycC93ZWIvdXRpbHNcIlxuaW1wb3J0IHsgdHJhbnNmb3JtU291cmNlSW50b0NodW5rIH0gZnJvbSBcIi4vdHJhbnNmb3JtU291cmNlSW50b0NodW5rXCJcblxudHlwZSBSZW5kZXJlckZ1bmNQcm9wcyA9IHtcbiAgc291cmNlczogQnJpZWZTb3VyY2VzXG59XG5cbmNvbnN0IGJyaWVmc0lubGluZUF0dHJpYnV0aW9uUmVuZGVyZXIgPVxuICAoeyBzb3VyY2VzIH06IFJlbmRlcmVyRnVuY1Byb3BzKSA9PlxuICAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lIH06IHsgY2xhc3NOYW1lPzogc3RyaW5nOyBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZSB9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJzdHJpbmdcIiAmJiBjaGlsZHJlbi5tYXRjaChJTkxJTkVfQVRUUklCVVRJT05fUkVHRVgpKSB7XG4gICAgICByZXR1cm4gPEJyaWVmc0lubGluZUF0dHJpYnV0aW9uIHJlZklkPXtjaGlsZHJlbn0gc291cmNlcz17c291cmNlc30gLz5cbiAgICB9XG5cbiAgICBjb25zdCBjb2RlID0gY3JlYXRlRWxlbWVudChcImNvZGVcIiwgY2xhc3NOYW1lID8geyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9IDogbnVsbCwgY2hpbGRyZW4pXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIHt9LCBjb2RlKVxuICB9XG5cbnR5cGUgUHJvcHMgPSB7XG4gIHJlZklkOiBzdHJpbmdcbiAgc291cmNlczogQnJpZWZTb3VyY2VzXG59XG5cbmNvbnN0IEJyaWVmc0lubGluZUF0dHJpYnV0aW9uID0gKHsgcmVmSWQsIHNvdXJjZXMgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBzZXREb2N1bWVudERhdGEgfSA9IHVzZURvY3VtZW50Vmlld2VyRGF0YSgpXG4gIGNvbnN0IHsgaXNNb2JpbGUgfSA9IHVzZURldmljZUluZm8oKVxuICBjb25zdCBbLCBzZXRIYXNoUGFyYW1zXSA9IHVzZUhhc2hQYXJhbXMoKVxuICBjb25zdCBbc2hvd1Rvb2x0aXAsIHNldFNob3dUb29sdGlwXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IFtpc01vZGFsT3Blbiwgc2V0SXNNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IGxpc3REYXRhID0gZ2V0UmVmTGlzdChyZWZJZClcbiAgbGV0IGdyb3VwczogR3JvdXBlZElubGluZUF0dHJpYnV0aW9uTGlzdCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuXG4gIGlmIChsaXN0RGF0YSAhPT0gbnVsbCkge1xuICAgIGNvbnN0IGF0dHJpYnV0aW9uRGF0YSA9IGxpc3REYXRhLm1hcChpdGVtID0+IHtcbiAgICAgIGNvbnN0IGNodW5rID0gc291cmNlc1tpdGVtLmlkXVxuICAgICAgaWYgKCFjaHVuayB8fCBpdGVtLnR5cGUgIT09IFwiQ1FTXCIpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBjb25zdCB1cmwgPSBjaHVuay51cmxcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJDUVNcIiBhcyBjb25zdCxcbiAgICAgICAgaGQ6IGNodW5rLmhlYWRsaW5lLFxuICAgICAgICB0ZXh0OiBjaHVuay50ZXh0LFxuICAgICAgICBzb3VyY2VOYW1lOiBjaHVuay5zb3VyY2VOYW1lID8/IFwiVW5rbm93biBTb3VyY2VcIixcbiAgICAgICAgbGFuZ3VhZ2U6IGNodW5rLmxhbmd1YWdlID8/IFwiRW5nbGlzaFwiLFxuICAgICAgICB0czogY2h1bmsudHMsXG4gICAgICAgIGRvY3VtZW50U2NvcGU6IGNodW5rLmRvY3VtZW50U2NvcGUsXG4gICAgICAgIGNvbnRlbnRUeXBlOiBjaHVuay5jb250ZW50VHlwZSxcbiAgICAgICAgc3JjS2V5OiBjaHVuay5zb3VyY2VLZXksXG4gICAgICAgIHVybDogdXJsID8/IG51bGwsXG4gICAgICAgIGRvY3VtZW50SWQ6IGNodW5rLmRvY3VtZW50SWQsXG4gICAgICAgIHJwUHJvdmlkZXJJZDogY2h1bmsucnBQcm92aWRlcklkLFxuICAgICAgICByZWxhdGVkU291cmNlOiB7XG4gICAgICAgICAgaWQ6IGNodW5rLmRvY3VtZW50SWQsXG4gICAgICAgICAgaGQ6IGNodW5rLmhlYWRsaW5lLFxuICAgICAgICAgIGltYWdlVXJsczogY2h1bmsuaW1hZ2VVcmwgPyBbY2h1bmsuaW1hZ2VVcmxdIDogbnVsbCxcbiAgICAgICAgICBuYW1lOiBjaHVuay5zb3VyY2VOYW1lLFxuICAgICAgICB9LFxuICAgICAgICBvbkNsaWNrOlxuICAgICAgICAgIHVybCAmJiBSRURJUkVDVF9QUk9WSURFUlMuaW5jbHVkZXMoY2h1bmsucnBQcm92aWRlcklkID8/IFwiXCIpXG4gICAgICAgICAgICA/ICgpID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihcbiAgICAgICAgICAgICAgICAgIGdldFVybFdpdGhUZXh0RnJhZ21lbnQodXJsLCBjaHVuay50ZXh0KSxcbiAgICAgICAgICAgICAgICAgIFwiX2JsYW5rXCIsXG4gICAgICAgICAgICAgICAgICBcIm5vb3BlbmVyLG5vcmVmZXJyZXJcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgc2V0U2hvd1Rvb2x0aXAoZmFsc2UpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldERvY3VtZW50RGF0YSh7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudElkOiBjaHVuay5kb2N1bWVudElkLFxuICAgICAgICAgICAgICAgICAgZG9jdW1lbnRTY29wZTogXCJuZXdzXCIsXG4gICAgICAgICAgICAgICAgICBsYW5ndWFnZTogXCJFbmdsaXNoXCIsXG4gICAgICAgICAgICAgICAgICBjaHVua3M6IFt0cmFuc2Zvcm1Tb3VyY2VJbnRvQ2h1bmsoY2h1bmspXSxcbiAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nQ2h1bmtJZDogY2h1bmsuY2h1bmtJZCxcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgY2h1bmsuZG9jdW1lbnRTY29wZSA9PT0gXCJmaWxlc1wiXG4gICAgICAgICAgICAgICAgICA/IHNldEhhc2hQYXJhbXMoeyBkb2N1bWVudDogY2h1bmsuZG9jdW1lbnRJZCwgcHJpdmF0ZTogXCJ0cnVlXCIgfSlcbiAgICAgICAgICAgICAgICAgIDogc2V0SGFzaFBhcmFtcyh7IGRvY3VtZW50OiBjaHVuay5kb2N1bWVudElkIH0pXG4gICAgICAgICAgICAgIH0sXG4gICAgICB9XG4gICAgfSlcblxuICAgIGdyb3VwcyA9IGdyb3VwSW5saW5lQXR0cmlidXRpb25zKGF0dHJpYnV0aW9uRGF0YSlcbiAgfVxuXG4gIGlmIChncm91cHMgPT09IHVuZGVmaW5lZCB8fCBncm91cHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFwiXCJcbiAgfVxuXG4gIGNvbnN0IHsgb25DbGljayB9ID0gZ3JvdXBzWzBdLmRhdGFbMF1cblxuICBjb25zdCBvbkJ1dHRvbkNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICBzZXRJc01vZGFsT3Blbih0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBvbkNsaWNrKGV2KVxuICAgICAgc2V0U2hvd1Rvb2x0aXAoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8SW5saW5lQXR0cmlidXRpb25MaXN0TW9kYWxcbiAgICAgIGF0dHJpYnV0aW9ucz17Z3JvdXBzfVxuICAgICAgY2xvc2VNb2RhbD17KCkgPT4gc2V0SXNNb2RhbE9wZW4oZmFsc2UpfVxuICAgICAgaXNPcGVuPXtpc01vZGFsT3Blbn1cbiAgICAgIHNob3dUb29sdGlwPXtzaG93VG9vbHRpcH1cbiAgICAgIG9uT3BlblRvb2x0aXA9eygpID0+IHtcbiAgICAgICAgc2V0U2hvd1Rvb2x0aXAodHJ1ZSlcbiAgICAgIH19XG4gICAgICBvbkNsb3NlVG9vbHRpcD17KCkgPT4gc2V0U2hvd1Rvb2x0aXAoZmFsc2UpfVxuICAgID5cbiAgICAgIDxJbmxpbmVBdHRyaWJ1dGlvbkFycm93QnV0dG9uIG9uQ2xpY2s9e29uQnV0dG9uQ2xpY2t9IGlzTW9kYWxPcGVuPXtpc01vZGFsT3Blbn0gLz5cbiAgICA8L0lubGluZUF0dHJpYnV0aW9uTGlzdE1vZGFsPlxuICApXG59XG5cbmV4cG9ydCB7IGJyaWVmc0lubGluZUF0dHJpYnV0aW9uUmVuZGVyZXIgfVxuIl0sIm5hbWVzIjpbImJyaWVmc0lubGluZUF0dHJpYnV0aW9uUmVuZGVyZXIiLCJzb3VyY2VzIiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJtYXRjaCIsIklOTElORV9BVFRSSUJVVElPTl9SRUdFWCIsIkJyaWVmc0lubGluZUF0dHJpYnV0aW9uIiwicmVmSWQiLCJjb2RlIiwiY3JlYXRlRWxlbWVudCIsInNldERvY3VtZW50RGF0YSIsInVzZURvY3VtZW50Vmlld2VyRGF0YSIsImlzTW9iaWxlIiwidXNlRGV2aWNlSW5mbyIsInNldEhhc2hQYXJhbXMiLCJ1c2VIYXNoUGFyYW1zIiwic2hvd1Rvb2x0aXAiLCJzZXRTaG93VG9vbHRpcCIsInVzZVN0YXRlIiwiaXNNb2RhbE9wZW4iLCJzZXRJc01vZGFsT3BlbiIsImxpc3REYXRhIiwiZ2V0UmVmTGlzdCIsImdyb3VwcyIsInVuZGVmaW5lZCIsImF0dHJpYnV0aW9uRGF0YSIsIm1hcCIsIml0ZW0iLCJjaHVuayIsImlkIiwidHlwZSIsInVybCIsImhkIiwiaGVhZGxpbmUiLCJ0ZXh0Iiwic291cmNlTmFtZSIsImxhbmd1YWdlIiwidHMiLCJkb2N1bWVudFNjb3BlIiwiY29udGVudFR5cGUiLCJzcmNLZXkiLCJzb3VyY2VLZXkiLCJkb2N1bWVudElkIiwicnBQcm92aWRlcklkIiwicmVsYXRlZFNvdXJjZSIsImltYWdlVXJscyIsImltYWdlVXJsIiwibmFtZSIsIm9uQ2xpY2siLCJSRURJUkVDVF9QUk9WSURFUlMiLCJpbmNsdWRlcyIsIndpbmRvdyIsIm9wZW4iLCJnZXRVcmxXaXRoVGV4dEZyYWdtZW50IiwiY2h1bmtzIiwidHJhbnNmb3JtU291cmNlSW50b0NodW5rIiwic3RhcnRpbmdDaHVua0lkIiwiY2h1bmtJZCIsImRvY3VtZW50IiwicHJpdmF0ZSIsImdyb3VwSW5saW5lQXR0cmlidXRpb25zIiwibGVuZ3RoIiwiZGF0YSIsIm9uQnV0dG9uQ2xpY2siLCJldiIsIklubGluZUF0dHJpYnV0aW9uTGlzdE1vZGFsIiwiYXR0cmlidXRpb25zIiwiY2xvc2VNb2RhbCIsImlzT3BlbiIsIm9uT3BlblRvb2x0aXAiLCJvbkNsb3NlVG9vbHRpcCIsIklubGluZUF0dHJpYnV0aW9uQXJyb3dCdXR0b24iXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBc0lTQTs7O2VBQUFBOzs7O3VCQXRJMkM7MEJBQ2pCO3VCQUNNO3NCQUNkO3VCQU9wQjt1QkFDc0M7MkJBQ1A7d0JBQ0M7MENBQ0U7QUFNekMsTUFBTUEsa0NBQ0osQ0FBQyxFQUFFQyxPQUFPLEVBQXFCLEdBQy9CLENBQUMsRUFBRUMsUUFBUSxFQUFFQyxTQUFTLEVBQXNEO1FBQzFFLElBQUksT0FBT0QsYUFBYSxZQUFZQSxTQUFTRSxLQUFLLENBQUNDLCtCQUF3QixHQUFHO1lBQzVFLHFCQUFPLHFCQUFDQztnQkFBd0JDLE9BQU9MO2dCQUFVRCxTQUFTQTs7UUFDNUQ7UUFFQSxNQUFNTyxxQkFBT0MsSUFBQUEsb0JBQWEsRUFBQyxRQUFRTixZQUFZO1lBQUVBLFdBQVdBO1FBQVUsSUFBSSxNQUFNRDtRQUNoRixxQkFBT08sSUFBQUEsb0JBQWEsRUFBQyxRQUFRLENBQUMsR0FBR0Q7SUFDbkM7QUFPRixNQUFNRiwwQkFBMEIsQ0FBQyxFQUFFQyxLQUFLLEVBQUVOLE9BQU8sRUFBUztJQUN4RCxNQUFNLEVBQUVTLGVBQWUsRUFBRSxHQUFHQyxJQUFBQSxnQ0FBcUI7SUFDakQsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FB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