{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/brief/src/utils/briefCreateOrEditSteps.utils.ts"],"sourcesContent":["import { NotificationSchedule, isEmailNotificationSchedule } from \"@rp/common/api-types\"\nimport { BriefConfigForm } from \"@rp/react/tanstack-api/brief\"\n\nconst getHasValidDaysData = (cronExp: string): boolean => cronExp.split(/\\s+/gm)[4] !== \"*\"\n\nconst getHasValidTimeData = (cronExp: string): boolean =>\n  cronExp\n    .split(/\\s+/gm)\n    .slice(0, 2)\n    .every(datum => isFinite(+datum))\n\nconst getIsScheduleValid = (schedule: NotificationSchedule): boolean =>\n  !!(\n    schedule.schedulerExpression &&\n    getHasValidDaysData(schedule.schedulerExpression) &&\n    getHasValidTimeData(schedule.schedulerExpression) &&\n    schedule.timezone &&\n    schedule.destination &&\n    isEmailNotificationSchedule(schedule) &&\n    schedule.destinationParams.emails.length > 0\n  )\n\nconst getIsSelectWatchlistStepDisabled = (form: BriefConfigForm, hasCompanies: boolean): boolean =>\n  !hasCompanies || !form.watchlistId\n\nconst getIsSelectScheduleStepDisabled = (form: BriefConfigForm): boolean =>\n  !getIsScheduleValid(form.schedule)\n\nconst getIsSelectNameStepDisabled = (form: BriefConfigForm): boolean => !form.name\n\nexport {\n  getIsSelectWatchlistStepDisabled,\n  getIsSelectScheduleStepDisabled,\n  getIsSelectNameStepDisabled,\n  getIsScheduleValid,\n  getHasValidTimeData,\n  getHasValidDaysData,\n}\n"],"names":["getHasValidDaysData","getHasValidTimeData","getIsScheduleValid","getIsSelectNameStepDisabled","getIsSelectScheduleStepDisabled","getIsSelectWatchlistStepDisabled","cronExp","split","slice","every","datum","isFinite","schedule","schedulerExpression","timezone","destination","isEmailNotificationSchedule","destinationParams","emails","length","form","hasCompanies","watchlistId","name"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAoCEA,mBAAmB;eAAnBA;;IADAC,mBAAmB;eAAnBA;;IADAC,kBAAkB;eAAlBA;;IADAC,2BAA2B;eAA3BA;;IADAC,+BAA+B;eAA/BA;;IADAC,gCAAgC;eAAhCA;;;0BA/BgE;AAGlE,MAAML,sBAAsB,CAACM,UAA6BA,QAAQC,KAAK,CAAC,QAAQ,CAAC,EAAE,KAAK;AAExF,MAAMN,sBAAsB,CAACK,UAC3BA,QACGC,KAAK,CAAC,SACNC,KAAK,CAAC,GAAG,GACTC,KAAK,CAACC,CAAAA,QAASC,SAAS,CAACD;AAE9B,MAAMR,qBAAqB,CAACU,WAC1B,CAAC,CACCA,CAAAA,SAASC,mBAAmB,IAC5Bb,oBAAoBY,SAASC,mBAAmB,KAChDZ,oBAAoBW,SAASC,mBAAmB,KAChDD,SAASE,QAAQ,IACjBF,SAASG,WAAW,IACpBC,IAAAA,qCAA2B,EAACJ,aAC5BA,SAASK,iBAAiB,CAACC,MAAM,CAACC,MAAM,GAAG,CAAA;AAG/C,MAAMd,mCAAmC,CAACe,MAAuBC,eAC/D,CAACA,gBAAgB,CAACD,KAAKE,WAAW;AAEpC,MAAMlB,kCAAkC,CAACgB,OACvC,CAAClB,mBAAmBkB,KAAKR,QAAQ;AAEnC,MAAMT,8BAA8B,CAACiB,OAAmC,CAACA,KAAKG,IAAI"}