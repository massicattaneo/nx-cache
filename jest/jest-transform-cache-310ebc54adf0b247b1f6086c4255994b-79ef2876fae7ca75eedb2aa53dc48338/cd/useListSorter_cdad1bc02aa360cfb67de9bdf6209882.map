{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/hooks/src/lib/useListSorter.ts"],"sourcesContent":["import { useCallback, useState } from \"react\"\nimport { ListSorterDirection, OnListSorterDirectionChange } from \"@rp/common/utils\"\n\ntype Props<T> = {\n  sortBy: keyof T\n  direction: \"asc\" | \"desc\"\n  onChange?: (sortBy: keyof T, direction: ListSorterDirection) => void\n}\n\nfunction useListSorter<T extends Record<string, string | number | unknown>>({\n  direction,\n  sortBy,\n  onChange: handleChange,\n}: Props<T>) {\n  const [sortByValue, setSortByValue] = useState<keyof T>(sortBy)\n  const [directionValue, setDirection] = useState<ListSorterDirection>(direction)\n\n  const sorterFn = useCallback(\n    (a: T, b: T) => {\n      const valueA = a[sortByValue ? sortByValue : (Object.keys(a)[0] as keyof T)]\n      const valueB = b[sortByValue ? sortByValue : (Object.keys(b)[0] as keyof T)]\n\n      if (typeof valueA === \"string\" && typeof valueB === \"string\") {\n        const sortValue = valueA.localeCompare(valueB)\n        return directionValue === \"asc\" ? sortValue : -sortValue\n      }\n      if (typeof valueA === \"number\" && typeof valueB === \"number\") {\n        return directionValue === \"asc\" ? valueA - valueB : valueB - valueA\n      }\n\n      return 0\n    },\n    [directionValue, sortByValue],\n  )\n\n  const onChange = useCallback(\n    ({ sortBy, direction }: OnListSorterDirectionChange<T>) => {\n      setSortByValue(sortBy)\n      setDirection(direction)\n      handleChange?.(sortBy, direction)\n    },\n    [handleChange],\n  )\n\n  return { sortBy: sortByValue, direction: directionValue, onChange, sorterFn }\n}\n\nexport { useListSorter }\n"],"names":["useListSorter","direction","sortBy","onChange","handleChange","sortByValue","setSortByValue","useState","directionValue","setDirection","sorterFn","useCallback","a","b","valueA","Object","keys","valueB","sortValue","localeCompare"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA+CSA;;;eAAAA;;;uBA/C6B;AAStC,SAASA,cAAmE,EAC1EC,SAAS,EACTC,MAAM,EACNC,UAAUC,YAAY,EACb;IACT,MAAM,CAACC,aAAaC,eAAe,GAAGC,IAAAA,eAAQ,EAAUL;IACxD,MAAM,CAACM,gBAAgBC,aAAa,GAAGF,IAAAA,eAAQ,EAAsBN;IAErE,MAAMS,WAAWC,IAAAA,kBAAW,EAC1B,CAACC,GAAMC;QACL,MAAMC,SAASF,CAAC,CAACP,cAAcA,cAAeU,OAAOC,IAAI,CAACJ,EAAE,CAAC,EAAE,CAAa;QAC5E,MAAMK,SAASJ,CAAC,CAACR,cAAcA,cAAeU,OAAOC,IAAI,CAACH,EAAE,CAAC,EAAE,CAAa;QAE5E,IAAI,OAAOC,WAAW,YAAY,OAAOG,WAAW,UAAU;YAC5D,MAAMC,YAAYJ,OAAOK,aAAa,CAACF;YACvC,OAAOT,mBAAmB,QAAQU,YAAY,CAACA;QACjD;QACA,IAAI,OAAOJ,WAAW,YAAY,OAAOG,WAAW,UAAU;YAC5D,OAAOT,mBAAmB,QAAQM,SAASG,SAASA,SAASH;QAC/D;QAEA,OAAO;IACT,GACA;QAACN;QAAgBH;KAAY;IAG/B,MAAMF,WAAWQ,IAAAA,kBAAW,EAC1B,CAAC,EAAET,MAAM,EAAED,SAAS,EAAkC;QACpDK,eAAeJ;QACfO,aAAaR;QACbG,yBAAAA,mCAAAA,aAAeF,QAAQD;IACzB,GACA;QAACG;KAAa;IAGhB,OAAO;QAAEF,QAAQG;QAAaJ,WAAWO;QAAgBL;QAAUO;IAAS;AAC9E"}