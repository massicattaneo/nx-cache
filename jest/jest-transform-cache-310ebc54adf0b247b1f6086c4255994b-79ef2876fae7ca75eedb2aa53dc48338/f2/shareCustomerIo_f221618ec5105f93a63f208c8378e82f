1e9405ad50d6ad0d7731ebfe8aced62e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "shareCustomerIo", {
    enumerable: true,
    get: function() {
        return shareCustomerIo;
    }
});
const _adapters = require("@rp/adapters");
const shareCustomerIo = {
    getSharedWith: (shared)=>{
        const sharedWith = [];
        const { permission, organizationId } = shared.company;
        if (shared.isPublic) sharedWith.push("public");
        if (permission !== "undefined" && organizationId) sharedWith.push(organizationId);
        shared.users.forEach((user)=>sharedWith.push(user.userId));
        return sharedWith;
    },
    linkGenerated: (props)=>{
        _adapters.adapters.customerIo.track({
            name: "share",
            data: {
                action: "link_generated",
                shareObjectId: props.shareObjectId,
                shareObjectType: props.shareObjectType,
                generatedLink: props.url
            }
        });
    },
    shareWatchlist: (props)=>{
        _adapters.adapters.customerIo.track({
            name: "share",
            data: {
                contentShared: "watchlist",
                sharedPermission: props.shareStatus,
                sharedBy: props.sharedBy
            }
        });
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL2N1c3RvbWVyLWlvL3NyYy9saWIvc2hhcmVDdXN0b21lcklvLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkYXB0ZXJzIH0gZnJvbSBcIkBycC9hZGFwdGVyc1wiXG5pbXBvcnQgeyBTaGFyZVN0YXR1cywgU2hhcmVkRGF0YSB9IGZyb20gXCJAcnAvY29tbW9uL2FwaS10eXBlc1wiXG5pbXBvcnQgeyBTaGFyZUxpbmtPYmplY3QgfSBmcm9tIFwiQHJwL2NvbW1vbi91dGlsc1wiXG5cbnR5cGUgU2hhcmVXYXRjaGxpc3RQcm9wcyA9IHtcbiAgc2hhcmVTdGF0dXM6IFNoYXJlU3RhdHVzXG4gIHNoYXJlZEJ5OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IHNoYXJlQ3VzdG9tZXJJbyA9IHtcbiAgZ2V0U2hhcmVkV2l0aDogKHNoYXJlZDogU2hhcmVkRGF0YSkgPT4ge1xuICAgIGNvbnN0IHNoYXJlZFdpdGg6IEFycmF5PHN0cmluZz4gPSBbXVxuICAgIGNvbnN0IHsgcGVybWlzc2lvbiwgb3JnYW5pemF0aW9uSWQgfSA9IHNoYXJlZC5jb21wYW55XG4gICAgaWYgKHNoYXJlZC5pc1B1YmxpYykgc2hhcmVkV2l0aC5wdXNoKFwicHVibGljXCIpXG4gICAgaWYgKHBlcm1pc3Npb24gIT09IFwidW5kZWZpbmVkXCIgJiYgb3JnYW5pemF0aW9uSWQpIHNoYXJlZFdpdGgucHVzaChvcmdhbml6YXRpb25JZClcbiAgICBzaGFyZWQudXNlcnMuZm9yRWFjaCh1c2VyID0+IHNoYXJlZFdpdGgucHVzaCh1c2VyLnVzZXJJZCkpXG4gICAgcmV0dXJuIHNoYXJlZFdpdGhcbiAgfSxcbiAgbGlua0dlbmVyYXRlZDogKHByb3BzOiBTaGFyZUxpbmtPYmplY3QpID0+IHtcbiAgICBhZGFwdGVycy5jdXN0b21lcklvLnRyYWNrKHtcbiAgICAgIG5hbWU6IFwic2hhcmVcIixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYWN0aW9uOiBcImxpbmtfZ2VuZXJhdGVkXCIsXG4gICAgICAgIHNoYXJlT2JqZWN0SWQ6IHByb3BzLnNoYXJlT2JqZWN0SWQsXG4gICAgICAgIHNoYXJlT2JqZWN0VHlwZTogcHJvcHMuc2hhcmVPYmplY3RUeXBlLFxuICAgICAgICBnZW5lcmF0ZWRMaW5rOiBwcm9wcy51cmwsXG4gICAgICB9LFxuICAgIH0pXG4gIH0sXG4gIHNoYXJlV2F0Y2hsaXN0OiAocHJvcHM6IFNoYXJlV2F0Y2hsaXN0UHJvcHMpID0+IHtcbiAgICBhZGFwdGVycy5jdXN0b21lcklvLnRyYWNrKHtcbiAgICAgIG5hbWU6IFwic2hhcmVcIixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgY29udGVudFNoYXJlZDogXCJ3YXRjaGxpc3RcIixcbiAgICAgICAgc2hhcmVkUGVybWlzc2lvbjogcHJvcHMuc2hhcmVTdGF0dXMsXG4gICAgICAgIHNoYXJlZEJ5OiBwcm9wcy5zaGFyZWRCeSxcbiAgICAgIH0sXG4gICAgfSlcbiAgfSxcbn1cbiJdLCJuYW1lcyI6WyJzaGFyZUN1c3RvbWVySW8iLCJnZXRTaGFyZWRXaXRoIiwic2hhcmVkIiwic2hhcmVkV2l0aCIsInBlcm1pc3Npb24iLCJvcmdhbml6YXRpb25JZCIsImNvbXBhbnkiLCJpc1B1YmxpYyIsInB1c2giLCJ1c2VycyIsImZvckVhY2giLCJ1c2VyIiwidXNlcklkIiwibGlua0dlbmVyYXRlZCIsInByb3BzIiwiYWRhcHRlcnMiLCJjdXN0b21lcklvIiwidHJhY2siLCJuYW1lIiwiZGF0YSIsImFjdGlvbiIsInNoYXJlT2JqZWN0SWQiLCJzaGFyZU9iamVjdFR5cGUiLCJnZW5lcmF0ZWRMaW5rIiwidXJsIiwic2hhcmVXYXRjaGxpc3QiLCJjb250ZW50U2hhcmVkIiwic2hhcmVkUGVybWlzc2lvbiIsInNoYXJlU3RhdHVzIiwic2hhcmVkQnkiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBU2FBOzs7ZUFBQUE7OzswQkFUWTtBQVNsQixNQUFNQSxrQkFBa0I7SUFDN0JDLGVBQWUsQ0FBQ0M7UUFDZCxNQUFNQyxhQUE0QixFQUFFO1FBQ3BDLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxjQUFjLEVBQUUsR0FBR0gsT0FBT0ksT0FBTztRQUNyRCxJQUFJSixPQUFPSyxRQUFRLEVBQUVKLFdBQVdLLElBQUksQ0FBQztRQUNyQyxJQUFJSixlQUFlLGVBQWVDLGdCQUFnQkYsV0FBV0ssSUFBSSxDQUFDSDtRQUNsRUgsT0FBT08sS0FBSyxDQUFDQyxPQUFPLENBQUNDLENBQUFBLE9BQVFSLFdBQVdLLElBQUksQ0FBQ0csS0FBS0MsTUFBTTtRQUN4RCxPQUFPVDtJQUNUO0lBQ0FVLGVBQWUsQ0FBQ0M7UUFDZEMsa0JBQVEsQ0FBQ0MsVUFBVSxDQUFDQyxLQUFLLENBQUM7WUFDeEJDLE1BQU07WUFDTkMsTUFBTTtnQkFDSkMsUUFBUTtnQkFDUkMsZUFBZVAsTUFBTU8sYUFBYTtnQkFDbENDLGlCQUFpQlIsTUFBTVEsZUFBZTtnQkFDdENDLGVBQWVULE1BQU1VLEdBQUc7WUFDMUI7UUFDRjtJQUNGO0lBQ0FDLGdCQUFnQixDQUFDWDtRQUNmQyxrQkFBUSxDQUFDQyxVQUFVLENBQUNDLEtBQUssQ0FBQztZQUN4QkMsTUFBTTtZQUNOQyxNQUFNO2dCQUNKTyxlQUFlO2dCQUNmQyxrQkFBa0JiLE1BQU1jLFdBQVc7Z0JBQ25DQyxVQUFVZixNQUFNZSxRQUFRO1lBQzFCO1FBQ0Y7SUFDRjtBQUNGIn0=