{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/tanstack-api/file/src/utils/validateFields.ts"],"sourcesContent":["import { QueryClient } from \"@tanstack/react-query\"\nimport { UpdateFile } from \"../file.types\"\nimport { getMetadata } from \"../services/getMetadata\"\nimport { getExtension } from \"./getExtension\"\n\nconst validateFields = async (fileId: string, fields: UpdateFile, queryClient: QueryClient) => {\n  let verifiedFields: UpdateFile = fields\n  const file = await getMetadata(fileId, queryClient)\n  if (fields.file_name) {\n    const prevExtension = getExtension(file.name)\n    verifiedFields = {\n      ...verifiedFields,\n      file_name: `${fields.file_name}${prevExtension ? `.${prevExtension}` : \"\"}`,\n    }\n  }\n  return verifiedFields\n}\n\nexport { validateFields }\n"],"names":["validateFields","fileId","fields","queryClient","verifiedFields","file","getMetadata","file_name","prevExtension","getExtension","name"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAkBSA;;;eAAAA;;;6BAhBmB;8BACC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE7B,MAAMA,iBAAiB,OAAOC,QAAgBC,QAAoBC;IAChE,IAAIC,iBAA6BF;IACjC,MAAMG,OAAO,MAAMC,IAAAA,wBAAW,EAACL,QAAQE;IACvC,IAAID,OAAOK,SAAS,EAAE;QACpB,MAAMC,gBAAgBC,IAAAA,0BAAY,EAACJ,KAAKK,IAAI;QAC5CN,iBAAiB,wCACZA;YACHG,WAAW,CAAC,EAAEL,OAAOK,SAAS,CAAC,EAAEC,gBAAgB,CAAC,CAAC,EAAEA,cAAc,CAAC,GAAG,GAAG,CAAC;;IAE/E;IACA,OAAOJ;AACT"}