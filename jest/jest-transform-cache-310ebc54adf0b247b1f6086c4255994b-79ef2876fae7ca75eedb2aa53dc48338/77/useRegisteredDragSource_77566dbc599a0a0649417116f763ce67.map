{"version":3,"sources":["../../../src/hooks/useDrag/useRegisteredDragSource.ts"],"sourcesContent":["import type { SourceConnector } from '../../internals/index.js'\nimport { registerSource } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useDragSource } from './useDragSource.js'\nimport { useDragType } from './useDragType.js'\n\nexport function useRegisteredDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: SourceConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst handler = useDragSource(spec, monitor, connector)\n\tconst itemType = useDragType(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDragSource() {\n\t\t\tif (itemType != null) {\n\t\t\t\tconst [handlerId, unregister] = registerSource(\n\t\t\t\t\titemType,\n\t\t\t\t\thandler,\n\t\t\t\t\tmanager,\n\t\t\t\t)\n\t\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\t\treturn unregister\n\t\t\t}\n\t\t\treturn\n\t\t},\n\t\t[manager, monitor, connector, handler, itemType],\n\t)\n}\n"],"names":["useRegisteredDragSource","spec","monitor","connector","manager","useDragDropManager","handler","useDragSource","itemType","useDragType","useIsomorphicLayoutEffect","registerDragSource","handlerId","unregister","registerSource","receiveHandlerId"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BASgBA;;;eAAAA;;;uBARe;oCAGI;2CACO;+BACZ;6BACF;AAErB,SAASA,wBACfC,IAAiC,EACjCC,OAAgC,EAChCC,SAA0B;IAE1B,MAAMC,UAAUC,IAAAA,sCAAkB;IAClC,MAAMC,UAAUC,IAAAA,4BAAa,EAACN,MAAMC,SAASC;IAC7C,MAAMK,WAAWC,IAAAA,wBAAW,EAACR;IAE7BS,IAAAA,oDAAyB,EACxB,SAASC;QACR,IAAIH,YAAY,MAAM;YACrB,MAAM,CAACI,WAAWC,WAAW,GAAGC,IAAAA,qBAAc,EAC7CN,UACAF,SACAF;YAEDF,QAAQa,gBAAgB,CAACH;YACzBT,UAAUY,gBAAgB,CAACH;YAC3B,OAAOC;;QAER;OAED;QAACT;QAASF;QAASC;QAAWG;QAASE;KAAS"}