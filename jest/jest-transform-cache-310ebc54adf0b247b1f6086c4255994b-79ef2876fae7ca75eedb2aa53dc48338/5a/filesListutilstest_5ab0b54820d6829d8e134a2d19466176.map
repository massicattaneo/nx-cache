{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/components/Hub/Files/FilesList/filesList.utils.test.ts"],"sourcesContent":["import { ChangeEvent } from \"react\"\nimport { OrganizationMembershipResource, UserResource } from \"@clerk/types\"\nimport { FileRowType } from \"@rp/common/utils\"\nimport { getOwnerNameData, handleCheckboxChangeFunc } from \"./filesList.utils\"\n\nbeforeEach(jest.clearAllMocks)\n\ndescribe(\"fileList.utils\", () => {\n  describe(\"handleCheckboxChangeFunc\", () => {\n    const mockStopPropagation = jest.fn()\n    const ev = {\n      stopPropagation: mockStopPropagation,\n    } as unknown as ChangeEvent<HTMLInputElement>\n    const shared = true\n    const mockCompletedFiltered = [\n      { id: \"id-1\", data: \"data-1\" },\n      { id: \"id-2\", data: \"data-2\" },\n      { id: \"id-3\", data: \"data-3\" },\n    ] as unknown as Array<FileRowType>\n\n    const mockSetSelectedFiles = jest.fn()\n\n    describe(\"when val\", () => {\n      const val = true\n\n      beforeEach(() => {\n        handleCheckboxChangeFunc({\n          ev,\n          val,\n          setSelectedFiles: mockSetSelectedFiles,\n          completedFiltered: mockCompletedFiltered,\n          shared,\n        })\n      })\n\n      it(\"should call stopPropagation\", () => {\n        expect(mockStopPropagation).toHaveBeenCalledTimes(1)\n      })\n\n      it(\"should call setSelected with correct params\", () => {\n        expect(mockSetSelectedFiles).toHaveBeenCalledTimes(1)\n        expect(mockSetSelectedFiles).toHaveBeenCalledWith([\n          { id: \"id-1\", shared: true },\n          { id: \"id-2\", shared: true },\n          { id: \"id-3\", shared: true },\n        ])\n      })\n    })\n\n    describe(\"when !val\", () => {\n      const val = false\n\n      beforeEach(() => {\n        handleCheckboxChangeFunc({\n          ev,\n          val,\n          setSelectedFiles: mockSetSelectedFiles,\n          completedFiltered: mockCompletedFiltered,\n          shared,\n        })\n      })\n\n      it(\"should call stopPropagation\", () => {\n        expect(mockStopPropagation).toHaveBeenCalledTimes(1)\n      })\n\n      it(\"should call setSelected with empty params\", () => {\n        expect(mockSetSelectedFiles).toHaveBeenCalledTimes(1)\n        expect(mockSetSelectedFiles).toHaveBeenCalledWith([])\n      })\n    })\n  })\n\n  describe(\"getOwnerName\", () => {\n    const mockOrgUser = {\n      publicUserData: { firstName: \"Penelope\", lastName: \"Cruz\", userId: \"user-123\" },\n    } as OrganizationMembershipResource\n\n    const mockUserMatch = { id: \"user-123\" } as UserResource\n\n    const mockUserNoMatch = { id: \"user-no-match\" } as UserResource\n\n    describe(\"with no orgUser\", () => {\n      it(\"should return undefined data\", () => {\n        expect(getOwnerNameData(mockUserMatch, undefined)).toStrictEqual({\n          ownerDisplayName: undefined,\n          ownerName: undefined,\n        })\n      })\n    })\n\n    describe(\"with no user\", () => {\n      it(\"should return undefined data\", () => {\n        expect(getOwnerNameData(undefined, mockOrgUser)).toStrictEqual({\n          ownerDisplayName: undefined,\n          ownerName: undefined,\n        })\n      })\n    })\n\n    describe(\"with full data, is this user\", () => {\n      it(\"should return undefined data\", () => {\n        expect(getOwnerNameData(mockUserMatch, mockOrgUser)).toStrictEqual({\n          ownerDisplayName: \"You\",\n          ownerName: \"Penelope Cruz\",\n        })\n      })\n    })\n\n    describe(\"with full data, is not this user\", () => {\n      it(\"should return undefined data\", () => {\n        expect(getOwnerNameData(mockUserNoMatch, mockOrgUser)).toStrictEqual({\n          ownerDisplayName: \"Penelope Cruz\",\n          ownerName: \"Penelope Cruz\",\n        })\n      })\n    })\n  })\n})\n"],"names":["beforeEach","jest","clearAllMocks","describe","mockStopPropagation","fn","ev","stopPropagation","shared","mockCompletedFiltered","id","data","mockSetSelectedFiles","val","handleCheckboxChangeFunc","setSelectedFiles","completedFiltered","it","expect","toHaveBeenCalledTimes","toHaveBeenCalledWith","mockOrgUser","publicUserData","firstName","lastName","userId","mockUserMatch","mockUserNoMatch","getOwnerNameData","undefined","toStrictEqual","ownerDisplayName","ownerName"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;gCAG2D;AAE3DA,WAAWC,KAAKC,aAAa;AAE7BC,SAAS,kBAAkB;IACzBA,SAAS,4BAA4B;QACnC,MAAMC,sBAAsBH,KAAKI,EAAE;QACnC,MAAMC,KAAK;YACTC,iBAAiBH;QACnB;QACA,MAAMI,SAAS;QACf,MAAMC,wBAAwB;YAC5B;gBAAEC,IAAI;gBAAQC,MAAM;YAAS;YAC7B;gBAAED,IAAI;gBAAQC,MAAM;YAAS;YAC7B;gBAAED,IAAI;gBAAQC,MAAM;YAAS;SAC9B;QAED,MAAMC,uBAAuBX,KAAKI,EAAE;QAEpCF,SAAS,YAAY;YACnB,MAAMU,MAAM;YAEZb,WAAW;gBACTc,IAAAA,wCAAwB,EAAC;oBACvBR;oBACAO;oBACAE,kBAAkBH;oBAClBI,mBAAmBP;oBACnBD;gBACF;YACF;YAEAS,GAAG,+BAA+B;gBAChCC,OAAOd,qBAAqBe,qBAAqB,CAAC;YACpD;YAEAF,GAAG,+CAA+C;gBAChDC,OAAON,sBAAsBO,qBAAqB,CAAC;gBACnDD,OAAON,sBAAsBQ,oBAAoB,CAAC;oBAChD;wBAAEV,IAAI;wBAAQF,QAAQ;oBAAK;oBAC3B;wBAAEE,IAAI;wBAAQF,QAAQ;oBAAK;oBAC3B;wBAAEE,IAAI;wBAAQF,QAAQ;oBAAK;iBAC5B;YACH;QACF;QAEAL,SAAS,aAAa;YACpB,MAAMU,MAAM;YAEZb,WAAW;gBACTc,IAAAA,wCAAwB,EAAC;oBACvBR;oBACAO;oBACAE,kBAAkBH;oBAClBI,mBAAmBP;oBACnBD;gBACF;YACF;YAEAS,GAAG,+BAA+B;gBAChCC,OAAOd,qBAAqBe,qBAAqB,CAAC;YACpD;YAEAF,GAAG,6CAA6C;gBAC9CC,OAAON,sBAAsBO,qBAAqB,CAAC;gBACnDD,OAAON,sBAAsBQ,oBAAoB,CAAC,EAAE;YACtD;QACF;IACF;IAEAjB,SAAS,gBAAgB;QACvB,MAAMkB,cAAc;YAClBC,gBAAgB;gBAAEC,WAAW;gBAAYC,UAAU;gBAAQC,QAAQ;YAAW;QAChF;QAEA,MAAMC,gBAAgB;YAAEhB,IAAI;QAAW;QAEvC,MAAMiB,kBAAkB;YAAEjB,IAAI;QAAgB;QAE9CP,SAAS,mBAAmB;YAC1Bc,GAAG,gCAAgC;gBACjCC,OAAOU,IAAAA,gCAAgB,EAACF,eAAeG,YAAYC,aAAa,CAAC;oBAC/DC,kBAAkBF;oBAClBG,WAAWH;gBACb;YACF;QACF;QAEA1B,SAAS,gBAAgB;YACvBc,GAAG,gCAAgC;gBACjCC,OAAOU,IAAAA,gCAAgB,EAACC,WAAWR,cAAcS,aAAa,CAAC;oBAC7DC,kBAAkBF;oBAClBG,WAAWH;gBACb;YACF;QACF;QAEA1B,SAAS,gCAAgC;YACvCc,GAAG,gCAAgC;gBACjCC,OAAOU,IAAAA,gCAAgB,EAACF,eAAeL,cAAcS,aAAa,CAAC;oBACjEC,kBAAkB;oBAClBC,WAAW;gBACb;YACF;QACF;QAEA7B,SAAS,oCAAoC;YAC3Cc,GAAG,gCAAgC;gBACjCC,OAAOU,IAAAA,gCAAgB,EAACD,iBAAiBN,cAAcS,aAAa,CAAC;oBACnEC,kBAAkB;oBAClBC,WAAW;gBACb;YACF;QACF;IACF;AACF"}