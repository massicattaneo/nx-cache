{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistDataTabs/WatchlistDataTableCells/AnalystRatingsDistributionTooltip.tsx"],"sourcesContent":["import { Box, Stack, Typography } from \"@rp/react/web/mui/core\"\n\ntype AnalystRatingsData = {\n  strongBuy?: number | null\n  buy?: number | null\n  hold?: number | null\n  sell?: number | null\n  strongSell?: number | null\n  consensus?: string | null\n}\n\ntype Props = {\n  data: AnalystRatingsData\n}\n\nfunction AnalystRatingsDistributionTooltip({ data }: Props) {\n  const ratings = [\n    { label: \"Strong Buy\", value: data.strongBuy || 0, color: \"success.main\" },\n    { label: \"Buy\", value: data.buy || 0, color: \"success.main\" },\n    { label: \"Hold\", value: data.hold || 0, color: \"text.primary\" },\n    { label: \"Sell\", value: data.sell || 0, color: \"error.main\" },\n    { label: \"Strong Sell\", value: data.strongSell || 0, color: \"error.main\" },\n  ]\n\n  const totalAnalysts = ratings.reduce((sum, rating) => sum + rating.value, 0)\n\n  return (\n    <Box sx={{ p: 1, width: \"100%\", maxWidth: \"100%\", color: \"text.secondary\" }}>\n      <Typography sx={{ mb: 2, fontWeight: 600, fontSize: 16 }}>\n        Analyst Ratings Distribution\n      </Typography>\n      <Stack spacing={1}>\n        {ratings.map(rating => (\n          <Box\n            key={rating.label}\n            sx={{\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 1,\n            }}\n          >\n            <Typography\n              variant=\"body2\"\n              sx={{\n                fontWeight: 400,\n                minWidth: 70,\n                fontSize: 14,\n              }}\n            >\n              {rating.label}\n            </Typography>\n            <Box\n              sx={{\n                flex: 1,\n                height: 16,\n                backgroundColor: \"grey.500\",\n                borderRadius: 1,\n                overflow: \"hidden\",\n                position: \"relative\",\n              }}\n            >\n              <Box\n                sx={{\n                  height: \"100%\",\n                  backgroundColor: rating.color,\n                  width: totalAnalysts > 0 ? `${(rating.value / totalAnalysts) * 100}%` : \"0%\",\n                  borderRadius: 1,\n                }}\n              />\n            </Box>\n            <Typography\n              variant=\"body2\"\n              sx={{\n                minWidth: 16,\n                textAlign: \"right\",\n                fontSize: 14,\n              }}\n            >\n              {rating.value}\n            </Typography>\n          </Box>\n        ))}\n      </Stack>\n      <Typography\n        variant=\"caption\"\n        sx={{\n          mt: 2,\n          fontSize: 12,\n          lineHeight: 1.4,\n          display: \"block\",\n        }}\n      >\n        {`Click on the Consensus to understand why analysts support a ${data.consensus}.`}\n      </Typography>\n    </Box>\n  )\n}\n\nexport { AnalystRatingsDistributionTooltip }\n"],"names":["AnalystRatingsDistributionTooltip","data","ratings","label","value","strongBuy","color","buy","hold","sell","strongSell","totalAnalysts","reduce","sum","rating","Box","sx","p","width","maxWidth","Typography","mb","fontWeight","fontSize","Stack","spacing","map","display","alignItems","gap","variant","minWidth","flex","height","backgroundColor","borderRadius","overflow","position","textAlign","mt","lineHeight","consensus"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAkGSA;;;eAAAA;;;;sBAlG8B;AAevC,SAASA,kCAAkC,EAAEC,IAAI,EAAS;IACxD,MAAMC,UAAU;QACd;YAAEC,OAAO;YAAcC,OAAOH,KAAKI,SAAS,IAAI;YAAGC,OAAO;QAAe;QACzE;YAAEH,OAAO;YAAOC,OAAOH,KAAKM,GAAG,IAAI;YAAGD,OAAO;QAAe;QAC5D;YAAEH,OAAO;YAAQC,OAAOH,KAAKO,IAAI,IAAI;YAAGF,OAAO;QAAe;QAC9D;YAAEH,OAAO;YAAQC,OAAOH,KAAKQ,IAAI,IAAI;YAAGH,OAAO;QAAa;QAC5D;YAAEH,OAAO;YAAeC,OAAOH,KAAKS,UAAU,IAAI;YAAGJ,OAAO;QAAa;KAC1E;IAED,MAAMK,gBAAgBT,QAAQU,MAAM,CAAC,CAACC,KAAKC,SAAWD,MAAMC,OAAOV,KAAK,EAAE;IAE1E,qBACE,sBAACW,SAAG;QAACC,IAAI;YAAEC,GAAG;YAAGC,OAAO;YAAQC,UAAU;YAAQb,OAAO;QAAiB;;0BACxE,qBAACc,gBAAU;gBAACJ,IAAI;oBAAEK,IAAI;oBAAGC,YAAY;oBAAKC,UAAU;gBAAG;0BAAG;;0BAG1D,qBAACC,WAAK;gBAACC,SAAS;0BACbvB,QAAQwB,GAAG,CAACZ,CAAAA,uBACX,sBAACC,SAAG;wBAEFC,IAAI;4BACFW,SAAS;4BACTC,YAAY;4BACZC,KAAK;wBACP;;0CAEA,qBAACT,gBAAU;gCACTU,SAAQ;gCACRd,IAAI;oCACFM,YAAY;oCACZS,UAAU;oCACVR,UAAU;gCACZ;0CAECT,OAAOX,KAAK;;0CAEf,qBAACY,SAAG;gCACFC,IAAI;oCACFgB,MAAM;oCACNC,QAAQ;oCACRC,iBAAiB;oCACjBC,cAAc;oCACdC,UAAU;oCACVC,UAAU;gCACZ;0CAEA,cAAA,qBAACtB,SAAG;oCACFC,IAAI;wCACFiB,QAAQ;wCACRC,iBAAiBpB,OAAOR,KAAK;wCAC7BY,OAAOP,gBAAgB,IAAI,CAAC,EAAE,AAACG,OAAOV,KAAK,GAAGO,gBAAiB,IAAI,CAAC,CAAC,GAAG;wCACxEwB,cAAc;oCAChB;;;0CAGJ,qBAACf,gBAAU;gCACTU,SAAQ;gCACRd,IAAI;oCACFe,UAAU;oCACVO,WAAW;oCACXf,UAAU;gCACZ;0CAECT,OAAOV,KAAK;;;uBA5CVU,OAAOX,KAAK;;0BAiDvB,qBAACiB,gBAAU;gBACTU,SAAQ;gBACRd,IAAI;oBACFuB,IAAI;oBACJhB,UAAU;oBACViB,YAAY;oBACZb,SAAS;gBACX;0BAEC,CAAC,4DAA4D,EAAE1B,KAAKwC,SAAS,CAAC,CAAC,CAAC;;;;AAIzF"}