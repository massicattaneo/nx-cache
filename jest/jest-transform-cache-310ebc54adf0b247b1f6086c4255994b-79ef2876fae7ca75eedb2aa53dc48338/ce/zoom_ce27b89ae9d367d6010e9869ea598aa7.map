{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/swiper/modules/zoom/zoom.js"],"sourcesContent":["import { getWindow } from 'ssr-window';\nimport { elementChildren, elementOffset, elementParents, getTranslate } from '../../shared/utils.js';\nexport default function Zoom({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const evCache = [];\n  const gesture = {\n    originX: 0,\n    originY: 0,\n    slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    imageEl: undefined,\n    imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.imageEl;\n        const slideEl = gesture.slideEl;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n      scale = value;\n    }\n  });\n  function getDistanceBetweenTouches() {\n    if (evCache.length < 2) return 1;\n    const x1 = evCache[0].pageX;\n    const y1 = evCache[0].pageY;\n    const x2 = evCache[1].pageX;\n    const y2 = evCache[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  }\n  function getScaleOrigin() {\n    if (evCache.length < 2) return {\n      x: null,\n      y: null\n    };\n    const box = gesture.imageEl.getBoundingClientRect();\n    return [(evCache[0].pageX + (evCache[1].pageX - evCache[0].pageX) / 2 - box.x) / currentScale, (evCache[0].pageY + (evCache[1].pageY - evCache[0].pageY) / 2 - box.y) / currentScale];\n  }\n  function getSlideSelector() {\n    return swiper.isElement ? `swiper-slide` : `.${swiper.params.slideClass}`;\n  }\n  function eventWithinSlide(e) {\n    const slideSelector = getSlideSelector();\n    if (e.target.matches(slideSelector)) return true;\n    if (swiper.slides.filter(slideEl => slideEl.contains(e.target)).length > 0) return true;\n    return false;\n  }\n  function eventWithinZoomContainer(e) {\n    const selector = `.${swiper.params.zoom.containerClass}`;\n    if (e.target.matches(selector)) return true;\n    if ([...swiper.el.querySelectorAll(selector)].filter(containerEl => containerEl.contains(e.target)).length > 0) return true;\n    return false;\n  }\n\n  // Events\n  function onGestureStart(e) {\n    if (e.pointerType === 'mouse') {\n      evCache.splice(0, evCache.length);\n    }\n    if (!eventWithinSlide(e)) return;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n    evCache.push(e);\n    if (evCache.length < 2) {\n      return;\n    }\n    fakeGestureTouched = true;\n    gesture.scaleStart = getDistanceBetweenTouches();\n    if (!gesture.slideEl) {\n      gesture.slideEl = e.target.closest(`.${swiper.params.slideClass}, swiper-slide`);\n      if (!gesture.slideEl) gesture.slideEl = swiper.slides[swiper.activeIndex];\n      let imageEl = gesture.slideEl.querySelector(`.${params.containerClass}`);\n      if (imageEl) {\n        imageEl = imageEl.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0];\n      }\n      gesture.imageEl = imageEl;\n      if (imageEl) {\n        gesture.imageWrapEl = elementParents(gesture.imageEl, `.${params.containerClass}`)[0];\n      } else {\n        gesture.imageWrapEl = undefined;\n      }\n      if (!gesture.imageWrapEl) {\n        gesture.imageEl = undefined;\n        return;\n      }\n      gesture.maxRatio = gesture.imageWrapEl.getAttribute('data-swiper-zoom') || params.maxRatio;\n    }\n    if (gesture.imageEl) {\n      const [originX, originY] = getScaleOrigin();\n      gesture.originX = originX;\n      gesture.originY = originY;\n      gesture.imageEl.style.transitionDuration = '0ms';\n    }\n    isScaling = true;\n  }\n  function onGestureChange(e) {\n    if (!eventWithinSlide(e)) return;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const pointerIndex = evCache.findIndex(cachedEv => cachedEv.pointerId === e.pointerId);\n    if (pointerIndex >= 0) evCache[pointerIndex] = e;\n    if (evCache.length < 2) {\n      return;\n    }\n    fakeGestureMoved = true;\n    gesture.scaleMove = getDistanceBetweenTouches();\n    if (!gesture.imageEl) {\n      return;\n    }\n    zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n    gesture.imageEl.style.transform = `translate3d(0,0,0) scale(${zoom.scale})`;\n  }\n  function onGestureEnd(e) {\n    if (!eventWithinSlide(e)) return;\n    if (e.pointerType === 'mouse' && e.type === 'pointerout') return;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const pointerIndex = evCache.findIndex(cachedEv => cachedEv.pointerId === e.pointerId);\n    if (pointerIndex >= 0) evCache.splice(pointerIndex, 1);\n    if (!fakeGestureTouched || !fakeGestureMoved) {\n      return;\n    }\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n    if (!gesture.imageEl) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.imageEl.style.transitionDuration = `${swiper.params.speed}ms`;\n    gesture.imageEl.style.transform = `translate3d(0,0,0) scale(${zoom.scale})`;\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale > 1 && gesture.slideEl) {\n      gesture.slideEl.classList.add(`${params.zoomedSlideClass}`);\n    } else if (zoom.scale <= 1 && gesture.slideEl) {\n      gesture.slideEl.classList.remove(`${params.zoomedSlideClass}`);\n    }\n    if (zoom.scale === 1) {\n      gesture.originX = 0;\n      gesture.originY = 0;\n      gesture.slideEl = undefined;\n    }\n  }\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.imageEl) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    const event = evCache.length > 0 ? evCache[0] : e;\n    image.touchesStart.x = event.pageX;\n    image.touchesStart.y = event.pageY;\n  }\n  function onTouchMove(e) {\n    if (!eventWithinSlide(e) || !eventWithinZoomContainer(e)) return;\n    const zoom = swiper.zoom;\n    if (!gesture.imageEl) return;\n    if (!image.isTouched || !gesture.slideEl) return;\n    if (!image.isMoved) {\n      image.width = gesture.imageEl.offsetWidth;\n      image.height = gesture.imageEl.offsetHeight;\n      image.startX = getTranslate(gesture.imageWrapEl, 'x') || 0;\n      image.startY = getTranslate(gesture.imageWrapEl, 'y') || 0;\n      gesture.slideWidth = gesture.slideEl.offsetWidth;\n      gesture.slideHeight = gesture.slideEl.offsetHeight;\n      gesture.imageWrapEl.style.transitionDuration = '0ms';\n    }\n    // Define if we need image drag\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = evCache.length > 0 ? evCache[0].pageX : e.pageX;\n    image.touchesCurrent.y = evCache.length > 0 ? evCache[0].pageY : e.pageY;\n    const touchesDiff = Math.max(Math.abs(image.touchesCurrent.x - image.touchesStart.x), Math.abs(image.touchesCurrent.y - image.touchesStart.y));\n    if (touchesDiff > 5) {\n      swiper.allowClick = false;\n    }\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n    e.stopPropagation();\n    image.isMoved = true;\n    const scaleRatio = (zoom.scale - currentScale) / (gesture.maxRatio - swiper.params.zoom.minRatio);\n    const {\n      originX,\n      originY\n    } = gesture;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX + scaleRatio * (image.width - originX * 2);\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY + scaleRatio * (image.height - originY * 2);\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    }\n\n    // Velocity\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.imageWrapEl.style.transform = `translate3d(${image.currentX}px, ${image.currentY}px,0)`;\n  }\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.imageEl) return;\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY;\n\n    // Fix duration\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY;\n    // Define if we need image drag\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.imageWrapEl.style.transitionDuration = `${momentumDuration}ms`;\n    gesture.imageWrapEl.style.transform = `translate3d(${image.currentX}px, ${image.currentY}px,0)`;\n  }\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n    if (gesture.slideEl && swiper.activeIndex !== swiper.slides.indexOf(gesture.slideEl)) {\n      if (gesture.imageEl) {\n        gesture.imageEl.style.transform = 'translate3d(0,0,0) scale(1)';\n      }\n      if (gesture.imageWrapEl) {\n        gesture.imageWrapEl.style.transform = 'translate3d(0,0,0)';\n      }\n      gesture.slideEl.classList.remove(`${swiper.params.zoom.zoomedSlideClass}`);\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.slideEl = undefined;\n      gesture.imageEl = undefined;\n      gesture.imageWrapEl = undefined;\n      gesture.originX = 0;\n      gesture.originY = 0;\n    }\n  }\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n    if (!gesture.slideEl) {\n      if (e && e.target) {\n        gesture.slideEl = e.target.closest(`.${swiper.params.slideClass}, swiper-slide`);\n      }\n      if (!gesture.slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.slideEl = elementChildren(swiper.slidesEl, `.${swiper.params.slideActiveClass}`)[0];\n        } else {\n          gesture.slideEl = swiper.slides[swiper.activeIndex];\n        }\n      }\n      let imageEl = gesture.slideEl.querySelector(`.${params.containerClass}`);\n      if (imageEl) {\n        imageEl = imageEl.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0];\n      }\n      gesture.imageEl = imageEl;\n      if (imageEl) {\n        gesture.imageWrapEl = elementParents(gesture.imageEl, `.${params.containerClass}`)[0];\n      } else {\n        gesture.imageWrapEl = undefined;\n      }\n    }\n    if (!gesture.imageEl || !gesture.imageWrapEl) return;\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n    gesture.slideEl.classList.add(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.pageX;\n      touchY = e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n    const forceZoomRatio = typeof e === 'number' ? e : null;\n    if (currentScale === 1 && forceZoomRatio) {\n      touchX = undefined;\n      touchY = undefined;\n    }\n    zoom.scale = forceZoomRatio || gesture.imageWrapEl.getAttribute('data-swiper-zoom') || params.maxRatio;\n    currentScale = forceZoomRatio || gesture.imageWrapEl.getAttribute('data-swiper-zoom') || params.maxRatio;\n    if (e && !(currentScale === 1 && forceZoomRatio)) {\n      slideWidth = gesture.slideEl.offsetWidth;\n      slideHeight = gesture.slideEl.offsetHeight;\n      offsetX = elementOffset(gesture.slideEl).left + window.scrollX;\n      offsetY = elementOffset(gesture.slideEl).top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.imageEl.offsetWidth;\n      imageHeight = gesture.imageEl.offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n    if (forceZoomRatio && zoom.scale === 1) {\n      gesture.originX = 0;\n      gesture.originY = 0;\n    }\n    gesture.imageWrapEl.style.transitionDuration = '300ms';\n    gesture.imageWrapEl.style.transform = `translate3d(${translateX}px, ${translateY}px,0)`;\n    gesture.imageEl.style.transitionDuration = '300ms';\n    gesture.imageEl.style.transform = `translate3d(0,0,0) scale(${zoom.scale})`;\n  }\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n    if (!gesture.slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.slideEl = elementChildren(swiper.slidesEl, `.${swiper.params.slideActiveClass}`)[0];\n      } else {\n        gesture.slideEl = swiper.slides[swiper.activeIndex];\n      }\n      let imageEl = gesture.slideEl.querySelector(`.${params.containerClass}`);\n      if (imageEl) {\n        imageEl = imageEl.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0];\n      }\n      gesture.imageEl = imageEl;\n      if (imageEl) {\n        gesture.imageWrapEl = elementParents(gesture.imageEl, `.${params.containerClass}`)[0];\n      } else {\n        gesture.imageWrapEl = undefined;\n      }\n    }\n    if (!gesture.imageEl || !gesture.imageWrapEl) return;\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.imageWrapEl.style.transitionDuration = '300ms';\n    gesture.imageWrapEl.style.transform = 'translate3d(0,0,0)';\n    gesture.imageEl.style.transitionDuration = '300ms';\n    gesture.imageEl.style.transform = 'translate3d(0,0,0) scale(1)';\n    gesture.slideEl.classList.remove(`${params.zoomedSlideClass}`);\n    gesture.slideEl = undefined;\n    gesture.originX = 0;\n    gesture.originY = 0;\n  }\n\n  // Toggle Zoom\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n  function getListeners() {\n    const passiveListener = swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = swiper.params.passiveListeners ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  // Attach/Detach Events\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n\n    // Scale image\n    swiper.wrapperEl.addEventListener('pointerdown', onGestureStart, passiveListener);\n    swiper.wrapperEl.addEventListener('pointermove', onGestureChange, activeListenerWithCapture);\n    ['pointerup', 'pointercancel', 'pointerout'].forEach(eventName => {\n      swiper.wrapperEl.addEventListener(eventName, onGestureEnd, passiveListener);\n    });\n\n    // Move image\n    swiper.wrapperEl.addEventListener('pointermove', onTouchMove, activeListenerWithCapture);\n  }\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n\n    // Scale image\n    swiper.wrapperEl.removeEventListener('pointerdown', onGestureStart, passiveListener);\n    swiper.wrapperEl.removeEventListener('pointermove', onGestureChange, activeListenerWithCapture);\n    ['pointerup', 'pointercancel', 'pointerout'].forEach(eventName => {\n      swiper.wrapperEl.removeEventListener(eventName, onGestureEnd, passiveListener);\n    });\n\n    // Move image\n    swiper.wrapperEl.removeEventListener('pointermove', onTouchMove, activeListenerWithCapture);\n  }\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}"],"names":["Zoom","swiper","extendParams","on","emit","window","getWindow","zoom","enabled","maxRatio","minRatio","toggle","containerClass","zoomedSlideClass","currentScale","isScaling","fakeGestureTouched","fakeGestureMoved","evCache","gesture","originX","originY","slideEl","undefined","slideWidth","slideHeight","imageEl","imageWrapEl","image","isTouched","isMoved","currentX","currentY","minX","minY","maxX","maxY","width","height","startX","startY","touchesStart","touchesCurrent","velocity","x","y","prevPositionX","prevPositionY","prevTime","scale","Object","defineProperty","get","set","value","getDistanceBetweenTouches","length","x1","pageX","y1","pageY","x2","y2","distance","Math","sqrt","getScaleOrigin","box","getBoundingClientRect","getSlideSelector","isElement","params","slideClass","eventWithinSlide","e","slideSelector","target","matches","slides","filter","contains","eventWithinZoomContainer","selector","el","querySelectorAll","containerEl","onGestureStart","pointerType","splice","push","scaleStart","closest","activeIndex","querySelector","elementParents","getAttribute","style","transitionDuration","onGestureChange","pointerIndex","findIndex","cachedEv","pointerId","scaleMove","transform","onGestureEnd","type","max","min","speed","classList","add","remove","onTouchStart","device","android","cancelable","preventDefault","event","onTouchMove","offsetWidth","offsetHeight","getTranslate","scaledWidth","scaledHeight","touchesDiff","abs","allowClick","isHorizontal","floor","stopPropagation","scaleRatio","Date","now","onTouchEnd","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","indexOf","zoomIn","virtual","elementChildren","slidesEl","slideActiveClass","cssMode","wrapperEl","overflow","touchAction","touchX","touchY","offsetX","offsetY","diffX","diffY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","forceZoomRatio","elementOffset","left","scrollX","top","scrollY","zoomOut","zoomToggle","getListeners","passiveListener","passiveListeners","passive","capture","activeListenerWithCapture","enable","addEventListener","forEach","eventName","disable","removeEventListener","_s","animating","assign","in","out"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}