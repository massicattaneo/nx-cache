{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/tanstack-api/file/src/hooks/useQuota.ts"],"sourcesContent":["import { useMemo } from \"react\"\nimport { useUser } from \"@clerk/clerk-react\"\nimport { useQuery } from \"@tanstack/react-query\"\nimport { getQuota } from \"../services/getQuota\"\nimport { getQuotaData, getQuotaGetDisableUpload, getQuotaIsOverLimit } from \"../utils/quota.utils\"\n\nconst useQuota = () => {\n  const { user } = useUser()\n\n  const queryRes = useQuery({\n    queryKey: [\"files-quota\"],\n    queryFn: getQuota,\n    staleTime: 10000,\n    enabled: Boolean(user?.id),\n  })\n\n  const data = useMemo(() => getQuotaData(queryRes.data), [queryRes.data])\n  const isOverLimit = getQuotaIsOverLimit(data)\n  const disableUpload = getQuotaGetDisableUpload(queryRes, isOverLimit)\n\n  return { ...queryRes, data, isOverLimit, disableUpload }\n}\n\nexport { useQuota }\n"],"names":["useQuota","user","useUser","queryRes","useQuery","queryKey","queryFn","getQuota","staleTime","enabled","Boolean","id","data","useMemo","getQuotaData","isOverLimit","getQuotaIsOverLimit","disableUpload","getQuotaGetDisableUpload"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuBSA;;;eAAAA;;;uBAvBe;4BACA;4BACC;0BACA;4BACmD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE5E,MAAMA,WAAW;IACf,MAAM,EAAEC,IAAI,EAAE,GAAGC,IAAAA,mBAAO;IAExB,MAAMC,WAAWC,IAAAA,oBAAQ,EAAC;QACxBC,UAAU;YAAC;SAAc;QACzBC,SAASC,kBAAQ;QACjBC,WAAW;QACXC,SAASC,QAAQT,iBAAAA,2BAAAA,KAAMU,EAAE;IAC3B;IAEA,MAAMC,OAAOC,IAAAA,cAAO,EAAC,IAAMC,IAAAA,wBAAY,EAACX,SAASS,IAAI,GAAG;QAACT,SAASS,IAAI;KAAC;IACvE,MAAMG,cAAcC,IAAAA,+BAAmB,EAACJ;IACxC,MAAMK,gBAAgBC,IAAAA,oCAAwB,EAACf,UAAUY;IAEzD,OAAO,wCAAKZ;QAAUS;QAAMG;QAAaE;;AAC3C"}