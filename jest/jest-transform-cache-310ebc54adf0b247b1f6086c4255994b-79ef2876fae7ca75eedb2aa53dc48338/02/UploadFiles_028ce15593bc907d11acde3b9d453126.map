{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/files/src/lib/UploadFiles.tsx"],"sourcesContent":["import { forwardRef } from \"react\"\nimport { adapters } from \"@rp/adapters\"\nimport { UploadOptions, Uploadable } from \"@rp/common/utils\"\nimport { useUploadFilesContext } from \"@rp/react/common/providers\"\nimport { UploadInput, UploadInputRef } from \"@rp/react/web/common/base-components\"\n\ntype Props = {\n  multiple?: boolean\n  onFileId?: (src: string, id: string) => void\n  onSubmit?: (files: Array<Uploadable>) => void\n  location: UploadOptions[\"location\"]\n}\n\nexport const UploadFiles = forwardRef<UploadInputRef, Props>(\n  ({ multiple, onFileId, onSubmit, location }, ref) => {\n    const { addToUploadQueue } = useUploadFilesContext()\n    const submitFiles = async (files: Array<File>) => {\n      const list = addToUploadQueue(Array.from(files), {\n        onFileId,\n        location,\n      })\n      onSubmit?.(list)\n    }\n    return (\n      <UploadInput\n        accept={adapters.file.getTaExtension().join(\", \")}\n        ref={ref}\n        multiple={multiple}\n        onSubmit={submitFiles}\n      />\n    )\n  },\n)\n"],"names":["UploadFiles","forwardRef","multiple","onFileId","onSubmit","location","ref","addToUploadQueue","useUploadFilesContext","submitFiles","files","list","Array","from","UploadInput","accept","adapters","file","getTaExtension","join"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAaaA;;;eAAAA;;;;uBAbc;0BACF;2BAEa;gCACM;AASrC,MAAMA,4BAAcC,IAAAA,iBAAU,EACnC,CAAC,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE,EAAEC;IAC3C,MAAM,EAAEC,gBAAgB,EAAE,GAAGC,IAAAA,gCAAqB;IAClD,MAAMC,cAAc,OAAOC;QACzB,MAAMC,OAAOJ,iBAAiBK,MAAMC,IAAI,CAACH,QAAQ;YAC/CP;YACAE;QACF;QACAD,qBAAAA,+BAAAA,SAAWO;IACb;IACA,qBACE,qBAACG,2BAAW;QACVC,QAAQC,kBAAQ,CAACC,IAAI,CAACC,cAAc,GAAGC,IAAI,CAAC;QAC5Cb,KAAKA;QACLJ,UAAUA;QACVE,UAAUK;;AAGhB"}