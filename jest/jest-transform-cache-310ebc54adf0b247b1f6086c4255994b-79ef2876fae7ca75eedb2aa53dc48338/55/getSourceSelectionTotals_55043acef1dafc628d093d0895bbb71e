fb51ed5e392311f68722005c66b3999e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "getSourceSelectionTotals", {
    enumerable: true,
    get: function() {
        return getSourceSelectionTotals;
    }
});
function getSourceSelectionTotals({ selectedAllPackages, selectedSources }) {
    if (!selectedAllPackages.length && !selectedSources.length) {
        return {};
    }
    const sourceSelectionTotals = {};
    let allSourceSelectedCount = 0;
    // set all "select all" packages
    selectedAllPackages.forEach((contentPackage)=>{
        sourceSelectionTotals[contentPackage.id] = "All";
        allSourceSelectedCount += contentPackage.sourceCount;
    });
    // add selected sources not in selected packages
    selectedSources.forEach((contentSource)=>{
        let hasBeenAddedToAll = false;
        contentSource.packageIDs.forEach((packageID)=>{
            if (packageID === "all") return;
            const isSourceAlreadyCountedInSelectedPackage = sourceSelectionTotals[packageID] === "All";
            if (isSourceAlreadyCountedInSelectedPackage) return;
            var _sourceSelectionTotals_packageID;
            sourceSelectionTotals[packageID] = +((_sourceSelectionTotals_packageID = sourceSelectionTotals[packageID]) !== null && _sourceSelectionTotals_packageID !== void 0 ? _sourceSelectionTotals_packageID : 0) + 1;
            if (!hasBeenAddedToAll) {
                allSourceSelectedCount++;
                hasBeenAddedToAll = true;
            }
        });
    });
    // set "all" package count
    sourceSelectionTotals["all"] = allSourceSelectedCount;
    return sourceSelectionTotals;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvY29tbW9uL3NvdXJjZS1zZWxlY3Rvci9zcmMvdXRpbHMvZ2V0U291cmNlU2VsZWN0aW9uVG90YWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFNvdXJjZVNlbGVjdGlvblRvdGFscyxcbiAgU291cmNlU2VsZWN0b3JTZWxlY3RlZFBhY2thZ2VJbmZvLFxuICBTb3VyY2VTZWxlY3RvclNlbGVjdGVkU291cmNlSW5mbyxcbn0gZnJvbSBcIi4uL3NvdXJjZVNlbGVjdG9yLnR5cGVzXCJcblxuZnVuY3Rpb24gZ2V0U291cmNlU2VsZWN0aW9uVG90YWxzKHtcbiAgc2VsZWN0ZWRBbGxQYWNrYWdlcyxcbiAgc2VsZWN0ZWRTb3VyY2VzLFxufToge1xuICBzZWxlY3RlZEFsbFBhY2thZ2VzOiBBcnJheTxTb3VyY2VTZWxlY3RvclNlbGVjdGVkUGFja2FnZUluZm8+XG4gIHNlbGVjdGVkU291cmNlczogQXJyYXk8U291cmNlU2VsZWN0b3JTZWxlY3RlZFNvdXJjZUluZm8+XG59KTogU291cmNlU2VsZWN0aW9uVG90YWxzIHtcbiAgaWYgKCFzZWxlY3RlZEFsbFBhY2thZ2VzLmxlbmd0aCAmJiAhc2VsZWN0ZWRTb3VyY2VzLmxlbmd0aCkge1xuICAgIHJldHVybiB7fVxuICB9XG5cbiAgY29uc3Qgc291cmNlU2VsZWN0aW9uVG90YWxzOiBTb3VyY2VTZWxlY3Rpb25Ub3RhbHMgPSB7fVxuICBsZXQgYWxsU291cmNlU2VsZWN0ZWRDb3VudCA9IDBcblxuICAvLyBzZXQgYWxsIFwic2VsZWN0IGFsbFwiIHBhY2thZ2VzXG5cbiAgc2VsZWN0ZWRBbGxQYWNrYWdlcy5mb3JFYWNoKGNvbnRlbnRQYWNrYWdlID0+IHtcbiAgICBzb3VyY2VTZWxlY3Rpb25Ub3RhbHNbY29udGVudFBhY2thZ2UuaWRdID0gXCJBbGxcIlxuICAgIGFsbFNvdXJjZVNlbGVjdGVkQ291bnQgKz0gY29udGVudFBhY2thZ2Uuc291cmNlQ291bnRcbiAgfSlcblxuICAvLyBhZGQgc2VsZWN0ZWQgc291cmNlcyBub3QgaW4gc2VsZWN0ZWQgcGFja2FnZXNcblxuICBzZWxlY3RlZFNvdXJjZXMuZm9yRWFjaChjb250ZW50U291cmNlID0+IHtcbiAgICBsZXQgaGFzQmVlbkFkZGVkVG9BbGwgPSBmYWxzZVxuICAgIGNvbnRlbnRTb3VyY2UucGFja2FnZUlEcy5mb3JFYWNoKHBhY2thZ2VJRCA9PiB7XG4gICAgICBpZiAocGFja2FnZUlEID09PSBcImFsbFwiKSByZXR1cm5cblxuICAgICAgY29uc3QgaXNTb3VyY2VBbHJlYWR5Q291bnRlZEluU2VsZWN0ZWRQYWNrYWdlID0gc291cmNlU2VsZWN0aW9uVG90YWxzW3BhY2thZ2VJRF0gPT09IFwiQWxsXCJcblxuICAgICAgaWYgKGlzU291cmNlQWxyZWFkeUNvdW50ZWRJblNlbGVjdGVkUGFja2FnZSkgcmV0dXJuXG5cbiAgICAgIHNvdXJjZVNlbGVjdGlvblRvdGFsc1twYWNrYWdlSURdID0gKyhzb3VyY2VTZWxlY3Rpb25Ub3RhbHNbcGFja2FnZUlEXSA/PyAwKSArIDFcblxuICAgICAgaWYgKCFoYXNCZWVuQWRkZWRUb0FsbCkge1xuICAgICAgICBhbGxTb3VyY2VTZWxlY3RlZENvdW50KytcbiAgICAgICAgaGFzQmVlbkFkZGVkVG9BbGwgPSB0cnVlXG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICAvLyBzZXQgXCJhbGxcIiBwYWNrYWdlIGNvdW50XG5cbiAgc291cmNlU2VsZWN0aW9uVG90YWxzW1wiYWxsXCJdID0gYWxsU291cmNlU2VsZWN0ZWRDb3VudFxuXG4gIHJldHVybiBzb3VyY2VTZWxlY3Rpb25Ub3RhbHNcbn1cblxuZXhwb3J0IHsgZ2V0U291cmNlU2VsZWN0aW9uVG90YWxzIH1cbiJdLCJuYW1lcyI6WyJnZXRTb3VyY2VTZWxlY3Rpb25Ub3RhbHMiLCJzZWxlY3RlZEFsbFBhY2thZ2VzIiwic2VsZWN0ZWRTb3VyY2VzIiwibGVuZ3RoIiwic291cmNlU2VsZWN0aW9uVG90YWxzIiwiYWxsU291cmNlU2VsZWN0ZWRDb3VudCIsImZvckVhY2giLCJjb250ZW50UGFja2FnZSIsImlkIiwic291cmNlQ291bnQiLCJjb250ZW50U291cmNlIiwiaGFzQmVlbkFkZGVkVG9BbGwiLCJwYWNrYWdlSURzIiwicGFja2FnZUlEIiwiaXNTb3VyY2VBbHJlYWR5Q291bnRlZEluU2VsZWN0ZWRQYWNrYWdlIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkFzRFNBOzs7ZUFBQUE7OztBQWhEVCxTQUFTQSx5QkFBeUIsRUFDaENDLG1CQUFtQixFQUNuQkMsZUFBZSxFQUloQjtJQUNDLElBQUksQ0FBQ0Qsb0JBQW9CRSxNQUFNLElBQUksQ0FBQ0QsZ0JBQWdCQyxNQUFNLEVBQUU7UUFDMUQsT0FBTyxDQUFDO0lBQ1Y7SUFFQSxNQUFNQyx3QkFBK0MsQ0FBQztJQUN0RCxJQUFJQyx5QkFBeUI7SUFFN0IsZ0NBQWdDO0lBRWhDSixvQkFBb0JLLE9BQU8sQ0FBQ0MsQ0FBQUE7UUFDMUJILHFCQUFxQixDQUFDRyxlQUFlQyxFQUFFLENBQUMsR0FBRztRQUMzQ0gsMEJBQTBCRSxlQUFlRSxXQUFXO0lBQ3REO0lBRUEsZ0RBQWdEO0lBRWhEUCxnQkFBZ0JJLE9BQU8sQ0FBQ0ksQ0FBQUE7UUFDdEIsSUFBSUMsb0JBQW9CO1FBQ3hCRCxjQUFjRSxVQUFVLENBQUNOLE9BQU8sQ0FBQ08sQ0FBQUE7WUFDL0IsSUFBSUEsY0FBYyxPQUFPO1lBRXpCLE1BQU1DLDBDQUEwQ1YscUJBQXFCLENBQUNTLFVBQVUsS0FBSztZQUVyRixJQUFJQyx5Q0FBeUM7Z0JBRVJWO1lBQXJDQSxxQkFBcUIsQ0FBQ1MsVUFBVSxHQUFHLENBQUVULENBQUFBLENBQUFBLG1DQUFBQSxxQkFBcUIsQ0FBQ1MsVUFBVSxjQUFoQ1QsOENBQUFBLG1DQUFvQyxDQUFBLElBQUs7WUFFOUUsSUFBSSxDQUFDTyxtQkFBbUI7Z0JBQ3RCTjtnQkFDQU0sb0JBQW9CO1lBQ3RCO1FBQ0Y7SUFDRjtJQUVBLDBCQUEwQjtJQUUxQlAscUJBQXFCLENBQUMsTUFBTSxHQUFHQztJQUUvQixPQUFPRDtBQUNUIn0=