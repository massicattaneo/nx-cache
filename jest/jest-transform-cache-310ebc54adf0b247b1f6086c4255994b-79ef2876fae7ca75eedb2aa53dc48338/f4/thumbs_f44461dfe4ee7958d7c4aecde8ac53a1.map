{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/swiper/modules/thumbs/thumbs.js"],"sourcesContent":["import { getDocument } from 'ssr-window';\nimport { elementChildren, isObject } from '../../shared/utils.js';\nexport default function Thumb({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && clickedSlide.classList.contains(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt(thumbsSwiper.clickedSlide.getAttribute('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n    if (swiper.params.loop) {\n      swiper.slideToLoop(slideToIndex);\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  }\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper.update();\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n    swiper.thumbs.swiper.el.classList.add(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;\n\n    // Activate thumbs\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.forEach(slideEl => slideEl.classList.remove(thumbActiveClass));\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        elementChildren(thumbsSwiper.slidesEl, `[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).forEach(slideEl => {\n          slideEl.classList.add(thumbActiveClass);\n        });\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        if (thumbsSwiper.slides[swiper.realIndex + i]) {\n          thumbsSwiper.slides[swiper.realIndex + i].classList.add(thumbActiveClass);\n        }\n      }\n    }\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      const currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n      if (thumbsSwiper.params.loop) {\n        const newThumbsSlide = thumbsSwiper.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') === `${swiper.realIndex}`)[0];\n        newThumbsIndex = thumbsSwiper.slides.indexOf(newThumbsSlide);\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {\n          // newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    if (typeof thumbs.swiper === 'string' || thumbs.swiper instanceof HTMLElement) {\n      const document = getDocument();\n      const getThumbsElementAndInit = () => {\n        const thumbsElement = typeof thumbs.swiper === 'string' ? document.querySelector(thumbs.swiper) : thumbs.swiper;\n        if (thumbsElement && thumbsElement.swiper) {\n          thumbs.swiper = thumbsElement.swiper;\n          init();\n          update(true);\n        } else if (thumbsElement) {\n          const onThumbsSwiper = e => {\n            thumbs.swiper = e.detail[0];\n            thumbsElement.removeEventListener('init', onThumbsSwiper);\n            init();\n            update(true);\n            thumbs.swiper.update();\n            swiper.update();\n          };\n          thumbsElement.addEventListener('init', onThumbsSwiper);\n        }\n        return thumbsElement;\n      };\n      const watchForThumbsToAppear = () => {\n        if (swiper.destroyed) return;\n        const thumbsElement = getThumbsElementAndInit();\n        if (!thumbsElement) {\n          requestAnimationFrame(watchForThumbsToAppear);\n        }\n      };\n      requestAnimationFrame(watchForThumbsToAppear);\n    } else {\n      init();\n      update(true);\n    }\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}"],"names":["Thumb","swiper","extendParams","on","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","initialized","swiperCreated","onThumbClick","thumbsSwiper","destroyed","clickedIndex","clickedSlide","classList","contains","params","slideToIndex","loop","parseInt","getAttribute","slideToLoop","slideTo","init","thumbsParams","SwiperClass","constructor","Object","assign","originalParams","watchSlidesProgress","slideToClickedSlide","update","isObject","thumbsSwiperParams","el","add","initial","slidesPerView","slidesPerViewDynamic","thumbsToActivate","thumbActiveClass","centeredSlides","Math","floor","slides","forEach","slideEl","remove","virtual","enabled","i","elementChildren","slidesEl","realIndex","useOffset","currentThumbsIndex","activeIndex","newThumbsIndex","direction","newThumbsSlide","filter","indexOf","previousIndex","visibleSlidesIndexes","slidesPerGroup","undefined","HTMLElement","document","getDocument","getThumbsElementAndInit","thumbsElement","querySelector","onThumbsSwiper","e","detail","removeEventListener","addEventListener","watchForThumbsToAppear","requestAnimationFrame","_s","duration","setTransition","destroy"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAEA;;;eAAwBA;;;2BAFI;uBACc;AAC3B,SAASA,MAAM,EAC5BC,MAAM,EACNC,YAAY,EACZC,EAAE,EACH;IACCD,aAAa;QACXE,QAAQ;YACNH,QAAQ;YACRI,sBAAsB;YACtBC,kBAAkB;YAClBC,uBAAuB;YACvBC,sBAAsB;QACxB;IACF;IACA,IAAIC,cAAc;IAClB,IAAIC,gBAAgB;IACpBT,OAAOG,MAAM,GAAG;QACdH,QAAQ;IACV;IACA,SAASU;QACP,MAAMC,eAAeX,OAAOG,MAAM,CAACH,MAAM;QACzC,IAAI,CAACW,gBAAgBA,aAAaC,SAAS,EAAE;QAC7C,MAAMC,eAAeF,aAAaE,YAAY;QAC9C,MAAMC,eAAeH,aAAaG,YAAY;QAC9C,IAAIA,gBAAgBA,aAAaC,SAAS,CAACC,QAAQ,CAAChB,OAAOiB,MAAM,CAACd,MAAM,CAACG,qBAAqB,GAAG;QACjG,IAAI,OAAOO,iBAAiB,eAAeA,iBAAiB,MAAM;QAClE,IAAIK;QACJ,IAAIP,aAAaM,MAAM,CAACE,IAAI,EAAE;YAC5BD,eAAeE,SAAST,aAAaG,YAAY,CAACO,YAAY,CAAC,4BAA4B;QAC7F,OAAO;YACLH,eAAeL;QACjB;QACA,IAAIb,OAAOiB,MAAM,CAACE,IAAI,EAAE;YACtBnB,OAAOsB,WAAW,CAACJ;QACrB,OAAO;YACLlB,OAAOuB,OAAO,CAACL;QACjB;IACF;IACA,SAASM;QACP,MAAM,EACJrB,QAAQsB,YAAY,EACrB,GAAGzB,OAAOiB,MAAM;QACjB,IAAIT,aAAa,OAAO;QACxBA,cAAc;QACd,MAAMkB,cAAc1B,OAAO2B,WAAW;QACtC,IAAIF,aAAazB,MAAM,YAAY0B,aAAa;YAC9C1B,OAAOG,MAAM,CAACH,MAAM,GAAGyB,aAAazB,MAAM;YAC1C4B,OAAOC,MAAM,CAAC7B,OAAOG,MAAM,CAACH,MAAM,CAAC8B,cAAc,EAAE;gBACjDC,qBAAqB;gBACrBC,qBAAqB;YACvB;YACAJ,OAAOC,MAAM,CAAC7B,OAAOG,MAAM,CAACH,MAAM,CAACiB,MAAM,EAAE;gBACzCc,qBAAqB;gBACrBC,qBAAqB;YACvB;YACAhC,OAAOG,MAAM,CAACH,MAAM,CAACiC,MAAM;QAC7B,OAAO,IAAIC,IAAAA,eAAQ,EAACT,aAAazB,MAAM,GAAG;YACxC,MAAMmC,qBAAqBP,OAAOC,MAAM,CAAC,CAAC,GAAGJ,aAAazB,MAAM;YAChE4B,OAAOC,MAAM,CAACM,oBAAoB;gBAChCJ,qBAAqB;gBACrBC,qBAAqB;YACvB;YACAhC,OAAOG,MAAM,CAACH,MAAM,GAAG,IAAI0B,YAAYS;YACvC1B,gBAAgB;QAClB;QACAT,OAAOG,MAAM,CAACH,MAAM,CAACoC,EAAE,CAACrB,SAAS,CAACsB,GAAG,CAACrC,OAAOiB,MAAM,CAACd,MAAM,CAACI,oBAAoB;QAC/EP,OAAOG,MAAM,CAACH,MAAM,CAACE,EAAE,CAAC,OAAOQ;QAC/B,OAAO;IACT;IACA,SAASuB,OAAOK,OAAO;QACrB,MAAM3B,eAAeX,OAAOG,MAAM,CAACH,MAAM;QACzC,IAAI,CAACW,gBAAgBA,aAAaC,SAAS,EAAE;QAC7C,MAAM2B,gBAAgB5B,aAAaM,MAAM,CAACsB,aAAa,KAAK,SAAS5B,aAAa6B,oBAAoB,KAAK7B,aAAaM,MAAM,CAACsB,aAAa;QAE5I,kBAAkB;QAClB,IAAIE,mBAAmB;QACvB,MAAMC,mBAAmB1C,OAAOiB,MAAM,CAACd,MAAM,CAACG,qBAAqB;QACnE,IAAIN,OAAOiB,MAAM,CAACsB,aAAa,GAAG,KAAK,CAACvC,OAAOiB,MAAM,CAAC0B,cAAc,EAAE;YACpEF,mBAAmBzC,OAAOiB,MAAM,CAACsB,aAAa;QAChD;QACA,IAAI,CAACvC,OAAOiB,MAAM,CAACd,MAAM,CAACC,oBAAoB,EAAE;YAC9CqC,mBAAmB;QACrB;QACAA,mBAAmBG,KAAKC,KAAK,CAACJ;QAC9B9B,aAAamC,MAAM,CAACC,OAAO,CAACC,CAAAA,UAAWA,QAAQjC,SAAS,CAACkC,MAAM,CAACP;QAChE,IAAI/B,aAAaM,MAAM,CAACE,IAAI,IAAIR,aAAaM,MAAM,CAACiC,OAAO,IAAIvC,aAAaM,MAAM,CAACiC,OAAO,CAACC,OAAO,EAAE;YAClG,IAAK,IAAIC,IAAI,GAAGA,IAAIX,kBAAkBW,KAAK,EAAG;gBAC5CC,IAAAA,sBAAe,EAAC1C,aAAa2C,QAAQ,EAAE,CAAC,0BAA0B,EAAEtD,OAAOuD,SAAS,GAAGH,EAAE,EAAE,CAAC,EAAEL,OAAO,CAACC,CAAAA;oBACpGA,QAAQjC,SAAS,CAACsB,GAAG,CAACK;gBACxB;YACF;QACF,OAAO;YACL,IAAK,IAAIU,IAAI,GAAGA,IAAIX,kBAAkBW,KAAK,EAAG;gBAC5C,IAAIzC,aAAamC,MAAM,CAAC9C,OAAOuD,SAAS,GAAGH,EAAE,EAAE;oBAC7CzC,aAAamC,MAAM,CAAC9C,OAAOuD,SAAS,GAAGH,EAAE,CAACrC,SAAS,CAACsB,GAAG,CAACK;gBAC1D;YACF;QACF;QACA,MAAMrC,mBAAmBL,OAAOiB,MAAM,CAACd,MAAM,CAACE,gBAAgB;QAC9D,MAAMmD,YAAYnD,oBAAoB,CAACM,aAAaM,MAAM,CAACE,IAAI;QAC/D,IAAInB,OAAOuD,SAAS,KAAK5C,aAAa4C,SAAS,IAAIC,WAAW;YAC5D,MAAMC,qBAAqB9C,aAAa+C,WAAW;YACnD,IAAIC;YACJ,IAAIC;YACJ,IAAIjD,aAAaM,MAAM,CAACE,IAAI,EAAE;gBAC5B,MAAM0C,iBAAiBlD,aAAamC,MAAM,CAACgB,MAAM,CAACd,CAAAA,UAAWA,QAAQ3B,YAAY,CAAC,+BAA+B,CAAC,EAAErB,OAAOuD,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE;gBAC1II,iBAAiBhD,aAAamC,MAAM,CAACiB,OAAO,CAACF;gBAC7CD,YAAY5D,OAAO0D,WAAW,GAAG1D,OAAOgE,aAAa,GAAG,SAAS;YACnE,OAAO;gBACLL,iBAAiB3D,OAAOuD,SAAS;gBACjCK,YAAYD,iBAAiB3D,OAAOgE,aAAa,GAAG,SAAS;YAC/D;YACA,IAAIR,WAAW;gBACbG,kBAAkBC,cAAc,SAASvD,mBAAmB,CAAC,IAAIA;YACnE;YACA,IAAIM,aAAasD,oBAAoB,IAAItD,aAAasD,oBAAoB,CAACF,OAAO,CAACJ,kBAAkB,GAAG;gBACtG,IAAIhD,aAAaM,MAAM,CAAC0B,cAAc,EAAE;oBACtC,IAAIgB,iBAAiBF,oBAAoB;wBACvCE,iBAAiBA,iBAAiBf,KAAKC,KAAK,CAACN,gBAAgB,KAAK;oBACpE,OAAO;wBACLoB,iBAAiBA,iBAAiBf,KAAKC,KAAK,CAACN,gBAAgB,KAAK;oBACpE;gBACF,OAAO,IAAIoB,iBAAiBF,sBAAsB9C,aAAaM,MAAM,CAACiD,cAAc,KAAK,GAAG;gBAC1F,uDAAuD;gBACzD;gBACAvD,aAAaY,OAAO,CAACoC,gBAAgBrB,UAAU,IAAI6B;YACrD;QACF;IACF;IACAjE,GAAG,cAAc;QACf,MAAM,EACJC,MAAM,EACP,GAAGH,OAAOiB,MAAM;QACjB,IAAI,CAACd,UAAU,CAACA,OAAOH,MAAM,EAAE;QAC/B,IAAI,OAAOG,OAAOH,MAAM,KAAK,YAAYG,OAAOH,MAAM,YAAYoE,aAAa;YAC7E,MAAMC,WAAWC,IAAAA,sBAAW;YAC5B,MAAMC,0BAA0B;gBAC9B,MAAMC,gBAAgB,OAAOrE,OAAOH,MAAM,KAAK,WAAWqE,SAASI,aAAa,CAACtE,OAAOH,MAAM,IAAIG,OAAOH,MAAM;gBAC/G,IAAIwE,iBAAiBA,cAAcxE,MAAM,EAAE;oBACzCG,OAAOH,MAAM,GAAGwE,cAAcxE,MAAM;oBACpCwB;oBACAS,OAAO;gBACT,OAAO,IAAIuC,eAAe;oBACxB,MAAME,iBAAiBC,CAAAA;wBACrBxE,OAAOH,MAAM,GAAG2E,EAAEC,MAAM,CAAC,EAAE;wBAC3BJ,cAAcK,mBAAmB,CAAC,QAAQH;wBAC1ClD;wBACAS,OAAO;wBACP9B,OAAOH,MAAM,CAACiC,MAAM;wBACpBjC,OAAOiC,MAAM;oBACf;oBACAuC,cAAcM,gBAAgB,CAAC,QAAQJ;gBACzC;gBACA,OAAOF;YACT;YACA,MAAMO,yBAAyB;gBAC7B,IAAI/E,OAAOY,SAAS,EAAE;gBACtB,MAAM4D,gBAAgBD;gBACtB,IAAI,CAACC,eAAe;oBAClBQ,sBAAsBD;gBACxB;YACF;YACAC,sBAAsBD;QACxB,OAAO;YACLvD;YACAS,OAAO;QACT;IACF;IACA/B,GAAG,4CAA4C;QAC7C+B;IACF;IACA/B,GAAG,iBAAiB,CAAC+E,IAAIC;QACvB,MAAMvE,eAAeX,OAAOG,MAAM,CAACH,MAAM;QACzC,IAAI,CAACW,gBAAgBA,aAAaC,SAAS,EAAE;QAC7CD,aAAawE,aAAa,CAACD;IAC7B;IACAhF,GAAG,iBAAiB;QAClB,MAAMS,eAAeX,OAAOG,MAAM,CAACH,MAAM;QACzC,IAAI,CAACW,gBAAgBA,aAAaC,SAAS,EAAE;QAC7C,IAAIH,eAAe;YACjBE,aAAayE,OAAO;QACtB;IACF;IACAxD,OAAOC,MAAM,CAAC7B,OAAOG,MAAM,EAAE;QAC3BqB;QACAS;IACF;AACF"}