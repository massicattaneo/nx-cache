543383767e3688736174e460caecf6d4
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    scrollToStoryTop: function() {
        return scrollToStoryTop;
    },
    scrollToStoryTopAfterTransition: function() {
        return scrollToStoryTopAfterTransition;
    },
    storyId: function() {
        return storyId;
    },
    transitionId: function() {
        return transitionId;
    }
});
const transitionId = (id)=>`transition-${id}`;
const storyId = (id)=>`story-${id}`;
const scrollToStoryTop = (prev, id)=>{
    var _document_getElementById;
    if (!id) return undefined;
    if (id === prev) return;
    const { top } = ((_document_getElementById = document.getElementById(storyId(id))) === null || _document_getElementById === void 0 ? void 0 : _document_getElementById.getBoundingClientRect()) || {
        top: 0
    };
    window.scroll({
        top: top + window.scrollY - 120,
        behavior: "smooth"
    });
};
const scrollToStoryTopAfterTransition = (prev, id)=>{
    if (!id) return undefined;
    if (id === prev) return;
    const el = document.getElementById(transitionId(prev !== null && prev !== void 0 ? prev : id));
    const cb = ()=>{
        el === null || el === void 0 ? void 0 : el.removeEventListener("transitionend", cb);
        scrollToStoryTop(prev, id);
    };
    if (el && window.getComputedStyle(el).height !== "0px") {
        el.addEventListener("transitionend", cb);
    } else {
        scrollToStoryTop(prev, id);
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NvbW1vbi9yZXN1bHRzLXN0b3J5LWNhcmQvc3JjL3Njcm9sbFRvU3RvcnlUb3AudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRyYW5zaXRpb25JZCA9IChpZDogc3RyaW5nKSA9PiBgdHJhbnNpdGlvbi0ke2lkfWBcbmNvbnN0IHN0b3J5SWQgPSAoaWQ6IHN0cmluZykgPT4gYHN0b3J5LSR7aWR9YFxuXG5jb25zdCBzY3JvbGxUb1N0b3J5VG9wID0gKHByZXY6IHN0cmluZyB8IHVuZGVmaW5lZCwgaWQ6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4ge1xuICBpZiAoIWlkKSByZXR1cm4gdW5kZWZpbmVkXG4gIGlmIChpZCA9PT0gcHJldikgcmV0dXJuXG4gIGNvbnN0IHsgdG9wIH0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdG9yeUlkKGlkKSk/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHx8IHtcbiAgICB0b3A6IDAsXG4gIH1cbiAgd2luZG93LnNjcm9sbCh7IHRvcDogdG9wICsgd2luZG93LnNjcm9sbFkgLSAxMjAsIGJlaGF2aW9yOiBcInNtb290aFwiIH0pXG59XG5cbmNvbnN0IHNjcm9sbFRvU3RvcnlUb3BBZnRlclRyYW5zaXRpb24gPSAocHJldjogc3RyaW5nIHwgdW5kZWZpbmVkLCBpZDogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XG4gIGlmICghaWQpIHJldHVybiB1bmRlZmluZWRcbiAgaWYgKGlkID09PSBwcmV2KSByZXR1cm5cbiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmFuc2l0aW9uSWQocHJldiA/PyBpZCkpXG4gIGNvbnN0IGNiID0gKCkgPT4ge1xuICAgIGVsPy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBjYilcbiAgICBzY3JvbGxUb1N0b3J5VG9wKHByZXYsIGlkKVxuICB9XG5cbiAgaWYgKGVsICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5oZWlnaHQgIT09IFwiMHB4XCIpIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBjYilcbiAgfSBlbHNlIHtcbiAgICBzY3JvbGxUb1N0b3J5VG9wKHByZXYsIGlkKVxuICB9XG59XG5cbmV4cG9ydCB7IHNjcm9sbFRvU3RvcnlUb3BBZnRlclRyYW5zaXRpb24sIHN0b3J5SWQsIHRyYW5zaXRpb25JZCwgc2Nyb2xsVG9TdG9yeVRvcCB9XG4iXSwibmFtZXMiOlsic2Nyb2xsVG9TdG9yeVRvcCIsInNjcm9sbFRvU3RvcnlUb3BBZnRlclRyYW5zaXRpb24iLCJzdG9yeUlkIiwidHJhbnNpdGlvbklkIiwiaWQiLCJwcmV2IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJ0b3AiLCJnZXRFbGVtZW50QnlJZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpbmRvdyIsInNjcm9sbCIsInNjcm9sbFkiLCJiZWhhdmlvciIsImVsIiwiY2IiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImhlaWdodCIsImFkZEV2ZW50TGlzdGVuZXIiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQTRCaUVBLGdCQUFnQjtlQUFoQkE7O0lBQXhEQywrQkFBK0I7ZUFBL0JBOztJQUFpQ0MsT0FBTztlQUFQQTs7SUFBU0MsWUFBWTtlQUFaQTs7O0FBNUJuRCxNQUFNQSxlQUFlLENBQUNDLEtBQWUsQ0FBQyxXQUFXLEVBQUVBLEdBQUcsQ0FBQztBQUN2RCxNQUFNRixVQUFVLENBQUNFLEtBQWUsQ0FBQyxNQUFNLEVBQUVBLEdBQUcsQ0FBQztBQUU3QyxNQUFNSixtQkFBbUIsQ0FBQ0ssTUFBMEJEO1FBR2xDRTtJQUZoQixJQUFJLENBQUNGLElBQUksT0FBT0c7SUFDaEIsSUFBSUgsT0FBT0MsTUFBTTtJQUNqQixNQUFNLEVBQUVHLEdBQUcsRUFBRSxHQUFHRixFQUFBQSwyQkFBQUEsU0FBU0csY0FBYyxDQUFDUCxRQUFRRSxrQkFBaENFLCtDQUFBQSx5QkFBc0NJLHFCQUFxQixPQUFNO1FBQy9FRixLQUFLO0lBQ1A7SUFDQUcsT0FBT0MsTUFBTSxDQUFDO1FBQUVKLEtBQUtBLE1BQU1HLE9BQU9FLE9BQU8sR0FBRztRQUFLQyxVQUFVO0lBQVM7QUFDdEU7QUFFQSxNQUFNYixrQ0FBa0MsQ0FBQ0ksTUFBMEJEO0lBQ2pFLElBQUksQ0FBQ0EsSUFBSSxPQUFPRztJQUNoQixJQUFJSCxPQUFPQyxNQUFNO0lBQ2pCLE1BQU1VLEtBQUtULFNBQVNHLGNBQWMsQ0FBQ04sYUFBYUUsaUJBQUFBLGtCQUFBQSxPQUFRRDtJQUN4RCxNQUFNWSxLQUFLO1FBQ1RELGVBQUFBLHlCQUFBQSxHQUFJRSxtQkFBbUIsQ0FBQyxpQkFBaUJEO1FBQ3pDaEIsaUJBQWlCSyxNQUFNRDtJQUN6QjtJQUVBLElBQUlXLE1BQU1KLE9BQU9PLGdCQUFnQixDQUFDSCxJQUFJSSxNQUFNLEtBQUssT0FBTztRQUN0REosR0FBR0ssZ0JBQWdCLENBQUMsaUJBQWlCSjtJQUN2QyxPQUFPO1FBQ0xoQixpQkFBaUJLLE1BQU1EO0lBQ3pCO0FBQ0YifQ==