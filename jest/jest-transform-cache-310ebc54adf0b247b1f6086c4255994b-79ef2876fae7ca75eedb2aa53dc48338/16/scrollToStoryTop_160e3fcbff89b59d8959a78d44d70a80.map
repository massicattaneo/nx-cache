{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/results-story-card/src/scrollToStoryTop.tsx"],"sourcesContent":["const transitionId = (id: string) => `transition-${id}`\nconst storyId = (id: string) => `story-${id}`\n\nconst scrollToStoryTop = (prev: string | undefined, id: string | undefined) => {\n  if (!id) return undefined\n  if (id === prev) return\n  const { top } = document.getElementById(storyId(id))?.getBoundingClientRect() || {\n    top: 0,\n  }\n  window.scroll({ top: top + window.scrollY - 120, behavior: \"smooth\" })\n}\n\nconst scrollToStoryTopAfterTransition = (prev: string | undefined, id: string | undefined) => {\n  if (!id) return undefined\n  if (id === prev) return\n  const el = document.getElementById(transitionId(prev ?? id))\n  const cb = () => {\n    el?.removeEventListener(\"transitionend\", cb)\n    scrollToStoryTop(prev, id)\n  }\n\n  if (el && window.getComputedStyle(el).height !== \"0px\") {\n    el.addEventListener(\"transitionend\", cb)\n  } else {\n    scrollToStoryTop(prev, id)\n  }\n}\n\nexport { scrollToStoryTopAfterTransition, storyId, transitionId, scrollToStoryTop }\n"],"names":["scrollToStoryTop","scrollToStoryTopAfterTransition","storyId","transitionId","id","prev","document","undefined","top","getElementById","getBoundingClientRect","window","scroll","scrollY","behavior","el","cb","removeEventListener","getComputedStyle","height","addEventListener"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IA4BiEA,gBAAgB;eAAhBA;;IAAxDC,+BAA+B;eAA/BA;;IAAiCC,OAAO;eAAPA;;IAASC,YAAY;eAAZA;;;AA5BnD,MAAMA,eAAe,CAACC,KAAe,CAAC,WAAW,EAAEA,GAAG,CAAC;AACvD,MAAMF,UAAU,CAACE,KAAe,CAAC,MAAM,EAAEA,GAAG,CAAC;AAE7C,MAAMJ,mBAAmB,CAACK,MAA0BD;QAGlCE;IAFhB,IAAI,CAACF,IAAI,OAAOG;IAChB,IAAIH,OAAOC,MAAM;IACjB,MAAM,EAAEG,GAAG,EAAE,GAAGF,EAAAA,2BAAAA,SAASG,cAAc,CAACP,QAAQE,kBAAhCE,+CAAAA,yBAAsCI,qBAAqB,OAAM;QAC/EF,KAAK;IACP;IACAG,OAAOC,MAAM,CAAC;QAAEJ,KAAKA,MAAMG,OAAOE,OAAO,GAAG;QAAKC,UAAU;IAAS;AACtE;AAEA,MAAMb,kCAAkC,CAACI,MAA0BD;IACjE,IAAI,CAACA,IAAI,OAAOG;IAChB,IAAIH,OAAOC,MAAM;IACjB,MAAMU,KAAKT,SAASG,cAAc,CAACN,aAAaE,iBAAAA,kBAAAA,OAAQD;IACxD,MAAMY,KAAK;QACTD,eAAAA,yBAAAA,GAAIE,mBAAmB,CAAC,iBAAiBD;QACzChB,iBAAiBK,MAAMD;IACzB;IAEA,IAAIW,MAAMJ,OAAOO,gBAAgB,CAACH,IAAII,MAAM,KAAK,OAAO;QACtDJ,GAAGK,gBAAgB,CAAC,iBAAiBJ;IACvC,OAAO;QACLhB,iBAAiBK,MAAMD;IACzB;AACF"}