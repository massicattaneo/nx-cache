{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/chat/src/lib/Chat/ChatInput/ChatInputFilters/ChatFiles/CompletedFilesChip.tsx"],"sourcesContent":["import { isFileStatusError } from \"@rp/common/utils\"\nimport { FileRowType } from \"@rp/common/utils\"\nimport { EllipsisTooltip } from \"@rp/react/web/common/composite-components\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { FileIcon } from \"@rp/react/web/icons\"\nimport { Box, CircularProgress, Typography } from \"@rp/react/web/mui/core\"\nimport { WarningOutlined } from \"@rp/react/web/mui/icons\"\nimport { ChatFilterChip } from \"../ChatFilterChip\"\n\ntype Props = {\n  files: Array<FileRowType>\n  loadingFiles: Array<FileRowType>\n  onRemove: (files: Array<string>) => void\n  openFilesModal: () => void\n}\n\nconst CompletedFilesChip = ({ files, loadingFiles, onRemove, openFilesModal }: Props) => {\n  const { isMobile } = useDeviceInfo()\n\n  return (\n    <ChatFilterChip\n      label={files.length + loadingFiles.length > 1 ? \"Files:\" : \"File:\"}\n      onClose={() => {\n        onRemove(files.concat(loadingFiles).map(file => file.id))\n      }}\n      onClick={openFilesModal}\n    >\n      {files.map((file, index) => (\n        <Box\n          key={file.id}\n          sx={{ display: \"flex\", gap: 1, maxWidth: isMobile ? \"calc(100vw - 175px)\" : undefined }}\n        >\n          {isFileStatusError(file.status) || file.error ? (\n            <WarningOutlined color=\"error\" />\n          ) : (\n            <FileIcon extension={file.type} />\n          )}\n          <EllipsisTooltip\n            tooltipText={file.name}\n            key={file.id}\n            tooltipProps={{\n              PopperProps: { placement: \"top\" },\n            }}\n            typographyProps={{\n              sx: {\n                maxWidth: 300,\n              },\n            }}\n          >\n            {file.name}\n          </EllipsisTooltip>\n          {index !== files.length - 1 ? (\n            <Typography sx={{ color: \"grey.A100\" }}>|</Typography>\n          ) : null}\n        </Box>\n      ))}\n      {loadingFiles.map((file, index) => (\n        <Box sx={{ display: \"flex\", alignItems: \"center\" }} key={file.id}>\n          {index !== 0 || files.length !== 0 ? (\n            <Typography sx={{ color: \"grey.A100\", mr: 0.25 }}>|</Typography>\n          ) : null}\n          <CircularProgress sx={{ mr: 1 }} size={18} />\n          <EllipsisTooltip\n            tooltipText={file.name}\n            key={file.id}\n            tooltipProps={{\n              PopperProps: { placement: \"top\" },\n            }}\n            typographyProps={{\n              sx: {\n                color: \"grey.300\",\n                maxWidth: 300,\n              },\n            }}\n          >\n            {file.name}\n          </EllipsisTooltip>\n        </Box>\n      ))}\n    </ChatFilterChip>\n  )\n}\nexport { CompletedFilesChip }\n"],"names":["CompletedFilesChip","files","loadingFiles","onRemove","openFilesModal","isMobile","useDeviceInfo","ChatFilterChip","label","length","onClose","concat","map","file","id","onClick","index","Box","sx","display","gap","maxWidth","undefined","isFileStatusError","status","error","WarningOutlined","color","FileIcon","extension","type","EllipsisTooltip","tooltipText","name","tooltipProps","PopperProps","placement","typographyProps","Typography","alignItems","mr","CircularProgress","size"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAkFSA;;;eAAAA;;;;uBAlFyB;qCAEF;uBACF;uBACL;sBACyB;wBAClB;gCACD;AAS/B,MAAMA,qBAAqB,CAAC,EAAEC,KAAK,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,cAAc,EAAS;IAClF,MAAM,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAElC,qBACE,sBAACC,8BAAc;QACbC,OAAOP,MAAMQ,MAAM,GAAGP,aAAaO,MAAM,GAAG,IAAI,WAAW;QAC3DC,SAAS;YACPP,SAASF,MAAMU,MAAM,CAACT,cAAcU,GAAG,CAACC,CAAAA,OAAQA,KAAKC,EAAE;QACzD;QACAC,SAASX;;YAERH,MAAMW,GAAG,CAAC,CAACC,MAAMG,sBAChB,sBAACC,SAAG;oBAEFC,IAAI;wBAAEC,SAAS;wBAAQC,KAAK;wBAAGC,UAAUhB,WAAW,wBAAwBiB;oBAAU;;wBAErFC,IAAAA,wBAAiB,EAACV,KAAKW,MAAM,KAAKX,KAAKY,KAAK,iBAC3C,qBAACC,uBAAe;4BAACC,OAAM;2CAEvB,qBAACC,eAAQ;4BAACC,WAAWhB,KAAKiB,IAAI;;sCAEhC,qBAACC,oCAAe;4BACdC,aAAanB,KAAKoB,IAAI;4BAEtBC,cAAc;gCACZC,aAAa;oCAAEC,WAAW;gCAAM;4BAClC;4BACAC,iBAAiB;gCACfnB,IAAI;oCACFG,UAAU;gCACZ;4BACF;sCAECR,KAAKoB,IAAI;2BAVLpB,KAAKC,EAAE;wBAYbE,UAAUf,MAAMQ,MAAM,GAAG,kBACxB,qBAAC6B,gBAAU;4BAACpB,IAAI;gCAAES,OAAO;4BAAY;sCAAG;6BACtC;;mBAxBCd,KAAKC,EAAE;YA2BfZ,aAAaU,GAAG,CAAC,CAACC,MAAMG,sBACvB,sBAACC,SAAG;oBAACC,IAAI;wBAAEC,SAAS;wBAAQoB,YAAY;oBAAS;;wBAC9CvB,UAAU,KAAKf,MAAMQ,MAAM,KAAK,kBAC/B,qBAAC6B,gBAAU;4BAACpB,IAAI;gCAAES,OAAO;gCAAaa,IAAI;4BAAK;sCAAG;6BAChD;sCACJ,qBAACC,sBAAgB;4BAACvB,IAAI;gCAAEsB,IAAI;4BAAE;4BAAGE,MAAM;;sCACvC,qBAACX,oCAAe;4BACdC,aAAanB,KAAKoB,IAAI;4BAEtBC,cAAc;gCACZC,aAAa;oCAAEC,WAAW;gCAAM;4BAClC;4BACAC,iBAAiB;gCACfnB,IAAI;oCACFS,OAAO;oCACPN,UAAU;gCACZ;4BACF;sCAECR,KAAKoB,IAAI;2BAXLpB,KAAKC,EAAE;;mBAPyCD,KAAKC,EAAE;;;AAwBxE"}