1e2d8e3f3e876300bd80a9e28406d09e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    clerkSession: function() {
        return clerkSession;
    },
    jwtContent: function() {
        return jwtContent;
    }
});
const _environment = require("@rp/common/environment");
const _users = require("../../../database/generators/users");
function toBase64(obj) {
    if (global.window) {
        return btoa(JSON.stringify(obj));
    } else {
        return Buffer.from(JSON.stringify(obj)).toString("base64");
    }
}
const jwtContent = (expires = Date.now() + 1 * 60 * 1000)=>({
        ap: [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10
        ],
        azp: "http://localhost:3000",
        exp: expires / 1000,
        external_id: _users.userOwner.ownerName,
        iat: Date.now() / 1000,
        id: _users.userOwner.ownerUserId,
        iss: _environment.environment.clerk.origin,
        jti: "9e3599736f0ed6ef42b0",
        nbf: Date.now() / 1000,
        organization_id: _users.userOwner.organization.id,
        organization_name: _users.userOwner.organization.name,
        organization_rp_cid: _users.userOwner.organization.name,
        request_origin: "web",
        self_registered: null,
        sub: _users.userOwner.ownerUserId,
        user_email: _users.userOwner.ownerEmail
    });
const clerkSession = ({ expires } = {})=>({
        object: "token",
        jwt: `eyJhbGciOiJSUzI1NiIsImNhdCI6ImNsX0I3ZDRQRDIyMkFBQSIsImtpZCI6Imluc18yYkxaTHptNnB4dW5vOU95T3B4ZzRuM0RROEEiLCJ0eXAiOiJKV1QifQ.${toBase64(jwtContent(expires))}.mB9bp-07h-7FTlrdUwh8BLU9rbHzlN8csCrqsJhm56bOIJEGOpPXjO5PYYmTQUT1b0PIINU5dT54nIWXwePB0_XnVhoXspgxzHJ6TxAmWACMQ1g7wgg1t_fA1oifdv2a8pPLqo4ZyqUININeP5ww5U5ZTBgaQ3xsIiC15-NMRCwqYJPBTUItJNbY9CAhUoeKQYr36unr8vT-F8P9VS7aRaywZzrzmSktJ1FKsOwn8q_QDbORqUY5yGkqD1blrClWNKnxJ5j6a5Ke6NldOAjfKQYF8c85gC7TEu7YG9UNfAXU9Z_VA27xyyEq9gkb-7qQPwiEodEmnx3BrHszIiMN6g`
    });

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvZGV2ZWxvcG1lbnQvc3JjL2xpYi9tc3cvbW9ja3MvY2xlcmsvY2xlcmtTZXNzaW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVudmlyb25tZW50IH0gZnJvbSBcIkBycC9jb21tb24vZW52aXJvbm1lbnRcIlxuaW1wb3J0IHsgdXNlck93bmVyIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGFiYXNlL2dlbmVyYXRvcnMvdXNlcnNcIlxuXG5mdW5jdGlvbiB0b0Jhc2U2NChvYmo6IHVua25vd24pIHtcbiAgaWYgKGdsb2JhbC53aW5kb3cpIHtcbiAgICByZXR1cm4gYnRvYShKU09OLnN0cmluZ2lmeShvYmopKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShvYmopKS50b1N0cmluZyhcImJhc2U2NFwiKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBqd3RDb250ZW50ID0gKGV4cGlyZXMgPSBEYXRlLm5vdygpICsgMSAqIDYwICogMTAwMCkgPT4gKHtcbiAgYXA6IFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF0sXG4gIGF6cDogXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIixcbiAgZXhwOiBleHBpcmVzIC8gMTAwMCxcbiAgZXh0ZXJuYWxfaWQ6IHVzZXJPd25lci5vd25lck5hbWUsXG4gIGlhdDogRGF0ZS5ub3coKSAvIDEwMDAsXG4gIGlkOiB1c2VyT3duZXIub3duZXJVc2VySWQsXG4gIGlzczogZW52aXJvbm1lbnQuY2xlcmsub3JpZ2luLFxuICBqdGk6IFwiOWUzNTk5NzM2ZjBlZDZlZjQyYjBcIixcbiAgbmJmOiBEYXRlLm5vdygpIC8gMTAwMCxcbiAgb3JnYW5pemF0aW9uX2lkOiB1c2VyT3duZXIub3JnYW5pemF0aW9uLmlkLFxuICBvcmdhbml6YXRpb25fbmFtZTogdXNlck93bmVyLm9yZ2FuaXphdGlvbi5uYW1lLFxuICBvcmdhbml6YXRpb25fcnBfY2lkOiB1c2VyT3duZXIub3JnYW5pemF0aW9uLm5hbWUsXG4gIHJlcXVlc3Rfb3JpZ2luOiBcIndlYlwiLFxuICBzZWxmX3JlZ2lzdGVyZWQ6IG51bGwsXG4gIHN1YjogdXNlck93bmVyLm93bmVyVXNlcklkLFxuICB1c2VyX2VtYWlsOiB1c2VyT3duZXIub3duZXJFbWFpbCxcbn0pXG5cbmV4cG9ydCBjb25zdCBjbGVya1Nlc3Npb24gPSAoeyBleHBpcmVzIH06IHsgZXhwaXJlcz86IG51bWJlciB9ID0ge30pID0+ICh7XG4gIG9iamVjdDogXCJ0b2tlblwiLFxuICBqd3Q6IGBleUpoYkdjaU9pSlNVekkxTmlJc0ltTmhkQ0k2SW1Oc1gwSTNaRFJRUkRJeU1rRkJRU0lzSW10cFpDSTZJbWx1YzE4eVlreGFUSHB0Tm5CNGRXNXZPVTk1VDNCNFp6UnVNMFJST0VFaUxDSjBlWEFpT2lKS1YxUWlmUS4ke3RvQmFzZTY0KFxuICAgIGp3dENvbnRlbnQoZXhwaXJlcyksXG4gICl9Lm1COWJwLTA3aC03RlRscmRVd2g4QkxVOXJiSHpsTjhjc0NycXNKaG01NmJPSUpFR09wUFhqTzVQWVltVFFVVDFiMFBJSU5VNWRUNTRuSVdYd2VQQjBfWG5WaG9Yc3BneHpISjZUeEFtV0FDTVExZzd3Z2cxdF9mQTFvaWZkdjJhOHBQTHFvNFp5cVVJTklOZVA1d3c1VTVaVEJnYVEzeHNJaUMxNS1OTVJDd3FZSlBCVFVJdEpOYlk5Q0FoVW9lS1FZcjM2dW5yOHZULUY4UDlWUzdhUmF5d1p6cnptU2t0SjFGS3NPd244cV9RRGJPUnFVWTV5R2txRDFibHJDbFdOS254SjVqNmE1S2U2TmxkT0FqZktRWUY4Yzg1Z0M3VEV1N1lHOVVOZkFYVTlaX1ZBMjd4eXlFcTlna2ItN3FRUHdpRW9kRW1ueDNCckhzeklpTU42Z2AsXG59KVxuIl0sIm5hbWVzIjpbImNsZXJrU2Vzc2lvbiIsImp3dENvbnRlbnQiLCJ0b0Jhc2U2NCIsIm9iaiIsImdsb2JhbCIsIndpbmRvdyIsImJ0b2EiLCJKU09OIiwic3RyaW5naWZ5IiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwiZXhwaXJlcyIsIkRhdGUiLCJub3ciLCJhcCIsImF6cCIsImV4cCIsImV4dGVybmFsX2lkIiwidXNlck93bmVyIiwib3duZXJOYW1lIiwiaWF0IiwiaWQiLCJvd25lclVzZXJJZCIsImlzcyIsImVudmlyb25tZW50IiwiY2xlcmsiLCJvcmlnaW4iLCJqdGkiLCJuYmYiLCJvcmdhbml6YXRpb25faWQiLCJvcmdhbml6YXRpb24iLCJvcmdhbml6YXRpb25fbmFtZSIsIm5hbWUiLCJvcmdhbml6YXRpb25fcnBfY2lkIiwicmVxdWVzdF9vcmlnaW4iLCJzZWxmX3JlZ2lzdGVyZWQiLCJzdWIiLCJ1c2VyX2VtYWlsIiwib3duZXJFbWFpbCIsIm9iamVjdCIsImp3dCJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBOEJhQSxZQUFZO2VBQVpBOztJQW5CQUMsVUFBVTtlQUFWQTs7OzZCQVhlO3VCQUNGO0FBRTFCLFNBQVNDLFNBQVNDLEdBQVk7SUFDNUIsSUFBSUMsT0FBT0MsTUFBTSxFQUFFO1FBQ2pCLE9BQU9DLEtBQUtDLEtBQUtDLFNBQVMsQ0FBQ0w7SUFDN0IsT0FBTztRQUNMLE9BQU9NLE9BQU9DLElBQUksQ0FBQ0gsS0FBS0MsU0FBUyxDQUFDTCxNQUFNUSxRQUFRLENBQUM7SUFDbkQ7QUFDRjtBQUVPLE1BQU1WLGFBQWEsQ0FBQ1csVUFBVUMsS0FBS0MsR0FBRyxLQUFLLElBQUksS0FBSyxJQUFJLEdBQU0sQ0FBQTtRQUNuRUMsSUFBSTtZQUFDO1lBQUc7WUFBRztZQUFHO1lBQUc7WUFBRztZQUFHO1lBQUc7WUFBRztZQUFHO1lBQUc7U0FBRztRQUN0Q0MsS0FBSztRQUNMQyxLQUFLTCxVQUFVO1FBQ2ZNLGFBQWFDLGdCQUFTLENBQUNDLFNBQVM7UUFDaENDLEtBQUtSLEtBQUtDLEdBQUcsS0FBSztRQUNsQlEsSUFBSUgsZ0JBQVMsQ0FBQ0ksV0FBVztRQUN6QkMsS0FBS0Msd0JBQVcsQ0FBQ0MsS0FBSyxDQUFDQyxNQUFNO1FBQzdCQyxLQUFLO1FBQ0xDLEtBQUtoQixLQUFLQyxHQUFHLEtBQUs7UUFDbEJnQixpQkFBaUJYLGdCQUFTLENBQUNZLFlBQVksQ0FBQ1QsRUFBRTtRQUMxQ1UsbUJBQW1CYixnQkFBUyxDQUFDWSxZQUFZLENBQUNFLElBQUk7UUFDOUNDLHFCQUFxQmYsZ0JBQVMsQ0FBQ1ksWUFBWSxDQUFDRSxJQUFJO1FBQ2hERSxnQkFBZ0I7UUFDaEJDLGlCQUFpQjtRQUNqQkMsS0FBS2xCLGdCQUFTLENBQUNJLFdBQVc7UUFDMUJlLFlBQVluQixnQkFBUyxDQUFDb0IsVUFBVTtJQUNsQyxDQUFBO0FBRU8sTUFBTXZDLGVBQWUsQ0FBQyxFQUFFWSxPQUFPLEVBQXdCLEdBQUcsQ0FBQyxDQUFDLEdBQU0sQ0FBQTtRQUN2RTRCLFFBQVE7UUFDUkMsS0FBSyxDQUFDLDJIQUEySCxFQUFFdkMsU0FDaklELFdBQVdXLFVBQ1gsdVZBQXVWLENBQUM7SUFDNVYsQ0FBQSJ9