{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/ReOrderableList/MovableRow.tsx"],"sourcesContent":["import { CSSProperties, ForwardRefExoticComponent, JSX } from \"react\"\nimport { useDragLayer } from \"react-dnd\"\nimport type { XYCoord } from \"react-dnd\"\n\nconst layerStyles: CSSProperties = {\n  position: \"fixed\",\n  pointerEvents: \"none\",\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n}\n\nfunction getItemStyles(initialOffset: XYCoord | null, currentOffset: XYCoord | null) {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: \"none\",\n    }\n  }\n\n  const transform = `translateY(${currentOffset.y}px)`\n  return {\n    transform,\n    WebkitTransform: transform,\n  }\n}\n\ntype MovableRowProps<RowType> = {\n  width?: () => number | undefined\n  left?: () => number | undefined\n  Preview:\n    | ForwardRefExoticComponent<{ item: RowType }>\n    | (({ item }: { item: RowType }) => JSX.Element)\n}\n\nfunction MovableRow<RowType>({ Preview, width, left }: MovableRowProps<RowType>) {\n  const { isDragging, item, initialOffset, currentOffset } = useDragLayer(monitor => ({\n    item: monitor.getItem(),\n    itemType: monitor.getItemType(),\n    initialOffset: monitor.getInitialSourceClientOffset(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging(),\n  }))\n\n  if (!isDragging) return null\n\n  return (\n    <div\n      style={{\n        ...layerStyles,\n        ...getItemStyles(initialOffset, currentOffset),\n        width: width?.() ?? layerStyles.width,\n        left: left?.() ?? layerStyles.width,\n      }}\n    >\n      <Preview {...item} />\n    </div>\n  )\n}\n\nexport { MovableRow }\n"],"names":["MovableRow","layerStyles","position","pointerEvents","zIndex","left","top","width","height","getItemStyles","initialOffset","currentOffset","display","transform","y","WebkitTransform","Preview","isDragging","item","useDragLayer","monitor","getItem","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","div","style"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA6DSA;;;eAAAA;;;;0BA5DoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAG7B,MAAMC,cAA6B;IACjCC,UAAU;IACVC,eAAe;IACfC,QAAQ;IACRC,MAAM;IACNC,KAAK;IACLC,OAAO;IACPC,QAAQ;AACV;AAEA,SAASC,cAAcC,aAA6B,EAAEC,aAA6B;IACjF,IAAI,CAACD,iBAAiB,CAACC,eAAe;QACpC,OAAO;YACLC,SAAS;QACX;IACF;IAEA,MAAMC,YAAY,CAAC,WAAW,EAAEF,cAAcG,CAAC,CAAC,GAAG,CAAC;IACpD,OAAO;QACLD;QACAE,iBAAiBF;IACnB;AACF;AAUA,SAASb,WAAoB,EAAEgB,OAAO,EAAET,KAAK,EAAEF,IAAI,EAA4B;IAC7E,MAAM,EAAEY,UAAU,EAAEC,IAAI,EAAER,aAAa,EAAEC,aAAa,EAAE,GAAGQ,IAAAA,sBAAY,EAACC,CAAAA,UAAY,CAAA;YAClFF,MAAME,QAAQC,OAAO;YACrBC,UAAUF,QAAQG,WAAW;YAC7Bb,eAAeU,QAAQI,4BAA4B;YACnDb,eAAeS,QAAQK,qBAAqB;YAC5CR,YAAYG,QAAQH,UAAU;QAChC,CAAA;IAEA,IAAI,CAACA,YAAY,OAAO;QAOXV,QACDF;IANZ,qBACE,qBAACqB;QACCC,OAAO,wCACF1B,aACAQ,cAAcC,eAAeC;YAChCJ,OAAOA,CAAAA,SAAAA,kBAAAA,4BAAAA,qBAAAA,oBAAAA,SAAaN,YAAYM,KAAK;YACrCF,MAAMA,CAAAA,QAAAA,iBAAAA,2BAAAA,oBAAAA,mBAAAA,QAAYJ,YAAYM,KAAK;;kBAGrC,cAAA,qBAACS,4BAAYE;;AAGnB"}