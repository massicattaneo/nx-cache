{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/development/src/lib/database/generators/generateBrief.ts"],"sourcesContent":["import { z } from \"zod\"\nimport { bigdataSchemas } from \"@rp/common/contracts\"\nimport { DbBrief } from \"../db.types\"\nimport { generateDate } from \"./generateDate\"\nimport { generateId } from \"./generateId\"\nimport { userOwner } from \"./users\"\n\ntype Props = z.infer<typeof bigdataSchemas.st_briefs_BriefConfigPayload>\ntype Input = Partial<Props>\n\nexport const generateBrief = (def: Input): DbBrief => {\n  return {\n    briefName: def.briefName ?? \"Brief\",\n    watchlistIds: def.watchlistIds ?? [],\n    deliveryModes: def.deliveryModes ?? [\"email\"],\n    schedule: def.schedule ?? {\n      days: [\"mon\", \"tue\", \"wed\", \"thu\", \"fri\"],\n      timezone: \"Europe/Madrid\",\n      hour: 8,\n      minute: 0,\n    },\n    id: generateId(),\n    userId: userOwner.ownerUserId,\n    email: userOwner.ownerEmail,\n    dateCreated: generateDate(),\n    lastUpdated: generateDate(),\n  }\n}\n"],"names":["generateBrief","def","briefName","watchlistIds","deliveryModes","schedule","days","timezone","hour","minute","id","generateId","userId","userOwner","ownerUserId","email","ownerEmail","dateCreated","generateDate","lastUpdated"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAUaA;;;eAAAA;;;8BAPgB;4BACF;uBACD;AAKnB,MAAMA,gBAAgB,CAACC;QAEfA,gBACGA,mBACCA,oBACLA;IAJZ,OAAO;QACLC,WAAWD,CAAAA,iBAAAA,IAAIC,SAAS,cAAbD,4BAAAA,iBAAiB;QAC5BE,cAAcF,CAAAA,oBAAAA,IAAIE,YAAY,cAAhBF,+BAAAA,oBAAoB,EAAE;QACpCG,eAAeH,CAAAA,qBAAAA,IAAIG,aAAa,cAAjBH,gCAAAA,qBAAqB;YAAC;SAAQ;QAC7CI,UAAUJ,CAAAA,gBAAAA,IAAII,QAAQ,cAAZJ,2BAAAA,gBAAgB;YACxBK,MAAM;gBAAC;gBAAO;gBAAO;gBAAO;gBAAO;aAAM;YACzCC,UAAU;YACVC,MAAM;YACNC,QAAQ;QACV;QACAC,IAAIC,IAAAA,sBAAU;QACdC,QAAQC,gBAAS,CAACC,WAAW;QAC7BC,OAAOF,gBAAS,CAACG,UAAU;QAC3BC,aAAaC,IAAAA,0BAAY;QACzBC,aAAaD,IAAAA,0BAAY;IAC3B;AACF"}