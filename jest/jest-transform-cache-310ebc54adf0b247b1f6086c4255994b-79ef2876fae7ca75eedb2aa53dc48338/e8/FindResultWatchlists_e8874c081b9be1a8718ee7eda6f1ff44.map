{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/components/Hub/Watchlists/FindResultWatchlists/FindResultWatchlists.tsx"],"sourcesContent":["import { useMemo } from \"react\"\nimport { useAllWatchlists } from \"@rp/react/tanstack-api/watchlist\"\nimport { LoadingSpinner } from \"@rp/react/web/common/base-components\"\nimport { FindNoResults, HubHeadCell, HubTableRow } from \"@rp/react/web/common/composite-components\"\nimport { InfiniteList } from \"@rp/react/web/common/composite-components\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { Box, Typography } from \"@rp/react/web/mui/core\"\nimport { NewWatchlistButtonContainer } from \"../NewWatchlistButtonContainer\"\nimport { FindResultWatchlistsItem } from \"./FindResultWatchlistsItem\"\n\ntype Props = {\n  filterTerm: string\n}\n\nconst COLUMNS_WIDTH = [\"calc(50%)\", \"calc(50% - 322px)\", \"250px\"]\n\nconst FindResultWatchlists = ({ filterTerm }: Props) => {\n  const { data = [], isLoading: isLoadingQueries } = useAllWatchlists()\n  const { isMobile } = useDeviceInfo()\n\n  const filteredResults = useMemo(\n    () =>\n      data\n        .filter(item => item.name.toLowerCase().includes(filterTerm.toLowerCase()))\n        .sort((watchlistA, watchlistB) => watchlistA.name.localeCompare(watchlistB.name)),\n    [filterTerm, data],\n  )\n\n  if (isLoadingQueries) return <LoadingSpinner />\n\n  if (filteredResults.length === 0) {\n    return (\n      <NewWatchlistButtonContainer>\n        <FindNoResults />\n      </NewWatchlistButtonContainer>\n    )\n  }\n\n  return (\n    <NewWatchlistButtonContainer>\n      <Box sx={{ width: 1 }}>\n        <Typography sx={{ my: 2 }}>\n          {filteredResults.length === 1\n            ? \"There is 1 result matching your search.\"\n            : `There are ${filteredResults.length} results matching your search.`}\n        </Typography>\n        <HubTableRow\n          sx={{ backgroundColor: \"transparent\", height: isMobile ? 0 : 35 }}\n          columnsWidth={COLUMNS_WIDTH}\n          columns={[\n            {\n              node: <HubHeadCell label=\"NAME\" />,\n            },\n            {\n              node: <HubHeadCell label=\"OWNER\" />,\n            },\n\n            { node: <>&nbsp;</> },\n          ]}\n        />\n        <InfiniteList\n          rootMargin={\"0px 0px 200px 0px\"}\n          initialElements={20}\n          items={filteredResults}\n          renderItem={item => (\n            <FindResultWatchlistsItem\n              filterTerm={filterTerm}\n              item={item}\n              columnsWidth={COLUMNS_WIDTH}\n            />\n          )}\n        />\n      </Box>\n    </NewWatchlistButtonContainer>\n  )\n}\n\nexport { FindResultWatchlists }\n"],"names":["FindResultWatchlists","COLUMNS_WIDTH","filterTerm","data","isLoading","isLoadingQueries","useAllWatchlists","isMobile","useDeviceInfo","filteredResults","useMemo","filter","item","name","toLowerCase","includes","sort","watchlistA","watchlistB","localeCompare","LoadingSpinner","length","NewWatchlistButtonContainer","FindNoResults","Box","sx","width","Typography","my","HubTableRow","backgroundColor","height","columnsWidth","columns","node","HubHeadCell","label","InfiniteList","rootMargin","initialElements","items","renderItem","FindResultWatchlistsItem"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA6ESA;;;eAAAA;;;;uBA7Ee;2BACS;gCACF;qCACyB;uBAE1B;sBACE;6CACY;0CACH;AAMzC,MAAMC,gBAAgB;IAAC;IAAa;IAAqB;CAAQ;AAEjE,MAAMD,uBAAuB,CAAC,EAAEE,UAAU,EAAS;IACjD,MAAM,EAAEC,OAAO,EAAE,EAAEC,WAAWC,gBAAgB,EAAE,GAAGC,IAAAA,2BAAgB;IACnE,MAAM,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAElC,MAAMC,kBAAkBC,IAAAA,cAAO,EAC7B,IACEP,KACGQ,MAAM,CAACC,CAAAA,OAAQA,KAAKC,IAAI,CAACC,WAAW,GAAGC,QAAQ,CAACb,WAAWY,WAAW,KACtEE,IAAI,CAAC,CAACC,YAAYC,aAAeD,WAAWJ,IAAI,CAACM,aAAa,CAACD,WAAWL,IAAI,IACnF;QAACX;QAAYC;KAAK;IAGpB,IAAIE,kBAAkB,qBAAO,qBAACe,8BAAc;IAE5C,IAAIX,gBAAgBY,MAAM,KAAK,GAAG;QAChC,qBACE,qBAACC,wDAA2B;sBAC1B,cAAA,qBAACC,kCAAa;;IAGpB;IAEA,qBACE,qBAACD,wDAA2B;kBAC1B,cAAA,sBAACE,SAAG;YAACC,IAAI;gBAAEC,OAAO;YAAE;;8BAClB,qBAACC,gBAAU;oBAACF,IAAI;wBAAEG,IAAI;oBAAE;8BACrBnB,gBAAgBY,MAAM,KAAK,IACxB,4CACA,CAAC,UAAU,EAAEZ,gBAAgBY,MAAM,CAAC,8BAA8B,CAAC;;8BAEzE,qBAACQ,gCAAW;oBACVJ,IAAI;wBAAEK,iBAAiB;wBAAeC,QAAQxB,WAAW,IAAI;oBAAG;oBAChEyB,cAAc/B;oBACdgC,SAAS;wBACP;4BACEC,oBAAM,qBAACC,gCAAW;gCAACC,OAAM;;wBAC3B;wBACA;4BACEF,oBAAM,qBAACC,gCAAW;gCAACC,OAAM;;wBAC3B;wBAEA;4BAAEF,oBAAM;0CAAE;;wBAAU;qBACrB;;8BAEH,qBAACG,iCAAY;oBACXC,YAAY;oBACZC,iBAAiB;oBACjBC,OAAO/B;oBACPgC,YAAY7B,CAAAA,qBACV,qBAAC8B,kDAAwB;4BACvBxC,YAAYA;4BACZU,MAAMA;4BACNoB,cAAc/B;;;;;;AAO5B"}