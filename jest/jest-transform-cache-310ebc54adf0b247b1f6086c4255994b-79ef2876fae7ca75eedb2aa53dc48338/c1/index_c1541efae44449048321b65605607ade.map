{"version":3,"sources":["../src/index.ts","../src/polyfills.ts","../src/errors/errorThrower.ts","../src/components/uiComponents.tsx","../src/errors/messages.ts","../src/utils/childrenUtils.tsx","../src/utils/isConstructor.ts","../src/utils/useMaxAllowedInstancesGuard.tsx","../src/utils/useCustomElementPortal.tsx","../src/utils/useCustomPages.tsx","../src/utils/componentValidation.ts","../src/utils/useCustomMenuItems.tsx","../src/utils/useWaitForComponentMount.ts","../src/components/ClerkHostRenderer.tsx","../src/components/withClerk.tsx","../src/contexts/IsomorphicClerkContext.tsx","../src/hooks/useAssertWrappedByClerkProvider.ts","../src/components/controlComponents.tsx","../src/contexts/AuthContext.ts","../src/contexts/SessionContext.tsx","../src/hooks/useAuth.ts","../src/hooks/utils.ts","../src/hooks/useEmailLink.ts","../src/hooks/useSignIn.ts","../src/hooks/useSignUp.ts","../src/hooks/index.ts","../src/components/SignInButton.tsx","../src/components/SignUpButton.tsx","../src/components/SignOutButton.tsx","../src/components/SignInWithMetamaskButton.tsx","../src/contexts/ClerkProvider.tsx","../src/contexts/ClerkContextProvider.tsx","../src/isomorphicClerk.ts"],"sourcesContent":["import './polyfills';\n\nimport { setClerkJsLoadingErrorPackageName } from '@clerk/shared/loadClerkJsScript';\n\nimport { setErrorThrowerOptions } from './errors/errorThrower';\n\nexport * from './components';\nexport * from './contexts';\n\nexport * from './hooks';\nexport type { BrowserClerk, ClerkProp, HeadlessBrowserClerk, ClerkProviderProps } from './types';\n\nsetErrorThrowerOptions({ packageName: PACKAGE_NAME });\nsetClerkJsLoadingErrorPackageName(PACKAGE_NAME);\n","/**\n * Vite does not define `global` by default\n * One workaround is to use the `define` config prop\n * https://vitejs.dev/config/#define\n * We are solving this in the SDK level to reduce setup steps.\n */\nif (typeof window !== 'undefined' && !window.global) {\n  window.global = typeof global === 'undefined' ? window : global;\n}\n\nexport {};\n","import type { ErrorThrowerOptions } from '@clerk/shared/error';\nimport { buildErrorThrower } from '@clerk/shared/error';\n\nconst errorThrower = buildErrorThrower({ packageName: '@clerk/clerk-react' });\n\nexport { errorThrower };\n\n/**\n * Overrides options of the internal errorThrower (eg setting packageName prefix).\n *\n * @internal\n */\nexport function setErrorThrowerOptions(options: ErrorThrowerOptions) {\n  errorThrower.setMessages(options).setPackageName(options);\n}\n","import { logErrorInDevMode } from '@clerk/shared/utils';\nimport type {\n  CreateOrganizationProps,\n  GoogleOneTapProps,\n  OrganizationListProps,\n  OrganizationProfileProps,\n  OrganizationSwitcherProps,\n  SignInProps,\n  SignUpProps,\n  UserButtonProps,\n  UserProfileProps,\n  WaitlistProps,\n  Without,\n} from '@clerk/types';\nimport type { PropsWithChildren, ReactNode } from 'react';\nimport React, { createContext, createElement, useContext } from 'react';\n\nimport {\n  organizationProfileLinkRenderedError,\n  organizationProfilePageRenderedError,\n  userButtonMenuActionRenderedError,\n  userButtonMenuItemsRenderedError,\n  userButtonMenuLinkRenderedError,\n  userProfileLinkRenderedError,\n  userProfilePageRenderedError,\n} from '../errors/messages';\nimport type {\n  CustomPortalsRendererProps,\n  MountProps,\n  OrganizationProfileLinkProps,\n  OrganizationProfilePageProps,\n  UserButtonActionProps,\n  UserButtonLinkProps,\n  UserProfileLinkProps,\n  UserProfilePageProps,\n  WithClerkProp,\n} from '../types';\nimport {\n  useOrganizationProfileCustomPages,\n  useSanitizedChildren,\n  useUserButtonCustomMenuItems,\n  useUserProfileCustomPages,\n} from '../utils';\nimport { useWaitForComponentMount } from '../utils/useWaitForComponentMount';\nimport { ClerkHostRenderer } from './ClerkHostRenderer';\nimport { withClerk } from './withClerk';\n\ntype FallbackProp = {\n  /**\n   * An optional element to render while the component is mounting.\n   */\n  fallback?: ReactNode;\n};\n\ntype UserProfileExportType = typeof _UserProfile & {\n  Page: typeof UserProfilePage;\n  Link: typeof UserProfileLink;\n};\n\ntype UserButtonExportType = typeof _UserButton & {\n  UserProfilePage: typeof UserProfilePage;\n  UserProfileLink: typeof UserProfileLink;\n  MenuItems: typeof MenuItems;\n  Action: typeof MenuAction;\n  Link: typeof MenuLink;\n  /**\n   * The `<Outlet />` component can be used in conjunction with `asProvider` in order to control rendering\n   * of the `<UserButton />` without affecting its configuration or any custom pages that could be mounted\n   * @experimental This API is experimental and may change at any moment.\n   */\n  __experimental_Outlet: typeof UserButtonOutlet;\n};\n\ntype UserButtonPropsWithoutCustomPages = Without<\n  UserButtonProps,\n  'userProfileProps' | '__experimental_asStandalone'\n> & {\n  userProfileProps?: Pick<UserProfileProps, 'additionalOAuthScopes' | 'appearance'>;\n  /**\n   * Adding `asProvider` will defer rendering until the `<Outlet />` component is mounted.\n   * This API is experimental and may change at any moment.\n   * @experimental\n   * @default undefined\n   */\n  __experimental_asProvider?: boolean;\n};\n\ntype OrganizationProfileExportType = typeof _OrganizationProfile & {\n  Page: typeof OrganizationProfilePage;\n  Link: typeof OrganizationProfileLink;\n};\n\ntype OrganizationSwitcherExportType = typeof _OrganizationSwitcher & {\n  OrganizationProfilePage: typeof OrganizationProfilePage;\n  OrganizationProfileLink: typeof OrganizationProfileLink;\n  /**\n   * The `<Outlet />` component can be used in conjunction with `asProvider` in order to control rendering\n   * of the `<OrganizationSwitcher />` without affecting its configuration or any custom pages that could be mounted\n   * @experimental This API is experimental and may change at any moment.\n   */\n  __experimental_Outlet: typeof OrganizationSwitcherOutlet;\n};\n\ntype OrganizationSwitcherPropsWithoutCustomPages = Without<\n  OrganizationSwitcherProps,\n  'organizationProfileProps' | '__experimental_asStandalone'\n> & {\n  organizationProfileProps?: Pick<OrganizationProfileProps, 'appearance'>;\n  /**\n   * Adding `asProvider` will defer rendering until the `<Outlet />` component is mounted.\n   * This API is experimental and may change at any moment.\n   * @experimental\n   * @default undefined\n   */\n  __experimental_asProvider?: boolean;\n};\n\nconst CustomPortalsRenderer = (props: CustomPortalsRendererProps) => {\n  return (\n    <>\n      {props?.customPagesPortals?.map((portal, index) => createElement(portal, { key: index }))}\n      {props?.customMenuItemsPortals?.map((portal, index) => createElement(portal, { key: index }))}\n    </>\n  );\n};\n\nexport const SignIn = withClerk(\n  ({ clerk, component, fallback, ...props }: WithClerkProp<SignInProps & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    return (\n      <>\n        {shouldShowFallback && fallback}\n        {clerk.loaded && (\n          <ClerkHostRenderer\n            component={component}\n            mount={clerk.mountSignIn}\n            unmount={clerk.unmountSignIn}\n            updateProps={(clerk as any).__unstable__updateProps}\n            props={props}\n            rootProps={rendererRootProps}\n          />\n        )}\n      </>\n    );\n  },\n  { component: 'SignIn', renderWhileLoading: true },\n);\n\nexport const SignUp = withClerk(\n  ({ clerk, component, fallback, ...props }: WithClerkProp<SignUpProps & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    return (\n      <>\n        {shouldShowFallback && fallback}\n        {clerk.loaded && (\n          <ClerkHostRenderer\n            component={component}\n            mount={clerk.mountSignUp}\n            unmount={clerk.unmountSignUp}\n            updateProps={(clerk as any).__unstable__updateProps}\n            props={props}\n            rootProps={rendererRootProps}\n          />\n        )}\n      </>\n    );\n  },\n  { component: 'SignUp', renderWhileLoading: true },\n);\n\nexport function UserProfilePage({ children }: PropsWithChildren<UserProfilePageProps>) {\n  logErrorInDevMode(userProfilePageRenderedError);\n  return <>{children}</>;\n}\n\nexport function UserProfileLink({ children }: PropsWithChildren<UserProfileLinkProps>) {\n  logErrorInDevMode(userProfileLinkRenderedError);\n  return <>{children}</>;\n}\n\nconst _UserProfile = withClerk(\n  ({\n    clerk,\n    component,\n    fallback,\n    ...props\n  }: WithClerkProp<PropsWithChildren<Without<UserProfileProps, 'customPages'>> & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    const { customPages, customPagesPortals } = useUserProfileCustomPages(props.children);\n    return (\n      <>\n        {shouldShowFallback && fallback}\n        <ClerkHostRenderer\n          component={component}\n          mount={clerk.mountUserProfile}\n          unmount={clerk.unmountUserProfile}\n          updateProps={(clerk as any).__unstable__updateProps}\n          props={{ ...props, customPages }}\n          rootProps={rendererRootProps}\n        >\n          <CustomPortalsRenderer customPagesPortals={customPagesPortals} />\n        </ClerkHostRenderer>\n      </>\n    );\n  },\n  { component: 'UserProfile', renderWhileLoading: true },\n);\n\nexport const UserProfile: UserProfileExportType = Object.assign(_UserProfile, {\n  Page: UserProfilePage,\n  Link: UserProfileLink,\n});\n\nconst UserButtonContext = createContext<MountProps>({\n  mount: () => {},\n  unmount: () => {},\n  updateProps: () => {},\n});\n\nconst _UserButton = withClerk(\n  ({\n    clerk,\n    component,\n    fallback,\n    ...props\n  }: WithClerkProp<PropsWithChildren<UserButtonPropsWithoutCustomPages> & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    const { customPages, customPagesPortals } = useUserProfileCustomPages(props.children, {\n      allowForAnyChildren: !!props.__experimental_asProvider,\n    });\n    const userProfileProps = Object.assign(props.userProfileProps || {}, { customPages });\n    const { customMenuItems, customMenuItemsPortals } = useUserButtonCustomMenuItems(props.children);\n    const sanitizedChildren = useSanitizedChildren(props.children);\n\n    const passableProps = {\n      mount: clerk.mountUserButton,\n      unmount: clerk.unmountUserButton,\n      updateProps: (clerk as any).__unstable__updateProps,\n      props: { ...props, userProfileProps, customMenuItems },\n    };\n    const portalProps = {\n      customPagesPortals: customPagesPortals,\n      customMenuItemsPortals: customMenuItemsPortals,\n    };\n\n    return (\n      <UserButtonContext.Provider value={passableProps}>\n        {shouldShowFallback && fallback}\n        {clerk.loaded && (\n          <ClerkHostRenderer\n            component={component}\n            {...passableProps}\n            hideRootHtmlElement={!!props.__experimental_asProvider}\n            rootProps={rendererRootProps}\n          >\n            {/*This mimics the previous behaviour before asProvider existed*/}\n            {props.__experimental_asProvider ? sanitizedChildren : null}\n            <CustomPortalsRenderer {...portalProps} />\n          </ClerkHostRenderer>\n        )}\n      </UserButtonContext.Provider>\n    );\n  },\n  { component: 'UserButton', renderWhileLoading: true },\n);\n\nexport function MenuItems({ children }: PropsWithChildren) {\n  logErrorInDevMode(userButtonMenuItemsRenderedError);\n  return <>{children}</>;\n}\n\nexport function MenuAction({ children }: PropsWithChildren<UserButtonActionProps>) {\n  logErrorInDevMode(userButtonMenuActionRenderedError);\n  return <>{children}</>;\n}\n\nexport function MenuLink({ children }: PropsWithChildren<UserButtonLinkProps>) {\n  logErrorInDevMode(userButtonMenuLinkRenderedError);\n  return <>{children}</>;\n}\n\nexport function UserButtonOutlet(outletProps: Without<UserButtonProps, 'userProfileProps'>) {\n  const providerProps = useContext(UserButtonContext);\n\n  const portalProps = {\n    ...providerProps,\n    props: {\n      ...providerProps.props,\n      ...outletProps,\n    },\n  } satisfies MountProps;\n\n  return <ClerkHostRenderer {...portalProps} />;\n}\n\nexport const UserButton: UserButtonExportType = Object.assign(_UserButton, {\n  UserProfilePage,\n  UserProfileLink,\n  MenuItems,\n  Action: MenuAction,\n  Link: MenuLink,\n  __experimental_Outlet: UserButtonOutlet,\n});\n\nexport function OrganizationProfilePage({ children }: PropsWithChildren<OrganizationProfilePageProps>) {\n  logErrorInDevMode(organizationProfilePageRenderedError);\n  return <>{children}</>;\n}\n\nexport function OrganizationProfileLink({ children }: PropsWithChildren<OrganizationProfileLinkProps>) {\n  logErrorInDevMode(organizationProfileLinkRenderedError);\n  return <>{children}</>;\n}\n\nconst _OrganizationProfile = withClerk(\n  ({\n    clerk,\n    component,\n    fallback,\n    ...props\n  }: WithClerkProp<PropsWithChildren<Without<OrganizationProfileProps, 'customPages'>> & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    const { customPages, customPagesPortals } = useOrganizationProfileCustomPages(props.children);\n    return (\n      <>\n        {shouldShowFallback && fallback}\n        {clerk.loaded && (\n          <ClerkHostRenderer\n            component={component}\n            mount={clerk.mountOrganizationProfile}\n            unmount={clerk.unmountOrganizationProfile}\n            updateProps={(clerk as any).__unstable__updateProps}\n            props={{ ...props, customPages }}\n            rootProps={rendererRootProps}\n          >\n            <CustomPortalsRenderer customPagesPortals={customPagesPortals} />\n          </ClerkHostRenderer>\n        )}\n      </>\n    );\n  },\n  { component: 'OrganizationProfile', renderWhileLoading: true },\n);\n\nexport const OrganizationProfile: OrganizationProfileExportType = Object.assign(_OrganizationProfile, {\n  Page: OrganizationProfilePage,\n  Link: OrganizationProfileLink,\n});\n\nexport const CreateOrganization = withClerk(\n  ({ clerk, component, fallback, ...props }: WithClerkProp<CreateOrganizationProps & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    return (\n      <>\n        {shouldShowFallback && fallback}\n        {clerk.loaded && (\n          <ClerkHostRenderer\n            component={component}\n            mount={clerk.mountCreateOrganization}\n            unmount={clerk.unmountCreateOrganization}\n            updateProps={(clerk as any).__unstable__updateProps}\n            props={props}\n            rootProps={rendererRootProps}\n          />\n        )}\n      </>\n    );\n  },\n  { component: 'CreateOrganization', renderWhileLoading: true },\n);\n\nconst OrganizationSwitcherContext = createContext<MountProps>({\n  mount: () => {},\n  unmount: () => {},\n  updateProps: () => {},\n});\n\nconst _OrganizationSwitcher = withClerk(\n  ({\n    clerk,\n    component,\n    fallback,\n    ...props\n  }: WithClerkProp<PropsWithChildren<OrganizationSwitcherPropsWithoutCustomPages> & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    const { customPages, customPagesPortals } = useOrganizationProfileCustomPages(props.children, {\n      allowForAnyChildren: !!props.__experimental_asProvider,\n    });\n    const organizationProfileProps = Object.assign(props.organizationProfileProps || {}, { customPages });\n    const sanitizedChildren = useSanitizedChildren(props.children);\n\n    const passableProps = {\n      mount: clerk.mountOrganizationSwitcher,\n      unmount: clerk.unmountOrganizationSwitcher,\n      updateProps: (clerk as any).__unstable__updateProps,\n      props: { ...props, organizationProfileProps },\n      rootProps: rendererRootProps,\n      component,\n    };\n\n    /**\n     * Prefetch organization list\n     */\n    clerk.__experimental_prefetchOrganizationSwitcher();\n\n    return (\n      <OrganizationSwitcherContext.Provider value={passableProps}>\n        <>\n          {shouldShowFallback && fallback}\n          {clerk.loaded && (\n            <ClerkHostRenderer\n              {...passableProps}\n              hideRootHtmlElement={!!props.__experimental_asProvider}\n            >\n              {/*This mimics the previous behaviour before asProvider existed*/}\n              {props.__experimental_asProvider ? sanitizedChildren : null}\n              <CustomPortalsRenderer customPagesPortals={customPagesPortals} />\n            </ClerkHostRenderer>\n          )}\n        </>\n      </OrganizationSwitcherContext.Provider>\n    );\n  },\n  { component: 'OrganizationSwitcher', renderWhileLoading: true },\n);\n\nexport function OrganizationSwitcherOutlet(\n  outletProps: Without<OrganizationSwitcherProps, 'organizationProfileProps'>,\n) {\n  const providerProps = useContext(OrganizationSwitcherContext);\n\n  const portalProps = {\n    ...providerProps,\n    props: {\n      ...providerProps.props,\n      ...outletProps,\n    },\n  } satisfies MountProps;\n\n  return <ClerkHostRenderer {...portalProps} />;\n}\n\nexport const OrganizationSwitcher: OrganizationSwitcherExportType = Object.assign(_OrganizationSwitcher, {\n  OrganizationProfilePage,\n  OrganizationProfileLink,\n  __experimental_Outlet: OrganizationSwitcherOutlet,\n});\n\nexport const OrganizationList = withClerk(\n  ({ clerk, component, fallback, ...props }: WithClerkProp<OrganizationListProps & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    return (\n      <>\n        {shouldShowFallback && fallback}\n        {clerk.loaded && (\n          <ClerkHostRenderer\n            component={component}\n            mount={clerk.mountOrganizationList}\n            unmount={clerk.unmountOrganizationList}\n            updateProps={(clerk as any).__unstable__updateProps}\n            props={props}\n            rootProps={rendererRootProps}\n          />\n        )}\n      </>\n    );\n  },\n  { component: 'OrganizationList', renderWhileLoading: true },\n);\n\nexport const GoogleOneTap = withClerk(\n  ({ clerk, component, fallback, ...props }: WithClerkProp<GoogleOneTapProps & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    return (\n      <>\n        {shouldShowFallback && fallback}\n        {clerk.loaded && (\n          <ClerkHostRenderer\n            component={component}\n            open={clerk.openGoogleOneTap}\n            close={clerk.closeGoogleOneTap}\n            updateProps={(clerk as any).__unstable__updateProps}\n            props={props}\n            rootProps={rendererRootProps}\n          />\n        )}\n      </>\n    );\n  },\n  { component: 'GoogleOneTap', renderWhileLoading: true },\n);\n\nexport const Waitlist = withClerk(\n  ({ clerk, component, fallback, ...props }: WithClerkProp<WaitlistProps & FallbackProp>) => {\n    const mountingStatus = useWaitForComponentMount(component);\n    const shouldShowFallback = mountingStatus === 'rendering' || !clerk.loaded;\n\n    const rendererRootProps = {\n      ...(shouldShowFallback && fallback && { style: { display: 'none' } }),\n    };\n\n    return (\n      <>\n        {shouldShowFallback && fallback}\n        {clerk.loaded && (\n          <ClerkHostRenderer\n            component={component}\n            mount={clerk.mountWaitlist}\n            unmount={clerk.unmountWaitlist}\n            updateProps={(clerk as any).__unstable__updateProps}\n            props={props}\n            rootProps={rendererRootProps}\n          />\n        )}\n      </>\n    );\n  },\n  { component: 'Waitlist', renderWhileLoading: true },\n);\n","export const noClerkProviderError = 'You must wrap your application in a <ClerkProvider> component.';\n\nexport const multipleClerkProvidersError =\n  \"You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.\";\n\nexport const multipleChildrenInButtonComponent = (name: string) =>\n  `You've passed multiple children components to <${name}/>. You can only pass a single child component or text.`;\n\nexport const invalidStateError =\n  'Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support';\n\nexport const unsupportedNonBrowserDomainOrProxyUrlFunction =\n  'Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.';\n\nexport const userProfilePageRenderedError =\n  '<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.';\nexport const userProfileLinkRenderedError =\n  '<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.';\n\nexport const organizationProfilePageRenderedError =\n  '<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.';\nexport const organizationProfileLinkRenderedError =\n  '<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.';\n\nexport const customPagesIgnoredComponent = (componentName: string) =>\n  `<${componentName} /> can only accept <${componentName}.Page /> and <${componentName}.Link /> as its children. Any other provided component will be ignored.`;\n\nexport const customPageWrongProps = (componentName: string) =>\n  `Missing props. <${componentName}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`;\n\nexport const customLinkWrongProps = (componentName: string) =>\n  `Missing props. <${componentName}.Link /> component requires the following props: url, label and labelIcon.`;\n\nexport const useAuthHasRequiresRoleOrPermission =\n  'Missing parameters. `has` from `useAuth` requires a permission or role key to be passed. Example usage: `has({permission: \"org:posts:edit\"`';\n\nexport const noPathProvidedError = (componentName: string) =>\n  `The <${componentName}/> component uses path-based routing by default unless a different routing strategy is provided using the \\`routing\\` prop. When path-based routing is used, you need to provide the path where the component is mounted on by using the \\`path\\` prop. Example: <${componentName} path={'/my-path'} />`;\n\nexport const incompatibleRoutingWithPathProvidedError = (componentName: string) =>\n  `The \\`path\\` prop will only be respected when the Clerk component uses path-based routing. To resolve this error, pass \\`routing='path'\\` to the <${componentName}/> component, or drop the \\`path\\` prop to switch to hash-based routing. For more details please refer to our docs: https://clerk.com/docs`;\n\nexport const userButtonIgnoredComponent = `<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored.`;\n\nexport const customMenuItemsIgnoredComponent =\n  '<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored.';\n\nexport const userButtonMenuItemsRenderedError =\n  '<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.';\n\nexport const userButtonMenuActionRenderedError =\n  '<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.';\n\nexport const userButtonMenuLinkRenderedError =\n  '<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.';\n\nexport const userButtonMenuItemLinkWrongProps =\n  'Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.';\n\nexport const userButtonMenuItemsActionWrongsProps =\n  'Missing props. <UserButton.Action /> component requires the following props: label.';\n","import React from 'react';\n\nimport { errorThrower } from '../errors/errorThrower';\nimport { multipleChildrenInButtonComponent } from '../errors/messages';\n\nexport const assertSingleChild =\n  (children: React.ReactNode) =>\n  (name: 'SignInButton' | 'SignUpButton' | 'SignOutButton' | 'SignInWithMetamaskButton') => {\n    try {\n      return React.Children.only(children);\n    } catch {\n      return errorThrower.throw(multipleChildrenInButtonComponent(name));\n    }\n  };\n\nexport const normalizeWithDefaultValue = (children: React.ReactNode | undefined, defaultText: string) => {\n  if (!children) {\n    children = defaultText;\n  }\n  if (typeof children === 'string') {\n    children = <button>{children}</button>;\n  }\n  return children;\n};\n\nexport const safeExecute =\n  (cb: unknown) =>\n  (...args: any) => {\n    if (cb && typeof cb === 'function') {\n      return cb(...args);\n    }\n  };\n","export function isConstructor<T>(f: any): f is T {\n  return typeof f === 'function';\n}\n","import React from 'react';\n\nimport { errorThrower } from '../errors/errorThrower';\n\nconst counts = new Map<string, number>();\n\nexport function useMaxAllowedInstancesGuard(name: string, error: string, maxCount = 1): void {\n  React.useEffect(() => {\n    const count = counts.get(name) || 0;\n    if (count == maxCount) {\n      return errorThrower.throw(error);\n    }\n    counts.set(name, count + 1);\n\n    return () => {\n      counts.set(name, (counts.get(name) || 1) - 1);\n    };\n  }, []);\n}\n\nexport function withMaxAllowedInstancesGuard<P>(\n  WrappedComponent: React.ComponentType<P>,\n  name: string,\n  error: string,\n): React.ComponentType<P> {\n  const displayName = WrappedComponent.displayName || WrappedComponent.name || name || 'Component';\n  const Hoc = (props: P) => {\n    useMaxAllowedInstancesGuard(name, error);\n    return <WrappedComponent {...(props as any)} />;\n  };\n  Hoc.displayName = `withMaxAllowedInstancesGuard(${displayName})`;\n  return Hoc;\n}\n","import React, { useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport type UseCustomElementPortalParams = {\n  component: React.ReactNode;\n  id: number;\n};\n\nexport type UseCustomElementPortalReturn = {\n  portal: () => React.JSX.Element;\n  mount: (node: Element) => void;\n  unmount: () => void;\n  id: number;\n};\n\n// This function takes a component as prop, and returns functions that mount and unmount\n// the given component into a given node\nexport const useCustomElementPortal = (elements: UseCustomElementPortalParams[]) => {\n  const initialState = Array(elements.length).fill(null);\n  const [nodes, setNodes] = useState<(Element | null)[]>(initialState);\n\n  return elements.map((el, index) => ({\n    id: el.id,\n    mount: (node: Element) => setNodes(prevState => prevState.map((n, i) => (i === index ? node : n))),\n    unmount: () => setNodes(prevState => prevState.map((n, i) => (i === index ? null : n))),\n    portal: () => <>{nodes[index] ? createPortal(el.component, nodes[index]) : null}</>,\n  }));\n};\n","import { logErrorInDevMode } from '@clerk/shared/utils';\nimport type { CustomPage } from '@clerk/types';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport {\n  MenuItems,\n  OrganizationProfileLink,\n  OrganizationProfilePage,\n  UserProfileLink,\n  UserProfilePage,\n} from '../components/uiComponents';\nimport { customLinkWrongProps, customPagesIgnoredComponent, customPageWrongProps } from '../errors/messages';\nimport type { UserProfilePageProps } from '../types';\nimport { isThatComponent } from './componentValidation';\nimport type { UseCustomElementPortalParams, UseCustomElementPortalReturn } from './useCustomElementPortal';\nimport { useCustomElementPortal } from './useCustomElementPortal';\n\nexport const useUserProfileCustomPages = (\n  children: React.ReactNode | React.ReactNode[],\n  options?: UseCustomPagesOptions,\n) => {\n  const reorderItemsLabels = ['account', 'security'];\n  return useCustomPages(\n    {\n      children,\n      reorderItemsLabels,\n      LinkComponent: UserProfileLink,\n      PageComponent: UserProfilePage,\n      MenuItemsComponent: MenuItems,\n      componentName: 'UserProfile',\n    },\n    options,\n  );\n};\n\nexport const useOrganizationProfileCustomPages = (\n  children: React.ReactNode | React.ReactNode[],\n  options?: UseCustomPagesOptions,\n) => {\n  const reorderItemsLabels = ['general', 'members'];\n  return useCustomPages(\n    {\n      children,\n      reorderItemsLabels,\n      LinkComponent: OrganizationProfileLink,\n      PageComponent: OrganizationProfilePage,\n      componentName: 'OrganizationProfile',\n    },\n    options,\n  );\n};\n\ntype UseCustomPagesParams = {\n  children: React.ReactNode | React.ReactNode[];\n  LinkComponent: any;\n  PageComponent: any;\n  MenuItemsComponent?: any;\n  reorderItemsLabels: string[];\n  componentName: string;\n};\n\ntype UseCustomPagesOptions = {\n  allowForAnyChildren: boolean;\n};\n\ntype CustomPageWithIdType = UserProfilePageProps & { children?: React.ReactNode };\n\n/**\n * Exclude any children that is used for identifying Custom Pages or Custom Items.\n * Passing:\n * ```tsx\n *  <UserProfile.Page/>\n *  <OrganizationProfile.Link/>\n *  <MyComponent>\n *  <UserButton.MenuItems/>\n * ```\n * Gives back\n * ```tsx\n * <MyComponent>\n * ````\n */\nexport const useSanitizedChildren = (children: React.ReactNode) => {\n  const sanitizedChildren: React.ReactNode[] = [];\n\n  const excludedComponents: any[] = [\n    OrganizationProfileLink,\n    OrganizationProfilePage,\n    MenuItems,\n    UserProfilePage,\n    UserProfileLink,\n  ];\n\n  React.Children.forEach(children, child => {\n    if (!excludedComponents.some(component => isThatComponent(child, component))) {\n      sanitizedChildren.push(child);\n    }\n  });\n\n  return sanitizedChildren;\n};\n\nconst useCustomPages = (params: UseCustomPagesParams, options?: UseCustomPagesOptions) => {\n  const { children, LinkComponent, PageComponent, MenuItemsComponent, reorderItemsLabels, componentName } = params;\n  const { allowForAnyChildren = false } = options || {};\n  const validChildren: CustomPageWithIdType[] = [];\n\n  React.Children.forEach(children, child => {\n    if (\n      !isThatComponent(child, PageComponent) &&\n      !isThatComponent(child, LinkComponent) &&\n      !isThatComponent(child, MenuItemsComponent)\n    ) {\n      if (child && !allowForAnyChildren) {\n        logErrorInDevMode(customPagesIgnoredComponent(componentName));\n      }\n      return;\n    }\n\n    const { props } = child as ReactElement;\n\n    const { children, label, url, labelIcon } = props;\n\n    if (isThatComponent(child, PageComponent)) {\n      if (isReorderItem(props, reorderItemsLabels)) {\n        // This is a reordering item\n        validChildren.push({ label });\n      } else if (isCustomPage(props)) {\n        // this is a custom page\n        validChildren.push({ label, labelIcon, children, url });\n      } else {\n        logErrorInDevMode(customPageWrongProps(componentName));\n        return;\n      }\n    }\n\n    if (isThatComponent(child, LinkComponent)) {\n      if (isExternalLink(props)) {\n        // This is an external link\n        validChildren.push({ label, labelIcon, url });\n      } else {\n        logErrorInDevMode(customLinkWrongProps(componentName));\n        return;\n      }\n    }\n  });\n\n  const customPageContents: UseCustomElementPortalParams[] = [];\n  const customPageLabelIcons: UseCustomElementPortalParams[] = [];\n  const customLinkLabelIcons: UseCustomElementPortalParams[] = [];\n\n  validChildren.forEach((cp, index) => {\n    if (isCustomPage(cp)) {\n      customPageContents.push({ component: cp.children, id: index });\n      customPageLabelIcons.push({ component: cp.labelIcon, id: index });\n      return;\n    }\n    if (isExternalLink(cp)) {\n      customLinkLabelIcons.push({ component: cp.labelIcon, id: index });\n    }\n  });\n\n  const customPageContentsPortals = useCustomElementPortal(customPageContents);\n  const customPageLabelIconsPortals = useCustomElementPortal(customPageLabelIcons);\n  const customLinkLabelIconsPortals = useCustomElementPortal(customLinkLabelIcons);\n\n  const customPages: CustomPage[] = [];\n  const customPagesPortals: React.ComponentType[] = [];\n\n  validChildren.forEach((cp, index) => {\n    if (isReorderItem(cp, reorderItemsLabels)) {\n      customPages.push({ label: cp.label });\n      return;\n    }\n    if (isCustomPage(cp)) {\n      const {\n        portal: contentPortal,\n        mount,\n        unmount,\n      } = customPageContentsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      const {\n        portal: labelPortal,\n        mount: mountIcon,\n        unmount: unmountIcon,\n      } = customPageLabelIconsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      customPages.push({ label: cp.label, url: cp.url, mount, unmount, mountIcon, unmountIcon });\n      customPagesPortals.push(contentPortal);\n      customPagesPortals.push(labelPortal);\n      return;\n    }\n    if (isExternalLink(cp)) {\n      const {\n        portal: labelPortal,\n        mount: mountIcon,\n        unmount: unmountIcon,\n      } = customLinkLabelIconsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      customPages.push({ label: cp.label, url: cp.url, mountIcon, unmountIcon });\n      customPagesPortals.push(labelPortal);\n      return;\n    }\n  });\n\n  return { customPages, customPagesPortals };\n};\n\nconst isReorderItem = (childProps: any, validItems: string[]): boolean => {\n  const { children, label, url, labelIcon } = childProps;\n  return !children && !url && !labelIcon && validItems.some(v => v === label);\n};\n\nconst isCustomPage = (childProps: any): boolean => {\n  const { children, label, url, labelIcon } = childProps;\n  return !!children && !!url && !!labelIcon && !!label;\n};\n\nconst isExternalLink = (childProps: any): boolean => {\n  const { children, label, url, labelIcon } = childProps;\n  return !children && !!url && !!labelIcon && !!label;\n};\n","import React from 'react';\n\nexport const isThatComponent = (v: any, component: React.ReactNode): v is React.ReactNode => {\n  return !!v && React.isValidElement(v) && (v as React.ReactElement)?.type === component;\n};\n","import { logErrorInDevMode } from '@clerk/shared/utils';\nimport type { CustomMenuItem } from '@clerk/types';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { MenuAction, MenuItems, MenuLink, UserProfileLink, UserProfilePage } from '../components/uiComponents';\nimport {\n  customMenuItemsIgnoredComponent,\n  userButtonIgnoredComponent,\n  userButtonMenuItemLinkWrongProps,\n  userButtonMenuItemsActionWrongsProps,\n} from '../errors/messages';\nimport type { UserButtonActionProps, UserButtonLinkProps } from '../types';\nimport { isThatComponent } from './componentValidation';\nimport type { UseCustomElementPortalParams, UseCustomElementPortalReturn } from './useCustomElementPortal';\nimport { useCustomElementPortal } from './useCustomElementPortal';\n\nexport const useUserButtonCustomMenuItems = (children: React.ReactNode | React.ReactNode[]) => {\n  const reorderItemsLabels = ['manageAccount', 'signOut'];\n  return useCustomMenuItems({\n    children,\n    reorderItemsLabels,\n    MenuItemsComponent: MenuItems,\n    MenuActionComponent: MenuAction,\n    MenuLinkComponent: MenuLink,\n    UserProfileLinkComponent: UserProfileLink,\n    UserProfilePageComponent: UserProfilePage,\n  });\n};\n\ntype UseCustomMenuItemsParams = {\n  children: React.ReactNode | React.ReactNode[];\n  MenuItemsComponent?: any;\n  MenuActionComponent?: any;\n  MenuLinkComponent?: any;\n  UserProfileLinkComponent?: any;\n  UserProfilePageComponent?: any;\n  reorderItemsLabels: string[];\n};\n\ntype CustomMenuItemType = UserButtonActionProps | UserButtonLinkProps;\n\nconst useCustomMenuItems = ({\n  children,\n  MenuItemsComponent,\n  MenuActionComponent,\n  MenuLinkComponent,\n  UserProfileLinkComponent,\n  UserProfilePageComponent,\n  reorderItemsLabels,\n}: UseCustomMenuItemsParams) => {\n  const validChildren: CustomMenuItemType[] = [];\n  const customMenuItems: CustomMenuItem[] = [];\n  const customMenuItemsPortals: React.ComponentType[] = [];\n\n  React.Children.forEach(children, child => {\n    if (\n      !isThatComponent(child, MenuItemsComponent) &&\n      !isThatComponent(child, UserProfileLinkComponent) &&\n      !isThatComponent(child, UserProfilePageComponent)\n    ) {\n      if (child) {\n        logErrorInDevMode(userButtonIgnoredComponent);\n      }\n      return;\n    }\n\n    // Ignore UserProfileLinkComponent and UserProfilePageComponent\n    if (isThatComponent(child, UserProfileLinkComponent) || isThatComponent(child, UserProfilePageComponent)) {\n      return;\n    }\n\n    // Menu items children\n    const { props } = child as ReactElement;\n\n    React.Children.forEach(props.children, child => {\n      if (!isThatComponent(child, MenuActionComponent) && !isThatComponent(child, MenuLinkComponent)) {\n        if (child) {\n          logErrorInDevMode(customMenuItemsIgnoredComponent);\n        }\n\n        return;\n      }\n\n      const { props } = child as ReactElement;\n\n      const { label, labelIcon, href, onClick, open } = props;\n\n      if (isThatComponent(child, MenuActionComponent)) {\n        if (isReorderItem(props, reorderItemsLabels)) {\n          // This is a reordering item\n          validChildren.push({ label });\n        } else if (isCustomMenuItem(props)) {\n          const baseItem = {\n            label,\n            labelIcon,\n          };\n\n          if (onClick !== undefined) {\n            validChildren.push({\n              ...baseItem,\n              onClick,\n            });\n          } else if (open !== undefined) {\n            validChildren.push({\n              ...baseItem,\n              open: open.startsWith('/') ? open : `/${open}`,\n            });\n          } else {\n            // Handle the case where neither onClick nor open is defined\n            logErrorInDevMode('Custom menu item must have either onClick or open property');\n            return;\n          }\n        } else {\n          logErrorInDevMode(userButtonMenuItemsActionWrongsProps);\n          return;\n        }\n      }\n\n      if (isThatComponent(child, MenuLinkComponent)) {\n        if (isExternalLink(props)) {\n          validChildren.push({ label, labelIcon, href });\n        } else {\n          logErrorInDevMode(userButtonMenuItemLinkWrongProps);\n          return;\n        }\n      }\n    });\n  });\n\n  const customMenuItemLabelIcons: UseCustomElementPortalParams[] = [];\n  const customLinkLabelIcons: UseCustomElementPortalParams[] = [];\n  validChildren.forEach((mi, index) => {\n    if (isCustomMenuItem(mi)) {\n      customMenuItemLabelIcons.push({ component: mi.labelIcon, id: index });\n    }\n    if (isExternalLink(mi)) {\n      customLinkLabelIcons.push({ component: mi.labelIcon, id: index });\n    }\n  });\n\n  const customMenuItemLabelIconsPortals = useCustomElementPortal(customMenuItemLabelIcons);\n  const customLinkLabelIconsPortals = useCustomElementPortal(customLinkLabelIcons);\n\n  validChildren.forEach((mi, index) => {\n    if (isReorderItem(mi, reorderItemsLabels)) {\n      customMenuItems.push({\n        label: mi.label,\n      });\n    }\n    if (isCustomMenuItem(mi)) {\n      const {\n        portal: iconPortal,\n        mount: mountIcon,\n        unmount: unmountIcon,\n      } = customMenuItemLabelIconsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      const menuItem: CustomMenuItem = {\n        label: mi.label,\n        mountIcon,\n        unmountIcon,\n      };\n\n      if ('onClick' in mi) {\n        menuItem.onClick = mi.onClick;\n      } else if ('open' in mi) {\n        menuItem.open = mi.open;\n      }\n      customMenuItems.push(menuItem);\n      customMenuItemsPortals.push(iconPortal);\n    }\n    if (isExternalLink(mi)) {\n      const {\n        portal: iconPortal,\n        mount: mountIcon,\n        unmount: unmountIcon,\n      } = customLinkLabelIconsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      customMenuItems.push({\n        label: mi.label,\n        href: mi.href,\n        mountIcon,\n        unmountIcon,\n      });\n      customMenuItemsPortals.push(iconPortal);\n    }\n  });\n\n  return { customMenuItems, customMenuItemsPortals };\n};\n\nconst isReorderItem = (childProps: any, validItems: string[]): boolean => {\n  const { children, label, onClick, labelIcon } = childProps;\n  return !children && !onClick && !labelIcon && validItems.some(v => v === label);\n};\n\nconst isCustomMenuItem = (childProps: any): childProps is UserButtonActionProps => {\n  const { label, labelIcon, onClick, open } = childProps;\n  return !!labelIcon && !!label && (typeof onClick === 'function' || typeof open === 'string');\n};\n\nconst isExternalLink = (childProps: any): childProps is UserButtonLinkProps => {\n  const { label, href, labelIcon } = childProps;\n  return !!href && !!labelIcon && !!label;\n};\n","import { useEffect, useRef, useState } from 'react';\n\n/**\n * Used to detect when a Clerk component has been added to the DOM.\n */\nfunction waitForElementChildren(options: { selector?: string; root?: HTMLElement | null; timeout?: number }) {\n  const { root = document?.body, selector, timeout = 0 } = options;\n\n  return new Promise<void>((resolve, reject) => {\n    if (!root) {\n      reject(new Error('No root element provided'));\n      return;\n    }\n\n    let elementToWatch: HTMLElement | null = root;\n    if (selector) {\n      elementToWatch = root?.querySelector(selector);\n    }\n\n    // Check if the element already has child nodes\n    const isElementAlreadyPresent = elementToWatch?.childElementCount && elementToWatch.childElementCount > 0;\n    if (isElementAlreadyPresent) {\n      resolve();\n      return;\n    }\n\n    // Set up a MutationObserver to detect when the element has children\n    const observer = new MutationObserver(mutationsList => {\n      for (const mutation of mutationsList) {\n        if (mutation.type === 'childList') {\n          if (!elementToWatch && selector) {\n            elementToWatch = root?.querySelector(selector);\n          }\n\n          if (elementToWatch?.childElementCount && elementToWatch.childElementCount > 0) {\n            observer.disconnect();\n            resolve();\n            return;\n          }\n        }\n      }\n    });\n\n    observer.observe(root, { childList: true, subtree: true });\n\n    // Set up an optional timeout to reject the promise if the element never gets child nodes\n    if (timeout > 0) {\n      setTimeout(() => {\n        observer.disconnect();\n        reject(new Error(`Timeout waiting for element children`));\n      }, timeout);\n    }\n  });\n}\n\n/**\n * Detect when a Clerk component has mounted by watching DOM updates to an element with a `data-clerk-component=\"${component}\"` property.\n */\nexport function useWaitForComponentMount(component?: string) {\n  const watcherRef = useRef<Promise<void>>();\n  const [status, setStatus] = useState<'rendering' | 'rendered' | 'error'>('rendering');\n\n  useEffect(() => {\n    if (!component) {\n      throw new Error('Clerk: no component name provided, unable to detect mount.');\n    }\n\n    if (typeof window !== 'undefined' && !watcherRef.current) {\n      watcherRef.current = waitForElementChildren({ selector: `[data-clerk-component=\"${component}\"]` })\n        .then(() => {\n          setStatus('rendered');\n        })\n        .catch(() => {\n          setStatus('error');\n        });\n    }\n  }, [component]);\n\n  return status;\n}\n","import { without } from '@clerk/shared/object';\nimport { isDeeplyEqual } from '@clerk/shared/react';\nimport type { PropsWithChildren } from 'react';\nimport React from 'react';\n\nimport type { MountProps, OpenProps } from '../types';\n\nconst isMountProps = (props: any): props is MountProps => {\n  return 'mount' in props;\n};\n\nconst isOpenProps = (props: any): props is OpenProps => {\n  return 'open' in props;\n};\n\nconst stripMenuItemIconHandlers = (\n  menuItems?: Array<{\n    mountIcon?: (el: HTMLDivElement) => void;\n    unmountIcon?: (el: HTMLDivElement) => void;\n    [key: string]: any;\n  }>,\n) => {\n  return menuItems?.map(({ mountIcon, unmountIcon, ...rest }) => rest);\n};\n\n// README: <ClerkHostRenderer/> should be a class pure component in order for mount and unmount\n// lifecycle props to be invoked correctly. Replacing the class component with a\n// functional component wrapped with a React.memo is not identical to the original\n// class implementation due to React intricacies such as the useEffect’s cleanup\n// seems to run AFTER unmount, while componentWillUnmount runs BEFORE.\n\n// More information can be found at https://clerk.slack.com/archives/C015S0BGH8R/p1624891993016300\n\n// The function Portal implementation is commented out for future reference.\n\n// const Portal = React.memo(({ props, mount, unmount }: MountProps) => {\n//   const portalRef = React.createRef<HTMLDivElement>();\n\n//   useEffect(() => {\n//     if (portalRef.current) {\n//       mount(portalRef.current, props);\n//     }\n//     return () => {\n//       if (portalRef.current) {\n//         unmount(portalRef.current);\n//       }\n//     };\n//   }, []);\n\n//   return <div ref={portalRef} />;\n// });\n\n// Portal.displayName = 'ClerkPortal';\n\n/**\n * Used to orchestrate mounting of Clerk components in a host React application.\n * Components are rendered into a specific DOM node using mount/unmount methods provided by the Clerk class.\n */\nexport class ClerkHostRenderer extends React.PureComponent<\n  PropsWithChildren<\n    (MountProps | OpenProps) & {\n      component?: string;\n      hideRootHtmlElement?: boolean;\n      rootProps?: JSX.IntrinsicElements['div'];\n    }\n  >\n> {\n  private rootRef = React.createRef<HTMLDivElement>();\n\n  componentDidUpdate(_prevProps: Readonly<MountProps | OpenProps>) {\n    if (!isMountProps(_prevProps) || !isMountProps(this.props)) {\n      return;\n    }\n\n    // Remove children and customPages from props before comparing\n    // children might hold circular references which deepEqual can't handle\n    // and the implementation of customPages relies on props getting new references\n    const prevProps = without(_prevProps.props, 'customPages', 'customMenuItems', 'children');\n    const newProps = without(this.props.props, 'customPages', 'customMenuItems', 'children');\n\n    // instead, we simply use the length of customPages to determine if it changed or not\n    const customPagesChanged = prevProps.customPages?.length !== newProps.customPages?.length;\n    const customMenuItemsChanged = prevProps.customMenuItems?.length !== newProps.customMenuItems?.length;\n\n    // Strip out mountIcon and unmountIcon handlers since they're always generated as new function references,\n    // which would cause unnecessary re-renders in deep equality checks\n    const prevMenuItemsWithoutHandlers = stripMenuItemIconHandlers(_prevProps.props.customMenuItems);\n    const newMenuItemsWithoutHandlers = stripMenuItemIconHandlers(this.props.props.customMenuItems);\n\n    if (\n      !isDeeplyEqual(prevProps, newProps) ||\n      !isDeeplyEqual(prevMenuItemsWithoutHandlers, newMenuItemsWithoutHandlers) ||\n      customPagesChanged ||\n      customMenuItemsChanged\n    ) {\n      if (this.rootRef.current) {\n        this.props.updateProps({ node: this.rootRef.current, props: this.props.props });\n      }\n    }\n  }\n\n  componentDidMount() {\n    if (this.rootRef.current) {\n      if (isMountProps(this.props)) {\n        this.props.mount(this.rootRef.current, this.props.props);\n      }\n\n      if (isOpenProps(this.props)) {\n        this.props.open(this.props.props);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.rootRef.current) {\n      if (isMountProps(this.props)) {\n        this.props.unmount(this.rootRef.current);\n      }\n      if (isOpenProps(this.props)) {\n        this.props.close();\n      }\n    }\n  }\n\n  render() {\n    const { hideRootHtmlElement = false } = this.props;\n    const rootAttributes = {\n      ref: this.rootRef,\n      ...this.props.rootProps,\n      ...(this.props.component && { 'data-clerk-component': this.props.component }),\n    };\n\n    return (\n      <>\n        {!hideRootHtmlElement && <div {...rootAttributes} />}\n        {this.props.children}\n      </>\n    );\n  }\n}\n","import type { LoadedClerk, Without } from '@clerk/types';\nimport React from 'react';\n\nimport { useIsomorphicClerkContext } from '../contexts/IsomorphicClerkContext';\nimport { useAssertWrappedByClerkProvider } from '../hooks/useAssertWrappedByClerkProvider';\n\nexport const withClerk = <P extends { clerk: LoadedClerk; component?: string }>(\n  Component: React.ComponentType<P>,\n  displayNameOrOptions?: string | { component: string; renderWhileLoading?: boolean },\n) => {\n  const passedDisplayedName =\n    typeof displayNameOrOptions === 'string' ? displayNameOrOptions : displayNameOrOptions?.component;\n  const displayName = passedDisplayedName || Component.displayName || Component.name || 'Component';\n  Component.displayName = displayName;\n\n  const options = typeof displayNameOrOptions === 'string' ? undefined : displayNameOrOptions;\n\n  const HOC = (props: Without<P, 'clerk'>) => {\n    useAssertWrappedByClerkProvider(displayName || 'withClerk');\n\n    const clerk = useIsomorphicClerkContext();\n\n    if (!clerk.loaded && !options?.renderWhileLoading) {\n      return null;\n    }\n\n    return (\n      <Component\n        {...(props as P)}\n        component={displayName}\n        clerk={clerk}\n      />\n    );\n  };\n  HOC.displayName = `withClerk(${displayName})`;\n  return HOC;\n};\n","import { ClerkInstanceContext, useClerkInstanceContext } from '@clerk/shared/react';\n\nimport type { IsomorphicClerk } from '../isomorphicClerk';\n\nexport const IsomorphicClerkContext = ClerkInstanceContext;\nexport const useIsomorphicClerkContext = useClerkInstanceContext as unknown as () => IsomorphicClerk;\n","import { useAssertWrappedByClerkProvider as useSharedAssertWrappedByClerkProvider } from '@clerk/shared/react';\n\nimport { errorThrower } from '../errors/errorThrower';\n\nexport const useAssertWrappedByClerkProvider = (source: string): void => {\n  useSharedAssertWrappedByClerkProvider(() => {\n    errorThrower.throwMissingClerkProviderError({ source });\n  });\n};\n","import { deprecated } from '@clerk/shared/deprecated';\nimport type {\n  CheckAuthorizationWithCustomPermissions,\n  HandleOAuthCallbackParams,\n  OrganizationCustomPermissionKey,\n  OrganizationCustomRoleKey,\n} from '@clerk/types';\nimport React from 'react';\n\nimport { useAuthContext } from '../contexts/AuthContext';\nimport { useIsomorphicClerkContext } from '../contexts/IsomorphicClerkContext';\nimport { useSessionContext } from '../contexts/SessionContext';\nimport { useAuth } from '../hooks';\nimport { useAssertWrappedByClerkProvider } from '../hooks/useAssertWrappedByClerkProvider';\nimport type { RedirectToSignInProps, RedirectToSignUpProps, WithClerkProp } from '../types';\nimport { withClerk } from './withClerk';\n\nexport const SignedIn = ({ children }: React.PropsWithChildren<unknown>) => {\n  useAssertWrappedByClerkProvider('SignedIn');\n\n  const { userId } = useAuthContext();\n  if (userId) {\n    return children;\n  }\n  return null;\n};\n\nexport const SignedOut = ({ children }: React.PropsWithChildren<unknown>) => {\n  useAssertWrappedByClerkProvider('SignedOut');\n\n  const { userId } = useAuthContext();\n  if (userId === null) {\n    return children;\n  }\n  return null;\n};\n\nexport const ClerkLoaded = ({ children }: React.PropsWithChildren<unknown>) => {\n  useAssertWrappedByClerkProvider('ClerkLoaded');\n\n  const isomorphicClerk = useIsomorphicClerkContext();\n  if (!isomorphicClerk.loaded) {\n    return null;\n  }\n  return children;\n};\n\nexport const ClerkLoading = ({ children }: React.PropsWithChildren<unknown>) => {\n  useAssertWrappedByClerkProvider('ClerkLoading');\n\n  const isomorphicClerk = useIsomorphicClerkContext();\n  if (isomorphicClerk.loaded) {\n    return null;\n  }\n  return children;\n};\n\nexport type ProtectProps = React.PropsWithChildren<\n  (\n    | {\n        condition?: never;\n        role: OrganizationCustomRoleKey;\n        permission?: never;\n      }\n    | {\n        condition?: never;\n        role?: never;\n        permission: OrganizationCustomPermissionKey;\n      }\n    | {\n        condition: (has: CheckAuthorizationWithCustomPermissions) => boolean;\n        role?: never;\n        permission?: never;\n      }\n    | {\n        condition?: never;\n        role?: never;\n        permission?: never;\n      }\n  ) & {\n    fallback?: React.ReactNode;\n  }\n>;\n\n/**\n * Use `<Protect/>` in order to prevent unauthenticated or unauthorized users from accessing the children passed to the component.\n *\n * Examples:\n * ```\n * <Protect permission=\"a_permission_key\" />\n * <Protect role=\"a_role_key\" />\n * <Protect condition={(has) => has({permission:\"a_permission_key\"})} />\n * <Protect condition={(has) => has({role:\"a_role_key\"})} />\n * <Protect fallback={<p>Unauthorized</p>} />\n * ```\n */\nexport const Protect = ({ children, fallback, ...restAuthorizedParams }: ProtectProps) => {\n  useAssertWrappedByClerkProvider('Protect');\n\n  const { isLoaded, has, userId } = useAuth();\n\n  /**\n   * Avoid flickering children or fallback while clerk is loading sessionId or userId\n   */\n  if (!isLoaded) {\n    return null;\n  }\n\n  /**\n   * Fallback to UI provided by user or `null` if authorization checks failed\n   */\n  const unauthorized = fallback ?? null;\n\n  const authorized = children;\n\n  if (!userId) {\n    return unauthorized;\n  }\n\n  /**\n   * Check against the results of `has` called inside the callback\n   */\n  if (typeof restAuthorizedParams.condition === 'function') {\n    if (restAuthorizedParams.condition(has)) {\n      return authorized;\n    }\n    return unauthorized;\n  }\n\n  if (restAuthorizedParams.role || restAuthorizedParams.permission) {\n    if (has(restAuthorizedParams)) {\n      return authorized;\n    }\n    return unauthorized;\n  }\n\n  /**\n   * If neither of the authorization params are passed behave as the `<SignedIn/>`.\n   * If fallback is present render that instead of rendering nothing.\n   */\n  return authorized;\n};\n\nexport const RedirectToSignIn = withClerk(({ clerk, ...props }: WithClerkProp<RedirectToSignInProps>) => {\n  const { client, session } = clerk;\n  const hasActiveSessions = client.activeSessions && client.activeSessions.length > 0;\n\n  React.useEffect(() => {\n    if (session === null && hasActiveSessions) {\n      void clerk.redirectToAfterSignOut();\n    } else {\n      void clerk.redirectToSignIn(props);\n    }\n  }, []);\n\n  return null;\n}, 'RedirectToSignIn');\n\nexport const RedirectToSignUp = withClerk(({ clerk, ...props }: WithClerkProp<RedirectToSignUpProps>) => {\n  React.useEffect(() => {\n    void clerk.redirectToSignUp(props);\n  }, []);\n\n  return null;\n}, 'RedirectToSignUp');\n\n/**\n * @deprecated Use [`redirectToUserProfile()`](https://clerk.com/docs/references/javascript/clerk/redirect-methods#redirect-to-user-profile) instead, will be removed in the next major version.\n */\nexport const RedirectToUserProfile = withClerk(({ clerk }) => {\n  React.useEffect(() => {\n    deprecated('RedirectToUserProfile', 'Use the `redirectToUserProfile()` method instead.');\n    void clerk.redirectToUserProfile();\n  }, []);\n\n  return null;\n}, 'RedirectToUserProfile');\n\n/**\n * @deprecated Use [`redirectToOrganizationProfile()`](https://clerk.com/docs/references/javascript/clerk/redirect-methods#redirect-to-organization-profile) instead, will be removed in the next major version.\n */\nexport const RedirectToOrganizationProfile = withClerk(({ clerk }) => {\n  React.useEffect(() => {\n    deprecated('RedirectToOrganizationProfile', 'Use the `redirectToOrganizationProfile()` method instead.');\n    void clerk.redirectToOrganizationProfile();\n  }, []);\n\n  return null;\n}, 'RedirectToOrganizationProfile');\n\n/**\n * @deprecated Use [`redirectToCreateOrganization()`](https://clerk.com/docs/references/javascript/clerk/redirect-methods#redirect-to-create-organization) instead, will be removed in the next major version.\n */\nexport const RedirectToCreateOrganization = withClerk(({ clerk }) => {\n  React.useEffect(() => {\n    deprecated('RedirectToCreateOrganization', 'Use the `redirectToCreateOrganization()` method instead.');\n    void clerk.redirectToCreateOrganization();\n  }, []);\n\n  return null;\n}, 'RedirectToCreateOrganization');\n\nexport const AuthenticateWithRedirectCallback = withClerk(\n  ({ clerk, ...handleRedirectCallbackParams }: WithClerkProp<HandleOAuthCallbackParams>) => {\n    React.useEffect(() => {\n      void clerk.handleRedirectCallback(handleRedirectCallbackParams);\n    }, []);\n\n    return null;\n  },\n  'AuthenticateWithRedirectCallback',\n);\n\nexport const MultisessionAppSupport = ({ children }: React.PropsWithChildren<unknown>) => {\n  useAssertWrappedByClerkProvider('MultisessionAppSupport');\n\n  const session = useSessionContext();\n  return <React.Fragment key={session ? session.id : 'no-users'}>{children}</React.Fragment>;\n};\n","import { createContextAndHook } from '@clerk/shared/react';\nimport type { ActJWTClaim, OrganizationCustomPermissionKey, OrganizationCustomRoleKey } from '@clerk/types';\n\nexport type AuthContextValue = {\n  userId: string | null | undefined;\n  sessionId: string | null | undefined;\n  actor: ActJWTClaim | null | undefined;\n  orgId: string | null | undefined;\n  orgRole: OrganizationCustomRoleKey | null | undefined;\n  orgSlug: string | null | undefined;\n  orgPermissions: OrganizationCustomPermissionKey[] | null | undefined;\n  factorVerificationAge: [number, number] | null;\n};\n\nexport const [AuthContext, useAuthContext] = createContextAndHook<AuthContextValue>('AuthContext');\n","export { SessionContext, useSessionContext } from '@clerk/shared/react';\n","import { createCheckAuthorization } from '@clerk/shared/authorization';\nimport type { CheckAuthorizationWithCustomPermissions, GetToken, SignOut, UseAuthReturn } from '@clerk/types';\nimport { useCallback } from 'react';\n\nimport { useAuthContext } from '../contexts/AuthContext';\nimport { useIsomorphicClerkContext } from '../contexts/IsomorphicClerkContext';\nimport { errorThrower } from '../errors/errorThrower';\nimport { invalidStateError } from '../errors/messages';\nimport { useAssertWrappedByClerkProvider } from './useAssertWrappedByClerkProvider';\nimport { createGetToken, createSignOut } from './utils';\n\n/**\n * The `useAuth()` hook provides access to the current user's authentication state and methods to manage the active session.\n *\n * @example\n *\n * The following example demonstrates how to use the `useAuth()` hook to access the current auth state, like whether the user is signed in or not. It also includes a basic example for using the `getToken()` method to retrieve a session token for fetching data from an external resource.\n *\n * ```tsx {{ filename: 'src/pages/ExternalDataPage.tsx' }}\n * import { useAuth } from '@clerk/clerk-react'\n *\n * export default function ExternalDataPage() {\n *   const { userId, sessionId, getToken, isLoaded, isSignedIn } = useAuth()\n *\n *   const fetchExternalData = async () => {\n *     const token = await getToken()\n *\n *     // Fetch data from an external API\n *     const response = await fetch('https://api.example.com/data', {\n *       headers: {\n *         Authorization: `Bearer ${token}`,\n *       },\n *     })\n *\n *     return response.json()\n *   }\n *\n *   if (!isLoaded) {\n *     return <div>Loading...</div>\n *   }\n *\n *   if (!isSignedIn) {\n *     return <div>Sign in to view this page</div>\n *   }\n *\n *   return (\n *     <div>\n *       <p>\n *         Hello, {userId}! Your current active session is {sessionId}.\n *       </p>\n *       <button onClick={fetchExternalData}>Fetch Data</button>\n *     </div>\n *   )\n * }\n * ```\n */\nexport const useAuth = (initialAuthState: any = {}): UseAuthReturn => {\n  useAssertWrappedByClerkProvider('useAuth');\n\n  const authContextFromHook = useAuthContext();\n  let authContext = authContextFromHook;\n\n  if (authContext.sessionId === undefined && authContext.userId === undefined) {\n    authContext = initialAuthState != null ? initialAuthState : {};\n  }\n\n  const { sessionId, userId, actor, orgId, orgRole, orgSlug, orgPermissions, factorVerificationAge } = authContext;\n  const isomorphicClerk = useIsomorphicClerkContext();\n\n  const getToken: GetToken = useCallback(createGetToken(isomorphicClerk), [isomorphicClerk]);\n  const signOut: SignOut = useCallback(createSignOut(isomorphicClerk), [isomorphicClerk]);\n\n  return useDerivedAuth({\n    sessionId,\n    userId,\n    actor,\n    orgId,\n    orgSlug,\n    orgRole,\n    getToken,\n    signOut,\n    orgPermissions,\n    factorVerificationAge,\n  });\n};\n\n/**\n * A hook that derives and returns authentication state and utility functions based on the provided auth object.\n *\n * @param authObject - An object containing authentication-related properties and functions.\n *\n * @returns A derived authentication state with helper methods. If the authentication state is invalid, an error is thrown.\n *\n * @remarks\n * This hook inspects session, user, and organization information to determine the current authentication state.\n * It returns an object that includes various properties such as whether the state is loaded, if a user is signed in,\n * session and user identifiers, organization roles, and a `has` function for authorization checks.\n * Additionally, it provides `signOut` and `getToken` functions if applicable.\n *\n * @example\n * ```tsx\n * const {\n *   isLoaded,\n *   isSignedIn,\n *   userId,\n *   orgId,\n *   has,\n *   signOut,\n *   getToken\n * } = useDerivedAuth(authObject);\n * ```\n */\nexport function useDerivedAuth(authObject: any): UseAuthReturn {\n  const {\n    sessionId,\n    userId,\n    actor,\n    orgId,\n    orgSlug,\n    orgRole,\n    has,\n    signOut,\n    getToken,\n    orgPermissions,\n    factorVerificationAge,\n  } = authObject ?? {};\n\n  const derivedHas = useCallback(\n    (params: Parameters<CheckAuthorizationWithCustomPermissions>[0]) => {\n      if (has) {\n        return has(params);\n      }\n      return createCheckAuthorization({\n        userId,\n        orgId,\n        orgRole,\n        orgPermissions,\n        factorVerificationAge,\n      })(params);\n    },\n    [userId, factorVerificationAge, orgId, orgRole, orgPermissions],\n  );\n\n  if (sessionId === undefined && userId === undefined) {\n    return {\n      isLoaded: false,\n      isSignedIn: undefined,\n      sessionId,\n      userId,\n      actor: undefined,\n      orgId: undefined,\n      orgRole: undefined,\n      orgSlug: undefined,\n      has: undefined,\n      signOut,\n      getToken,\n    };\n  }\n\n  if (sessionId === null && userId === null) {\n    return {\n      isLoaded: true,\n      isSignedIn: false,\n      sessionId,\n      userId,\n      actor: null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has: () => false,\n      signOut,\n      getToken,\n    };\n  }\n\n  if (!!sessionId && !!userId && !!orgId && !!orgRole) {\n    return {\n      isLoaded: true,\n      isSignedIn: true,\n      sessionId,\n      userId,\n      actor: actor || null,\n      orgId,\n      orgRole,\n      orgSlug: orgSlug || null,\n      has: derivedHas,\n      signOut,\n      getToken,\n    };\n  }\n\n  if (!!sessionId && !!userId && !orgId) {\n    return {\n      isLoaded: true,\n      isSignedIn: true,\n      sessionId,\n      userId,\n      actor: actor || null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has: derivedHas,\n      signOut,\n      getToken,\n    };\n  }\n\n  return errorThrower.throw(invalidStateError);\n}\n","import type { IsomorphicClerk } from '../isomorphicClerk';\n\n/**\n * @internal\n */\nconst clerkLoaded = (isomorphicClerk: IsomorphicClerk) => {\n  return new Promise<void>(resolve => {\n    if (isomorphicClerk.loaded) {\n      resolve();\n    }\n    isomorphicClerk.addOnLoaded(resolve);\n  });\n};\n\n/**\n * @internal\n */\nexport const createGetToken = (isomorphicClerk: IsomorphicClerk) => {\n  return async (options: any) => {\n    await clerkLoaded(isomorphicClerk);\n    if (!isomorphicClerk.session) {\n      return null;\n    }\n    return isomorphicClerk.session.getToken(options);\n  };\n};\n\n/**\n * @internal\n */\nexport const createSignOut = (isomorphicClerk: IsomorphicClerk) => {\n  return async (...args: any) => {\n    await clerkLoaded(isomorphicClerk);\n    return isomorphicClerk.signOut(...args);\n  };\n};\n","import type {\n  CreateEmailLinkFlowReturn,\n  EmailAddressResource,\n  SignInResource,\n  SignInStartEmailLinkFlowParams,\n  SignUpResource,\n  StartEmailLinkFlowParams,\n} from '@clerk/types';\nimport React from 'react';\n\ntype EmailLinkable = SignUpResource | EmailAddressResource | SignInResource;\ntype UseEmailLinkSignInReturn = CreateEmailLinkFlowReturn<SignInStartEmailLinkFlowParams, SignInResource>;\ntype UseEmailLinkSignUpReturn = CreateEmailLinkFlowReturn<StartEmailLinkFlowParams, SignUpResource>;\ntype UseEmailLinkEmailAddressReturn = CreateEmailLinkFlowReturn<StartEmailLinkFlowParams, EmailAddressResource>;\n\nfunction useEmailLink(resource: SignInResource): UseEmailLinkSignInReturn;\nfunction useEmailLink(resource: SignUpResource): UseEmailLinkSignUpReturn;\nfunction useEmailLink(resource: EmailAddressResource): UseEmailLinkEmailAddressReturn;\nfunction useEmailLink(\n  resource: EmailLinkable,\n): UseEmailLinkSignInReturn | UseEmailLinkSignUpReturn | UseEmailLinkEmailAddressReturn {\n  const { startEmailLinkFlow, cancelEmailLinkFlow } = React.useMemo(() => resource.createEmailLinkFlow(), [resource]);\n\n  React.useEffect(() => {\n    return cancelEmailLinkFlow;\n  }, []);\n\n  return {\n    startEmailLinkFlow,\n    cancelEmailLinkFlow,\n  } as UseEmailLinkSignInReturn | UseEmailLinkSignUpReturn | UseEmailLinkEmailAddressReturn;\n}\n\nexport { useEmailLink };\n","import { useClientContext } from '@clerk/shared/react';\nimport { eventMethodCalled } from '@clerk/shared/telemetry';\nimport type { UseSignInReturn } from '@clerk/types';\n\nimport { useIsomorphicClerkContext } from '../contexts/IsomorphicClerkContext';\nimport { useAssertWrappedByClerkProvider } from './useAssertWrappedByClerkProvider';\n\n/**\n * The `useSignIn()` hook provides access to the [`SignIn`](https://clerk.com/docs/references/javascript/sign-in/sign-in) object, which allows you to check the current state of a sign-in attempt and manage the sign-in flow. You can use this to create a [custom sign-in flow](https://clerk.com/docs/custom-flows/overview#sign-in-flow).\n *\n * @example\n * ### Check the current state of a sign-in\n *\n * The following example uses the `useSignIn()` hook to access the [`SignIn`](https://clerk.com/docs/references/javascript/sign-in/sign-in) object, which contains the current sign-in attempt status and methods to create a new sign-in attempt. The `isLoaded` property is used to handle the loading state.\n *\n * ```tsx {{ filename: 'src/pages/SignInPage.tsx' }}\n * import { useSignIn } from '@clerk/clerk-react'\n *\n * export default function SignInPage() {\n *   const { isLoaded, signIn } = useSignIn()\n *\n *   if (!isLoaded) {\n *     // Handle loading state\n *     return null\n *   }\n *\n *   return <div>The current sign-in attempt status is {signIn?.status}.</div>\n * }\n * ```\n *\n * @example\n * ### Create a custom sign-in flow with `useSignIn()`\n *\n * The `useSignIn()` hook can also be used to build fully custom sign-in flows, if Clerk's prebuilt components don't meet your specific needs or if you require more control over the authentication flow. Different sign-in flows include email and password, email and phone codes, email links, and multifactor (MFA). To learn more about using the `useSignIn()` hook to create custom flows, see the [custom flow guides](https://clerk.com/docs/custom-flows/overview).\n *\n * ```\n * ```\n */\nexport const useSignIn = (): UseSignInReturn => {\n  useAssertWrappedByClerkProvider('useSignIn');\n\n  const isomorphicClerk = useIsomorphicClerkContext();\n  const client = useClientContext();\n\n  isomorphicClerk.telemetry?.record(eventMethodCalled('useSignIn'));\n\n  if (!client) {\n    return { isLoaded: false, signIn: undefined, setActive: undefined };\n  }\n\n  return {\n    isLoaded: true,\n    signIn: client.signIn,\n    setActive: isomorphicClerk.setActive,\n  };\n};\n","import { useClientContext } from '@clerk/shared/react';\nimport { eventMethodCalled } from '@clerk/shared/telemetry';\nimport type { UseSignUpReturn } from '@clerk/types';\n\nimport { useIsomorphicClerkContext } from '../contexts/IsomorphicClerkContext';\nimport { useAssertWrappedByClerkProvider } from './useAssertWrappedByClerkProvider';\n\n/**\n * The `useSignUp()` hook provides access to the [`SignUp`](https://clerk.com/docs/references/javascript/sign-up/sign-up) object, which allows you to check the current state of a sign-up attempt and manage the sign-up flow. You can use this to create a [custom sign-up flow](https://clerk.com/docs/custom-flows/overview#sign-up-flow).\n *\n * @example\n * ### Check the current state of a sign-up\n *\n * The following example uses the `useSignUp()` hook to access the [`SignUp`](https://clerk.com/docs/references/javascript/sign-up/sign-up) object, which contains the current sign-up attempt status and methods to create a new sign-up attempt. The `isLoaded` property is used to handle the loading state.\n *\n * ```tsx {{ filename: 'src/pages/SignUpPage.tsx' }}\n * import { useSignUp } from '@clerk/clerk-react'\n *\n * export default function SignUpPage() {\n *   const { isLoaded, signUp } = useSignUp()\n *\n *   if (!isLoaded) {\n *     // Handle loading state\n *     return null\n *   }\n *\n *   return <div>The current sign-up attempt status is {signUp?.status}.</div>\n * }\n * ```\n *\n * @example\n * ### Create a custom sign-up flow with `useSignUp()`\n *\n * The `useSignUp()` hook can also be used to build fully custom sign-up flows, if Clerk's prebuilt components don't meet your specific needs or if you require more control over the authentication flow. Different sign-up flows include email and password, email and phone codes, email links, and multifactor (MFA). To learn more about using the `useSignUp()` hook to create custom flows, see the [custom flow guides](https://clerk.com/docs/custom-flows/overview).\n *\n * ```tsx\n * ```\n */\nexport const useSignUp = (): UseSignUpReturn => {\n  useAssertWrappedByClerkProvider('useSignUp');\n\n  const isomorphicClerk = useIsomorphicClerkContext();\n  const client = useClientContext();\n\n  isomorphicClerk.telemetry?.record(eventMethodCalled('useSignUp'));\n\n  if (!client) {\n    return { isLoaded: false, signUp: undefined, setActive: undefined };\n  }\n\n  return {\n    isLoaded: true,\n    signUp: client.signUp,\n    setActive: isomorphicClerk.setActive,\n  };\n};\n","export { useAuth } from './useAuth';\nexport { useEmailLink } from './useEmailLink';\nexport { useSignIn } from './useSignIn';\nexport { useSignUp } from './useSignUp';\nexport {\n  useClerk,\n  useOrganization,\n  useOrganizationList,\n  useSessionList,\n  useUser,\n  useSession,\n  useReverification,\n} from '@clerk/shared/react';\n","import type { SignInButtonProps, SignInProps } from '@clerk/types';\nimport React from 'react';\n\nimport type { WithClerkProp } from '../types';\nimport { assertSingleChild, normalizeWithDefaultValue, safeExecute } from '../utils';\nimport { withClerk } from './withClerk';\n\nexport const SignInButton = withClerk(\n  ({ clerk, children, ...props }: WithClerkProp<React.PropsWithChildren<SignInButtonProps>>) => {\n    const {\n      signUpFallbackRedirectUrl,\n      forceRedirectUrl,\n      fallbackRedirectUrl,\n      signUpForceRedirectUrl,\n      mode,\n      initialValues,\n      withSignUp,\n      ...rest\n    } = props;\n    children = normalizeWithDefaultValue(children, 'Sign in');\n    const child = assertSingleChild(children)('SignInButton');\n\n    const clickHandler = () => {\n      const opts: SignInProps = {\n        forceRedirectUrl,\n        fallbackRedirectUrl,\n        signUpFallbackRedirectUrl,\n        signUpForceRedirectUrl,\n        initialValues,\n        withSignUp,\n      };\n\n      if (mode === 'modal') {\n        return clerk.openSignIn({ ...opts, appearance: props.appearance });\n      }\n      return clerk.redirectToSignIn({\n        ...opts,\n        signInFallbackRedirectUrl: fallbackRedirectUrl,\n        signInForceRedirectUrl: forceRedirectUrl,\n      });\n    };\n\n    const wrappedChildClickHandler: React.MouseEventHandler = async e => {\n      if (child && typeof child === 'object' && 'props' in child) {\n        await safeExecute(child.props.onClick)(e);\n      }\n      return clickHandler();\n    };\n\n    const childProps = { ...rest, onClick: wrappedChildClickHandler };\n    return React.cloneElement(child as React.ReactElement<unknown>, childProps);\n  },\n  { component: 'SignInButton', renderWhileLoading: true },\n);\n","import type { SignUpButtonProps, SignUpProps } from '@clerk/types';\nimport React from 'react';\n\nimport type { WithClerkProp } from '../types';\nimport { assertSingleChild, normalizeWithDefaultValue, safeExecute } from '../utils';\nimport { withClerk } from './withClerk';\n\nexport const SignUpButton = withClerk(\n  ({ clerk, children, ...props }: WithClerkProp<React.PropsWithChildren<SignUpButtonProps>>) => {\n    const {\n      fallbackRedirectUrl,\n      forceRedirectUrl,\n      signInFallbackRedirectUrl,\n      signInForceRedirectUrl,\n      mode,\n      unsafeMetadata,\n      initialValues,\n      ...rest\n    } = props;\n\n    children = normalizeWithDefaultValue(children, 'Sign up');\n    const child = assertSingleChild(children)('SignUpButton');\n\n    const clickHandler = () => {\n      const opts: SignUpProps = {\n        fallbackRedirectUrl,\n        forceRedirectUrl,\n        signInFallbackRedirectUrl,\n        signInForceRedirectUrl,\n        unsafeMetadata,\n        initialValues,\n      };\n\n      if (mode === 'modal') {\n        return clerk.openSignUp({ ...opts, appearance: props.appearance });\n      }\n\n      return clerk.redirectToSignUp({\n        ...opts,\n        signUpFallbackRedirectUrl: fallbackRedirectUrl,\n        signUpForceRedirectUrl: forceRedirectUrl,\n      });\n    };\n\n    const wrappedChildClickHandler: React.MouseEventHandler = async e => {\n      if (child && typeof child === 'object' && 'props' in child) {\n        await safeExecute(child.props.onClick)(e);\n      }\n      return clickHandler();\n    };\n\n    const childProps = { ...rest, onClick: wrappedChildClickHandler };\n    return React.cloneElement(child as React.ReactElement<unknown>, childProps);\n  },\n  { component: 'SignUpButton', renderWhileLoading: true },\n);\n","import type { SignOutOptions } from '@clerk/types';\nimport React from 'react';\n\nimport type { WithClerkProp } from '../types';\nimport { assertSingleChild, normalizeWithDefaultValue, safeExecute } from '../utils';\nimport { withClerk } from './withClerk';\n\nexport type SignOutButtonProps = {\n  redirectUrl?: string;\n  signOutOptions?: SignOutOptions;\n  children?: React.ReactNode;\n};\n\nexport const SignOutButton = withClerk(\n  ({ clerk, children, ...props }: React.PropsWithChildren<WithClerkProp<SignOutButtonProps>>) => {\n    const { redirectUrl = '/', signOutOptions, ...rest } = props;\n\n    children = normalizeWithDefaultValue(children, 'Sign out');\n    const child = assertSingleChild(children)('SignOutButton');\n\n    const clickHandler = () => clerk.signOut({ redirectUrl, ...signOutOptions });\n    const wrappedChildClickHandler: React.MouseEventHandler = async e => {\n      await safeExecute((child as any).props.onClick)(e);\n      return clickHandler();\n    };\n\n    const childProps = { ...rest, onClick: wrappedChildClickHandler };\n    return React.cloneElement(child as React.ReactElement<unknown>, childProps);\n  },\n  { component: 'SignOutButton', renderWhileLoading: true },\n);\n","import React from 'react';\n\nimport type { SignInWithMetamaskButtonProps, WithClerkProp } from '../types';\nimport { assertSingleChild, normalizeWithDefaultValue, safeExecute } from '../utils';\nimport { withClerk } from './withClerk';\n\nexport const SignInWithMetamaskButton = withClerk(\n  ({ clerk, children, ...props }: WithClerkProp<SignInWithMetamaskButtonProps>) => {\n    const { redirectUrl, ...rest } = props;\n\n    children = normalizeWithDefaultValue(children, 'Sign in with Metamask');\n    const child = assertSingleChild(children)('SignInWithMetamaskButton');\n\n    // TODO: Properly fix this code\n    // eslint-disable-next-line @typescript-eslint/require-await\n    const clickHandler = async () => {\n      async function authenticate() {\n        await clerk.authenticateWithMetamask({ redirectUrl: redirectUrl || undefined });\n      }\n      void authenticate();\n    };\n\n    const wrappedChildClickHandler: React.MouseEventHandler = async e => {\n      await safeExecute((child as any).props.onClick)(e);\n      return clickHandler();\n    };\n\n    const childProps = { ...rest, onClick: wrappedChildClickHandler };\n    return React.cloneElement(child as React.ReactElement<unknown>, childProps);\n  },\n  { component: 'SignInWithMetamask', renderWhileLoading: true },\n);\n","import { isPublishableKey } from '@clerk/shared/keys';\nimport React from 'react';\n\nimport { errorThrower } from '../errors/errorThrower';\nimport { multipleClerkProvidersError } from '../errors/messages';\nimport type { ClerkProviderProps } from '../types';\nimport { withMaxAllowedInstancesGuard } from '../utils';\nimport { ClerkContextProvider } from './ClerkContextProvider';\n\nfunction ClerkProviderBase(props: ClerkProviderProps) {\n  const { initialState, children, __internal_bypassMissingPublishableKey, ...restIsomorphicClerkOptions } = props;\n  const { publishableKey = '', Clerk: userInitialisedClerk } = restIsomorphicClerkOptions;\n\n  if (!userInitialisedClerk && !__internal_bypassMissingPublishableKey) {\n    if (!publishableKey) {\n      errorThrower.throwMissingPublishableKeyError();\n    } else if (publishableKey && !isPublishableKey(publishableKey)) {\n      errorThrower.throwInvalidPublishableKeyError({ key: publishableKey });\n    }\n  }\n\n  return (\n    <ClerkContextProvider\n      initialState={initialState}\n      isomorphicClerkOptions={restIsomorphicClerkOptions}\n    >\n      {children}\n    </ClerkContextProvider>\n  );\n}\n\nconst ClerkProvider = withMaxAllowedInstancesGuard(ClerkProviderBase, 'ClerkProvider', multipleClerkProvidersError);\n\nClerkProvider.displayName = 'ClerkProvider';\n\nexport { ClerkProvider };\n","import { deriveState } from '@clerk/shared/deriveState';\nimport { ClientContext, OrganizationProvider, SessionContext, UserContext } from '@clerk/shared/react';\nimport type { ClientResource, InitialState, Resources } from '@clerk/types';\nimport React from 'react';\n\nimport { IsomorphicClerk } from '../isomorphicClerk';\nimport type { IsomorphicClerkOptions } from '../types';\nimport { AuthContext } from './AuthContext';\nimport { IsomorphicClerkContext } from './IsomorphicClerkContext';\n\ntype ClerkContextProvider = {\n  isomorphicClerkOptions: IsomorphicClerkOptions;\n  initialState: InitialState | undefined;\n  children: React.ReactNode;\n};\n\nexport type ClerkContextProviderState = Resources;\n\nexport function ClerkContextProvider(props: ClerkContextProvider) {\n  const { isomorphicClerkOptions, initialState, children } = props;\n  const { isomorphicClerk: clerk, loaded: clerkLoaded } = useLoadedIsomorphicClerk(isomorphicClerkOptions);\n\n  const [state, setState] = React.useState<ClerkContextProviderState>({\n    client: clerk.client as ClientResource,\n    session: clerk.session,\n    user: clerk.user,\n    organization: clerk.organization,\n  });\n\n  React.useEffect(() => {\n    return clerk.addListener(e => setState({ ...e }));\n  }, []);\n\n  const derivedState = deriveState(clerkLoaded, state, initialState);\n  const clerkCtx = React.useMemo(() => ({ value: clerk }), [clerkLoaded]);\n  const clientCtx = React.useMemo(() => ({ value: state.client }), [state.client]);\n\n  const {\n    sessionId,\n    session,\n    userId,\n    user,\n    orgId,\n    actor,\n    organization,\n    orgRole,\n    orgSlug,\n    orgPermissions,\n    factorVerificationAge,\n  } = derivedState;\n\n  const authCtx = React.useMemo(() => {\n    const value = {\n      sessionId,\n      userId,\n      actor,\n      orgId,\n      orgRole,\n      orgSlug,\n      orgPermissions,\n      factorVerificationAge,\n    };\n    return { value };\n  }, [sessionId, userId, actor, orgId, orgRole, orgSlug, factorVerificationAge]);\n  const sessionCtx = React.useMemo(() => ({ value: session }), [sessionId, session]);\n  const userCtx = React.useMemo(() => ({ value: user }), [userId, user]);\n  const organizationCtx = React.useMemo(() => {\n    const value = {\n      organization: organization,\n    };\n    return { value };\n  }, [orgId, organization]);\n\n  return (\n    // @ts-expect-error value passed is of type IsomorphicClerk where the context expects LoadedClerk\n    <IsomorphicClerkContext.Provider value={clerkCtx}>\n      <ClientContext.Provider value={clientCtx}>\n        <SessionContext.Provider value={sessionCtx}>\n          <OrganizationProvider {...organizationCtx.value}>\n            <AuthContext.Provider value={authCtx}>\n              <UserContext.Provider value={userCtx}>{children}</UserContext.Provider>\n            </AuthContext.Provider>\n          </OrganizationProvider>\n        </SessionContext.Provider>\n      </ClientContext.Provider>\n    </IsomorphicClerkContext.Provider>\n  );\n}\n\nconst useLoadedIsomorphicClerk = (options: IsomorphicClerkOptions) => {\n  const [loaded, setLoaded] = React.useState(false);\n  const isomorphicClerk = React.useMemo(() => IsomorphicClerk.getOrCreateInstance(options), []);\n\n  React.useEffect(() => {\n    void isomorphicClerk.__unstable__updateProps({ appearance: options.appearance });\n  }, [options.appearance]);\n\n  React.useEffect(() => {\n    void isomorphicClerk.__unstable__updateProps({ options });\n  }, [options.localization]);\n\n  React.useEffect(() => {\n    isomorphicClerk.addOnLoaded(() => setLoaded(true));\n  }, []);\n\n  React.useEffect(() => {\n    return () => {\n      IsomorphicClerk.clearInstance();\n      setLoaded(false);\n    };\n  }, []);\n\n  return { isomorphicClerk, loaded };\n};\n","import { inBrowser } from '@clerk/shared/browser';\nimport { loadClerkJsScript } from '@clerk/shared/loadClerkJsScript';\nimport type { TelemetryCollector } from '@clerk/shared/telemetry';\nimport { handleValueOrFn } from '@clerk/shared/utils';\nimport type {\n  __internal_UserVerificationModalProps,\n  __internal_UserVerificationProps,\n  ActiveSessionResource,\n  AuthenticateWithCoinbaseWalletParams,\n  AuthenticateWithGoogleOneTapParams,\n  AuthenticateWithMetamaskParams,\n  AuthenticateWithOKXWalletParams,\n  Clerk,\n  ClerkAuthenticateWithWeb3Params,\n  ClerkOptions,\n  ClientResource,\n  CreateOrganizationParams,\n  CreateOrganizationProps,\n  DomainOrProxyUrl,\n  GoogleOneTapProps,\n  HandleEmailLinkVerificationParams,\n  HandleOAuthCallbackParams,\n  InstanceType,\n  JoinWaitlistParams,\n  ListenerCallback,\n  LoadedClerk,\n  OrganizationListProps,\n  OrganizationProfileProps,\n  OrganizationResource,\n  OrganizationSwitcherProps,\n  RedirectOptions,\n  SDKMetadata,\n  SetActiveParams,\n  SignInProps,\n  SignInRedirectOptions,\n  SignInResource,\n  SignOut,\n  SignOutCallback,\n  SignOutOptions,\n  SignUpProps,\n  SignUpRedirectOptions,\n  SignUpResource,\n  UnsubscribeCallback,\n  UserButtonProps,\n  UserProfileProps,\n  UserResource,\n  WaitlistProps,\n  WaitlistResource,\n  Without,\n} from '@clerk/types';\n\nimport { errorThrower } from './errors/errorThrower';\nimport { unsupportedNonBrowserDomainOrProxyUrlFunction } from './errors/messages';\nimport type {\n  BrowserClerk,\n  BrowserClerkConstructor,\n  ClerkProp,\n  HeadlessBrowserClerk,\n  HeadlessBrowserClerkConstructor,\n  IsomorphicClerkOptions,\n} from './types';\nimport { isConstructor } from './utils';\n\nif (typeof globalThis.__BUILD_DISABLE_RHC__ === 'undefined') {\n  globalThis.__BUILD_DISABLE_RHC__ = false;\n}\n\nconst SDK_METADATA = {\n  name: PACKAGE_NAME,\n  version: PACKAGE_VERSION,\n  environment: process.env.NODE_ENV,\n};\n\nexport interface Global {\n  Clerk?: HeadlessBrowserClerk | BrowserClerk;\n}\n\ndeclare const global: Global;\n\ntype GenericFunction<TArgs = never> = (...args: TArgs[]) => unknown;\n\ntype MethodName<T> = {\n  [P in keyof T]: T[P] extends GenericFunction ? P : never;\n}[keyof T];\n\ntype MethodCallback = () => Promise<unknown> | unknown;\n\ntype IsomorphicLoadedClerk = Without<\n  LoadedClerk,\n  /**\n   * Override ClerkJS methods in order to support premountMethodCalls\n   */\n  | 'buildSignInUrl'\n  | 'buildSignUpUrl'\n  | 'buildUserProfileUrl'\n  | 'buildCreateOrganizationUrl'\n  | 'buildOrganizationProfileUrl'\n  | 'buildAfterSignUpUrl'\n  | 'buildAfterSignInUrl'\n  | 'buildAfterSignOutUrl'\n  | 'buildAfterMultiSessionSingleSignOutUrl'\n  | 'buildUrlWithAuth'\n  | 'buildWaitlistUrl'\n  | 'handleRedirectCallback'\n  | 'handleGoogleOneTapCallback'\n  | 'handleUnauthenticated'\n  | 'authenticateWithMetamask'\n  | 'authenticateWithCoinbaseWallet'\n  | 'authenticateWithWeb3'\n  | 'authenticateWithGoogleOneTap'\n  | 'createOrganization'\n  | 'getOrganization'\n  | 'joinWaitlist'\n  | 'mountUserButton'\n  | 'mountOrganizationList'\n  | 'mountOrganizationSwitcher'\n  | 'mountOrganizationProfile'\n  | 'mountCreateOrganization'\n  | 'mountSignUp'\n  | 'mountSignIn'\n  | 'mountUserProfile'\n  | 'mountWaitlist'\n  | 'client'\n  | '__internal_getCachedResources'\n  | '__internal_reloadInitialResources'\n  | '__internal_addNavigationListener'\n> & {\n  // TODO: Align return type and parms\n  handleRedirectCallback: (params: HandleOAuthCallbackParams) => void;\n  handleGoogleOneTapCallback: (signInOrUp: SignInResource | SignUpResource, params: HandleOAuthCallbackParams) => void;\n  handleUnauthenticated: () => void;\n  // TODO: Align Promise unknown\n  authenticateWithMetamask: (params: AuthenticateWithMetamaskParams) => Promise<void>;\n  authenticateWithCoinbaseWallet: (params: AuthenticateWithCoinbaseWalletParams) => Promise<void>;\n  authenticateWithOKXWallet: (params: AuthenticateWithOKXWalletParams) => Promise<void>;\n  authenticateWithWeb3: (params: ClerkAuthenticateWithWeb3Params) => Promise<void>;\n  authenticateWithGoogleOneTap: (\n    params: AuthenticateWithGoogleOneTapParams,\n  ) => Promise<SignInResource | SignUpResource>;\n  // TODO: Align return type (maybe not possible or correct)\n  createOrganization: (params: CreateOrganizationParams) => Promise<OrganizationResource | void>;\n  // TODO: Align return type (maybe not possible or correct)\n  getOrganization: (organizationId: string) => Promise<OrganizationResource | void>;\n  // TODO: Align return type\n  joinWaitlist: (params: JoinWaitlistParams) => Promise<WaitlistResource | void>;\n\n  // TODO: Align return type\n  buildSignInUrl: (opts?: RedirectOptions) => string | void;\n  // TODO: Align return type\n  buildSignUpUrl: (opts?: RedirectOptions) => string | void;\n  // TODO: Align return type\n  buildUserProfileUrl: () => string | void;\n  // TODO: Align return type\n  buildCreateOrganizationUrl: () => string | void;\n  // TODO: Align return type\n  buildOrganizationProfileUrl: () => string | void;\n  // TODO: Align return type\n  buildAfterSignInUrl: () => string | void;\n  // TODO: Align return type\n  buildAfterSignUpUrl: () => string | void;\n  // TODO: Align return type\n  buildAfterSignOutUrl: () => string | void;\n  // TODO: Align return type\n  buildAfterMultiSessionSingleSignOutUrl: () => string | void;\n  // TODO: Align optional props\n  buildWaitlistUrl: () => string | void;\n  // TODO: Align optional props\n  mountUserButton: (node: HTMLDivElement, props: UserButtonProps) => void;\n  mountOrganizationList: (node: HTMLDivElement, props: OrganizationListProps) => void;\n  mountOrganizationSwitcher: (node: HTMLDivElement, props: OrganizationSwitcherProps) => void;\n  mountOrganizationProfile: (node: HTMLDivElement, props: OrganizationProfileProps) => void;\n  mountCreateOrganization: (node: HTMLDivElement, props: CreateOrganizationProps) => void;\n  mountSignUp: (node: HTMLDivElement, props: SignUpProps) => void;\n  mountSignIn: (node: HTMLDivElement, props: SignInProps) => void;\n  mountUserProfile: (node: HTMLDivElement, props: UserProfileProps) => void;\n  mountWaitlist: (node: HTMLDivElement, props: WaitlistProps) => void;\n  client: ClientResource | undefined;\n};\n\nexport class IsomorphicClerk implements IsomorphicLoadedClerk {\n  private readonly mode: 'browser' | 'server';\n  private readonly options: IsomorphicClerkOptions;\n  private readonly Clerk: ClerkProp;\n  private clerkjs: BrowserClerk | HeadlessBrowserClerk | null = null;\n  private preopenOneTap?: null | GoogleOneTapProps = null;\n  private preopenUserVerification?: null | __internal_UserVerificationProps = null;\n  private preopenSignIn?: null | SignInProps = null;\n  private preopenSignUp?: null | SignUpProps = null;\n  private preopenUserProfile?: null | UserProfileProps = null;\n  private preopenOrganizationProfile?: null | OrganizationProfileProps = null;\n  private preopenCreateOrganization?: null | CreateOrganizationProps = null;\n  private preOpenWaitlist?: null | WaitlistProps = null;\n  private premountSignInNodes = new Map<HTMLDivElement, SignInProps>();\n  private premountSignUpNodes = new Map<HTMLDivElement, SignUpProps>();\n  private premountUserProfileNodes = new Map<HTMLDivElement, UserProfileProps>();\n  private premountUserButtonNodes = new Map<HTMLDivElement, UserButtonProps>();\n  private premountOrganizationProfileNodes = new Map<HTMLDivElement, OrganizationProfileProps>();\n  private premountCreateOrganizationNodes = new Map<HTMLDivElement, CreateOrganizationProps>();\n  private premountOrganizationSwitcherNodes = new Map<HTMLDivElement, OrganizationSwitcherProps>();\n  private premountOrganizationListNodes = new Map<HTMLDivElement, OrganizationListProps>();\n  private premountMethodCalls = new Map<MethodName<BrowserClerk>, MethodCallback>();\n  private premountWaitlistNodes = new Map<HTMLDivElement, WaitlistProps>();\n  // A separate Map of `addListener` method calls to handle multiple listeners.\n  private premountAddListenerCalls = new Map<\n    ListenerCallback,\n    {\n      unsubscribe: UnsubscribeCallback;\n      nativeUnsubscribe?: UnsubscribeCallback;\n    }\n  >();\n  private loadedListeners: Array<() => void> = [];\n\n  #loaded = false;\n  #domain: DomainOrProxyUrl['domain'];\n  #proxyUrl: DomainOrProxyUrl['proxyUrl'];\n  #publishableKey: string;\n\n  get publishableKey(): string {\n    return this.#publishableKey;\n  }\n\n  get loaded(): boolean {\n    return this.#loaded;\n  }\n\n  static #instance: IsomorphicClerk | null | undefined;\n\n  static getOrCreateInstance(options: IsomorphicClerkOptions) {\n    // During SSR: a new instance should be created for every request\n    // During CSR: use the cached instance for the whole lifetime of the app\n    // Also will recreate the instance if the provided Clerk instance changes\n    // This method should be idempotent in both scenarios\n    if (\n      !inBrowser() ||\n      !this.#instance ||\n      (options.Clerk && this.#instance.Clerk !== options.Clerk) ||\n      // Allow hot swapping PKs on the client\n      this.#instance.publishableKey !== options.publishableKey\n    ) {\n      this.#instance = new IsomorphicClerk(options);\n    }\n    return this.#instance;\n  }\n\n  static clearInstance() {\n    this.#instance = null;\n  }\n\n  get domain(): string {\n    // This getter can run in environments where window is not available.\n    // In those cases we should expect and use domain as a string\n    if (typeof window !== 'undefined' && window.location) {\n      return handleValueOrFn(this.#domain, new URL(window.location.href), '');\n    }\n    if (typeof this.#domain === 'function') {\n      return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);\n    }\n    return this.#domain || '';\n  }\n\n  get proxyUrl(): string {\n    // This getter can run in environments where window is not available.\n    // In those cases we should expect and use proxy as a string\n    if (typeof window !== 'undefined' && window.location) {\n      return handleValueOrFn(this.#proxyUrl, new URL(window.location.href), '');\n    }\n    if (typeof this.#proxyUrl === 'function') {\n      return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);\n    }\n    return this.#proxyUrl || '';\n  }\n\n  public __internal_getOption<K extends keyof ClerkOptions>(key: K): ClerkOptions[K] | undefined {\n    return this.clerkjs?.__internal_getOption(key);\n  }\n\n  constructor(options: IsomorphicClerkOptions) {\n    const { Clerk = null, publishableKey } = options || {};\n    this.#publishableKey = publishableKey;\n    this.#proxyUrl = options?.proxyUrl;\n    this.#domain = options?.domain;\n    this.options = options;\n    this.Clerk = Clerk;\n    this.mode = inBrowser() ? 'browser' : 'server';\n\n    if (!this.options.sdkMetadata) {\n      this.options.sdkMetadata = SDK_METADATA;\n    }\n\n    if (this.#publishableKey) {\n      void this.loadClerkJS();\n    }\n  }\n\n  get sdkMetadata(): SDKMetadata | undefined {\n    return this.clerkjs?.sdkMetadata || this.options.sdkMetadata || undefined;\n  }\n\n  get instanceType(): InstanceType | undefined {\n    return this.clerkjs?.instanceType;\n  }\n\n  get frontendApi(): string {\n    return this.clerkjs?.frontendApi || '';\n  }\n\n  get isStandardBrowser(): boolean {\n    return this.clerkjs?.isStandardBrowser || this.options.standardBrowser || false;\n  }\n\n  get isSatellite(): boolean {\n    // This getter can run in environments where window is not available.\n    // In those cases we should expect and use domain as a string\n    if (typeof window !== 'undefined' && window.location) {\n      return handleValueOrFn(this.options.isSatellite, new URL(window.location.href), false);\n    }\n    if (typeof this.options.isSatellite === 'function') {\n      return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);\n    }\n    return false;\n  }\n\n  buildSignInUrl = (opts?: RedirectOptions): string | void => {\n    const callback = () => this.clerkjs?.buildSignInUrl(opts) || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildSignInUrl', callback);\n    }\n  };\n\n  buildSignUpUrl = (opts?: RedirectOptions): string | void => {\n    const callback = () => this.clerkjs?.buildSignUpUrl(opts) || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildSignUpUrl', callback);\n    }\n  };\n\n  buildAfterSignInUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildAfterSignInUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildAfterSignInUrl', callback);\n    }\n  };\n\n  buildAfterSignUpUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildAfterSignUpUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildAfterSignUpUrl', callback);\n    }\n  };\n\n  buildAfterSignOutUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildAfterSignOutUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildAfterSignOutUrl', callback);\n    }\n  };\n\n  buildAfterMultiSessionSingleSignOutUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildAfterMultiSessionSingleSignOutUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildAfterMultiSessionSingleSignOutUrl', callback);\n    }\n  };\n\n  buildUserProfileUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildUserProfileUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildUserProfileUrl', callback);\n    }\n  };\n\n  buildCreateOrganizationUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildCreateOrganizationUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildCreateOrganizationUrl', callback);\n    }\n  };\n\n  buildOrganizationProfileUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildOrganizationProfileUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildOrganizationProfileUrl', callback);\n    }\n  };\n\n  buildWaitlistUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildWaitlistUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildWaitlistUrl', callback);\n    }\n  };\n\n  buildUrlWithAuth = (to: string): string | void => {\n    const callback = () => this.clerkjs?.buildUrlWithAuth(to) || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildUrlWithAuth', callback);\n    }\n  };\n\n  handleUnauthenticated = (): void => {\n    const callback = () => this.clerkjs?.handleUnauthenticated();\n    if (this.clerkjs && this.#loaded) {\n      void callback();\n    } else {\n      this.premountMethodCalls.set('handleUnauthenticated', callback);\n    }\n  };\n\n  #waitForClerkJS(): Promise<HeadlessBrowserClerk | BrowserClerk> {\n    return new Promise<HeadlessBrowserClerk | BrowserClerk>(resolve => {\n      this.addOnLoaded(() => resolve(this.clerkjs!));\n    });\n  }\n\n  async loadClerkJS(): Promise<HeadlessBrowserClerk | BrowserClerk | undefined> {\n    if (this.mode !== 'browser' || this.#loaded) {\n      return;\n    }\n\n    // Store frontendAPI value on window as a fallback. This value can be used as a\n    // fallback during ClerkJS hot loading in case ClerkJS fails to find the\n    // \"data-clerk-frontend-api\" attribute on its script tag.\n\n    // This can happen when the DOM is altered completely during client rehydration.\n    // For example, in Remix with React 18 the document changes completely via `hydrateRoot(document)`.\n\n    // For more information refer to:\n    // - https://github.com/remix-run/remix/issues/2947\n    // - https://github.com/facebook/react/issues/24430\n    if (typeof window !== 'undefined') {\n      window.__clerk_publishable_key = this.#publishableKey;\n      window.__clerk_proxy_url = this.proxyUrl;\n      window.__clerk_domain = this.domain;\n    }\n\n    try {\n      if (this.Clerk) {\n        // Set a fixed Clerk version\n        let c: ClerkProp;\n\n        if (isConstructor<BrowserClerkConstructor | HeadlessBrowserClerkConstructor>(this.Clerk)) {\n          // Construct a new Clerk object if a constructor is passed\n          c = new this.Clerk(this.#publishableKey, {\n            proxyUrl: this.proxyUrl,\n            domain: this.domain,\n          } as any);\n\n          await c.load(this.options);\n        } else {\n          // Otherwise use the instantiated Clerk object\n          c = this.Clerk;\n\n          if (!c.loaded) {\n            await c.load(this.options);\n          }\n        }\n\n        global.Clerk = c;\n      } else if (!__BUILD_DISABLE_RHC__) {\n        // Hot-load latest ClerkJS from Clerk CDN\n        if (!global.Clerk) {\n          await loadClerkJsScript({\n            ...this.options,\n            publishableKey: this.#publishableKey,\n            proxyUrl: this.proxyUrl,\n            domain: this.domain,\n            nonce: this.options.nonce,\n          });\n        }\n\n        if (!global.Clerk) {\n          throw new Error('Failed to download latest ClerkJS. Contact support@clerk.com.');\n        }\n\n        await global.Clerk.load(this.options);\n      }\n\n      if (global.Clerk?.loaded) {\n        return this.hydrateClerkJS(global.Clerk);\n      }\n      return;\n    } catch (err) {\n      const error = err as Error;\n      // In Next.js we can throw a full screen error in development mode.\n      // However, in production throwing an error results in an infinite loop.\n      // More info at: https://github.com/vercel/next.js/issues/6973\n      if (process.env.NODE_ENV === 'production') {\n        console.error(error.stack || error.message || error);\n      } else {\n        throw err;\n      }\n      return;\n    }\n  }\n\n  public addOnLoaded = (cb: () => void) => {\n    this.loadedListeners.push(cb);\n    /**\n     * When IsomorphicClerk is loaded execute the callback directly\n     */\n    if (this.loaded) {\n      this.emitLoaded();\n    }\n  };\n\n  public emitLoaded = () => {\n    this.loadedListeners.forEach(cb => cb());\n    this.loadedListeners = [];\n  };\n\n  private hydrateClerkJS = (clerkjs: BrowserClerk | HeadlessBrowserClerk | undefined) => {\n    if (!clerkjs) {\n      throw new Error('Failed to hydrate latest Clerk JS');\n    }\n\n    this.clerkjs = clerkjs;\n\n    this.premountMethodCalls.forEach(cb => cb());\n    this.premountAddListenerCalls.forEach((listenerHandlers, listener) => {\n      listenerHandlers.nativeUnsubscribe = clerkjs.addListener(listener);\n    });\n\n    if (this.preopenSignIn !== null) {\n      clerkjs.openSignIn(this.preopenSignIn);\n    }\n\n    if (this.preopenSignUp !== null) {\n      clerkjs.openSignUp(this.preopenSignUp);\n    }\n\n    if (this.preopenUserProfile !== null) {\n      clerkjs.openUserProfile(this.preopenUserProfile);\n    }\n\n    if (this.preopenUserVerification !== null) {\n      clerkjs.__internal_openReverification(this.preopenUserVerification);\n    }\n\n    if (this.preopenOneTap !== null) {\n      clerkjs.openGoogleOneTap(this.preopenOneTap);\n    }\n\n    if (this.preopenOrganizationProfile !== null) {\n      clerkjs.openOrganizationProfile(this.preopenOrganizationProfile);\n    }\n\n    if (this.preopenCreateOrganization !== null) {\n      clerkjs.openCreateOrganization(this.preopenCreateOrganization);\n    }\n\n    if (this.preOpenWaitlist !== null) {\n      clerkjs.openWaitlist(this.preOpenWaitlist);\n    }\n\n    this.premountSignInNodes.forEach((props: SignInProps, node: HTMLDivElement) => {\n      clerkjs.mountSignIn(node, props);\n    });\n\n    this.premountSignUpNodes.forEach((props: SignUpProps, node: HTMLDivElement) => {\n      clerkjs.mountSignUp(node, props);\n    });\n\n    this.premountUserProfileNodes.forEach((props: UserProfileProps, node: HTMLDivElement) => {\n      clerkjs.mountUserProfile(node, props);\n    });\n\n    this.premountUserButtonNodes.forEach((props: UserButtonProps, node: HTMLDivElement) => {\n      clerkjs.mountUserButton(node, props);\n    });\n\n    this.premountOrganizationListNodes.forEach((props: OrganizationListProps, node: HTMLDivElement) => {\n      clerkjs.mountOrganizationList(node, props);\n    });\n\n    this.premountWaitlistNodes.forEach((props: WaitlistProps, node: HTMLDivElement) => {\n      clerkjs.mountWaitlist(node, props);\n    });\n\n    this.#loaded = true;\n    this.emitLoaded();\n    return this.clerkjs;\n  };\n\n  get version(): string | undefined {\n    return this.clerkjs?.version;\n  }\n\n  get client(): ClientResource | undefined {\n    if (this.clerkjs) {\n      return this.clerkjs.client;\n      // TODO: add ssr condition\n    } else {\n      return undefined;\n    }\n  }\n\n  get session(): ActiveSessionResource | undefined | null {\n    if (this.clerkjs) {\n      return this.clerkjs.session;\n    } else {\n      return undefined;\n    }\n  }\n\n  get user(): UserResource | undefined | null {\n    if (this.clerkjs) {\n      return this.clerkjs.user;\n    } else {\n      return undefined;\n    }\n  }\n\n  get organization(): OrganizationResource | undefined | null {\n    if (this.clerkjs) {\n      return this.clerkjs.organization;\n    } else {\n      return undefined;\n    }\n  }\n\n  get telemetry(): TelemetryCollector | undefined {\n    if (this.clerkjs) {\n      // @ts-expect-error -- We can't add the type here due to the TelemetryCollector type existing in shared, but the Clerk type existing in types\n      return this.clerkjs.telemetry;\n    } else {\n      return undefined;\n    }\n  }\n\n  get __unstable__environment(): any {\n    if (this.clerkjs) {\n      return (this.clerkjs as any).__unstable__environment;\n      // TODO: add ssr condition\n    } else {\n      return undefined;\n    }\n  }\n\n  __unstable__setEnvironment(...args: any): void {\n    if (this.clerkjs && '__unstable__setEnvironment' in this.clerkjs) {\n      (this.clerkjs as any).__unstable__setEnvironment(args);\n    } else {\n      return undefined;\n    }\n  }\n\n  __unstable__updateProps = async (props: any): Promise<void> => {\n    const clerkjs = await this.#waitForClerkJS();\n    // Handle case where accounts has clerk-react@4 installed, but clerk-js@3 is manually loaded\n    if (clerkjs && '__unstable__updateProps' in clerkjs) {\n      return (clerkjs as any).__unstable__updateProps(props);\n    }\n  };\n\n  /**\n   * `setActive` can be used to set the active session and/or organization.\n   */\n  setActive = ({ session, organization, beforeEmit, redirectUrl }: SetActiveParams): Promise<void> => {\n    if (this.clerkjs) {\n      return this.clerkjs.setActive({ session, organization, beforeEmit, redirectUrl });\n    } else {\n      return Promise.reject();\n    }\n  };\n\n  openSignIn = (props?: SignInProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openSignIn(props);\n    } else {\n      this.preopenSignIn = props;\n    }\n  };\n\n  closeSignIn = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeSignIn();\n    } else {\n      this.preopenSignIn = null;\n    }\n  };\n\n  __internal_openReverification = (props?: __internal_UserVerificationModalProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.__internal_openReverification(props);\n    } else {\n      this.preopenUserVerification = props;\n    }\n  };\n\n  __internal_closeReverification = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.__internal_closeReverification();\n    } else {\n      this.preopenUserVerification = null;\n    }\n  };\n\n  openGoogleOneTap = (props?: GoogleOneTapProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openGoogleOneTap(props);\n    } else {\n      this.preopenOneTap = props;\n    }\n  };\n\n  closeGoogleOneTap = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeGoogleOneTap();\n    } else {\n      this.preopenOneTap = null;\n    }\n  };\n\n  openUserProfile = (props?: UserProfileProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openUserProfile(props);\n    } else {\n      this.preopenUserProfile = props;\n    }\n  };\n\n  closeUserProfile = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeUserProfile();\n    } else {\n      this.preopenUserProfile = null;\n    }\n  };\n\n  openOrganizationProfile = (props?: OrganizationProfileProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openOrganizationProfile(props);\n    } else {\n      this.preopenOrganizationProfile = props;\n    }\n  };\n\n  closeOrganizationProfile = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeOrganizationProfile();\n    } else {\n      this.preopenOrganizationProfile = null;\n    }\n  };\n\n  openCreateOrganization = (props?: CreateOrganizationProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openCreateOrganization(props);\n    } else {\n      this.preopenCreateOrganization = props;\n    }\n  };\n\n  closeCreateOrganization = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeCreateOrganization();\n    } else {\n      this.preopenCreateOrganization = null;\n    }\n  };\n\n  openWaitlist = (props?: WaitlistProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openWaitlist(props);\n    } else {\n      this.preOpenWaitlist = props;\n    }\n  };\n\n  closeWaitlist = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeWaitlist();\n    } else {\n      this.preOpenWaitlist = null;\n    }\n  };\n\n  openSignUp = (props?: SignUpProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openSignUp(props);\n    } else {\n      this.preopenSignUp = props;\n    }\n  };\n\n  closeSignUp = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeSignUp();\n    } else {\n      this.preopenSignUp = null;\n    }\n  };\n\n  mountSignIn = (node: HTMLDivElement, props: SignInProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountSignIn(node, props);\n    } else {\n      this.premountSignInNodes.set(node, props);\n    }\n  };\n\n  unmountSignIn = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountSignIn(node);\n    } else {\n      this.premountSignInNodes.delete(node);\n    }\n  };\n\n  mountSignUp = (node: HTMLDivElement, props: SignUpProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountSignUp(node, props);\n    } else {\n      this.premountSignUpNodes.set(node, props);\n    }\n  };\n\n  unmountSignUp = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountSignUp(node);\n    } else {\n      this.premountSignUpNodes.delete(node);\n    }\n  };\n\n  mountUserProfile = (node: HTMLDivElement, props: UserProfileProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountUserProfile(node, props);\n    } else {\n      this.premountUserProfileNodes.set(node, props);\n    }\n  };\n\n  unmountUserProfile = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountUserProfile(node);\n    } else {\n      this.premountUserProfileNodes.delete(node);\n    }\n  };\n\n  mountOrganizationProfile = (node: HTMLDivElement, props: OrganizationProfileProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountOrganizationProfile(node, props);\n    } else {\n      this.premountOrganizationProfileNodes.set(node, props);\n    }\n  };\n\n  unmountOrganizationProfile = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountOrganizationProfile(node);\n    } else {\n      this.premountOrganizationProfileNodes.delete(node);\n    }\n  };\n\n  mountCreateOrganization = (node: HTMLDivElement, props: CreateOrganizationProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountCreateOrganization(node, props);\n    } else {\n      this.premountCreateOrganizationNodes.set(node, props);\n    }\n  };\n\n  unmountCreateOrganization = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountCreateOrganization(node);\n    } else {\n      this.premountCreateOrganizationNodes.delete(node);\n    }\n  };\n\n  mountOrganizationSwitcher = (node: HTMLDivElement, props: OrganizationSwitcherProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountOrganizationSwitcher(node, props);\n    } else {\n      this.premountOrganizationSwitcherNodes.set(node, props);\n    }\n  };\n\n  unmountOrganizationSwitcher = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountOrganizationSwitcher(node);\n    } else {\n      this.premountOrganizationSwitcherNodes.delete(node);\n    }\n  };\n\n  __experimental_prefetchOrganizationSwitcher = (): void => {\n    const callback = () => this.clerkjs?.__experimental_prefetchOrganizationSwitcher();\n    if (this.clerkjs && this.#loaded) {\n      void callback();\n    } else {\n      this.premountMethodCalls.set('__experimental_prefetchOrganizationSwitcher', callback);\n    }\n  };\n\n  mountOrganizationList = (node: HTMLDivElement, props: OrganizationListProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountOrganizationList(node, props);\n    } else {\n      this.premountOrganizationListNodes.set(node, props);\n    }\n  };\n\n  unmountOrganizationList = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountOrganizationList(node);\n    } else {\n      this.premountOrganizationListNodes.delete(node);\n    }\n  };\n\n  mountUserButton = (node: HTMLDivElement, userButtonProps: UserButtonProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountUserButton(node, userButtonProps);\n    } else {\n      this.premountUserButtonNodes.set(node, userButtonProps);\n    }\n  };\n\n  unmountUserButton = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountUserButton(node);\n    } else {\n      this.premountUserButtonNodes.delete(node);\n    }\n  };\n\n  mountWaitlist = (node: HTMLDivElement, props: WaitlistProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountWaitlist(node, props);\n    } else {\n      this.premountWaitlistNodes.set(node, props);\n    }\n  };\n\n  unmountWaitlist = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountWaitlist(node);\n    } else {\n      this.premountWaitlistNodes.delete(node);\n    }\n  };\n\n  addListener = (listener: ListenerCallback): UnsubscribeCallback => {\n    if (this.clerkjs) {\n      return this.clerkjs.addListener(listener);\n    } else {\n      const unsubscribe = () => {\n        const listenerHandlers = this.premountAddListenerCalls.get(listener);\n        if (listenerHandlers) {\n          listenerHandlers.nativeUnsubscribe?.();\n          this.premountAddListenerCalls.delete(listener);\n        }\n      };\n      this.premountAddListenerCalls.set(listener, { unsubscribe, nativeUnsubscribe: undefined });\n      return unsubscribe;\n    }\n  };\n\n  navigate = (to: string): void => {\n    const callback = () => this.clerkjs?.navigate(to);\n    if (this.clerkjs && this.#loaded) {\n      void callback();\n    } else {\n      this.premountMethodCalls.set('navigate', callback);\n    }\n  };\n\n  redirectWithAuth = async (...args: Parameters<Clerk['redirectWithAuth']>): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectWithAuth(...args);\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectWithAuth', callback);\n      return;\n    }\n  };\n\n  redirectToSignIn = async (opts: SignInRedirectOptions): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToSignIn(opts as any);\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToSignIn', callback);\n      return;\n    }\n  };\n\n  redirectToSignUp = async (opts: SignUpRedirectOptions): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToSignUp(opts as any);\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToSignUp', callback);\n      return;\n    }\n  };\n\n  redirectToUserProfile = async (): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToUserProfile();\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToUserProfile', callback);\n      return;\n    }\n  };\n\n  redirectToAfterSignUp = (): void => {\n    const callback = () => this.clerkjs?.redirectToAfterSignUp();\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToAfterSignUp', callback);\n    }\n  };\n\n  redirectToAfterSignIn = (): void => {\n    const callback = () => this.clerkjs?.redirectToAfterSignIn();\n    if (this.clerkjs && this.#loaded) {\n      callback();\n    } else {\n      this.premountMethodCalls.set('redirectToAfterSignIn', callback);\n    }\n  };\n\n  redirectToAfterSignOut = (): void => {\n    const callback = () => this.clerkjs?.redirectToAfterSignOut();\n    if (this.clerkjs && this.#loaded) {\n      callback();\n    } else {\n      this.premountMethodCalls.set('redirectToAfterSignOut', callback);\n    }\n  };\n\n  redirectToOrganizationProfile = async (): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToOrganizationProfile();\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToOrganizationProfile', callback);\n      return;\n    }\n  };\n\n  redirectToCreateOrganization = async (): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToCreateOrganization();\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToCreateOrganization', callback);\n      return;\n    }\n  };\n\n  redirectToWaitlist = async (): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToWaitlist();\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToWaitlist', callback);\n      return;\n    }\n  };\n\n  handleRedirectCallback = (params: HandleOAuthCallbackParams): void => {\n    const callback = () => this.clerkjs?.handleRedirectCallback(params);\n    if (this.clerkjs && this.#loaded) {\n      void callback()?.catch(() => {\n        // This error is caused when the host app is using React18\n        // and strictMode is enabled. This useEffects runs twice because\n        // the clerk-react ui components mounts, unmounts and mounts again\n        // so the clerk-js component loses its state because of the custom\n        // unmount callback we're using.\n        // This needs to be solved by tweaking the logic in uiComponents.tsx\n        // or by making handleRedirectCallback idempotent\n      });\n    } else {\n      this.premountMethodCalls.set('handleRedirectCallback', callback);\n    }\n  };\n\n  handleGoogleOneTapCallback = (\n    signInOrUp: SignInResource | SignUpResource,\n    params: HandleOAuthCallbackParams,\n  ): void => {\n    const callback = () => this.clerkjs?.handleGoogleOneTapCallback(signInOrUp, params);\n    if (this.clerkjs && this.#loaded) {\n      void callback()?.catch(() => {\n        // This error is caused when the host app is using React18\n        // and strictMode is enabled. This useEffects runs twice because\n        // the clerk-react ui components mounts, unmounts and mounts again\n        // so the clerk-js component loses its state because of the custom\n        // unmount callback we're using.\n        // This needs to be solved by tweaking the logic in uiComponents.tsx\n        // or by making handleRedirectCallback idempotent\n      });\n    } else {\n      this.premountMethodCalls.set('handleGoogleOneTapCallback', callback);\n    }\n  };\n\n  handleEmailLinkVerification = async (params: HandleEmailLinkVerificationParams): Promise<void> => {\n    const callback = () => this.clerkjs?.handleEmailLinkVerification(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('handleEmailLinkVerification', callback);\n    }\n  };\n\n  authenticateWithMetamask = async (params: AuthenticateWithMetamaskParams): Promise<void> => {\n    const callback = () => this.clerkjs?.authenticateWithMetamask(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('authenticateWithMetamask', callback);\n    }\n  };\n\n  authenticateWithCoinbaseWallet = async (params: AuthenticateWithCoinbaseWalletParams): Promise<void> => {\n    const callback = () => this.clerkjs?.authenticateWithCoinbaseWallet(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('authenticateWithCoinbaseWallet', callback);\n    }\n  };\n\n  authenticateWithOKXWallet = async (params?: AuthenticateWithOKXWalletParams): Promise<void> => {\n    const callback = () => this.clerkjs?.authenticateWithOKXWallet(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('authenticateWithOKXWallet', callback);\n    }\n  };\n\n  authenticateWithWeb3 = async (params: ClerkAuthenticateWithWeb3Params): Promise<void> => {\n    const callback = () => this.clerkjs?.authenticateWithWeb3(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('authenticateWithWeb3', callback);\n    }\n  };\n\n  authenticateWithGoogleOneTap = async (\n    params: AuthenticateWithGoogleOneTapParams,\n  ): Promise<SignInResource | SignUpResource> => {\n    const clerkjs = await this.#waitForClerkJS();\n    return clerkjs.authenticateWithGoogleOneTap(params);\n  };\n\n  createOrganization = async (params: CreateOrganizationParams): Promise<OrganizationResource | void> => {\n    const callback = () => this.clerkjs?.createOrganization(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<OrganizationResource>;\n    } else {\n      this.premountMethodCalls.set('createOrganization', callback);\n    }\n  };\n\n  getOrganization = async (organizationId: string): Promise<OrganizationResource | void> => {\n    const callback = () => this.clerkjs?.getOrganization(organizationId);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<OrganizationResource>;\n    } else {\n      this.premountMethodCalls.set('getOrganization', callback);\n    }\n  };\n\n  joinWaitlist = async (params: JoinWaitlistParams): Promise<WaitlistResource | void> => {\n    const callback = () => this.clerkjs?.joinWaitlist(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<WaitlistResource>;\n    } else {\n      this.premountMethodCalls.set('joinWaitlist', callback);\n    }\n  };\n\n  signOut: SignOut = async (\n    signOutCallbackOrOptions?: SignOutCallback | SignOutOptions,\n    options?: SignOutOptions,\n  ): Promise<void> => {\n    const callback = () => this.clerkjs?.signOut(signOutCallbackOrOptions as any, options);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('signOut', callback);\n    }\n  };\n}\n"],"names":["src_exports","__export","AuthenticateWithRedirectCallback","ClerkLoaded","ClerkLoading","ClerkProvider","CreateOrganization","GoogleOneTap","OrganizationList","OrganizationProfile","OrganizationSwitcher","Protect","RedirectToCreateOrganization","RedirectToOrganizationProfile","RedirectToSignIn","RedirectToSignUp","RedirectToUserProfile","SignIn","SignInButton","SignInWithMetamaskButton","SignOutButton","SignUp","SignUpButton","SignedIn","SignedOut","UserButton","UserProfile","Waitlist","useAuth","useClerk","import_react20","useEmailLink","useOrganization","useOrganizationList","useReverification","useSession","useSessionList","useSignIn","useSignUp","useUser","module","exports","__toCommonJS","window","global","import_loadClerkJsScript","require","import_error","errorThrower","buildErrorThrower","packageName","setErrorThrowerOptions","options","setMessages","setPackageName","import_utils","import_react","__toESM","multipleClerkProvidersError","multipleChildrenInButtonComponent","name","invalidStateError","unsupportedNonBrowserDomainOrProxyUrlFunction","userProfilePageRenderedError","userProfileLinkRenderedError","organizationProfilePageRenderedError","organizationProfileLinkRenderedError","customPagesIgnoredComponent","componentName","customPageWrongProps","customLinkWrongProps","userButtonIgnoredComponent","customMenuItemsIgnoredComponent","userButtonMenuItemsRenderedError","userButtonMenuActionRenderedError","userButtonMenuLinkRenderedError","userButtonMenuItemLinkWrongProps","userButtonMenuItemsActionWrongsProps","assertSingleChild","children","React","Children","only","throw","normalizeWithDefaultValue","defaultText","createElement","safeExecute","cb","args","isConstructor","f","counts","Map","useMaxAllowedInstancesGuard","error","maxCount","import_react2","useEffect","count","get","set","withMaxAllowedInstancesGuard","WrappedComponent","displayName","Hoc","props","import_react_dom","useCustomElementPortal","elements","initialState","Array","length","fill","nodes","setNodes","import_react3","useState","map","el","index","id","mount","node","prevState","n","i","unmount","portal","Fragment","createPortal","component","isThatComponent","v","import_react4","isValidElement","type","useUserProfileCustomPages","reorderItemsLabels","useCustomPages","LinkComponent","UserProfileLink","PageComponent","UserProfilePage","MenuItemsComponent","MenuItems","useOrganizationProfileCustomPages","OrganizationProfileLink","OrganizationProfilePage","useSanitizedChildren","sanitizedChildren","excludedComponents","import_react5","forEach","child","some","push","params","allowForAnyChildren","validChildren","logErrorInDevMode","label","url","labelIcon","isReorderItem","isCustomPage","isExternalLink","customPageContents","customPageLabelIcons","customLinkLabelIcons","cp","customPageContentsPortals","customPageLabelIconsPortals","customLinkLabelIconsPortals","customPages","customPagesPortals","contentPortal","find","p","labelPortal","mountIcon","unmountIcon","childProps","validItems","useUserButtonCustomMenuItems","useCustomMenuItems","MenuActionComponent","MenuAction","MenuLinkComponent","MenuLink","UserProfileLinkComponent","UserProfilePageComponent","customMenuItems","customMenuItemsPortals","import_react6","import_utils2","href","onClick","open","isCustomMenuItem","baseItem","startsWith","customMenuItemLabelIcons","mi","customMenuItemLabelIconsPortals","iconPortal","menuItem","waitForElementChildren","root","document","body","selector","timeout","Promise","resolve","reject","Error","elementToWatch","querySelector","isElementAlreadyPresent","childElementCount","observer","MutationObserver","mutationsList","mutation","disconnect","observe","childList","subtree","setTimeout","useWaitForComponentMount","watcherRef","import_react7","useRef","status","setStatus","current","then","catch","import_object","isMountProps","isOpenProps","stripMenuItemIconHandlers","menuItems","rest","ClerkHostRenderer","import_react9","PureComponent","componentDidUpdate","_prevProps","_a","_b","_c","_d","prevProps","without","newProps","customPagesChanged","customMenuItemsChanged","prevMenuItemsWithoutHandlers","newMenuItemsWithoutHandlers","import_react8","isDeeplyEqual","rootRef","updateProps","componentDidMount","componentWillUnmount","close","render","hideRootHtmlElement","rootAttributes","ref","rootProps","constructor","arguments","createRef","IsomorphicClerkContext","import_react10","ClerkInstanceContext","useIsomorphicClerkContext","useClerkInstanceContext","useAssertWrappedByClerkProvider","source","import_react11","useSharedAssertWrappedByClerkProvider","throwMissingClerkProviderError","withClerk","Component","displayNameOrOptions","passedDisplayedName","HOC","clerk","loaded","renderWhileLoading","import_react12","CustomPortalsRenderer","import_react13","key","fallback","mountingStatus","shouldShowFallback","rendererRootProps","style","display","mountSignIn","unmountSignIn","__unstable__updateProps","mountSignUp","unmountSignUp","import_utils3","_UserProfile","mountUserProfile","unmountUserProfile","Object","assign","Page","Link","UserButtonContext","createContext","_UserButton","__experimental_asProvider","userProfileProps","passableProps","mountUserButton","unmountUserButton","portalProps","Provider","value","UserButtonOutlet","outletProps","providerProps","useContext","Action","__experimental_Outlet","_OrganizationProfile","mountOrganizationProfile","unmountOrganizationProfile","mountCreateOrganization","unmountCreateOrganization","OrganizationSwitcherContext","_OrganizationSwitcher","organizationProfileProps","mountOrganizationSwitcher","unmountOrganizationSwitcher","__experimental_prefetchOrganizationSwitcher","OrganizationSwitcherOutlet","mountOrganizationList","unmountOrganizationList","openGoogleOneTap","closeGoogleOneTap","mountWaitlist","unmountWaitlist","import_deprecated","AuthContext","useAuthContext","import_react14","createContextAndHook","import_authorization","clerkLoaded","isomorphicClerk","addOnLoaded","createGetToken","session","getToken","createSignOut","signOut","initialAuthState","authContextFromHook","authContext","sessionId","userId","actor","orgId","orgRole","orgSlug","orgPermissions","factorVerificationAge","import_react16","useCallback","useDerivedAuth","authObject","has","derivedHas","createCheckAuthorization","isLoaded","isSignedIn","resource","startEmailLinkFlow","cancelEmailLinkFlow","import_react17","useMemo","createEmailLinkFlow","import_telemetry","client","import_react18","useClientContext","telemetry","record","eventMethodCalled","signIn","setActive","import_react19","import_telemetry2","signUp","restAuthorizedParams","unauthorized","authorized","condition","role","permission","hasActiveSessions","activeSessions","import_react21","redirectToAfterSignOut","redirectToSignIn","redirectToSignUp","deprecated","redirectToUserProfile","redirectToOrganizationProfile","redirectToCreateOrganization","handleRedirectCallbackParams","handleRedirectCallback","signUpFallbackRedirectUrl","forceRedirectUrl","fallbackRedirectUrl","signUpForceRedirectUrl","mode","initialValues","withSignUp","clickHandler","opts","openSignIn","appearance","signInFallbackRedirectUrl","signInForceRedirectUrl","wrappedChildClickHandler","e","import_react22","cloneElement","unsafeMetadata","openSignUp","import_react23","redirectUrl","signOutOptions","import_react24","authenticate","authenticateWithMetamask","import_react25","import_keys","import_deriveState","import_browser","globalThis","__BUILD_DISABLE_RHC__","SDK_METADATA","version","environment","process","env","NODE_ENV","_loaded","_domain","_proxyUrl","_publishableKey","_instance","_IsomorphicClerk_instances","waitForClerkJS_fn","_IsomorphicClerk","publishableKey","__privateGet","getOrCreateInstance","inBrowser","Clerk","__privateSet","clearInstance","domain","location","import_utils10","handleValueOrFn","URL","proxyUrl","__internal_getOption","clerkjs","sdkMetadata","instanceType","frontendApi","isStandardBrowser","standardBrowser","isSatellite","loadClerkJS","__clerk_publishable_key","__clerk_proxy_url","__clerk_domain","c","load","loadClerkJsScript","nonce","hydrateClerkJS","err","console","stack","message","user","organization","__unstable__environment","__unstable__setEnvironment","__privateAdd","preopenOneTap","preopenUserVerification","preopenSignIn","preopenSignUp","preopenUserProfile","preopenOrganizationProfile","preopenCreateOrganization","preOpenWaitlist","premountSignInNodes","premountSignUpNodes","premountUserProfileNodes","premountUserButtonNodes","premountOrganizationProfileNodes","premountCreateOrganizationNodes","premountOrganizationSwitcherNodes","premountOrganizationListNodes","premountMethodCalls","premountWaitlistNodes","premountAddListenerCalls","loadedListeners","buildSignInUrl","callback","buildSignUpUrl","buildAfterSignInUrl","buildAfterSignUpUrl","buildAfterSignOutUrl","buildAfterMultiSessionSingleSignOutUrl","buildUserProfileUrl","buildCreateOrganizationUrl","buildOrganizationProfileUrl","buildWaitlistUrl","buildUrlWithAuth","to","handleUnauthenticated","emitLoaded","listenerHandlers","listener","nativeUnsubscribe","addListener","openUserProfile","__internal_openReverification","openOrganizationProfile","openCreateOrganization","openWaitlist","__privateMethod","call","beforeEmit","closeSignIn","__internal_closeReverification","closeUserProfile","closeOrganizationProfile","closeCreateOrganization","closeWaitlist","closeSignUp","delete","userButtonProps","unsubscribe","navigate","redirectWithAuth","redirectToAfterSignUp","redirectToAfterSignIn","redirectToWaitlist","handleGoogleOneTapCallback","signInOrUp","handleEmailLinkVerification","authenticateWithCoinbaseWallet","authenticateWithOKXWallet","authenticateWithWeb3","authenticateWithGoogleOneTap","createOrganization","getOrganization","organizationId","joinWaitlist","signOutCallbackOrOptions","WeakMap","WeakSet","IsomorphicClerk","ClerkContextProvider","isomorphicClerkOptions","useLoadedIsomorphicClerk","state","setState","import_react27","derivedState","deriveState","clerkCtx","clientCtx","authCtx","sessionCtx","userCtx","organizationCtx","import_react26","ClientContext","SessionContext","OrganizationProvider","UserContext","setLoaded","localization","ClerkProviderBase","__internal_bypassMissingPublishableKey","restIsomorphicClerkOptions","userInitialisedClerk","throwMissingPublishableKeyError","isPublishableKey","throwInvalidPublishableKeyError","import_react28","import_loadClerkJsScript2","setClerkJsLoadingErrorPackageName"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}