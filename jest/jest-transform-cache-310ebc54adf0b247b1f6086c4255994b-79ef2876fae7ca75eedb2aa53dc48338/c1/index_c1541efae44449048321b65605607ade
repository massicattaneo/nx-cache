3a45703563068d8e982c9652660864b8
"use strict";
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) {
            symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        }
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _object_spread_props(target, source) {
    source = source != null ? source : {};
    if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
        ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
    }
    return target;
}
function _object_without_properties(source, excluded) {
    if (source == null) return {};
    var target = _object_without_properties_loose(source, excluded);
    var key, i;
    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for(i = 0; i < sourceSymbolKeys.length; i++){
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }
    return target;
}
function _object_without_properties_loose(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for(i = 0; i < sourceKeys.length; i++){
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }
    return target;
}
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __typeError = (msg)=>{
    throw TypeError(msg);
};
var __export = (target, all)=>{
    for(var name in all)__defProp(target, name, {
        get: all[name],
        enumerable: true
    });
};
var __copyProps = (to, from, except, desc)=>{
    if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
            get: ()=>from[key],
            enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
        });
    }
    return to;
};
var __toESM = (mod, isNodeMode, target)=>(target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(// If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", {
        value: mod,
        enumerable: true
    }) : target, mod));
var __toCommonJS = (mod)=>__copyProps(__defProp({}, "__esModule", {
        value: true
    }), mod);
var __accessCheck = (obj, member, msg)=>member.has(obj) || __typeError("Cannot " + msg);
var __privateGet = (obj, member, getter)=>(__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
var __privateAdd = (obj, member, value)=>member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var __privateSet = (obj, member, value, setter)=>(__accessCheck(obj, member, "write to private field"), setter ? setter.call(obj, value) : member.set(obj, value), value);
var __privateMethod = (obj, member, method)=>(__accessCheck(obj, member, "access private method"), method);
// src/index.ts
var src_exports = {};
__export(src_exports, {
    AuthenticateWithRedirectCallback: ()=>AuthenticateWithRedirectCallback,
    ClerkLoaded: ()=>ClerkLoaded,
    ClerkLoading: ()=>ClerkLoading,
    ClerkProvider: ()=>ClerkProvider,
    CreateOrganization: ()=>CreateOrganization,
    GoogleOneTap: ()=>GoogleOneTap,
    OrganizationList: ()=>OrganizationList,
    OrganizationProfile: ()=>OrganizationProfile,
    OrganizationSwitcher: ()=>OrganizationSwitcher,
    Protect: ()=>Protect,
    RedirectToCreateOrganization: ()=>RedirectToCreateOrganization,
    RedirectToOrganizationProfile: ()=>RedirectToOrganizationProfile,
    RedirectToSignIn: ()=>RedirectToSignIn,
    RedirectToSignUp: ()=>RedirectToSignUp,
    RedirectToUserProfile: ()=>RedirectToUserProfile,
    SignIn: ()=>SignIn,
    SignInButton: ()=>SignInButton,
    SignInWithMetamaskButton: ()=>SignInWithMetamaskButton,
    SignOutButton: ()=>SignOutButton,
    SignUp: ()=>SignUp,
    SignUpButton: ()=>SignUpButton,
    SignedIn: ()=>SignedIn,
    SignedOut: ()=>SignedOut,
    UserButton: ()=>UserButton,
    UserProfile: ()=>UserProfile,
    Waitlist: ()=>Waitlist,
    useAuth: ()=>useAuth,
    useClerk: ()=>import_react20.useClerk,
    useEmailLink: ()=>useEmailLink,
    useOrganization: ()=>import_react20.useOrganization,
    useOrganizationList: ()=>import_react20.useOrganizationList,
    useReverification: ()=>import_react20.useReverification,
    useSession: ()=>import_react20.useSession,
    useSessionList: ()=>import_react20.useSessionList,
    useSignIn: ()=>useSignIn,
    useSignUp: ()=>useSignUp,
    useUser: ()=>import_react20.useUser
});
module.exports = __toCommonJS(src_exports);
// src/polyfills.ts
if (typeof window !== "undefined" && !window.global) {
    window.global = typeof global === "undefined" ? window : global;
}
// src/index.ts
var import_loadClerkJsScript2 = require("@clerk/shared/loadClerkJsScript");
// src/errors/errorThrower.ts
var import_error = require("@clerk/shared/error");
var errorThrower = (0, import_error.buildErrorThrower)({
    packageName: "@clerk/clerk-react"
});
function setErrorThrowerOptions(options) {
    errorThrower.setMessages(options).setPackageName(options);
}
// src/components/uiComponents.tsx
var import_utils3 = require("@clerk/shared/utils");
var import_react13 = __toESM(require("react"));
// src/errors/messages.ts
var multipleClerkProvidersError = "You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.";
var multipleChildrenInButtonComponent = (name)=>`You've passed multiple children components to <${name}/>. You can only pass a single child component or text.`;
var invalidStateError = "Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support";
var unsupportedNonBrowserDomainOrProxyUrlFunction = "Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.";
var userProfilePageRenderedError = "<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.";
var userProfileLinkRenderedError = "<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.";
var organizationProfilePageRenderedError = "<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.";
var organizationProfileLinkRenderedError = "<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.";
var customPagesIgnoredComponent = (componentName)=>`<${componentName} /> can only accept <${componentName}.Page /> and <${componentName}.Link /> as its children. Any other provided component will be ignored.`;
var customPageWrongProps = (componentName)=>`Missing props. <${componentName}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`;
var customLinkWrongProps = (componentName)=>`Missing props. <${componentName}.Link /> component requires the following props: url, label and labelIcon.`;
var userButtonIgnoredComponent = `<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored.`;
var customMenuItemsIgnoredComponent = "<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored.";
var userButtonMenuItemsRenderedError = "<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.";
var userButtonMenuActionRenderedError = "<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.";
var userButtonMenuLinkRenderedError = "<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.";
var userButtonMenuItemLinkWrongProps = "Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.";
var userButtonMenuItemsActionWrongsProps = "Missing props. <UserButton.Action /> component requires the following props: label.";
// src/utils/childrenUtils.tsx
var import_react = __toESM(require("react"));
var assertSingleChild = (children)=>(name)=>{
        try {
            return import_react.default.Children.only(children);
        } catch (e) {
            return errorThrower.throw(multipleChildrenInButtonComponent(name));
        }
    };
var normalizeWithDefaultValue = (children, defaultText)=>{
    if (!children) {
        children = defaultText;
    }
    if (typeof children === "string") {
        children = /* @__PURE__ */ import_react.default.createElement("button", null, children);
    }
    return children;
};
var safeExecute = (cb)=>(...args)=>{
        if (cb && typeof cb === "function") {
            return cb(...args);
        }
    };
// src/utils/isConstructor.ts
function isConstructor(f) {
    return typeof f === "function";
}
// src/utils/useMaxAllowedInstancesGuard.tsx
var import_react2 = __toESM(require("react"));
var counts = /* @__PURE__ */ new Map();
function useMaxAllowedInstancesGuard(name, error, maxCount = 1) {
    import_react2.default.useEffect(()=>{
        const count = counts.get(name) || 0;
        if (count == maxCount) {
            return errorThrower.throw(error);
        }
        counts.set(name, count + 1);
        return ()=>{
            counts.set(name, (counts.get(name) || 1) - 1);
        };
    }, []);
}
function withMaxAllowedInstancesGuard(WrappedComponent, name, error) {
    const displayName = WrappedComponent.displayName || WrappedComponent.name || name || "Component";
    const Hoc = (props)=>{
        useMaxAllowedInstancesGuard(name, error);
        return /* @__PURE__ */ import_react2.default.createElement(WrappedComponent, _object_spread({}, props));
    };
    Hoc.displayName = `withMaxAllowedInstancesGuard(${displayName})`;
    return Hoc;
}
// src/utils/useCustomElementPortal.tsx
var import_react3 = __toESM(require("react"));
var import_react_dom = require("react-dom");
var useCustomElementPortal = (elements)=>{
    const initialState = Array(elements.length).fill(null);
    const [nodes, setNodes] = (0, import_react3.useState)(initialState);
    return elements.map((el, index)=>({
            id: el.id,
            mount: (node)=>setNodes((prevState)=>prevState.map((n, i)=>i === index ? node : n)),
            unmount: ()=>setNodes((prevState)=>prevState.map((n, i)=>i === index ? null : n)),
            portal: ()=>/* @__PURE__ */ import_react3.default.createElement(import_react3.default.Fragment, null, nodes[index] ? (0, import_react_dom.createPortal)(el.component, nodes[index]) : null)
        }));
};
// src/utils/useCustomPages.tsx
var import_utils = require("@clerk/shared/utils");
var import_react5 = __toESM(require("react"));
// src/utils/componentValidation.ts
var import_react4 = __toESM(require("react"));
var isThatComponent = (v, component)=>{
    return !!v && import_react4.default.isValidElement(v) && (v == null ? void 0 : v.type) === component;
};
// src/utils/useCustomPages.tsx
var useUserProfileCustomPages = (children, options)=>{
    const reorderItemsLabels = [
        "account",
        "security"
    ];
    return useCustomPages({
        children,
        reorderItemsLabels,
        LinkComponent: UserProfileLink,
        PageComponent: UserProfilePage,
        MenuItemsComponent: MenuItems,
        componentName: "UserProfile"
    }, options);
};
var useOrganizationProfileCustomPages = (children, options)=>{
    const reorderItemsLabels = [
        "general",
        "members"
    ];
    return useCustomPages({
        children,
        reorderItemsLabels,
        LinkComponent: OrganizationProfileLink,
        PageComponent: OrganizationProfilePage,
        componentName: "OrganizationProfile"
    }, options);
};
var useSanitizedChildren = (children)=>{
    const sanitizedChildren = [];
    const excludedComponents = [
        OrganizationProfileLink,
        OrganizationProfilePage,
        MenuItems,
        UserProfilePage,
        UserProfileLink
    ];
    import_react5.default.Children.forEach(children, (child)=>{
        if (!excludedComponents.some((component)=>isThatComponent(child, component))) {
            sanitizedChildren.push(child);
        }
    });
    return sanitizedChildren;
};
var useCustomPages = (params, options)=>{
    const { children, LinkComponent, PageComponent, MenuItemsComponent, reorderItemsLabels, componentName } = params;
    const { allowForAnyChildren = false } = options || {};
    const validChildren = [];
    import_react5.default.Children.forEach(children, (child)=>{
        if (!isThatComponent(child, PageComponent) && !isThatComponent(child, LinkComponent) && !isThatComponent(child, MenuItemsComponent)) {
            if (child && !allowForAnyChildren) {
                (0, import_utils.logErrorInDevMode)(customPagesIgnoredComponent(componentName));
            }
            return;
        }
        const { props } = child;
        const { children: children2, label, url, labelIcon } = props;
        if (isThatComponent(child, PageComponent)) {
            if (isReorderItem(props, reorderItemsLabels)) {
                validChildren.push({
                    label
                });
            } else if (isCustomPage(props)) {
                validChildren.push({
                    label,
                    labelIcon,
                    children: children2,
                    url
                });
            } else {
                (0, import_utils.logErrorInDevMode)(customPageWrongProps(componentName));
                return;
            }
        }
        if (isThatComponent(child, LinkComponent)) {
            if (isExternalLink(props)) {
                validChildren.push({
                    label,
                    labelIcon,
                    url
                });
            } else {
                (0, import_utils.logErrorInDevMode)(customLinkWrongProps(componentName));
                return;
            }
        }
    });
    const customPageContents = [];
    const customPageLabelIcons = [];
    const customLinkLabelIcons = [];
    validChildren.forEach((cp, index)=>{
        if (isCustomPage(cp)) {
            customPageContents.push({
                component: cp.children,
                id: index
            });
            customPageLabelIcons.push({
                component: cp.labelIcon,
                id: index
            });
            return;
        }
        if (isExternalLink(cp)) {
            customLinkLabelIcons.push({
                component: cp.labelIcon,
                id: index
            });
        }
    });
    const customPageContentsPortals = useCustomElementPortal(customPageContents);
    const customPageLabelIconsPortals = useCustomElementPortal(customPageLabelIcons);
    const customLinkLabelIconsPortals = useCustomElementPortal(customLinkLabelIcons);
    const customPages = [];
    const customPagesPortals = [];
    validChildren.forEach((cp, index)=>{
        if (isReorderItem(cp, reorderItemsLabels)) {
            customPages.push({
                label: cp.label
            });
            return;
        }
        if (isCustomPage(cp)) {
            const { portal: contentPortal, mount, unmount } = customPageContentsPortals.find((p)=>p.id === index);
            const { portal: labelPortal, mount: mountIcon, unmount: unmountIcon } = customPageLabelIconsPortals.find((p)=>p.id === index);
            customPages.push({
                label: cp.label,
                url: cp.url,
                mount,
                unmount,
                mountIcon,
                unmountIcon
            });
            customPagesPortals.push(contentPortal);
            customPagesPortals.push(labelPortal);
            return;
        }
        if (isExternalLink(cp)) {
            const { portal: labelPortal, mount: mountIcon, unmount: unmountIcon } = customLinkLabelIconsPortals.find((p)=>p.id === index);
            customPages.push({
                label: cp.label,
                url: cp.url,
                mountIcon,
                unmountIcon
            });
            customPagesPortals.push(labelPortal);
            return;
        }
    });
    return {
        customPages,
        customPagesPortals
    };
};
var isReorderItem = (childProps, validItems)=>{
    const { children, label, url, labelIcon } = childProps;
    return !children && !url && !labelIcon && validItems.some((v)=>v === label);
};
var isCustomPage = (childProps)=>{
    const { children, label, url, labelIcon } = childProps;
    return !!children && !!url && !!labelIcon && !!label;
};
var isExternalLink = (childProps)=>{
    const { children, label, url, labelIcon } = childProps;
    return !children && !!url && !!labelIcon && !!label;
};
// src/utils/useCustomMenuItems.tsx
var import_utils2 = require("@clerk/shared/utils");
var import_react6 = __toESM(require("react"));
var useUserButtonCustomMenuItems = (children)=>{
    const reorderItemsLabels = [
        "manageAccount",
        "signOut"
    ];
    return useCustomMenuItems({
        children,
        reorderItemsLabels,
        MenuItemsComponent: MenuItems,
        MenuActionComponent: MenuAction,
        MenuLinkComponent: MenuLink,
        UserProfileLinkComponent: UserProfileLink,
        UserProfilePageComponent: UserProfilePage
    });
};
var useCustomMenuItems = ({ children, MenuItemsComponent, MenuActionComponent, MenuLinkComponent, UserProfileLinkComponent, UserProfilePageComponent, reorderItemsLabels })=>{
    const validChildren = [];
    const customMenuItems = [];
    const customMenuItemsPortals = [];
    import_react6.default.Children.forEach(children, (child)=>{
        if (!isThatComponent(child, MenuItemsComponent) && !isThatComponent(child, UserProfileLinkComponent) && !isThatComponent(child, UserProfilePageComponent)) {
            if (child) {
                (0, import_utils2.logErrorInDevMode)(userButtonIgnoredComponent);
            }
            return;
        }
        if (isThatComponent(child, UserProfileLinkComponent) || isThatComponent(child, UserProfilePageComponent)) {
            return;
        }
        const { props } = child;
        import_react6.default.Children.forEach(props.children, (child2)=>{
            if (!isThatComponent(child2, MenuActionComponent) && !isThatComponent(child2, MenuLinkComponent)) {
                if (child2) {
                    (0, import_utils2.logErrorInDevMode)(customMenuItemsIgnoredComponent);
                }
                return;
            }
            const { props: props2 } = child2;
            const { label, labelIcon, href, onClick, open } = props2;
            if (isThatComponent(child2, MenuActionComponent)) {
                if (isReorderItem2(props2, reorderItemsLabels)) {
                    validChildren.push({
                        label
                    });
                } else if (isCustomMenuItem(props2)) {
                    const baseItem = {
                        label,
                        labelIcon
                    };
                    if (onClick !== void 0) {
                        validChildren.push(_object_spread_props(_object_spread({}, baseItem), {
                            onClick
                        }));
                    } else if (open !== void 0) {
                        validChildren.push(_object_spread_props(_object_spread({}, baseItem), {
                            open: open.startsWith("/") ? open : `/${open}`
                        }));
                    } else {
                        (0, import_utils2.logErrorInDevMode)("Custom menu item must have either onClick or open property");
                        return;
                    }
                } else {
                    (0, import_utils2.logErrorInDevMode)(userButtonMenuItemsActionWrongsProps);
                    return;
                }
            }
            if (isThatComponent(child2, MenuLinkComponent)) {
                if (isExternalLink2(props2)) {
                    validChildren.push({
                        label,
                        labelIcon,
                        href
                    });
                } else {
                    (0, import_utils2.logErrorInDevMode)(userButtonMenuItemLinkWrongProps);
                    return;
                }
            }
        });
    });
    const customMenuItemLabelIcons = [];
    const customLinkLabelIcons = [];
    validChildren.forEach((mi, index)=>{
        if (isCustomMenuItem(mi)) {
            customMenuItemLabelIcons.push({
                component: mi.labelIcon,
                id: index
            });
        }
        if (isExternalLink2(mi)) {
            customLinkLabelIcons.push({
                component: mi.labelIcon,
                id: index
            });
        }
    });
    const customMenuItemLabelIconsPortals = useCustomElementPortal(customMenuItemLabelIcons);
    const customLinkLabelIconsPortals = useCustomElementPortal(customLinkLabelIcons);
    validChildren.forEach((mi, index)=>{
        if (isReorderItem2(mi, reorderItemsLabels)) {
            customMenuItems.push({
                label: mi.label
            });
        }
        if (isCustomMenuItem(mi)) {
            const { portal: iconPortal, mount: mountIcon, unmount: unmountIcon } = customMenuItemLabelIconsPortals.find((p)=>p.id === index);
            const menuItem = {
                label: mi.label,
                mountIcon,
                unmountIcon
            };
            if ("onClick" in mi) {
                menuItem.onClick = mi.onClick;
            } else if ("open" in mi) {
                menuItem.open = mi.open;
            }
            customMenuItems.push(menuItem);
            customMenuItemsPortals.push(iconPortal);
        }
        if (isExternalLink2(mi)) {
            const { portal: iconPortal, mount: mountIcon, unmount: unmountIcon } = customLinkLabelIconsPortals.find((p)=>p.id === index);
            customMenuItems.push({
                label: mi.label,
                href: mi.href,
                mountIcon,
                unmountIcon
            });
            customMenuItemsPortals.push(iconPortal);
        }
    });
    return {
        customMenuItems,
        customMenuItemsPortals
    };
};
var isReorderItem2 = (childProps, validItems)=>{
    const { children, label, onClick, labelIcon } = childProps;
    return !children && !onClick && !labelIcon && validItems.some((v)=>v === label);
};
var isCustomMenuItem = (childProps)=>{
    const { label, labelIcon, onClick, open } = childProps;
    return !!labelIcon && !!label && (typeof onClick === "function" || typeof open === "string");
};
var isExternalLink2 = (childProps)=>{
    const { label, href, labelIcon } = childProps;
    return !!href && !!labelIcon && !!label;
};
// src/utils/useWaitForComponentMount.ts
var import_react7 = require("react");
function waitForElementChildren(options) {
    const { root = document == null ? void 0 : document.body, selector, timeout = 0 } = options;
    return new Promise((resolve, reject)=>{
        if (!root) {
            reject(new Error("No root element provided"));
            return;
        }
        let elementToWatch = root;
        if (selector) {
            elementToWatch = root == null ? void 0 : root.querySelector(selector);
        }
        const isElementAlreadyPresent = (elementToWatch == null ? void 0 : elementToWatch.childElementCount) && elementToWatch.childElementCount > 0;
        if (isElementAlreadyPresent) {
            resolve();
            return;
        }
        const observer = new MutationObserver((mutationsList)=>{
            for (const mutation of mutationsList){
                if (mutation.type === "childList") {
                    if (!elementToWatch && selector) {
                        elementToWatch = root == null ? void 0 : root.querySelector(selector);
                    }
                    if ((elementToWatch == null ? void 0 : elementToWatch.childElementCount) && elementToWatch.childElementCount > 0) {
                        observer.disconnect();
                        resolve();
                        return;
                    }
                }
            }
        });
        observer.observe(root, {
            childList: true,
            subtree: true
        });
        if (timeout > 0) {
            setTimeout(()=>{
                observer.disconnect();
                reject(new Error(`Timeout waiting for element children`));
            }, timeout);
        }
    });
}
function useWaitForComponentMount(component) {
    const watcherRef = (0, import_react7.useRef)();
    const [status, setStatus] = (0, import_react7.useState)("rendering");
    (0, import_react7.useEffect)(()=>{
        if (!component) {
            throw new Error("Clerk: no component name provided, unable to detect mount.");
        }
        if (typeof window !== "undefined" && !watcherRef.current) {
            watcherRef.current = waitForElementChildren({
                selector: `[data-clerk-component="${component}"]`
            }).then(()=>{
                setStatus("rendered");
            }).catch(()=>{
                setStatus("error");
            });
        }
    }, [
        component
    ]);
    return status;
}
// src/components/ClerkHostRenderer.tsx
var import_object = require("@clerk/shared/object");
var import_react8 = require("@clerk/shared/react");
var import_react9 = __toESM(require("react"));
var isMountProps = (props)=>{
    return "mount" in props;
};
var isOpenProps = (props)=>{
    return "open" in props;
};
var stripMenuItemIconHandlers = (menuItems)=>{
    return menuItems == null ? void 0 : menuItems.map((_param)=>{
        var { mountIcon, unmountIcon } = _param, rest = _object_without_properties(_param, [
            "mountIcon",
            "unmountIcon"
        ]);
        return rest;
    });
};
var ClerkHostRenderer = class extends import_react9.default.PureComponent {
    componentDidUpdate(_prevProps) {
        var _a, _b, _c, _d;
        if (!isMountProps(_prevProps) || !isMountProps(this.props)) {
            return;
        }
        const prevProps = (0, import_object.without)(_prevProps.props, "customPages", "customMenuItems", "children");
        const newProps = (0, import_object.without)(this.props.props, "customPages", "customMenuItems", "children");
        const customPagesChanged = ((_a = prevProps.customPages) == null ? void 0 : _a.length) !== ((_b = newProps.customPages) == null ? void 0 : _b.length);
        const customMenuItemsChanged = ((_c = prevProps.customMenuItems) == null ? void 0 : _c.length) !== ((_d = newProps.customMenuItems) == null ? void 0 : _d.length);
        const prevMenuItemsWithoutHandlers = stripMenuItemIconHandlers(_prevProps.props.customMenuItems);
        const newMenuItemsWithoutHandlers = stripMenuItemIconHandlers(this.props.props.customMenuItems);
        if (!(0, import_react8.isDeeplyEqual)(prevProps, newProps) || !(0, import_react8.isDeeplyEqual)(prevMenuItemsWithoutHandlers, newMenuItemsWithoutHandlers) || customPagesChanged || customMenuItemsChanged) {
            if (this.rootRef.current) {
                this.props.updateProps({
                    node: this.rootRef.current,
                    props: this.props.props
                });
            }
        }
    }
    componentDidMount() {
        if (this.rootRef.current) {
            if (isMountProps(this.props)) {
                this.props.mount(this.rootRef.current, this.props.props);
            }
            if (isOpenProps(this.props)) {
                this.props.open(this.props.props);
            }
        }
    }
    componentWillUnmount() {
        if (this.rootRef.current) {
            if (isMountProps(this.props)) {
                this.props.unmount(this.rootRef.current);
            }
            if (isOpenProps(this.props)) {
                this.props.close();
            }
        }
    }
    render() {
        const { hideRootHtmlElement = false } = this.props;
        const rootAttributes = _object_spread({
            ref: this.rootRef
        }, this.props.rootProps, this.props.component && {
            "data-clerk-component": this.props.component
        });
        return /* @__PURE__ */ import_react9.default.createElement(import_react9.default.Fragment, null, !hideRootHtmlElement && /* @__PURE__ */ import_react9.default.createElement("div", _object_spread({}, rootAttributes)), this.props.children);
    }
    constructor(){
        super(...arguments);
        this.rootRef = import_react9.default.createRef();
    }
};
// src/components/withClerk.tsx
var import_react12 = __toESM(require("react"));
// src/contexts/IsomorphicClerkContext.tsx
var import_react10 = require("@clerk/shared/react");
var IsomorphicClerkContext = import_react10.ClerkInstanceContext;
var useIsomorphicClerkContext = import_react10.useClerkInstanceContext;
// src/hooks/useAssertWrappedByClerkProvider.ts
var import_react11 = require("@clerk/shared/react");
var useAssertWrappedByClerkProvider = (source)=>{
    (0, import_react11.useAssertWrappedByClerkProvider)(()=>{
        errorThrower.throwMissingClerkProviderError({
            source
        });
    });
};
// src/components/withClerk.tsx
var withClerk = (Component, displayNameOrOptions)=>{
    const passedDisplayedName = typeof displayNameOrOptions === "string" ? displayNameOrOptions : displayNameOrOptions == null ? void 0 : displayNameOrOptions.component;
    const displayName = passedDisplayedName || Component.displayName || Component.name || "Component";
    Component.displayName = displayName;
    const options = typeof displayNameOrOptions === "string" ? void 0 : displayNameOrOptions;
    const HOC = (props)=>{
        useAssertWrappedByClerkProvider(displayName || "withClerk");
        const clerk = useIsomorphicClerkContext();
        if (!clerk.loaded && !(options == null ? void 0 : options.renderWhileLoading)) {
            return null;
        }
        return /* @__PURE__ */ import_react12.default.createElement(Component, _object_spread_props(_object_spread({}, props), {
            component: displayName,
            clerk
        }));
    };
    HOC.displayName = `withClerk(${displayName})`;
    return HOC;
};
// src/components/uiComponents.tsx
var CustomPortalsRenderer = (props)=>{
    var _a, _b;
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, (_a = props == null ? void 0 : props.customPagesPortals) == null ? void 0 : _a.map((portal, index)=>(0, import_react13.createElement)(portal, {
            key: index
        })), (_b = props == null ? void 0 : props.customMenuItemsPortals) == null ? void 0 : _b.map((portal, index)=>(0, import_react13.createElement)(portal, {
            key: index
        })));
};
var SignIn = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, shouldShowFallback && fallback, clerk.loaded && /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, {
        component,
        mount: clerk.mountSignIn,
        unmount: clerk.unmountSignIn,
        updateProps: clerk.__unstable__updateProps,
        props,
        rootProps: rendererRootProps
    }));
}, {
    component: "SignIn",
    renderWhileLoading: true
});
var SignUp = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, shouldShowFallback && fallback, clerk.loaded && /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, {
        component,
        mount: clerk.mountSignUp,
        unmount: clerk.unmountSignUp,
        updateProps: clerk.__unstable__updateProps,
        props,
        rootProps: rendererRootProps
    }));
}, {
    component: "SignUp",
    renderWhileLoading: true
});
function UserProfilePage({ children }) {
    (0, import_utils3.logErrorInDevMode)(userProfilePageRenderedError);
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, children);
}
function UserProfileLink({ children }) {
    (0, import_utils3.logErrorInDevMode)(userProfileLinkRenderedError);
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, children);
}
var _UserProfile = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    const { customPages, customPagesPortals } = useUserProfileCustomPages(props.children);
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, shouldShowFallback && fallback, /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, {
        component,
        mount: clerk.mountUserProfile,
        unmount: clerk.unmountUserProfile,
        updateProps: clerk.__unstable__updateProps,
        props: _object_spread_props(_object_spread({}, props), {
            customPages
        }),
        rootProps: rendererRootProps
    }, /* @__PURE__ */ import_react13.default.createElement(CustomPortalsRenderer, {
        customPagesPortals
    })));
}, {
    component: "UserProfile",
    renderWhileLoading: true
});
var UserProfile = Object.assign(_UserProfile, {
    Page: UserProfilePage,
    Link: UserProfileLink
});
var UserButtonContext = (0, import_react13.createContext)({
    mount: ()=>{},
    unmount: ()=>{},
    updateProps: ()=>{}
});
var _UserButton = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    const { customPages, customPagesPortals } = useUserProfileCustomPages(props.children, {
        allowForAnyChildren: !!props.__experimental_asProvider
    });
    const userProfileProps = Object.assign(props.userProfileProps || {}, {
        customPages
    });
    const { customMenuItems, customMenuItemsPortals } = useUserButtonCustomMenuItems(props.children);
    const sanitizedChildren = useSanitizedChildren(props.children);
    const passableProps = {
        mount: clerk.mountUserButton,
        unmount: clerk.unmountUserButton,
        updateProps: clerk.__unstable__updateProps,
        props: _object_spread_props(_object_spread({}, props), {
            userProfileProps,
            customMenuItems
        })
    };
    const portalProps = {
        customPagesPortals,
        customMenuItemsPortals
    };
    return /* @__PURE__ */ import_react13.default.createElement(UserButtonContext.Provider, {
        value: passableProps
    }, shouldShowFallback && fallback, clerk.loaded && /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, _object_spread_props(_object_spread({
        component
    }, passableProps), {
        hideRootHtmlElement: !!props.__experimental_asProvider,
        rootProps: rendererRootProps
    }), props.__experimental_asProvider ? sanitizedChildren : null, /* @__PURE__ */ import_react13.default.createElement(CustomPortalsRenderer, _object_spread({}, portalProps))));
}, {
    component: "UserButton",
    renderWhileLoading: true
});
function MenuItems({ children }) {
    (0, import_utils3.logErrorInDevMode)(userButtonMenuItemsRenderedError);
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, children);
}
function MenuAction({ children }) {
    (0, import_utils3.logErrorInDevMode)(userButtonMenuActionRenderedError);
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, children);
}
function MenuLink({ children }) {
    (0, import_utils3.logErrorInDevMode)(userButtonMenuLinkRenderedError);
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, children);
}
function UserButtonOutlet(outletProps) {
    const providerProps = (0, import_react13.useContext)(UserButtonContext);
    const portalProps = _object_spread_props(_object_spread({}, providerProps), {
        props: _object_spread({}, providerProps.props, outletProps)
    });
    return /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, _object_spread({}, portalProps));
}
var UserButton = Object.assign(_UserButton, {
    UserProfilePage,
    UserProfileLink,
    MenuItems,
    Action: MenuAction,
    Link: MenuLink,
    __experimental_Outlet: UserButtonOutlet
});
function OrganizationProfilePage({ children }) {
    (0, import_utils3.logErrorInDevMode)(organizationProfilePageRenderedError);
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, children);
}
function OrganizationProfileLink({ children }) {
    (0, import_utils3.logErrorInDevMode)(organizationProfileLinkRenderedError);
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, children);
}
var _OrganizationProfile = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    const { customPages, customPagesPortals } = useOrganizationProfileCustomPages(props.children);
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, shouldShowFallback && fallback, clerk.loaded && /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, {
        component,
        mount: clerk.mountOrganizationProfile,
        unmount: clerk.unmountOrganizationProfile,
        updateProps: clerk.__unstable__updateProps,
        props: _object_spread_props(_object_spread({}, props), {
            customPages
        }),
        rootProps: rendererRootProps
    }, /* @__PURE__ */ import_react13.default.createElement(CustomPortalsRenderer, {
        customPagesPortals
    })));
}, {
    component: "OrganizationProfile",
    renderWhileLoading: true
});
var OrganizationProfile = Object.assign(_OrganizationProfile, {
    Page: OrganizationProfilePage,
    Link: OrganizationProfileLink
});
var CreateOrganization = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, shouldShowFallback && fallback, clerk.loaded && /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, {
        component,
        mount: clerk.mountCreateOrganization,
        unmount: clerk.unmountCreateOrganization,
        updateProps: clerk.__unstable__updateProps,
        props,
        rootProps: rendererRootProps
    }));
}, {
    component: "CreateOrganization",
    renderWhileLoading: true
});
var OrganizationSwitcherContext = (0, import_react13.createContext)({
    mount: ()=>{},
    unmount: ()=>{},
    updateProps: ()=>{}
});
var _OrganizationSwitcher = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    const { customPages, customPagesPortals } = useOrganizationProfileCustomPages(props.children, {
        allowForAnyChildren: !!props.__experimental_asProvider
    });
    const organizationProfileProps = Object.assign(props.organizationProfileProps || {}, {
        customPages
    });
    const sanitizedChildren = useSanitizedChildren(props.children);
    const passableProps = {
        mount: clerk.mountOrganizationSwitcher,
        unmount: clerk.unmountOrganizationSwitcher,
        updateProps: clerk.__unstable__updateProps,
        props: _object_spread_props(_object_spread({}, props), {
            organizationProfileProps
        }),
        rootProps: rendererRootProps,
        component
    };
    clerk.__experimental_prefetchOrganizationSwitcher();
    return /* @__PURE__ */ import_react13.default.createElement(OrganizationSwitcherContext.Provider, {
        value: passableProps
    }, /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, shouldShowFallback && fallback, clerk.loaded && /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, _object_spread_props(_object_spread({}, passableProps), {
        hideRootHtmlElement: !!props.__experimental_asProvider
    }), props.__experimental_asProvider ? sanitizedChildren : null, /* @__PURE__ */ import_react13.default.createElement(CustomPortalsRenderer, {
        customPagesPortals
    }))));
}, {
    component: "OrganizationSwitcher",
    renderWhileLoading: true
});
function OrganizationSwitcherOutlet(outletProps) {
    const providerProps = (0, import_react13.useContext)(OrganizationSwitcherContext);
    const portalProps = _object_spread_props(_object_spread({}, providerProps), {
        props: _object_spread({}, providerProps.props, outletProps)
    });
    return /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, _object_spread({}, portalProps));
}
var OrganizationSwitcher = Object.assign(_OrganizationSwitcher, {
    OrganizationProfilePage,
    OrganizationProfileLink,
    __experimental_Outlet: OrganizationSwitcherOutlet
});
var OrganizationList = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, shouldShowFallback && fallback, clerk.loaded && /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, {
        component,
        mount: clerk.mountOrganizationList,
        unmount: clerk.unmountOrganizationList,
        updateProps: clerk.__unstable__updateProps,
        props,
        rootProps: rendererRootProps
    }));
}, {
    component: "OrganizationList",
    renderWhileLoading: true
});
var GoogleOneTap = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, shouldShowFallback && fallback, clerk.loaded && /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, {
        component,
        open: clerk.openGoogleOneTap,
        close: clerk.closeGoogleOneTap,
        updateProps: clerk.__unstable__updateProps,
        props,
        rootProps: rendererRootProps
    }));
}, {
    component: "GoogleOneTap",
    renderWhileLoading: true
});
var Waitlist = withClerk((_param)=>{
    var { clerk, component, fallback } = _param, props = _object_without_properties(_param, [
        "clerk",
        "component",
        "fallback"
    ]);
    const mountingStatus = useWaitForComponentMount(component);
    const shouldShowFallback = mountingStatus === "rendering" || !clerk.loaded;
    const rendererRootProps = _object_spread({}, shouldShowFallback && fallback && {
        style: {
            display: "none"
        }
    });
    return /* @__PURE__ */ import_react13.default.createElement(import_react13.default.Fragment, null, shouldShowFallback && fallback, clerk.loaded && /* @__PURE__ */ import_react13.default.createElement(ClerkHostRenderer, {
        component,
        mount: clerk.mountWaitlist,
        unmount: clerk.unmountWaitlist,
        updateProps: clerk.__unstable__updateProps,
        props,
        rootProps: rendererRootProps
    }));
}, {
    component: "Waitlist",
    renderWhileLoading: true
});
// src/components/controlComponents.tsx
var import_deprecated = require("@clerk/shared/deprecated");
var import_react21 = __toESM(require("react"));
// src/contexts/AuthContext.ts
var import_react14 = require("@clerk/shared/react");
var [AuthContext, useAuthContext] = (0, import_react14.createContextAndHook)("AuthContext");
// src/contexts/SessionContext.tsx
var import_react15 = require("@clerk/shared/react");
// src/hooks/useAuth.ts
var import_authorization = require("@clerk/shared/authorization");
var import_react16 = require("react");
// src/hooks/utils.ts
var clerkLoaded = (isomorphicClerk)=>{
    return new Promise((resolve)=>{
        if (isomorphicClerk.loaded) {
            resolve();
        }
        isomorphicClerk.addOnLoaded(resolve);
    });
};
var createGetToken = (isomorphicClerk)=>{
    return async (options)=>{
        await clerkLoaded(isomorphicClerk);
        if (!isomorphicClerk.session) {
            return null;
        }
        return isomorphicClerk.session.getToken(options);
    };
};
var createSignOut = (isomorphicClerk)=>{
    return async (...args)=>{
        await clerkLoaded(isomorphicClerk);
        return isomorphicClerk.signOut(...args);
    };
};
// src/hooks/useAuth.ts
var useAuth = (initialAuthState = {})=>{
    useAssertWrappedByClerkProvider("useAuth");
    const authContextFromHook = useAuthContext();
    let authContext = authContextFromHook;
    if (authContext.sessionId === void 0 && authContext.userId === void 0) {
        authContext = initialAuthState != null ? initialAuthState : {};
    }
    const { sessionId, userId, actor, orgId, orgRole, orgSlug, orgPermissions, factorVerificationAge } = authContext;
    const isomorphicClerk = useIsomorphicClerkContext();
    const getToken = (0, import_react16.useCallback)(createGetToken(isomorphicClerk), [
        isomorphicClerk
    ]);
    const signOut = (0, import_react16.useCallback)(createSignOut(isomorphicClerk), [
        isomorphicClerk
    ]);
    return useDerivedAuth({
        sessionId,
        userId,
        actor,
        orgId,
        orgSlug,
        orgRole,
        getToken,
        signOut,
        orgPermissions,
        factorVerificationAge
    });
};
function useDerivedAuth(authObject) {
    const { sessionId, userId, actor, orgId, orgSlug, orgRole, has, signOut, getToken, orgPermissions, factorVerificationAge } = authObject != null ? authObject : {};
    const derivedHas = (0, import_react16.useCallback)((params)=>{
        if (has) {
            return has(params);
        }
        return (0, import_authorization.createCheckAuthorization)({
            userId,
            orgId,
            orgRole,
            orgPermissions,
            factorVerificationAge
        })(params);
    }, [
        userId,
        factorVerificationAge,
        orgId,
        orgRole,
        orgPermissions
    ]);
    if (sessionId === void 0 && userId === void 0) {
        return {
            isLoaded: false,
            isSignedIn: void 0,
            sessionId,
            userId,
            actor: void 0,
            orgId: void 0,
            orgRole: void 0,
            orgSlug: void 0,
            has: void 0,
            signOut,
            getToken
        };
    }
    if (sessionId === null && userId === null) {
        return {
            isLoaded: true,
            isSignedIn: false,
            sessionId,
            userId,
            actor: null,
            orgId: null,
            orgRole: null,
            orgSlug: null,
            has: ()=>false,
            signOut,
            getToken
        };
    }
    if (!!sessionId && !!userId && !!orgId && !!orgRole) {
        return {
            isLoaded: true,
            isSignedIn: true,
            sessionId,
            userId,
            actor: actor || null,
            orgId,
            orgRole,
            orgSlug: orgSlug || null,
            has: derivedHas,
            signOut,
            getToken
        };
    }
    if (!!sessionId && !!userId && !orgId) {
        return {
            isLoaded: true,
            isSignedIn: true,
            sessionId,
            userId,
            actor: actor || null,
            orgId: null,
            orgRole: null,
            orgSlug: null,
            has: derivedHas,
            signOut,
            getToken
        };
    }
    return errorThrower.throw(invalidStateError);
}
// src/hooks/useEmailLink.ts
var import_react17 = __toESM(require("react"));
function useEmailLink(resource) {
    const { startEmailLinkFlow, cancelEmailLinkFlow } = import_react17.default.useMemo(()=>resource.createEmailLinkFlow(), [
        resource
    ]);
    import_react17.default.useEffect(()=>{
        return cancelEmailLinkFlow;
    }, []);
    return {
        startEmailLinkFlow,
        cancelEmailLinkFlow
    };
}
// src/hooks/useSignIn.ts
var import_react18 = require("@clerk/shared/react");
var import_telemetry = require("@clerk/shared/telemetry");
var useSignIn = ()=>{
    var _a;
    useAssertWrappedByClerkProvider("useSignIn");
    const isomorphicClerk = useIsomorphicClerkContext();
    const client = (0, import_react18.useClientContext)();
    (_a = isomorphicClerk.telemetry) == null ? void 0 : _a.record((0, import_telemetry.eventMethodCalled)("useSignIn"));
    if (!client) {
        return {
            isLoaded: false,
            signIn: void 0,
            setActive: void 0
        };
    }
    return {
        isLoaded: true,
        signIn: client.signIn,
        setActive: isomorphicClerk.setActive
    };
};
// src/hooks/useSignUp.ts
var import_react19 = require("@clerk/shared/react");
var import_telemetry2 = require("@clerk/shared/telemetry");
var useSignUp = ()=>{
    var _a;
    useAssertWrappedByClerkProvider("useSignUp");
    const isomorphicClerk = useIsomorphicClerkContext();
    const client = (0, import_react19.useClientContext)();
    (_a = isomorphicClerk.telemetry) == null ? void 0 : _a.record((0, import_telemetry2.eventMethodCalled)("useSignUp"));
    if (!client) {
        return {
            isLoaded: false,
            signUp: void 0,
            setActive: void 0
        };
    }
    return {
        isLoaded: true,
        signUp: client.signUp,
        setActive: isomorphicClerk.setActive
    };
};
// src/hooks/index.ts
var import_react20 = require("@clerk/shared/react");
// src/components/controlComponents.tsx
var SignedIn = ({ children })=>{
    useAssertWrappedByClerkProvider("SignedIn");
    const { userId } = useAuthContext();
    if (userId) {
        return children;
    }
    return null;
};
var SignedOut = ({ children })=>{
    useAssertWrappedByClerkProvider("SignedOut");
    const { userId } = useAuthContext();
    if (userId === null) {
        return children;
    }
    return null;
};
var ClerkLoaded = ({ children })=>{
    useAssertWrappedByClerkProvider("ClerkLoaded");
    const isomorphicClerk = useIsomorphicClerkContext();
    if (!isomorphicClerk.loaded) {
        return null;
    }
    return children;
};
var ClerkLoading = ({ children })=>{
    useAssertWrappedByClerkProvider("ClerkLoading");
    const isomorphicClerk = useIsomorphicClerkContext();
    if (isomorphicClerk.loaded) {
        return null;
    }
    return children;
};
var Protect = (_param)=>{
    var { children, fallback } = _param, restAuthorizedParams = _object_without_properties(_param, [
        "children",
        "fallback"
    ]);
    useAssertWrappedByClerkProvider("Protect");
    const { isLoaded, has, userId } = useAuth();
    if (!isLoaded) {
        return null;
    }
    const unauthorized = fallback != null ? fallback : null;
    const authorized = children;
    if (!userId) {
        return unauthorized;
    }
    if (typeof restAuthorizedParams.condition === "function") {
        if (restAuthorizedParams.condition(has)) {
            return authorized;
        }
        return unauthorized;
    }
    if (restAuthorizedParams.role || restAuthorizedParams.permission) {
        if (has(restAuthorizedParams)) {
            return authorized;
        }
        return unauthorized;
    }
    return authorized;
};
var RedirectToSignIn = withClerk((_param)=>{
    var { clerk } = _param, props = _object_without_properties(_param, [
        "clerk"
    ]);
    const { client, session } = clerk;
    const hasActiveSessions = client.activeSessions && client.activeSessions.length > 0;
    import_react21.default.useEffect(()=>{
        if (session === null && hasActiveSessions) {
            void clerk.redirectToAfterSignOut();
        } else {
            void clerk.redirectToSignIn(props);
        }
    }, []);
    return null;
}, "RedirectToSignIn");
var RedirectToSignUp = withClerk((_param)=>{
    var { clerk } = _param, props = _object_without_properties(_param, [
        "clerk"
    ]);
    import_react21.default.useEffect(()=>{
        void clerk.redirectToSignUp(props);
    }, []);
    return null;
}, "RedirectToSignUp");
var RedirectToUserProfile = withClerk(({ clerk })=>{
    import_react21.default.useEffect(()=>{
        (0, import_deprecated.deprecated)("RedirectToUserProfile", "Use the `redirectToUserProfile()` method instead.");
        void clerk.redirectToUserProfile();
    }, []);
    return null;
}, "RedirectToUserProfile");
var RedirectToOrganizationProfile = withClerk(({ clerk })=>{
    import_react21.default.useEffect(()=>{
        (0, import_deprecated.deprecated)("RedirectToOrganizationProfile", "Use the `redirectToOrganizationProfile()` method instead.");
        void clerk.redirectToOrganizationProfile();
    }, []);
    return null;
}, "RedirectToOrganizationProfile");
var RedirectToCreateOrganization = withClerk(({ clerk })=>{
    import_react21.default.useEffect(()=>{
        (0, import_deprecated.deprecated)("RedirectToCreateOrganization", "Use the `redirectToCreateOrganization()` method instead.");
        void clerk.redirectToCreateOrganization();
    }, []);
    return null;
}, "RedirectToCreateOrganization");
var AuthenticateWithRedirectCallback = withClerk((_param)=>{
    var { clerk } = _param, handleRedirectCallbackParams = _object_without_properties(_param, [
        "clerk"
    ]);
    import_react21.default.useEffect(()=>{
        void clerk.handleRedirectCallback(handleRedirectCallbackParams);
    }, []);
    return null;
}, "AuthenticateWithRedirectCallback");
// src/components/SignInButton.tsx
var import_react22 = __toESM(require("react"));
var SignInButton = withClerk((_param)=>{
    var { clerk, children } = _param, props = _object_without_properties(_param, [
        "clerk",
        "children"
    ]);
    const { signUpFallbackRedirectUrl, forceRedirectUrl, fallbackRedirectUrl, signUpForceRedirectUrl, mode, initialValues, withSignUp } = props, rest = _object_without_properties(props, [
        "signUpFallbackRedirectUrl",
        "forceRedirectUrl",
        "fallbackRedirectUrl",
        "signUpForceRedirectUrl",
        "mode",
        "initialValues",
        "withSignUp"
    ]);
    children = normalizeWithDefaultValue(children, "Sign in");
    const child = assertSingleChild(children)("SignInButton");
    const clickHandler = ()=>{
        const opts = {
            forceRedirectUrl,
            fallbackRedirectUrl,
            signUpFallbackRedirectUrl,
            signUpForceRedirectUrl,
            initialValues,
            withSignUp
        };
        if (mode === "modal") {
            return clerk.openSignIn(_object_spread_props(_object_spread({}, opts), {
                appearance: props.appearance
            }));
        }
        return clerk.redirectToSignIn(_object_spread_props(_object_spread({}, opts), {
            signInFallbackRedirectUrl: fallbackRedirectUrl,
            signInForceRedirectUrl: forceRedirectUrl
        }));
    };
    const wrappedChildClickHandler = async (e)=>{
        if (child && typeof child === "object" && "props" in child) {
            await safeExecute(child.props.onClick)(e);
        }
        return clickHandler();
    };
    const childProps = _object_spread_props(_object_spread({}, rest), {
        onClick: wrappedChildClickHandler
    });
    return import_react22.default.cloneElement(child, childProps);
}, {
    component: "SignInButton",
    renderWhileLoading: true
});
// src/components/SignUpButton.tsx
var import_react23 = __toESM(require("react"));
var SignUpButton = withClerk((_param)=>{
    var { clerk, children } = _param, props = _object_without_properties(_param, [
        "clerk",
        "children"
    ]);
    const { fallbackRedirectUrl, forceRedirectUrl, signInFallbackRedirectUrl, signInForceRedirectUrl, mode, unsafeMetadata, initialValues } = props, rest = _object_without_properties(props, [
        "fallbackRedirectUrl",
        "forceRedirectUrl",
        "signInFallbackRedirectUrl",
        "signInForceRedirectUrl",
        "mode",
        "unsafeMetadata",
        "initialValues"
    ]);
    children = normalizeWithDefaultValue(children, "Sign up");
    const child = assertSingleChild(children)("SignUpButton");
    const clickHandler = ()=>{
        const opts = {
            fallbackRedirectUrl,
            forceRedirectUrl,
            signInFallbackRedirectUrl,
            signInForceRedirectUrl,
            unsafeMetadata,
            initialValues
        };
        if (mode === "modal") {
            return clerk.openSignUp(_object_spread_props(_object_spread({}, opts), {
                appearance: props.appearance
            }));
        }
        return clerk.redirectToSignUp(_object_spread_props(_object_spread({}, opts), {
            signUpFallbackRedirectUrl: fallbackRedirectUrl,
            signUpForceRedirectUrl: forceRedirectUrl
        }));
    };
    const wrappedChildClickHandler = async (e)=>{
        if (child && typeof child === "object" && "props" in child) {
            await safeExecute(child.props.onClick)(e);
        }
        return clickHandler();
    };
    const childProps = _object_spread_props(_object_spread({}, rest), {
        onClick: wrappedChildClickHandler
    });
    return import_react23.default.cloneElement(child, childProps);
}, {
    component: "SignUpButton",
    renderWhileLoading: true
});
// src/components/SignOutButton.tsx
var import_react24 = __toESM(require("react"));
var SignOutButton = withClerk((_param)=>{
    var { clerk, children } = _param, props = _object_without_properties(_param, [
        "clerk",
        "children"
    ]);
    const { redirectUrl = "/", signOutOptions } = props, rest = _object_without_properties(props, [
        "redirectUrl",
        "signOutOptions"
    ]);
    children = normalizeWithDefaultValue(children, "Sign out");
    const child = assertSingleChild(children)("SignOutButton");
    const clickHandler = ()=>clerk.signOut(_object_spread({
            redirectUrl
        }, signOutOptions));
    const wrappedChildClickHandler = async (e)=>{
        await safeExecute(child.props.onClick)(e);
        return clickHandler();
    };
    const childProps = _object_spread_props(_object_spread({}, rest), {
        onClick: wrappedChildClickHandler
    });
    return import_react24.default.cloneElement(child, childProps);
}, {
    component: "SignOutButton",
    renderWhileLoading: true
});
// src/components/SignInWithMetamaskButton.tsx
var import_react25 = __toESM(require("react"));
var SignInWithMetamaskButton = withClerk((_param)=>{
    var { clerk, children } = _param, props = _object_without_properties(_param, [
        "clerk",
        "children"
    ]);
    const { redirectUrl } = props, rest = _object_without_properties(props, [
        "redirectUrl"
    ]);
    children = normalizeWithDefaultValue(children, "Sign in with Metamask");
    const child = assertSingleChild(children)("SignInWithMetamaskButton");
    const clickHandler = async ()=>{
        async function authenticate() {
            await clerk.authenticateWithMetamask({
                redirectUrl: redirectUrl || void 0
            });
        }
        void authenticate();
    };
    const wrappedChildClickHandler = async (e)=>{
        await safeExecute(child.props.onClick)(e);
        return clickHandler();
    };
    const childProps = _object_spread_props(_object_spread({}, rest), {
        onClick: wrappedChildClickHandler
    });
    return import_react25.default.cloneElement(child, childProps);
}, {
    component: "SignInWithMetamask",
    renderWhileLoading: true
});
// src/contexts/ClerkProvider.tsx
var import_keys = require("@clerk/shared/keys");
var import_react28 = __toESM(require("react"));
// src/contexts/ClerkContextProvider.tsx
var import_deriveState = require("@clerk/shared/deriveState");
var import_react26 = require("@clerk/shared/react");
var import_react27 = __toESM(require("react"));
// src/isomorphicClerk.ts
var import_browser = require("@clerk/shared/browser");
var import_loadClerkJsScript = require("@clerk/shared/loadClerkJsScript");
var import_utils10 = require("@clerk/shared/utils");
if (typeof globalThis.__BUILD_DISABLE_RHC__ === "undefined") {
    globalThis.__BUILD_DISABLE_RHC__ = false;
}
var SDK_METADATA = {
    name: "@clerk/clerk-react",
    version: "5.23.0",
    environment: process.env.NODE_ENV
};
var _loaded, _domain, _proxyUrl, _publishableKey, _instance, _IsomorphicClerk_instances, waitForClerkJS_fn;
var _IsomorphicClerk = class _IsomorphicClerk {
    get publishableKey() {
        return __privateGet(this, _publishableKey);
    }
    get loaded() {
        return __privateGet(this, _loaded);
    }
    static getOrCreateInstance(options) {
        if (!(0, import_browser.inBrowser)() || !__privateGet(this, _instance) || options.Clerk && __privateGet(this, _instance).Clerk !== options.Clerk || // Allow hot swapping PKs on the client
        __privateGet(this, _instance).publishableKey !== options.publishableKey) {
            __privateSet(this, _instance, new _IsomorphicClerk(options));
        }
        return __privateGet(this, _instance);
    }
    static clearInstance() {
        __privateSet(this, _instance, null);
    }
    get domain() {
        if (typeof window !== "undefined" && window.location) {
            return (0, import_utils10.handleValueOrFn)(__privateGet(this, _domain), new URL(window.location.href), "");
        }
        if (typeof __privateGet(this, _domain) === "function") {
            return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);
        }
        return __privateGet(this, _domain) || "";
    }
    get proxyUrl() {
        if (typeof window !== "undefined" && window.location) {
            return (0, import_utils10.handleValueOrFn)(__privateGet(this, _proxyUrl), new URL(window.location.href), "");
        }
        if (typeof __privateGet(this, _proxyUrl) === "function") {
            return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);
        }
        return __privateGet(this, _proxyUrl) || "";
    }
    __internal_getOption(key) {
        var _a;
        return (_a = this.clerkjs) == null ? void 0 : _a.__internal_getOption(key);
    }
    get sdkMetadata() {
        var _a;
        return ((_a = this.clerkjs) == null ? void 0 : _a.sdkMetadata) || this.options.sdkMetadata || void 0;
    }
    get instanceType() {
        var _a;
        return (_a = this.clerkjs) == null ? void 0 : _a.instanceType;
    }
    get frontendApi() {
        var _a;
        return ((_a = this.clerkjs) == null ? void 0 : _a.frontendApi) || "";
    }
    get isStandardBrowser() {
        var _a;
        return ((_a = this.clerkjs) == null ? void 0 : _a.isStandardBrowser) || this.options.standardBrowser || false;
    }
    get isSatellite() {
        if (typeof window !== "undefined" && window.location) {
            return (0, import_utils10.handleValueOrFn)(this.options.isSatellite, new URL(window.location.href), false);
        }
        if (typeof this.options.isSatellite === "function") {
            return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);
        }
        return false;
    }
    async loadClerkJS() {
        var _a;
        if (this.mode !== "browser" || __privateGet(this, _loaded)) {
            return;
        }
        if (typeof window !== "undefined") {
            window.__clerk_publishable_key = __privateGet(this, _publishableKey);
            window.__clerk_proxy_url = this.proxyUrl;
            window.__clerk_domain = this.domain;
        }
        try {
            if (this.Clerk) {
                let c;
                if (isConstructor(this.Clerk)) {
                    c = new this.Clerk(__privateGet(this, _publishableKey), {
                        proxyUrl: this.proxyUrl,
                        domain: this.domain
                    });
                    await c.load(this.options);
                } else {
                    c = this.Clerk;
                    if (!c.loaded) {
                        await c.load(this.options);
                    }
                }
                global.Clerk = c;
            } else if (!__BUILD_DISABLE_RHC__) {
                if (!global.Clerk) {
                    await (0, import_loadClerkJsScript.loadClerkJsScript)(_object_spread_props(_object_spread({}, this.options), {
                        publishableKey: __privateGet(this, _publishableKey),
                        proxyUrl: this.proxyUrl,
                        domain: this.domain,
                        nonce: this.options.nonce
                    }));
                }
                if (!global.Clerk) {
                    throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");
                }
                await global.Clerk.load(this.options);
            }
            if ((_a = global.Clerk) == null ? void 0 : _a.loaded) {
                return this.hydrateClerkJS(global.Clerk);
            }
            return;
        } catch (err) {
            const error = err;
            if (process.env.NODE_ENV === "production") {
                console.error(error.stack || error.message || error);
            } else {
                throw err;
            }
            return;
        }
    }
    get version() {
        var _a;
        return (_a = this.clerkjs) == null ? void 0 : _a.version;
    }
    get client() {
        if (this.clerkjs) {
            return this.clerkjs.client;
        } else {
            return void 0;
        }
    }
    get session() {
        if (this.clerkjs) {
            return this.clerkjs.session;
        } else {
            return void 0;
        }
    }
    get user() {
        if (this.clerkjs) {
            return this.clerkjs.user;
        } else {
            return void 0;
        }
    }
    get organization() {
        if (this.clerkjs) {
            return this.clerkjs.organization;
        } else {
            return void 0;
        }
    }
    get telemetry() {
        if (this.clerkjs) {
            return this.clerkjs.telemetry;
        } else {
            return void 0;
        }
    }
    get __unstable__environment() {
        if (this.clerkjs) {
            return this.clerkjs.__unstable__environment;
        } else {
            return void 0;
        }
    }
    __unstable__setEnvironment(...args) {
        if (this.clerkjs && "__unstable__setEnvironment" in this.clerkjs) {
            this.clerkjs.__unstable__setEnvironment(args);
        } else {
            return void 0;
        }
    }
    constructor(options){
        __privateAdd(this, _IsomorphicClerk_instances);
        this.clerkjs = null;
        this.preopenOneTap = null;
        this.preopenUserVerification = null;
        this.preopenSignIn = null;
        this.preopenSignUp = null;
        this.preopenUserProfile = null;
        this.preopenOrganizationProfile = null;
        this.preopenCreateOrganization = null;
        this.preOpenWaitlist = null;
        this.premountSignInNodes = /* @__PURE__ */ new Map();
        this.premountSignUpNodes = /* @__PURE__ */ new Map();
        this.premountUserProfileNodes = /* @__PURE__ */ new Map();
        this.premountUserButtonNodes = /* @__PURE__ */ new Map();
        this.premountOrganizationProfileNodes = /* @__PURE__ */ new Map();
        this.premountCreateOrganizationNodes = /* @__PURE__ */ new Map();
        this.premountOrganizationSwitcherNodes = /* @__PURE__ */ new Map();
        this.premountOrganizationListNodes = /* @__PURE__ */ new Map();
        this.premountMethodCalls = /* @__PURE__ */ new Map();
        this.premountWaitlistNodes = /* @__PURE__ */ new Map();
        // A separate Map of `addListener` method calls to handle multiple listeners.
        this.premountAddListenerCalls = /* @__PURE__ */ new Map();
        this.loadedListeners = [];
        __privateAdd(this, _loaded, false);
        __privateAdd(this, _domain);
        __privateAdd(this, _proxyUrl);
        __privateAdd(this, _publishableKey);
        this.buildSignInUrl = (opts)=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildSignInUrl(opts)) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildSignInUrl", callback);
            }
        };
        this.buildSignUpUrl = (opts)=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildSignUpUrl(opts)) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildSignUpUrl", callback);
            }
        };
        this.buildAfterSignInUrl = ()=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildAfterSignInUrl()) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildAfterSignInUrl", callback);
            }
        };
        this.buildAfterSignUpUrl = ()=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildAfterSignUpUrl()) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildAfterSignUpUrl", callback);
            }
        };
        this.buildAfterSignOutUrl = ()=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildAfterSignOutUrl()) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildAfterSignOutUrl", callback);
            }
        };
        this.buildAfterMultiSessionSingleSignOutUrl = ()=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildAfterMultiSessionSingleSignOutUrl()) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl", callback);
            }
        };
        this.buildUserProfileUrl = ()=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildUserProfileUrl()) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildUserProfileUrl", callback);
            }
        };
        this.buildCreateOrganizationUrl = ()=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildCreateOrganizationUrl()) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildCreateOrganizationUrl", callback);
            }
        };
        this.buildOrganizationProfileUrl = ()=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildOrganizationProfileUrl()) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildOrganizationProfileUrl", callback);
            }
        };
        this.buildWaitlistUrl = ()=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildWaitlistUrl()) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildWaitlistUrl", callback);
            }
        };
        this.buildUrlWithAuth = (to)=>{
            const callback = ()=>{
                var _a;
                return ((_a = this.clerkjs) == null ? void 0 : _a.buildUrlWithAuth(to)) || "";
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("buildUrlWithAuth", callback);
            }
        };
        this.handleUnauthenticated = ()=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.handleUnauthenticated();
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                void callback();
            } else {
                this.premountMethodCalls.set("handleUnauthenticated", callback);
            }
        };
        this.addOnLoaded = (cb)=>{
            this.loadedListeners.push(cb);
            if (this.loaded) {
                this.emitLoaded();
            }
        };
        this.emitLoaded = ()=>{
            this.loadedListeners.forEach((cb)=>cb());
            this.loadedListeners = [];
        };
        this.hydrateClerkJS = (clerkjs)=>{
            if (!clerkjs) {
                throw new Error("Failed to hydrate latest Clerk JS");
            }
            this.clerkjs = clerkjs;
            this.premountMethodCalls.forEach((cb)=>cb());
            this.premountAddListenerCalls.forEach((listenerHandlers, listener)=>{
                listenerHandlers.nativeUnsubscribe = clerkjs.addListener(listener);
            });
            if (this.preopenSignIn !== null) {
                clerkjs.openSignIn(this.preopenSignIn);
            }
            if (this.preopenSignUp !== null) {
                clerkjs.openSignUp(this.preopenSignUp);
            }
            if (this.preopenUserProfile !== null) {
                clerkjs.openUserProfile(this.preopenUserProfile);
            }
            if (this.preopenUserVerification !== null) {
                clerkjs.__internal_openReverification(this.preopenUserVerification);
            }
            if (this.preopenOneTap !== null) {
                clerkjs.openGoogleOneTap(this.preopenOneTap);
            }
            if (this.preopenOrganizationProfile !== null) {
                clerkjs.openOrganizationProfile(this.preopenOrganizationProfile);
            }
            if (this.preopenCreateOrganization !== null) {
                clerkjs.openCreateOrganization(this.preopenCreateOrganization);
            }
            if (this.preOpenWaitlist !== null) {
                clerkjs.openWaitlist(this.preOpenWaitlist);
            }
            this.premountSignInNodes.forEach((props, node)=>{
                clerkjs.mountSignIn(node, props);
            });
            this.premountSignUpNodes.forEach((props, node)=>{
                clerkjs.mountSignUp(node, props);
            });
            this.premountUserProfileNodes.forEach((props, node)=>{
                clerkjs.mountUserProfile(node, props);
            });
            this.premountUserButtonNodes.forEach((props, node)=>{
                clerkjs.mountUserButton(node, props);
            });
            this.premountOrganizationListNodes.forEach((props, node)=>{
                clerkjs.mountOrganizationList(node, props);
            });
            this.premountWaitlistNodes.forEach((props, node)=>{
                clerkjs.mountWaitlist(node, props);
            });
            __privateSet(this, _loaded, true);
            this.emitLoaded();
            return this.clerkjs;
        };
        this.__unstable__updateProps = async (props)=>{
            const clerkjs = await __privateMethod(this, _IsomorphicClerk_instances, waitForClerkJS_fn).call(this);
            if (clerkjs && "__unstable__updateProps" in clerkjs) {
                return clerkjs.__unstable__updateProps(props);
            }
        };
        /**
     * `setActive` can be used to set the active session and/or organization.
     */ this.setActive = ({ session, organization, beforeEmit, redirectUrl })=>{
            if (this.clerkjs) {
                return this.clerkjs.setActive({
                    session,
                    organization,
                    beforeEmit,
                    redirectUrl
                });
            } else {
                return Promise.reject();
            }
        };
        this.openSignIn = (props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.openSignIn(props);
            } else {
                this.preopenSignIn = props;
            }
        };
        this.closeSignIn = ()=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.closeSignIn();
            } else {
                this.preopenSignIn = null;
            }
        };
        this.__internal_openReverification = (props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.__internal_openReverification(props);
            } else {
                this.preopenUserVerification = props;
            }
        };
        this.__internal_closeReverification = ()=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.__internal_closeReverification();
            } else {
                this.preopenUserVerification = null;
            }
        };
        this.openGoogleOneTap = (props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.openGoogleOneTap(props);
            } else {
                this.preopenOneTap = props;
            }
        };
        this.closeGoogleOneTap = ()=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.closeGoogleOneTap();
            } else {
                this.preopenOneTap = null;
            }
        };
        this.openUserProfile = (props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.openUserProfile(props);
            } else {
                this.preopenUserProfile = props;
            }
        };
        this.closeUserProfile = ()=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.closeUserProfile();
            } else {
                this.preopenUserProfile = null;
            }
        };
        this.openOrganizationProfile = (props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.openOrganizationProfile(props);
            } else {
                this.preopenOrganizationProfile = props;
            }
        };
        this.closeOrganizationProfile = ()=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.closeOrganizationProfile();
            } else {
                this.preopenOrganizationProfile = null;
            }
        };
        this.openCreateOrganization = (props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.openCreateOrganization(props);
            } else {
                this.preopenCreateOrganization = props;
            }
        };
        this.closeCreateOrganization = ()=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.closeCreateOrganization();
            } else {
                this.preopenCreateOrganization = null;
            }
        };
        this.openWaitlist = (props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.openWaitlist(props);
            } else {
                this.preOpenWaitlist = props;
            }
        };
        this.closeWaitlist = ()=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.closeWaitlist();
            } else {
                this.preOpenWaitlist = null;
            }
        };
        this.openSignUp = (props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.openSignUp(props);
            } else {
                this.preopenSignUp = props;
            }
        };
        this.closeSignUp = ()=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.closeSignUp();
            } else {
                this.preopenSignUp = null;
            }
        };
        this.mountSignIn = (node, props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.mountSignIn(node, props);
            } else {
                this.premountSignInNodes.set(node, props);
            }
        };
        this.unmountSignIn = (node)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.unmountSignIn(node);
            } else {
                this.premountSignInNodes.delete(node);
            }
        };
        this.mountSignUp = (node, props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.mountSignUp(node, props);
            } else {
                this.premountSignUpNodes.set(node, props);
            }
        };
        this.unmountSignUp = (node)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.unmountSignUp(node);
            } else {
                this.premountSignUpNodes.delete(node);
            }
        };
        this.mountUserProfile = (node, props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.mountUserProfile(node, props);
            } else {
                this.premountUserProfileNodes.set(node, props);
            }
        };
        this.unmountUserProfile = (node)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.unmountUserProfile(node);
            } else {
                this.premountUserProfileNodes.delete(node);
            }
        };
        this.mountOrganizationProfile = (node, props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.mountOrganizationProfile(node, props);
            } else {
                this.premountOrganizationProfileNodes.set(node, props);
            }
        };
        this.unmountOrganizationProfile = (node)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.unmountOrganizationProfile(node);
            } else {
                this.premountOrganizationProfileNodes.delete(node);
            }
        };
        this.mountCreateOrganization = (node, props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.mountCreateOrganization(node, props);
            } else {
                this.premountCreateOrganizationNodes.set(node, props);
            }
        };
        this.unmountCreateOrganization = (node)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.unmountCreateOrganization(node);
            } else {
                this.premountCreateOrganizationNodes.delete(node);
            }
        };
        this.mountOrganizationSwitcher = (node, props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.mountOrganizationSwitcher(node, props);
            } else {
                this.premountOrganizationSwitcherNodes.set(node, props);
            }
        };
        this.unmountOrganizationSwitcher = (node)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.unmountOrganizationSwitcher(node);
            } else {
                this.premountOrganizationSwitcherNodes.delete(node);
            }
        };
        this.__experimental_prefetchOrganizationSwitcher = ()=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.__experimental_prefetchOrganizationSwitcher();
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                void callback();
            } else {
                this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher", callback);
            }
        };
        this.mountOrganizationList = (node, props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.mountOrganizationList(node, props);
            } else {
                this.premountOrganizationListNodes.set(node, props);
            }
        };
        this.unmountOrganizationList = (node)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.unmountOrganizationList(node);
            } else {
                this.premountOrganizationListNodes.delete(node);
            }
        };
        this.mountUserButton = (node, userButtonProps)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.mountUserButton(node, userButtonProps);
            } else {
                this.premountUserButtonNodes.set(node, userButtonProps);
            }
        };
        this.unmountUserButton = (node)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.unmountUserButton(node);
            } else {
                this.premountUserButtonNodes.delete(node);
            }
        };
        this.mountWaitlist = (node, props)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.mountWaitlist(node, props);
            } else {
                this.premountWaitlistNodes.set(node, props);
            }
        };
        this.unmountWaitlist = (node)=>{
            if (this.clerkjs && __privateGet(this, _loaded)) {
                this.clerkjs.unmountWaitlist(node);
            } else {
                this.premountWaitlistNodes.delete(node);
            }
        };
        this.addListener = (listener)=>{
            if (this.clerkjs) {
                return this.clerkjs.addListener(listener);
            } else {
                const unsubscribe = ()=>{
                    var _a;
                    const listenerHandlers = this.premountAddListenerCalls.get(listener);
                    if (listenerHandlers) {
                        (_a = listenerHandlers.nativeUnsubscribe) == null ? void 0 : _a.call(listenerHandlers);
                        this.premountAddListenerCalls.delete(listener);
                    }
                };
                this.premountAddListenerCalls.set(listener, {
                    unsubscribe,
                    nativeUnsubscribe: void 0
                });
                return unsubscribe;
            }
        };
        this.navigate = (to)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.navigate(to);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                void callback();
            } else {
                this.premountMethodCalls.set("navigate", callback);
            }
        };
        this.redirectWithAuth = async (...args)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectWithAuth(...args);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("redirectWithAuth", callback);
                return;
            }
        };
        this.redirectToSignIn = async (opts)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectToSignIn(opts);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("redirectToSignIn", callback);
                return;
            }
        };
        this.redirectToSignUp = async (opts)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectToSignUp(opts);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("redirectToSignUp", callback);
                return;
            }
        };
        this.redirectToUserProfile = async ()=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectToUserProfile();
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("redirectToUserProfile", callback);
                return;
            }
        };
        this.redirectToAfterSignUp = ()=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectToAfterSignUp();
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("redirectToAfterSignUp", callback);
            }
        };
        this.redirectToAfterSignIn = ()=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectToAfterSignIn();
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                callback();
            } else {
                this.premountMethodCalls.set("redirectToAfterSignIn", callback);
            }
        };
        this.redirectToAfterSignOut = ()=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectToAfterSignOut();
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                callback();
            } else {
                this.premountMethodCalls.set("redirectToAfterSignOut", callback);
            }
        };
        this.redirectToOrganizationProfile = async ()=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectToOrganizationProfile();
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("redirectToOrganizationProfile", callback);
                return;
            }
        };
        this.redirectToCreateOrganization = async ()=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectToCreateOrganization();
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("redirectToCreateOrganization", callback);
                return;
            }
        };
        this.redirectToWaitlist = async ()=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.redirectToWaitlist();
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("redirectToWaitlist", callback);
                return;
            }
        };
        this.handleRedirectCallback = (params)=>{
            var _a;
            const callback = ()=>{
                var _a2;
                return (_a2 = this.clerkjs) == null ? void 0 : _a2.handleRedirectCallback(params);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                void ((_a = callback()) == null ? void 0 : _a.catch(()=>{}));
            } else {
                this.premountMethodCalls.set("handleRedirectCallback", callback);
            }
        };
        this.handleGoogleOneTapCallback = (signInOrUp, params)=>{
            var _a;
            const callback = ()=>{
                var _a2;
                return (_a2 = this.clerkjs) == null ? void 0 : _a2.handleGoogleOneTapCallback(signInOrUp, params);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                void ((_a = callback()) == null ? void 0 : _a.catch(()=>{}));
            } else {
                this.premountMethodCalls.set("handleGoogleOneTapCallback", callback);
            }
        };
        this.handleEmailLinkVerification = async (params)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.handleEmailLinkVerification(params);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("handleEmailLinkVerification", callback);
            }
        };
        this.authenticateWithMetamask = async (params)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.authenticateWithMetamask(params);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("authenticateWithMetamask", callback);
            }
        };
        this.authenticateWithCoinbaseWallet = async (params)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.authenticateWithCoinbaseWallet(params);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("authenticateWithCoinbaseWallet", callback);
            }
        };
        this.authenticateWithOKXWallet = async (params)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.authenticateWithOKXWallet(params);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("authenticateWithOKXWallet", callback);
            }
        };
        this.authenticateWithWeb3 = async (params)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.authenticateWithWeb3(params);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("authenticateWithWeb3", callback);
            }
        };
        this.authenticateWithGoogleOneTap = async (params)=>{
            const clerkjs = await __privateMethod(this, _IsomorphicClerk_instances, waitForClerkJS_fn).call(this);
            return clerkjs.authenticateWithGoogleOneTap(params);
        };
        this.createOrganization = async (params)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.createOrganization(params);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("createOrganization", callback);
            }
        };
        this.getOrganization = async (organizationId)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.getOrganization(organizationId);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("getOrganization", callback);
            }
        };
        this.joinWaitlist = async (params)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.joinWaitlist(params);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("joinWaitlist", callback);
            }
        };
        this.signOut = async (signOutCallbackOrOptions, options)=>{
            const callback = ()=>{
                var _a;
                return (_a = this.clerkjs) == null ? void 0 : _a.signOut(signOutCallbackOrOptions, options);
            };
            if (this.clerkjs && __privateGet(this, _loaded)) {
                return callback();
            } else {
                this.premountMethodCalls.set("signOut", callback);
            }
        };
        const { Clerk = null, publishableKey } = options || {};
        __privateSet(this, _publishableKey, publishableKey);
        __privateSet(this, _proxyUrl, options == null ? void 0 : options.proxyUrl);
        __privateSet(this, _domain, options == null ? void 0 : options.domain);
        this.options = options;
        this.Clerk = Clerk;
        this.mode = (0, import_browser.inBrowser)() ? "browser" : "server";
        if (!this.options.sdkMetadata) {
            this.options.sdkMetadata = SDK_METADATA;
        }
        if (__privateGet(this, _publishableKey)) {
            void this.loadClerkJS();
        }
    }
};
_loaded = new WeakMap();
_domain = new WeakMap();
_proxyUrl = new WeakMap();
_publishableKey = new WeakMap();
_instance = new WeakMap();
_IsomorphicClerk_instances = new WeakSet();
waitForClerkJS_fn = function() {
    return new Promise((resolve)=>{
        this.addOnLoaded(()=>resolve(this.clerkjs));
    });
};
__privateAdd(_IsomorphicClerk, _instance);
var IsomorphicClerk = _IsomorphicClerk;
// src/contexts/ClerkContextProvider.tsx
function ClerkContextProvider(props) {
    const { isomorphicClerkOptions, initialState, children } = props;
    const { isomorphicClerk: clerk, loaded: clerkLoaded2 } = useLoadedIsomorphicClerk(isomorphicClerkOptions);
    const [state, setState] = import_react27.default.useState({
        client: clerk.client,
        session: clerk.session,
        user: clerk.user,
        organization: clerk.organization
    });
    import_react27.default.useEffect(()=>{
        return clerk.addListener((e)=>setState(_object_spread({}, e)));
    }, []);
    const derivedState = (0, import_deriveState.deriveState)(clerkLoaded2, state, initialState);
    const clerkCtx = import_react27.default.useMemo(()=>({
            value: clerk
        }), [
        clerkLoaded2
    ]);
    const clientCtx = import_react27.default.useMemo(()=>({
            value: state.client
        }), [
        state.client
    ]);
    const { sessionId, session, userId, user, orgId, actor, organization, orgRole, orgSlug, orgPermissions, factorVerificationAge } = derivedState;
    const authCtx = import_react27.default.useMemo(()=>{
        const value = {
            sessionId,
            userId,
            actor,
            orgId,
            orgRole,
            orgSlug,
            orgPermissions,
            factorVerificationAge
        };
        return {
            value
        };
    }, [
        sessionId,
        userId,
        actor,
        orgId,
        orgRole,
        orgSlug,
        factorVerificationAge
    ]);
    const sessionCtx = import_react27.default.useMemo(()=>({
            value: session
        }), [
        sessionId,
        session
    ]);
    const userCtx = import_react27.default.useMemo(()=>({
            value: user
        }), [
        userId,
        user
    ]);
    const organizationCtx = import_react27.default.useMemo(()=>{
        const value = {
            organization
        };
        return {
            value
        };
    }, [
        orgId,
        organization
    ]);
    return(// @ts-expect-error value passed is of type IsomorphicClerk where the context expects LoadedClerk
    /* @__PURE__ */ import_react27.default.createElement(IsomorphicClerkContext.Provider, {
        value: clerkCtx
    }, /* @__PURE__ */ import_react27.default.createElement(import_react26.ClientContext.Provider, {
        value: clientCtx
    }, /* @__PURE__ */ import_react27.default.createElement(import_react26.SessionContext.Provider, {
        value: sessionCtx
    }, /* @__PURE__ */ import_react27.default.createElement(import_react26.OrganizationProvider, _object_spread({}, organizationCtx.value), /* @__PURE__ */ import_react27.default.createElement(AuthContext.Provider, {
        value: authCtx
    }, /* @__PURE__ */ import_react27.default.createElement(import_react26.UserContext.Provider, {
        value: userCtx
    }, children)))))));
}
var useLoadedIsomorphicClerk = (options)=>{
    const [loaded, setLoaded] = import_react27.default.useState(false);
    const isomorphicClerk = import_react27.default.useMemo(()=>IsomorphicClerk.getOrCreateInstance(options), []);
    import_react27.default.useEffect(()=>{
        void isomorphicClerk.__unstable__updateProps({
            appearance: options.appearance
        });
    }, [
        options.appearance
    ]);
    import_react27.default.useEffect(()=>{
        void isomorphicClerk.__unstable__updateProps({
            options
        });
    }, [
        options.localization
    ]);
    import_react27.default.useEffect(()=>{
        isomorphicClerk.addOnLoaded(()=>setLoaded(true));
    }, []);
    import_react27.default.useEffect(()=>{
        return ()=>{
            IsomorphicClerk.clearInstance();
            setLoaded(false);
        };
    }, []);
    return {
        isomorphicClerk,
        loaded
    };
};
// src/contexts/ClerkProvider.tsx
function ClerkProviderBase(props) {
    const { initialState, children, __internal_bypassMissingPublishableKey } = props, restIsomorphicClerkOptions = _object_without_properties(props, [
        "initialState",
        "children",
        "__internal_bypassMissingPublishableKey"
    ]);
    const { publishableKey = "", Clerk: userInitialisedClerk } = restIsomorphicClerkOptions;
    if (!userInitialisedClerk && !__internal_bypassMissingPublishableKey) {
        if (!publishableKey) {
            errorThrower.throwMissingPublishableKeyError();
        } else if (publishableKey && !(0, import_keys.isPublishableKey)(publishableKey)) {
            errorThrower.throwInvalidPublishableKeyError({
                key: publishableKey
            });
        }
    }
    return /* @__PURE__ */ import_react28.default.createElement(ClerkContextProvider, {
        initialState,
        isomorphicClerkOptions: restIsomorphicClerkOptions
    }, children);
}
var ClerkProvider = withMaxAllowedInstancesGuard(ClerkProviderBase, "ClerkProvider", multipleClerkProvidersError);
ClerkProvider.displayName = "ClerkProvider";
// src/index.ts
setErrorThrowerOptions({
    packageName: "@clerk/clerk-react"
});
(0, import_loadClerkJsScript2.setClerkJsLoadingErrorPackageName)("@clerk/clerk-react");
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
    AuthenticateWithRedirectCallback,
    ClerkLoaded,
    ClerkLoading,
    ClerkProvider,
    CreateOrganization,
    GoogleOneTap,
    OrganizationList,
    OrganizationProfile,
    OrganizationSwitcher,
    Protect,
    RedirectToCreateOrganization,
    RedirectToOrganizationProfile,
    RedirectToSignIn,
    RedirectToSignUp,
    RedirectToUserProfile,
    SignIn,
    SignInButton,
    SignInWithMetamaskButton,
    SignOutButton,
    SignUp,
    SignUpButton,
    SignedIn,
    SignedOut,
    UserButton,
    UserProfile,
    Waitlist,
    useAuth,
    useClerk,
    useEmailLink,
    useOrganization,
    useOrganizationList,
    useReverification,
    useSession,
    useSessionList,
    useSignIn,
    useSignUp,
    useUser
}); //# sourceMappingURL=index.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC50cyIsIi4uL3NyYy9wb2x5ZmlsbHMudHMiLCIuLi9zcmMvZXJyb3JzL2Vycm9yVGhyb3dlci50cyIsIi4uL3NyYy9jb21wb25lbnRzL3VpQ29tcG9uZW50cy50c3giLCIuLi9zcmMvZXJyb3JzL21lc3NhZ2VzLnRzIiwiLi4vc3JjL3V0aWxzL2NoaWxkcmVuVXRpbHMudHN4IiwiLi4vc3JjL3V0aWxzL2lzQ29uc3RydWN0b3IudHMiLCIuLi9zcmMvdXRpbHMvdXNlTWF4QWxsb3dlZEluc3RhbmNlc0d1YXJkLnRzeCIsIi4uL3NyYy91dGlscy91c2VDdXN0b21FbGVtZW50UG9ydGFsLnRzeCIsIi4uL3NyYy91dGlscy91c2VDdXN0b21QYWdlcy50c3giLCIuLi9zcmMvdXRpbHMvY29tcG9uZW50VmFsaWRhdGlvbi50cyIsIi4uL3NyYy91dGlscy91c2VDdXN0b21NZW51SXRlbXMudHN4IiwiLi4vc3JjL3V0aWxzL3VzZVdhaXRGb3JDb21wb25lbnRNb3VudC50cyIsIi4uL3NyYy9jb21wb25lbnRzL0NsZXJrSG9zdFJlbmRlcmVyLnRzeCIsIi4uL3NyYy9jb21wb25lbnRzL3dpdGhDbGVyay50c3giLCIuLi9zcmMvY29udGV4dHMvSXNvbW9ycGhpY0NsZXJrQ29udGV4dC50c3giLCIuLi9zcmMvaG9va3MvdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlci50cyIsIi4uL3NyYy9jb21wb25lbnRzL2NvbnRyb2xDb21wb25lbnRzLnRzeCIsIi4uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50cyIsIi4uL3NyYy9jb250ZXh0cy9TZXNzaW9uQ29udGV4dC50c3giLCIuLi9zcmMvaG9va3MvdXNlQXV0aC50cyIsIi4uL3NyYy9ob29rcy91dGlscy50cyIsIi4uL3NyYy9ob29rcy91c2VFbWFpbExpbmsudHMiLCIuLi9zcmMvaG9va3MvdXNlU2lnbkluLnRzIiwiLi4vc3JjL2hvb2tzL3VzZVNpZ25VcC50cyIsIi4uL3NyYy9ob29rcy9pbmRleC50cyIsIi4uL3NyYy9jb21wb25lbnRzL1NpZ25JbkJ1dHRvbi50c3giLCIuLi9zcmMvY29tcG9uZW50cy9TaWduVXBCdXR0b24udHN4IiwiLi4vc3JjL2NvbXBvbmVudHMvU2lnbk91dEJ1dHRvbi50c3giLCIuLi9zcmMvY29tcG9uZW50cy9TaWduSW5XaXRoTWV0YW1hc2tCdXR0b24udHN4IiwiLi4vc3JjL2NvbnRleHRzL0NsZXJrUHJvdmlkZXIudHN4IiwiLi4vc3JjL2NvbnRleHRzL0NsZXJrQ29udGV4dFByb3ZpZGVyLnRzeCIsIi4uL3NyYy9pc29tb3JwaGljQ2xlcmsudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL3BvbHlmaWxscyc7XG5cbmltcG9ydCB7IHNldENsZXJrSnNMb2FkaW5nRXJyb3JQYWNrYWdlTmFtZSB9IGZyb20gJ0BjbGVyay9zaGFyZWQvbG9hZENsZXJrSnNTY3JpcHQnO1xuXG5pbXBvcnQgeyBzZXRFcnJvclRocm93ZXJPcHRpb25zIH0gZnJvbSAnLi9lcnJvcnMvZXJyb3JUaHJvd2VyJztcblxuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzJztcbmV4cG9ydCAqIGZyb20gJy4vY29udGV4dHMnO1xuXG5leHBvcnQgKiBmcm9tICcuL2hvb2tzJztcbmV4cG9ydCB0eXBlIHsgQnJvd3NlckNsZXJrLCBDbGVya1Byb3AsIEhlYWRsZXNzQnJvd3NlckNsZXJrLCBDbGVya1Byb3ZpZGVyUHJvcHMgfSBmcm9tICcuL3R5cGVzJztcblxuc2V0RXJyb3JUaHJvd2VyT3B0aW9ucyh7IHBhY2thZ2VOYW1lOiBQQUNLQUdFX05BTUUgfSk7XG5zZXRDbGVya0pzTG9hZGluZ0Vycm9yUGFja2FnZU5hbWUoUEFDS0FHRV9OQU1FKTtcbiIsIi8qKlxuICogVml0ZSBkb2VzIG5vdCBkZWZpbmUgYGdsb2JhbGAgYnkgZGVmYXVsdFxuICogT25lIHdvcmthcm91bmQgaXMgdG8gdXNlIHRoZSBgZGVmaW5lYCBjb25maWcgcHJvcFxuICogaHR0cHM6Ly92aXRlanMuZGV2L2NvbmZpZy8jZGVmaW5lXG4gKiBXZSBhcmUgc29sdmluZyB0aGlzIGluIHRoZSBTREsgbGV2ZWwgdG8gcmVkdWNlIHNldHVwIHN0ZXBzLlxuICovXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgIXdpbmRvdy5nbG9iYWwpIHtcbiAgd2luZG93Lmdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsO1xufVxuXG5leHBvcnQge307XG4iLCJpbXBvcnQgdHlwZSB7IEVycm9yVGhyb3dlck9wdGlvbnMgfSBmcm9tICdAY2xlcmsvc2hhcmVkL2Vycm9yJztcbmltcG9ydCB7IGJ1aWxkRXJyb3JUaHJvd2VyIH0gZnJvbSAnQGNsZXJrL3NoYXJlZC9lcnJvcic7XG5cbmNvbnN0IGVycm9yVGhyb3dlciA9IGJ1aWxkRXJyb3JUaHJvd2VyKHsgcGFja2FnZU5hbWU6ICdAY2xlcmsvY2xlcmstcmVhY3QnIH0pO1xuXG5leHBvcnQgeyBlcnJvclRocm93ZXIgfTtcblxuLyoqXG4gKiBPdmVycmlkZXMgb3B0aW9ucyBvZiB0aGUgaW50ZXJuYWwgZXJyb3JUaHJvd2VyIChlZyBzZXR0aW5nIHBhY2thZ2VOYW1lIHByZWZpeCkuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRFcnJvclRocm93ZXJPcHRpb25zKG9wdGlvbnM6IEVycm9yVGhyb3dlck9wdGlvbnMpIHtcbiAgZXJyb3JUaHJvd2VyLnNldE1lc3NhZ2VzKG9wdGlvbnMpLnNldFBhY2thZ2VOYW1lKG9wdGlvbnMpO1xufVxuIiwiaW1wb3J0IHsgbG9nRXJyb3JJbkRldk1vZGUgfSBmcm9tICdAY2xlcmsvc2hhcmVkL3V0aWxzJztcbmltcG9ydCB0eXBlIHtcbiAgQ3JlYXRlT3JnYW5pemF0aW9uUHJvcHMsXG4gIEdvb2dsZU9uZVRhcFByb3BzLFxuICBPcmdhbml6YXRpb25MaXN0UHJvcHMsXG4gIE9yZ2FuaXphdGlvblByb2ZpbGVQcm9wcyxcbiAgT3JnYW5pemF0aW9uU3dpdGNoZXJQcm9wcyxcbiAgU2lnbkluUHJvcHMsXG4gIFNpZ25VcFByb3BzLFxuICBVc2VyQnV0dG9uUHJvcHMsXG4gIFVzZXJQcm9maWxlUHJvcHMsXG4gIFdhaXRsaXN0UHJvcHMsXG4gIFdpdGhvdXQsXG59IGZyb20gJ0BjbGVyay90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFByb3BzV2l0aENoaWxkcmVuLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgY3JlYXRlRWxlbWVudCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgb3JnYW5pemF0aW9uUHJvZmlsZUxpbmtSZW5kZXJlZEVycm9yLFxuICBvcmdhbml6YXRpb25Qcm9maWxlUGFnZVJlbmRlcmVkRXJyb3IsXG4gIHVzZXJCdXR0b25NZW51QWN0aW9uUmVuZGVyZWRFcnJvcixcbiAgdXNlckJ1dHRvbk1lbnVJdGVtc1JlbmRlcmVkRXJyb3IsXG4gIHVzZXJCdXR0b25NZW51TGlua1JlbmRlcmVkRXJyb3IsXG4gIHVzZXJQcm9maWxlTGlua1JlbmRlcmVkRXJyb3IsXG4gIHVzZXJQcm9maWxlUGFnZVJlbmRlcmVkRXJyb3IsXG59IGZyb20gJy4uL2Vycm9ycy9tZXNzYWdlcyc7XG5pbXBvcnQgdHlwZSB7XG4gIEN1c3RvbVBvcnRhbHNSZW5kZXJlclByb3BzLFxuICBNb3VudFByb3BzLFxuICBPcmdhbml6YXRpb25Qcm9maWxlTGlua1Byb3BzLFxuICBPcmdhbml6YXRpb25Qcm9maWxlUGFnZVByb3BzLFxuICBVc2VyQnV0dG9uQWN0aW9uUHJvcHMsXG4gIFVzZXJCdXR0b25MaW5rUHJvcHMsXG4gIFVzZXJQcm9maWxlTGlua1Byb3BzLFxuICBVc2VyUHJvZmlsZVBhZ2VQcm9wcyxcbiAgV2l0aENsZXJrUHJvcCxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgdXNlT3JnYW5pemF0aW9uUHJvZmlsZUN1c3RvbVBhZ2VzLFxuICB1c2VTYW5pdGl6ZWRDaGlsZHJlbixcbiAgdXNlVXNlckJ1dHRvbkN1c3RvbU1lbnVJdGVtcyxcbiAgdXNlVXNlclByb2ZpbGVDdXN0b21QYWdlcyxcbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgdXNlV2FpdEZvckNvbXBvbmVudE1vdW50IH0gZnJvbSAnLi4vdXRpbHMvdXNlV2FpdEZvckNvbXBvbmVudE1vdW50JztcbmltcG9ydCB7IENsZXJrSG9zdFJlbmRlcmVyIH0gZnJvbSAnLi9DbGVya0hvc3RSZW5kZXJlcic7XG5pbXBvcnQgeyB3aXRoQ2xlcmsgfSBmcm9tICcuL3dpdGhDbGVyayc7XG5cbnR5cGUgRmFsbGJhY2tQcm9wID0ge1xuICAvKipcbiAgICogQW4gb3B0aW9uYWwgZWxlbWVudCB0byByZW5kZXIgd2hpbGUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGluZy5cbiAgICovXG4gIGZhbGxiYWNrPzogUmVhY3ROb2RlO1xufTtcblxudHlwZSBVc2VyUHJvZmlsZUV4cG9ydFR5cGUgPSB0eXBlb2YgX1VzZXJQcm9maWxlICYge1xuICBQYWdlOiB0eXBlb2YgVXNlclByb2ZpbGVQYWdlO1xuICBMaW5rOiB0eXBlb2YgVXNlclByb2ZpbGVMaW5rO1xufTtcblxudHlwZSBVc2VyQnV0dG9uRXhwb3J0VHlwZSA9IHR5cGVvZiBfVXNlckJ1dHRvbiAmIHtcbiAgVXNlclByb2ZpbGVQYWdlOiB0eXBlb2YgVXNlclByb2ZpbGVQYWdlO1xuICBVc2VyUHJvZmlsZUxpbms6IHR5cGVvZiBVc2VyUHJvZmlsZUxpbms7XG4gIE1lbnVJdGVtczogdHlwZW9mIE1lbnVJdGVtcztcbiAgQWN0aW9uOiB0eXBlb2YgTWVudUFjdGlvbjtcbiAgTGluazogdHlwZW9mIE1lbnVMaW5rO1xuICAvKipcbiAgICogVGhlIGA8T3V0bGV0IC8+YCBjb21wb25lbnQgY2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgYXNQcm92aWRlcmAgaW4gb3JkZXIgdG8gY29udHJvbCByZW5kZXJpbmdcbiAgICogb2YgdGhlIGA8VXNlckJ1dHRvbiAvPmAgd2l0aG91dCBhZmZlY3RpbmcgaXRzIGNvbmZpZ3VyYXRpb24gb3IgYW55IGN1c3RvbSBwYWdlcyB0aGF0IGNvdWxkIGJlIG1vdW50ZWRcbiAgICogQGV4cGVyaW1lbnRhbCBUaGlzIEFQSSBpcyBleHBlcmltZW50YWwgYW5kIG1heSBjaGFuZ2UgYXQgYW55IG1vbWVudC5cbiAgICovXG4gIF9fZXhwZXJpbWVudGFsX091dGxldDogdHlwZW9mIFVzZXJCdXR0b25PdXRsZXQ7XG59O1xuXG50eXBlIFVzZXJCdXR0b25Qcm9wc1dpdGhvdXRDdXN0b21QYWdlcyA9IFdpdGhvdXQ8XG4gIFVzZXJCdXR0b25Qcm9wcyxcbiAgJ3VzZXJQcm9maWxlUHJvcHMnIHwgJ19fZXhwZXJpbWVudGFsX2FzU3RhbmRhbG9uZSdcbj4gJiB7XG4gIHVzZXJQcm9maWxlUHJvcHM/OiBQaWNrPFVzZXJQcm9maWxlUHJvcHMsICdhZGRpdGlvbmFsT0F1dGhTY29wZXMnIHwgJ2FwcGVhcmFuY2UnPjtcbiAgLyoqXG4gICAqIEFkZGluZyBgYXNQcm92aWRlcmAgd2lsbCBkZWZlciByZW5kZXJpbmcgdW50aWwgdGhlIGA8T3V0bGV0IC8+YCBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAgICogVGhpcyBBUEkgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgY2hhbmdlIGF0IGFueSBtb21lbnQuXG4gICAqIEBleHBlcmltZW50YWxcbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICBfX2V4cGVyaW1lbnRhbF9hc1Byb3ZpZGVyPzogYm9vbGVhbjtcbn07XG5cbnR5cGUgT3JnYW5pemF0aW9uUHJvZmlsZUV4cG9ydFR5cGUgPSB0eXBlb2YgX09yZ2FuaXphdGlvblByb2ZpbGUgJiB7XG4gIFBhZ2U6IHR5cGVvZiBPcmdhbml6YXRpb25Qcm9maWxlUGFnZTtcbiAgTGluazogdHlwZW9mIE9yZ2FuaXphdGlvblByb2ZpbGVMaW5rO1xufTtcblxudHlwZSBPcmdhbml6YXRpb25Td2l0Y2hlckV4cG9ydFR5cGUgPSB0eXBlb2YgX09yZ2FuaXphdGlvblN3aXRjaGVyICYge1xuICBPcmdhbml6YXRpb25Qcm9maWxlUGFnZTogdHlwZW9mIE9yZ2FuaXphdGlvblByb2ZpbGVQYWdlO1xuICBPcmdhbml6YXRpb25Qcm9maWxlTGluazogdHlwZW9mIE9yZ2FuaXphdGlvblByb2ZpbGVMaW5rO1xuICAvKipcbiAgICogVGhlIGA8T3V0bGV0IC8+YCBjb21wb25lbnQgY2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgYXNQcm92aWRlcmAgaW4gb3JkZXIgdG8gY29udHJvbCByZW5kZXJpbmdcbiAgICogb2YgdGhlIGA8T3JnYW5pemF0aW9uU3dpdGNoZXIgLz5gIHdpdGhvdXQgYWZmZWN0aW5nIGl0cyBjb25maWd1cmF0aW9uIG9yIGFueSBjdXN0b20gcGFnZXMgdGhhdCBjb3VsZCBiZSBtb3VudGVkXG4gICAqIEBleHBlcmltZW50YWwgVGhpcyBBUEkgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgY2hhbmdlIGF0IGFueSBtb21lbnQuXG4gICAqL1xuICBfX2V4cGVyaW1lbnRhbF9PdXRsZXQ6IHR5cGVvZiBPcmdhbml6YXRpb25Td2l0Y2hlck91dGxldDtcbn07XG5cbnR5cGUgT3JnYW5pemF0aW9uU3dpdGNoZXJQcm9wc1dpdGhvdXRDdXN0b21QYWdlcyA9IFdpdGhvdXQ8XG4gIE9yZ2FuaXphdGlvblN3aXRjaGVyUHJvcHMsXG4gICdvcmdhbml6YXRpb25Qcm9maWxlUHJvcHMnIHwgJ19fZXhwZXJpbWVudGFsX2FzU3RhbmRhbG9uZSdcbj4gJiB7XG4gIG9yZ2FuaXphdGlvblByb2ZpbGVQcm9wcz86IFBpY2s8T3JnYW5pemF0aW9uUHJvZmlsZVByb3BzLCAnYXBwZWFyYW5jZSc+O1xuICAvKipcbiAgICogQWRkaW5nIGBhc1Byb3ZpZGVyYCB3aWxsIGRlZmVyIHJlbmRlcmluZyB1bnRpbCB0aGUgYDxPdXRsZXQgLz5gIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgKiBUaGlzIEFQSSBpcyBleHBlcmltZW50YWwgYW5kIG1heSBjaGFuZ2UgYXQgYW55IG1vbWVudC5cbiAgICogQGV4cGVyaW1lbnRhbFxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIF9fZXhwZXJpbWVudGFsX2FzUHJvdmlkZXI/OiBib29sZWFuO1xufTtcblxuY29uc3QgQ3VzdG9tUG9ydGFsc1JlbmRlcmVyID0gKHByb3BzOiBDdXN0b21Qb3J0YWxzUmVuZGVyZXJQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7cHJvcHM/LmN1c3RvbVBhZ2VzUG9ydGFscz8ubWFwKChwb3J0YWwsIGluZGV4KSA9PiBjcmVhdGVFbGVtZW50KHBvcnRhbCwgeyBrZXk6IGluZGV4IH0pKX1cbiAgICAgIHtwcm9wcz8uY3VzdG9tTWVudUl0ZW1zUG9ydGFscz8ubWFwKChwb3J0YWwsIGluZGV4KSA9PiBjcmVhdGVFbGVtZW50KHBvcnRhbCwgeyBrZXk6IGluZGV4IH0pKX1cbiAgICA8Lz5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBTaWduSW4gPSB3aXRoQ2xlcmsoXG4gICh7IGNsZXJrLCBjb21wb25lbnQsIGZhbGxiYWNrLCAuLi5wcm9wcyB9OiBXaXRoQ2xlcmtQcm9wPFNpZ25JblByb3BzICYgRmFsbGJhY2tQcm9wPikgPT4ge1xuICAgIGNvbnN0IG1vdW50aW5nU3RhdHVzID0gdXNlV2FpdEZvckNvbXBvbmVudE1vdW50KGNvbXBvbmVudCk7XG4gICAgY29uc3Qgc2hvdWxkU2hvd0ZhbGxiYWNrID0gbW91bnRpbmdTdGF0dXMgPT09ICdyZW5kZXJpbmcnIHx8ICFjbGVyay5sb2FkZWQ7XG5cbiAgICBjb25zdCByZW5kZXJlclJvb3RQcm9wcyA9IHtcbiAgICAgIC4uLihzaG91bGRTaG93RmFsbGJhY2sgJiYgZmFsbGJhY2sgJiYgeyBzdHlsZTogeyBkaXNwbGF5OiAnbm9uZScgfSB9KSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIHtzaG91bGRTaG93RmFsbGJhY2sgJiYgZmFsbGJhY2t9XG4gICAgICAgIHtjbGVyay5sb2FkZWQgJiYgKFxuICAgICAgICAgIDxDbGVya0hvc3RSZW5kZXJlclxuICAgICAgICAgICAgY29tcG9uZW50PXtjb21wb25lbnR9XG4gICAgICAgICAgICBtb3VudD17Y2xlcmsubW91bnRTaWduSW59XG4gICAgICAgICAgICB1bm1vdW50PXtjbGVyay51bm1vdW50U2lnbklufVxuICAgICAgICAgICAgdXBkYXRlUHJvcHM9eyhjbGVyayBhcyBhbnkpLl9fdW5zdGFibGVfX3VwZGF0ZVByb3BzfVxuICAgICAgICAgICAgcHJvcHM9e3Byb3BzfVxuICAgICAgICAgICAgcm9vdFByb3BzPXtyZW5kZXJlclJvb3RQcm9wc31cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfSxcbiAgeyBjb21wb25lbnQ6ICdTaWduSW4nLCByZW5kZXJXaGlsZUxvYWRpbmc6IHRydWUgfSxcbik7XG5cbmV4cG9ydCBjb25zdCBTaWduVXAgPSB3aXRoQ2xlcmsoXG4gICh7IGNsZXJrLCBjb21wb25lbnQsIGZhbGxiYWNrLCAuLi5wcm9wcyB9OiBXaXRoQ2xlcmtQcm9wPFNpZ25VcFByb3BzICYgRmFsbGJhY2tQcm9wPikgPT4ge1xuICAgIGNvbnN0IG1vdW50aW5nU3RhdHVzID0gdXNlV2FpdEZvckNvbXBvbmVudE1vdW50KGNvbXBvbmVudCk7XG4gICAgY29uc3Qgc2hvdWxkU2hvd0ZhbGxiYWNrID0gbW91bnRpbmdTdGF0dXMgPT09ICdyZW5kZXJpbmcnIHx8ICFjbGVyay5sb2FkZWQ7XG5cbiAgICBjb25zdCByZW5kZXJlclJvb3RQcm9wcyA9IHtcbiAgICAgIC4uLihzaG91bGRTaG93RmFsbGJhY2sgJiYgZmFsbGJhY2sgJiYgeyBzdHlsZTogeyBkaXNwbGF5OiAnbm9uZScgfSB9KSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIHtzaG91bGRTaG93RmFsbGJhY2sgJiYgZmFsbGJhY2t9XG4gICAgICAgIHtjbGVyay5sb2FkZWQgJiYgKFxuICAgICAgICAgIDxDbGVya0hvc3RSZW5kZXJlclxuICAgICAgICAgICAgY29tcG9uZW50PXtjb21wb25lbnR9XG4gICAgICAgICAgICBtb3VudD17Y2xlcmsubW91bnRTaWduVXB9XG4gICAgICAgICAgICB1bm1vdW50PXtjbGVyay51bm1vdW50U2lnblVwfVxuICAgICAgICAgICAgdXBkYXRlUHJvcHM9eyhjbGVyayBhcyBhbnkpLl9fdW5zdGFibGVfX3VwZGF0ZVByb3BzfVxuICAgICAgICAgICAgcHJvcHM9e3Byb3BzfVxuICAgICAgICAgICAgcm9vdFByb3BzPXtyZW5kZXJlclJvb3RQcm9wc31cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfSxcbiAgeyBjb21wb25lbnQ6ICdTaWduVXAnLCByZW5kZXJXaGlsZUxvYWRpbmc6IHRydWUgfSxcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyUHJvZmlsZVBhZ2UoeyBjaGlsZHJlbiB9OiBQcm9wc1dpdGhDaGlsZHJlbjxVc2VyUHJvZmlsZVBhZ2VQcm9wcz4pIHtcbiAgbG9nRXJyb3JJbkRldk1vZGUodXNlclByb2ZpbGVQYWdlUmVuZGVyZWRFcnJvcik7XG4gIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyUHJvZmlsZUxpbmsoeyBjaGlsZHJlbiB9OiBQcm9wc1dpdGhDaGlsZHJlbjxVc2VyUHJvZmlsZUxpbmtQcm9wcz4pIHtcbiAgbG9nRXJyb3JJbkRldk1vZGUodXNlclByb2ZpbGVMaW5rUmVuZGVyZWRFcnJvcik7XG4gIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG59XG5cbmNvbnN0IF9Vc2VyUHJvZmlsZSA9IHdpdGhDbGVyayhcbiAgKHtcbiAgICBjbGVyayxcbiAgICBjb21wb25lbnQsXG4gICAgZmFsbGJhY2ssXG4gICAgLi4ucHJvcHNcbiAgfTogV2l0aENsZXJrUHJvcDxQcm9wc1dpdGhDaGlsZHJlbjxXaXRob3V0PFVzZXJQcm9maWxlUHJvcHMsICdjdXN0b21QYWdlcyc+PiAmIEZhbGxiYWNrUHJvcD4pID0+IHtcbiAgICBjb25zdCBtb3VudGluZ1N0YXR1cyA9IHVzZVdhaXRGb3JDb21wb25lbnRNb3VudChjb21wb25lbnQpO1xuICAgIGNvbnN0IHNob3VsZFNob3dGYWxsYmFjayA9IG1vdW50aW5nU3RhdHVzID09PSAncmVuZGVyaW5nJyB8fCAhY2xlcmsubG9hZGVkO1xuXG4gICAgY29uc3QgcmVuZGVyZXJSb290UHJvcHMgPSB7XG4gICAgICAuLi4oc2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrICYmIHsgc3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0gfSksXG4gICAgfTtcblxuICAgIGNvbnN0IHsgY3VzdG9tUGFnZXMsIGN1c3RvbVBhZ2VzUG9ydGFscyB9ID0gdXNlVXNlclByb2ZpbGVDdXN0b21QYWdlcyhwcm9wcy5jaGlsZHJlbik7XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIHtzaG91bGRTaG93RmFsbGJhY2sgJiYgZmFsbGJhY2t9XG4gICAgICAgIDxDbGVya0hvc3RSZW5kZXJlclxuICAgICAgICAgIGNvbXBvbmVudD17Y29tcG9uZW50fVxuICAgICAgICAgIG1vdW50PXtjbGVyay5tb3VudFVzZXJQcm9maWxlfVxuICAgICAgICAgIHVubW91bnQ9e2NsZXJrLnVubW91bnRVc2VyUHJvZmlsZX1cbiAgICAgICAgICB1cGRhdGVQcm9wcz17KGNsZXJrIGFzIGFueSkuX191bnN0YWJsZV9fdXBkYXRlUHJvcHN9XG4gICAgICAgICAgcHJvcHM9e3sgLi4ucHJvcHMsIGN1c3RvbVBhZ2VzIH19XG4gICAgICAgICAgcm9vdFByb3BzPXtyZW5kZXJlclJvb3RQcm9wc31cbiAgICAgICAgPlxuICAgICAgICAgIDxDdXN0b21Qb3J0YWxzUmVuZGVyZXIgY3VzdG9tUGFnZXNQb3J0YWxzPXtjdXN0b21QYWdlc1BvcnRhbHN9IC8+XG4gICAgICAgIDwvQ2xlcmtIb3N0UmVuZGVyZXI+XG4gICAgICA8Lz5cbiAgICApO1xuICB9LFxuICB7IGNvbXBvbmVudDogJ1VzZXJQcm9maWxlJywgcmVuZGVyV2hpbGVMb2FkaW5nOiB0cnVlIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgVXNlclByb2ZpbGU6IFVzZXJQcm9maWxlRXhwb3J0VHlwZSA9IE9iamVjdC5hc3NpZ24oX1VzZXJQcm9maWxlLCB7XG4gIFBhZ2U6IFVzZXJQcm9maWxlUGFnZSxcbiAgTGluazogVXNlclByb2ZpbGVMaW5rLFxufSk7XG5cbmNvbnN0IFVzZXJCdXR0b25Db250ZXh0ID0gY3JlYXRlQ29udGV4dDxNb3VudFByb3BzPih7XG4gIG1vdW50OiAoKSA9PiB7fSxcbiAgdW5tb3VudDogKCkgPT4ge30sXG4gIHVwZGF0ZVByb3BzOiAoKSA9PiB7fSxcbn0pO1xuXG5jb25zdCBfVXNlckJ1dHRvbiA9IHdpdGhDbGVyayhcbiAgKHtcbiAgICBjbGVyayxcbiAgICBjb21wb25lbnQsXG4gICAgZmFsbGJhY2ssXG4gICAgLi4ucHJvcHNcbiAgfTogV2l0aENsZXJrUHJvcDxQcm9wc1dpdGhDaGlsZHJlbjxVc2VyQnV0dG9uUHJvcHNXaXRob3V0Q3VzdG9tUGFnZXM+ICYgRmFsbGJhY2tQcm9wPikgPT4ge1xuICAgIGNvbnN0IG1vdW50aW5nU3RhdHVzID0gdXNlV2FpdEZvckNvbXBvbmVudE1vdW50KGNvbXBvbmVudCk7XG4gICAgY29uc3Qgc2hvdWxkU2hvd0ZhbGxiYWNrID0gbW91bnRpbmdTdGF0dXMgPT09ICdyZW5kZXJpbmcnIHx8ICFjbGVyay5sb2FkZWQ7XG5cbiAgICBjb25zdCByZW5kZXJlclJvb3RQcm9wcyA9IHtcbiAgICAgIC4uLihzaG91bGRTaG93RmFsbGJhY2sgJiYgZmFsbGJhY2sgJiYgeyBzdHlsZTogeyBkaXNwbGF5OiAnbm9uZScgfSB9KSxcbiAgICB9O1xuXG4gICAgY29uc3QgeyBjdXN0b21QYWdlcywgY3VzdG9tUGFnZXNQb3J0YWxzIH0gPSB1c2VVc2VyUHJvZmlsZUN1c3RvbVBhZ2VzKHByb3BzLmNoaWxkcmVuLCB7XG4gICAgICBhbGxvd0ZvckFueUNoaWxkcmVuOiAhIXByb3BzLl9fZXhwZXJpbWVudGFsX2FzUHJvdmlkZXIsXG4gICAgfSk7XG4gICAgY29uc3QgdXNlclByb2ZpbGVQcm9wcyA9IE9iamVjdC5hc3NpZ24ocHJvcHMudXNlclByb2ZpbGVQcm9wcyB8fCB7fSwgeyBjdXN0b21QYWdlcyB9KTtcbiAgICBjb25zdCB7IGN1c3RvbU1lbnVJdGVtcywgY3VzdG9tTWVudUl0ZW1zUG9ydGFscyB9ID0gdXNlVXNlckJ1dHRvbkN1c3RvbU1lbnVJdGVtcyhwcm9wcy5jaGlsZHJlbik7XG4gICAgY29uc3Qgc2FuaXRpemVkQ2hpbGRyZW4gPSB1c2VTYW5pdGl6ZWRDaGlsZHJlbihwcm9wcy5jaGlsZHJlbik7XG5cbiAgICBjb25zdCBwYXNzYWJsZVByb3BzID0ge1xuICAgICAgbW91bnQ6IGNsZXJrLm1vdW50VXNlckJ1dHRvbixcbiAgICAgIHVubW91bnQ6IGNsZXJrLnVubW91bnRVc2VyQnV0dG9uLFxuICAgICAgdXBkYXRlUHJvcHM6IChjbGVyayBhcyBhbnkpLl9fdW5zdGFibGVfX3VwZGF0ZVByb3BzLFxuICAgICAgcHJvcHM6IHsgLi4ucHJvcHMsIHVzZXJQcm9maWxlUHJvcHMsIGN1c3RvbU1lbnVJdGVtcyB9LFxuICAgIH07XG4gICAgY29uc3QgcG9ydGFsUHJvcHMgPSB7XG4gICAgICBjdXN0b21QYWdlc1BvcnRhbHM6IGN1c3RvbVBhZ2VzUG9ydGFscyxcbiAgICAgIGN1c3RvbU1lbnVJdGVtc1BvcnRhbHM6IGN1c3RvbU1lbnVJdGVtc1BvcnRhbHMsXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8VXNlckJ1dHRvbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3Bhc3NhYmxlUHJvcHN9PlxuICAgICAgICB7c2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrfVxuICAgICAgICB7Y2xlcmsubG9hZGVkICYmIChcbiAgICAgICAgICA8Q2xlcmtIb3N0UmVuZGVyZXJcbiAgICAgICAgICAgIGNvbXBvbmVudD17Y29tcG9uZW50fVxuICAgICAgICAgICAgey4uLnBhc3NhYmxlUHJvcHN9XG4gICAgICAgICAgICBoaWRlUm9vdEh0bWxFbGVtZW50PXshIXByb3BzLl9fZXhwZXJpbWVudGFsX2FzUHJvdmlkZXJ9XG4gICAgICAgICAgICByb290UHJvcHM9e3JlbmRlcmVyUm9vdFByb3BzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsvKlRoaXMgbWltaWNzIHRoZSBwcmV2aW91cyBiZWhhdmlvdXIgYmVmb3JlIGFzUHJvdmlkZXIgZXhpc3RlZCovfVxuICAgICAgICAgICAge3Byb3BzLl9fZXhwZXJpbWVudGFsX2FzUHJvdmlkZXIgPyBzYW5pdGl6ZWRDaGlsZHJlbiA6IG51bGx9XG4gICAgICAgICAgICA8Q3VzdG9tUG9ydGFsc1JlbmRlcmVyIHsuLi5wb3J0YWxQcm9wc30gLz5cbiAgICAgICAgICA8L0NsZXJrSG9zdFJlbmRlcmVyPlxuICAgICAgICApfVxuICAgICAgPC9Vc2VyQnV0dG9uQ29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuICB9LFxuICB7IGNvbXBvbmVudDogJ1VzZXJCdXR0b24nLCByZW5kZXJXaGlsZUxvYWRpbmc6IHRydWUgfSxcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBNZW51SXRlbXMoeyBjaGlsZHJlbiB9OiBQcm9wc1dpdGhDaGlsZHJlbikge1xuICBsb2dFcnJvckluRGV2TW9kZSh1c2VyQnV0dG9uTWVudUl0ZW1zUmVuZGVyZWRFcnJvcik7XG4gIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNZW51QWN0aW9uKHsgY2hpbGRyZW4gfTogUHJvcHNXaXRoQ2hpbGRyZW48VXNlckJ1dHRvbkFjdGlvblByb3BzPikge1xuICBsb2dFcnJvckluRGV2TW9kZSh1c2VyQnV0dG9uTWVudUFjdGlvblJlbmRlcmVkRXJyb3IpO1xuICByZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTWVudUxpbmsoeyBjaGlsZHJlbiB9OiBQcm9wc1dpdGhDaGlsZHJlbjxVc2VyQnV0dG9uTGlua1Byb3BzPikge1xuICBsb2dFcnJvckluRGV2TW9kZSh1c2VyQnV0dG9uTWVudUxpbmtSZW5kZXJlZEVycm9yKTtcbiAgcmV0dXJuIDw+e2NoaWxkcmVufTwvPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJCdXR0b25PdXRsZXQob3V0bGV0UHJvcHM6IFdpdGhvdXQ8VXNlckJ1dHRvblByb3BzLCAndXNlclByb2ZpbGVQcm9wcyc+KSB7XG4gIGNvbnN0IHByb3ZpZGVyUHJvcHMgPSB1c2VDb250ZXh0KFVzZXJCdXR0b25Db250ZXh0KTtcblxuICBjb25zdCBwb3J0YWxQcm9wcyA9IHtcbiAgICAuLi5wcm92aWRlclByb3BzLFxuICAgIHByb3BzOiB7XG4gICAgICAuLi5wcm92aWRlclByb3BzLnByb3BzLFxuICAgICAgLi4ub3V0bGV0UHJvcHMsXG4gICAgfSxcbiAgfSBzYXRpc2ZpZXMgTW91bnRQcm9wcztcblxuICByZXR1cm4gPENsZXJrSG9zdFJlbmRlcmVyIHsuLi5wb3J0YWxQcm9wc30gLz47XG59XG5cbmV4cG9ydCBjb25zdCBVc2VyQnV0dG9uOiBVc2VyQnV0dG9uRXhwb3J0VHlwZSA9IE9iamVjdC5hc3NpZ24oX1VzZXJCdXR0b24sIHtcbiAgVXNlclByb2ZpbGVQYWdlLFxuICBVc2VyUHJvZmlsZUxpbmssXG4gIE1lbnVJdGVtcyxcbiAgQWN0aW9uOiBNZW51QWN0aW9uLFxuICBMaW5rOiBNZW51TGluayxcbiAgX19leHBlcmltZW50YWxfT3V0bGV0OiBVc2VyQnV0dG9uT3V0bGV0LFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBPcmdhbml6YXRpb25Qcm9maWxlUGFnZSh7IGNoaWxkcmVuIH06IFByb3BzV2l0aENoaWxkcmVuPE9yZ2FuaXphdGlvblByb2ZpbGVQYWdlUHJvcHM+KSB7XG4gIGxvZ0Vycm9ySW5EZXZNb2RlKG9yZ2FuaXphdGlvblByb2ZpbGVQYWdlUmVuZGVyZWRFcnJvcik7XG4gIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPcmdhbml6YXRpb25Qcm9maWxlTGluayh7IGNoaWxkcmVuIH06IFByb3BzV2l0aENoaWxkcmVuPE9yZ2FuaXphdGlvblByb2ZpbGVMaW5rUHJvcHM+KSB7XG4gIGxvZ0Vycm9ySW5EZXZNb2RlKG9yZ2FuaXphdGlvblByb2ZpbGVMaW5rUmVuZGVyZWRFcnJvcik7XG4gIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG59XG5cbmNvbnN0IF9Pcmdhbml6YXRpb25Qcm9maWxlID0gd2l0aENsZXJrKFxuICAoe1xuICAgIGNsZXJrLFxuICAgIGNvbXBvbmVudCxcbiAgICBmYWxsYmFjayxcbiAgICAuLi5wcm9wc1xuICB9OiBXaXRoQ2xlcmtQcm9wPFByb3BzV2l0aENoaWxkcmVuPFdpdGhvdXQ8T3JnYW5pemF0aW9uUHJvZmlsZVByb3BzLCAnY3VzdG9tUGFnZXMnPj4gJiBGYWxsYmFja1Byb3A+KSA9PiB7XG4gICAgY29uc3QgbW91bnRpbmdTdGF0dXMgPSB1c2VXYWl0Rm9yQ29tcG9uZW50TW91bnQoY29tcG9uZW50KTtcbiAgICBjb25zdCBzaG91bGRTaG93RmFsbGJhY2sgPSBtb3VudGluZ1N0YXR1cyA9PT0gJ3JlbmRlcmluZycgfHwgIWNsZXJrLmxvYWRlZDtcblxuICAgIGNvbnN0IHJlbmRlcmVyUm9vdFByb3BzID0ge1xuICAgICAgLi4uKHNob3VsZFNob3dGYWxsYmFjayAmJiBmYWxsYmFjayAmJiB7IHN0eWxlOiB7IGRpc3BsYXk6ICdub25lJyB9IH0pLFxuICAgIH07XG5cbiAgICBjb25zdCB7IGN1c3RvbVBhZ2VzLCBjdXN0b21QYWdlc1BvcnRhbHMgfSA9IHVzZU9yZ2FuaXphdGlvblByb2ZpbGVDdXN0b21QYWdlcyhwcm9wcy5jaGlsZHJlbik7XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIHtzaG91bGRTaG93RmFsbGJhY2sgJiYgZmFsbGJhY2t9XG4gICAgICAgIHtjbGVyay5sb2FkZWQgJiYgKFxuICAgICAgICAgIDxDbGVya0hvc3RSZW5kZXJlclxuICAgICAgICAgICAgY29tcG9uZW50PXtjb21wb25lbnR9XG4gICAgICAgICAgICBtb3VudD17Y2xlcmsubW91bnRPcmdhbml6YXRpb25Qcm9maWxlfVxuICAgICAgICAgICAgdW5tb3VudD17Y2xlcmsudW5tb3VudE9yZ2FuaXphdGlvblByb2ZpbGV9XG4gICAgICAgICAgICB1cGRhdGVQcm9wcz17KGNsZXJrIGFzIGFueSkuX191bnN0YWJsZV9fdXBkYXRlUHJvcHN9XG4gICAgICAgICAgICBwcm9wcz17eyAuLi5wcm9wcywgY3VzdG9tUGFnZXMgfX1cbiAgICAgICAgICAgIHJvb3RQcm9wcz17cmVuZGVyZXJSb290UHJvcHN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEN1c3RvbVBvcnRhbHNSZW5kZXJlciBjdXN0b21QYWdlc1BvcnRhbHM9e2N1c3RvbVBhZ2VzUG9ydGFsc30gLz5cbiAgICAgICAgICA8L0NsZXJrSG9zdFJlbmRlcmVyPlxuICAgICAgICApfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfSxcbiAgeyBjb21wb25lbnQ6ICdPcmdhbml6YXRpb25Qcm9maWxlJywgcmVuZGVyV2hpbGVMb2FkaW5nOiB0cnVlIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgT3JnYW5pemF0aW9uUHJvZmlsZTogT3JnYW5pemF0aW9uUHJvZmlsZUV4cG9ydFR5cGUgPSBPYmplY3QuYXNzaWduKF9Pcmdhbml6YXRpb25Qcm9maWxlLCB7XG4gIFBhZ2U6IE9yZ2FuaXphdGlvblByb2ZpbGVQYWdlLFxuICBMaW5rOiBPcmdhbml6YXRpb25Qcm9maWxlTGluayxcbn0pO1xuXG5leHBvcnQgY29uc3QgQ3JlYXRlT3JnYW5pemF0aW9uID0gd2l0aENsZXJrKFxuICAoeyBjbGVyaywgY29tcG9uZW50LCBmYWxsYmFjaywgLi4ucHJvcHMgfTogV2l0aENsZXJrUHJvcDxDcmVhdGVPcmdhbml6YXRpb25Qcm9wcyAmIEZhbGxiYWNrUHJvcD4pID0+IHtcbiAgICBjb25zdCBtb3VudGluZ1N0YXR1cyA9IHVzZVdhaXRGb3JDb21wb25lbnRNb3VudChjb21wb25lbnQpO1xuICAgIGNvbnN0IHNob3VsZFNob3dGYWxsYmFjayA9IG1vdW50aW5nU3RhdHVzID09PSAncmVuZGVyaW5nJyB8fCAhY2xlcmsubG9hZGVkO1xuXG4gICAgY29uc3QgcmVuZGVyZXJSb290UHJvcHMgPSB7XG4gICAgICAuLi4oc2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrICYmIHsgc3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0gfSksXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7c2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrfVxuICAgICAgICB7Y2xlcmsubG9hZGVkICYmIChcbiAgICAgICAgICA8Q2xlcmtIb3N0UmVuZGVyZXJcbiAgICAgICAgICAgIGNvbXBvbmVudD17Y29tcG9uZW50fVxuICAgICAgICAgICAgbW91bnQ9e2NsZXJrLm1vdW50Q3JlYXRlT3JnYW5pemF0aW9ufVxuICAgICAgICAgICAgdW5tb3VudD17Y2xlcmsudW5tb3VudENyZWF0ZU9yZ2FuaXphdGlvbn1cbiAgICAgICAgICAgIHVwZGF0ZVByb3BzPXsoY2xlcmsgYXMgYW55KS5fX3Vuc3RhYmxlX191cGRhdGVQcm9wc31cbiAgICAgICAgICAgIHByb3BzPXtwcm9wc31cbiAgICAgICAgICAgIHJvb3RQcm9wcz17cmVuZGVyZXJSb290UHJvcHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvPlxuICAgICk7XG4gIH0sXG4gIHsgY29tcG9uZW50OiAnQ3JlYXRlT3JnYW5pemF0aW9uJywgcmVuZGVyV2hpbGVMb2FkaW5nOiB0cnVlIH0sXG4pO1xuXG5jb25zdCBPcmdhbml6YXRpb25Td2l0Y2hlckNvbnRleHQgPSBjcmVhdGVDb250ZXh0PE1vdW50UHJvcHM+KHtcbiAgbW91bnQ6ICgpID0+IHt9LFxuICB1bm1vdW50OiAoKSA9PiB7fSxcbiAgdXBkYXRlUHJvcHM6ICgpID0+IHt9LFxufSk7XG5cbmNvbnN0IF9Pcmdhbml6YXRpb25Td2l0Y2hlciA9IHdpdGhDbGVyayhcbiAgKHtcbiAgICBjbGVyayxcbiAgICBjb21wb25lbnQsXG4gICAgZmFsbGJhY2ssXG4gICAgLi4ucHJvcHNcbiAgfTogV2l0aENsZXJrUHJvcDxQcm9wc1dpdGhDaGlsZHJlbjxPcmdhbml6YXRpb25Td2l0Y2hlclByb3BzV2l0aG91dEN1c3RvbVBhZ2VzPiAmIEZhbGxiYWNrUHJvcD4pID0+IHtcbiAgICBjb25zdCBtb3VudGluZ1N0YXR1cyA9IHVzZVdhaXRGb3JDb21wb25lbnRNb3VudChjb21wb25lbnQpO1xuICAgIGNvbnN0IHNob3VsZFNob3dGYWxsYmFjayA9IG1vdW50aW5nU3RhdHVzID09PSAncmVuZGVyaW5nJyB8fCAhY2xlcmsubG9hZGVkO1xuXG4gICAgY29uc3QgcmVuZGVyZXJSb290UHJvcHMgPSB7XG4gICAgICAuLi4oc2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrICYmIHsgc3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0gfSksXG4gICAgfTtcblxuICAgIGNvbnN0IHsgY3VzdG9tUGFnZXMsIGN1c3RvbVBhZ2VzUG9ydGFscyB9ID0gdXNlT3JnYW5pemF0aW9uUHJvZmlsZUN1c3RvbVBhZ2VzKHByb3BzLmNoaWxkcmVuLCB7XG4gICAgICBhbGxvd0ZvckFueUNoaWxkcmVuOiAhIXByb3BzLl9fZXhwZXJpbWVudGFsX2FzUHJvdmlkZXIsXG4gICAgfSk7XG4gICAgY29uc3Qgb3JnYW5pemF0aW9uUHJvZmlsZVByb3BzID0gT2JqZWN0LmFzc2lnbihwcm9wcy5vcmdhbml6YXRpb25Qcm9maWxlUHJvcHMgfHwge30sIHsgY3VzdG9tUGFnZXMgfSk7XG4gICAgY29uc3Qgc2FuaXRpemVkQ2hpbGRyZW4gPSB1c2VTYW5pdGl6ZWRDaGlsZHJlbihwcm9wcy5jaGlsZHJlbik7XG5cbiAgICBjb25zdCBwYXNzYWJsZVByb3BzID0ge1xuICAgICAgbW91bnQ6IGNsZXJrLm1vdW50T3JnYW5pemF0aW9uU3dpdGNoZXIsXG4gICAgICB1bm1vdW50OiBjbGVyay51bm1vdW50T3JnYW5pemF0aW9uU3dpdGNoZXIsXG4gICAgICB1cGRhdGVQcm9wczogKGNsZXJrIGFzIGFueSkuX191bnN0YWJsZV9fdXBkYXRlUHJvcHMsXG4gICAgICBwcm9wczogeyAuLi5wcm9wcywgb3JnYW5pemF0aW9uUHJvZmlsZVByb3BzIH0sXG4gICAgICByb290UHJvcHM6IHJlbmRlcmVyUm9vdFByb3BzLFxuICAgICAgY29tcG9uZW50LFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVmZXRjaCBvcmdhbml6YXRpb24gbGlzdFxuICAgICAqL1xuICAgIGNsZXJrLl9fZXhwZXJpbWVudGFsX3ByZWZldGNoT3JnYW5pemF0aW9uU3dpdGNoZXIoKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8T3JnYW5pemF0aW9uU3dpdGNoZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtwYXNzYWJsZVByb3BzfT5cbiAgICAgICAgPD5cbiAgICAgICAgICB7c2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrfVxuICAgICAgICAgIHtjbGVyay5sb2FkZWQgJiYgKFxuICAgICAgICAgICAgPENsZXJrSG9zdFJlbmRlcmVyXG4gICAgICAgICAgICAgIHsuLi5wYXNzYWJsZVByb3BzfVxuICAgICAgICAgICAgICBoaWRlUm9vdEh0bWxFbGVtZW50PXshIXByb3BzLl9fZXhwZXJpbWVudGFsX2FzUHJvdmlkZXJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHsvKlRoaXMgbWltaWNzIHRoZSBwcmV2aW91cyBiZWhhdmlvdXIgYmVmb3JlIGFzUHJvdmlkZXIgZXhpc3RlZCovfVxuICAgICAgICAgICAgICB7cHJvcHMuX19leHBlcmltZW50YWxfYXNQcm92aWRlciA/IHNhbml0aXplZENoaWxkcmVuIDogbnVsbH1cbiAgICAgICAgICAgICAgPEN1c3RvbVBvcnRhbHNSZW5kZXJlciBjdXN0b21QYWdlc1BvcnRhbHM9e2N1c3RvbVBhZ2VzUG9ydGFsc30gLz5cbiAgICAgICAgICAgIDwvQ2xlcmtIb3N0UmVuZGVyZXI+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC8+XG4gICAgICA8L09yZ2FuaXphdGlvblN3aXRjaGVyQ29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuICB9LFxuICB7IGNvbXBvbmVudDogJ09yZ2FuaXphdGlvblN3aXRjaGVyJywgcmVuZGVyV2hpbGVMb2FkaW5nOiB0cnVlIH0sXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gT3JnYW5pemF0aW9uU3dpdGNoZXJPdXRsZXQoXG4gIG91dGxldFByb3BzOiBXaXRob3V0PE9yZ2FuaXphdGlvblN3aXRjaGVyUHJvcHMsICdvcmdhbml6YXRpb25Qcm9maWxlUHJvcHMnPixcbikge1xuICBjb25zdCBwcm92aWRlclByb3BzID0gdXNlQ29udGV4dChPcmdhbml6YXRpb25Td2l0Y2hlckNvbnRleHQpO1xuXG4gIGNvbnN0IHBvcnRhbFByb3BzID0ge1xuICAgIC4uLnByb3ZpZGVyUHJvcHMsXG4gICAgcHJvcHM6IHtcbiAgICAgIC4uLnByb3ZpZGVyUHJvcHMucHJvcHMsXG4gICAgICAuLi5vdXRsZXRQcm9wcyxcbiAgICB9LFxuICB9IHNhdGlzZmllcyBNb3VudFByb3BzO1xuXG4gIHJldHVybiA8Q2xlcmtIb3N0UmVuZGVyZXIgey4uLnBvcnRhbFByb3BzfSAvPjtcbn1cblxuZXhwb3J0IGNvbnN0IE9yZ2FuaXphdGlvblN3aXRjaGVyOiBPcmdhbml6YXRpb25Td2l0Y2hlckV4cG9ydFR5cGUgPSBPYmplY3QuYXNzaWduKF9Pcmdhbml6YXRpb25Td2l0Y2hlciwge1xuICBPcmdhbml6YXRpb25Qcm9maWxlUGFnZSxcbiAgT3JnYW5pemF0aW9uUHJvZmlsZUxpbmssXG4gIF9fZXhwZXJpbWVudGFsX091dGxldDogT3JnYW5pemF0aW9uU3dpdGNoZXJPdXRsZXQsXG59KTtcblxuZXhwb3J0IGNvbnN0IE9yZ2FuaXphdGlvbkxpc3QgPSB3aXRoQ2xlcmsoXG4gICh7IGNsZXJrLCBjb21wb25lbnQsIGZhbGxiYWNrLCAuLi5wcm9wcyB9OiBXaXRoQ2xlcmtQcm9wPE9yZ2FuaXphdGlvbkxpc3RQcm9wcyAmIEZhbGxiYWNrUHJvcD4pID0+IHtcbiAgICBjb25zdCBtb3VudGluZ1N0YXR1cyA9IHVzZVdhaXRGb3JDb21wb25lbnRNb3VudChjb21wb25lbnQpO1xuICAgIGNvbnN0IHNob3VsZFNob3dGYWxsYmFjayA9IG1vdW50aW5nU3RhdHVzID09PSAncmVuZGVyaW5nJyB8fCAhY2xlcmsubG9hZGVkO1xuXG4gICAgY29uc3QgcmVuZGVyZXJSb290UHJvcHMgPSB7XG4gICAgICAuLi4oc2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrICYmIHsgc3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0gfSksXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7c2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrfVxuICAgICAgICB7Y2xlcmsubG9hZGVkICYmIChcbiAgICAgICAgICA8Q2xlcmtIb3N0UmVuZGVyZXJcbiAgICAgICAgICAgIGNvbXBvbmVudD17Y29tcG9uZW50fVxuICAgICAgICAgICAgbW91bnQ9e2NsZXJrLm1vdW50T3JnYW5pemF0aW9uTGlzdH1cbiAgICAgICAgICAgIHVubW91bnQ9e2NsZXJrLnVubW91bnRPcmdhbml6YXRpb25MaXN0fVxuICAgICAgICAgICAgdXBkYXRlUHJvcHM9eyhjbGVyayBhcyBhbnkpLl9fdW5zdGFibGVfX3VwZGF0ZVByb3BzfVxuICAgICAgICAgICAgcHJvcHM9e3Byb3BzfVxuICAgICAgICAgICAgcm9vdFByb3BzPXtyZW5kZXJlclJvb3RQcm9wc31cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfSxcbiAgeyBjb21wb25lbnQ6ICdPcmdhbml6YXRpb25MaXN0JywgcmVuZGVyV2hpbGVMb2FkaW5nOiB0cnVlIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgR29vZ2xlT25lVGFwID0gd2l0aENsZXJrKFxuICAoeyBjbGVyaywgY29tcG9uZW50LCBmYWxsYmFjaywgLi4ucHJvcHMgfTogV2l0aENsZXJrUHJvcDxHb29nbGVPbmVUYXBQcm9wcyAmIEZhbGxiYWNrUHJvcD4pID0+IHtcbiAgICBjb25zdCBtb3VudGluZ1N0YXR1cyA9IHVzZVdhaXRGb3JDb21wb25lbnRNb3VudChjb21wb25lbnQpO1xuICAgIGNvbnN0IHNob3VsZFNob3dGYWxsYmFjayA9IG1vdW50aW5nU3RhdHVzID09PSAncmVuZGVyaW5nJyB8fCAhY2xlcmsubG9hZGVkO1xuXG4gICAgY29uc3QgcmVuZGVyZXJSb290UHJvcHMgPSB7XG4gICAgICAuLi4oc2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrICYmIHsgc3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0gfSksXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7c2hvdWxkU2hvd0ZhbGxiYWNrICYmIGZhbGxiYWNrfVxuICAgICAgICB7Y2xlcmsubG9hZGVkICYmIChcbiAgICAgICAgICA8Q2xlcmtIb3N0UmVuZGVyZXJcbiAgICAgICAgICAgIGNvbXBvbmVudD17Y29tcG9uZW50fVxuICAgICAgICAgICAgb3Blbj17Y2xlcmsub3Blbkdvb2dsZU9uZVRhcH1cbiAgICAgICAgICAgIGNsb3NlPXtjbGVyay5jbG9zZUdvb2dsZU9uZVRhcH1cbiAgICAgICAgICAgIHVwZGF0ZVByb3BzPXsoY2xlcmsgYXMgYW55KS5fX3Vuc3RhYmxlX191cGRhdGVQcm9wc31cbiAgICAgICAgICAgIHByb3BzPXtwcm9wc31cbiAgICAgICAgICAgIHJvb3RQcm9wcz17cmVuZGVyZXJSb290UHJvcHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvPlxuICAgICk7XG4gIH0sXG4gIHsgY29tcG9uZW50OiAnR29vZ2xlT25lVGFwJywgcmVuZGVyV2hpbGVMb2FkaW5nOiB0cnVlIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgV2FpdGxpc3QgPSB3aXRoQ2xlcmsoXG4gICh7IGNsZXJrLCBjb21wb25lbnQsIGZhbGxiYWNrLCAuLi5wcm9wcyB9OiBXaXRoQ2xlcmtQcm9wPFdhaXRsaXN0UHJvcHMgJiBGYWxsYmFja1Byb3A+KSA9PiB7XG4gICAgY29uc3QgbW91bnRpbmdTdGF0dXMgPSB1c2VXYWl0Rm9yQ29tcG9uZW50TW91bnQoY29tcG9uZW50KTtcbiAgICBjb25zdCBzaG91bGRTaG93RmFsbGJhY2sgPSBtb3VudGluZ1N0YXR1cyA9PT0gJ3JlbmRlcmluZycgfHwgIWNsZXJrLmxvYWRlZDtcblxuICAgIGNvbnN0IHJlbmRlcmVyUm9vdFByb3BzID0ge1xuICAgICAgLi4uKHNob3VsZFNob3dGYWxsYmFjayAmJiBmYWxsYmFjayAmJiB7IHN0eWxlOiB7IGRpc3BsYXk6ICdub25lJyB9IH0pLFxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAge3Nob3VsZFNob3dGYWxsYmFjayAmJiBmYWxsYmFja31cbiAgICAgICAge2NsZXJrLmxvYWRlZCAmJiAoXG4gICAgICAgICAgPENsZXJrSG9zdFJlbmRlcmVyXG4gICAgICAgICAgICBjb21wb25lbnQ9e2NvbXBvbmVudH1cbiAgICAgICAgICAgIG1vdW50PXtjbGVyay5tb3VudFdhaXRsaXN0fVxuICAgICAgICAgICAgdW5tb3VudD17Y2xlcmsudW5tb3VudFdhaXRsaXN0fVxuICAgICAgICAgICAgdXBkYXRlUHJvcHM9eyhjbGVyayBhcyBhbnkpLl9fdW5zdGFibGVfX3VwZGF0ZVByb3BzfVxuICAgICAgICAgICAgcHJvcHM9e3Byb3BzfVxuICAgICAgICAgICAgcm9vdFByb3BzPXtyZW5kZXJlclJvb3RQcm9wc31cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfSxcbiAgeyBjb21wb25lbnQ6ICdXYWl0bGlzdCcsIHJlbmRlcldoaWxlTG9hZGluZzogdHJ1ZSB9LFxuKTtcbiIsImV4cG9ydCBjb25zdCBub0NsZXJrUHJvdmlkZXJFcnJvciA9ICdZb3UgbXVzdCB3cmFwIHlvdXIgYXBwbGljYXRpb24gaW4gYSA8Q2xlcmtQcm92aWRlcj4gY29tcG9uZW50Lic7XG5cbmV4cG9ydCBjb25zdCBtdWx0aXBsZUNsZXJrUHJvdmlkZXJzRXJyb3IgPVxuICBcIllvdSd2ZSBhZGRlZCBtdWx0aXBsZSA8Q2xlcmtQcm92aWRlcj4gY29tcG9uZW50cyBpbiB5b3VyIFJlYWN0IGNvbXBvbmVudCB0cmVlLiBXcmFwIHlvdXIgY29tcG9uZW50cyBpbiBhIHNpbmdsZSA8Q2xlcmtQcm92aWRlcj4uXCI7XG5cbmV4cG9ydCBjb25zdCBtdWx0aXBsZUNoaWxkcmVuSW5CdXR0b25Db21wb25lbnQgPSAobmFtZTogc3RyaW5nKSA9PlxuICBgWW91J3ZlIHBhc3NlZCBtdWx0aXBsZSBjaGlsZHJlbiBjb21wb25lbnRzIHRvIDwke25hbWV9Lz4uIFlvdSBjYW4gb25seSBwYXNzIGEgc2luZ2xlIGNoaWxkIGNvbXBvbmVudCBvciB0ZXh0LmA7XG5cbmV4cG9ydCBjb25zdCBpbnZhbGlkU3RhdGVFcnJvciA9XG4gICdJbnZhbGlkIHN0YXRlLiBGZWVsIGZyZWUgdG8gc3VibWl0IGEgYnVnIG9yIHJlYWNoIG91dCB0byBzdXBwb3J0IGhlcmU6IGh0dHBzOi8vY2xlcmsuY29tL3N1cHBvcnQnO1xuXG5leHBvcnQgY29uc3QgdW5zdXBwb3J0ZWROb25Ccm93c2VyRG9tYWluT3JQcm94eVVybEZ1bmN0aW9uID1cbiAgJ1Vuc3VwcG9ydGVkIHVzYWdlIG9mIGlzU2F0ZWxsaXRlLCBkb21haW4gb3IgcHJveHlVcmwuIFRoZSB1c2FnZSBvZiBpc1NhdGVsbGl0ZSwgZG9tYWluIG9yIHByb3h5VXJsIGFzIGZ1bmN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRzLic7XG5cbmV4cG9ydCBjb25zdCB1c2VyUHJvZmlsZVBhZ2VSZW5kZXJlZEVycm9yID1cbiAgJzxVc2VyUHJvZmlsZS5QYWdlIC8+IGNvbXBvbmVudCBuZWVkcyB0byBiZSBhIGRpcmVjdCBjaGlsZCBvZiBgPFVzZXJQcm9maWxlIC8+YCBvciBgPFVzZXJCdXR0b24gLz5gLic7XG5leHBvcnQgY29uc3QgdXNlclByb2ZpbGVMaW5rUmVuZGVyZWRFcnJvciA9XG4gICc8VXNlclByb2ZpbGUuTGluayAvPiBjb21wb25lbnQgbmVlZHMgdG8gYmUgYSBkaXJlY3QgY2hpbGQgb2YgYDxVc2VyUHJvZmlsZSAvPmAgb3IgYDxVc2VyQnV0dG9uIC8+YC4nO1xuXG5leHBvcnQgY29uc3Qgb3JnYW5pemF0aW9uUHJvZmlsZVBhZ2VSZW5kZXJlZEVycm9yID1cbiAgJzxPcmdhbml6YXRpb25Qcm9maWxlLlBhZ2UgLz4gY29tcG9uZW50IG5lZWRzIHRvIGJlIGEgZGlyZWN0IGNoaWxkIG9mIGA8T3JnYW5pemF0aW9uUHJvZmlsZSAvPmAgb3IgYDxPcmdhbml6YXRpb25Td2l0Y2hlciAvPmAuJztcbmV4cG9ydCBjb25zdCBvcmdhbml6YXRpb25Qcm9maWxlTGlua1JlbmRlcmVkRXJyb3IgPVxuICAnPE9yZ2FuaXphdGlvblByb2ZpbGUuTGluayAvPiBjb21wb25lbnQgbmVlZHMgdG8gYmUgYSBkaXJlY3QgY2hpbGQgb2YgYDxPcmdhbml6YXRpb25Qcm9maWxlIC8+YCBvciBgPE9yZ2FuaXphdGlvblN3aXRjaGVyIC8+YC4nO1xuXG5leHBvcnQgY29uc3QgY3VzdG9tUGFnZXNJZ25vcmVkQ29tcG9uZW50ID0gKGNvbXBvbmVudE5hbWU6IHN0cmluZykgPT5cbiAgYDwke2NvbXBvbmVudE5hbWV9IC8+IGNhbiBvbmx5IGFjY2VwdCA8JHtjb21wb25lbnROYW1lfS5QYWdlIC8+IGFuZCA8JHtjb21wb25lbnROYW1lfS5MaW5rIC8+IGFzIGl0cyBjaGlsZHJlbi4gQW55IG90aGVyIHByb3ZpZGVkIGNvbXBvbmVudCB3aWxsIGJlIGlnbm9yZWQuYDtcblxuZXhwb3J0IGNvbnN0IGN1c3RvbVBhZ2VXcm9uZ1Byb3BzID0gKGNvbXBvbmVudE5hbWU6IHN0cmluZykgPT5cbiAgYE1pc3NpbmcgcHJvcHMuIDwke2NvbXBvbmVudE5hbWV9LlBhZ2UgLz4gY29tcG9uZW50IHJlcXVpcmVzIHRoZSBmb2xsb3dpbmcgcHJvcHM6IHVybCwgbGFiZWwsIGxhYmVsSWNvbiwgYWxvbmdzaWRlIHdpdGggY2hpbGRyZW4gdG8gYmUgcmVuZGVyZWQgaW5zaWRlIHRoZSBwYWdlLmA7XG5cbmV4cG9ydCBjb25zdCBjdXN0b21MaW5rV3JvbmdQcm9wcyA9IChjb21wb25lbnROYW1lOiBzdHJpbmcpID0+XG4gIGBNaXNzaW5nIHByb3BzLiA8JHtjb21wb25lbnROYW1lfS5MaW5rIC8+IGNvbXBvbmVudCByZXF1aXJlcyB0aGUgZm9sbG93aW5nIHByb3BzOiB1cmwsIGxhYmVsIGFuZCBsYWJlbEljb24uYDtcblxuZXhwb3J0IGNvbnN0IHVzZUF1dGhIYXNSZXF1aXJlc1JvbGVPclBlcm1pc3Npb24gPVxuICAnTWlzc2luZyBwYXJhbWV0ZXJzLiBgaGFzYCBmcm9tIGB1c2VBdXRoYCByZXF1aXJlcyBhIHBlcm1pc3Npb24gb3Igcm9sZSBrZXkgdG8gYmUgcGFzc2VkLiBFeGFtcGxlIHVzYWdlOiBgaGFzKHtwZXJtaXNzaW9uOiBcIm9yZzpwb3N0czplZGl0XCJgJztcblxuZXhwb3J0IGNvbnN0IG5vUGF0aFByb3ZpZGVkRXJyb3IgPSAoY29tcG9uZW50TmFtZTogc3RyaW5nKSA9PlxuICBgVGhlIDwke2NvbXBvbmVudE5hbWV9Lz4gY29tcG9uZW50IHVzZXMgcGF0aC1iYXNlZCByb3V0aW5nIGJ5IGRlZmF1bHQgdW5sZXNzIGEgZGlmZmVyZW50IHJvdXRpbmcgc3RyYXRlZ3kgaXMgcHJvdmlkZWQgdXNpbmcgdGhlIFxcYHJvdXRpbmdcXGAgcHJvcC4gV2hlbiBwYXRoLWJhc2VkIHJvdXRpbmcgaXMgdXNlZCwgeW91IG5lZWQgdG8gcHJvdmlkZSB0aGUgcGF0aCB3aGVyZSB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgb24gYnkgdXNpbmcgdGhlIFxcYHBhdGhcXGAgcHJvcC4gRXhhbXBsZTogPCR7Y29tcG9uZW50TmFtZX0gcGF0aD17Jy9teS1wYXRoJ30gLz5gO1xuXG5leHBvcnQgY29uc3QgaW5jb21wYXRpYmxlUm91dGluZ1dpdGhQYXRoUHJvdmlkZWRFcnJvciA9IChjb21wb25lbnROYW1lOiBzdHJpbmcpID0+XG4gIGBUaGUgXFxgcGF0aFxcYCBwcm9wIHdpbGwgb25seSBiZSByZXNwZWN0ZWQgd2hlbiB0aGUgQ2xlcmsgY29tcG9uZW50IHVzZXMgcGF0aC1iYXNlZCByb3V0aW5nLiBUbyByZXNvbHZlIHRoaXMgZXJyb3IsIHBhc3MgXFxgcm91dGluZz0ncGF0aCdcXGAgdG8gdGhlIDwke2NvbXBvbmVudE5hbWV9Lz4gY29tcG9uZW50LCBvciBkcm9wIHRoZSBcXGBwYXRoXFxgIHByb3AgdG8gc3dpdGNoIHRvIGhhc2gtYmFzZWQgcm91dGluZy4gRm9yIG1vcmUgZGV0YWlscyBwbGVhc2UgcmVmZXIgdG8gb3VyIGRvY3M6IGh0dHBzOi8vY2xlcmsuY29tL2RvY3NgO1xuXG5leHBvcnQgY29uc3QgdXNlckJ1dHRvbklnbm9yZWRDb21wb25lbnQgPSBgPFVzZXJCdXR0b24gLz4gY2FuIG9ubHkgYWNjZXB0IDxVc2VyQnV0dG9uLlVzZXJQcm9maWxlUGFnZSAvPiwgPFVzZXJCdXR0b24uVXNlclByb2ZpbGVMaW5rIC8+IGFuZCA8VXNlckJ1dHRvbi5NZW51SXRlbXMgLz4gYXMgaXRzIGNoaWxkcmVuLiBBbnkgb3RoZXIgcHJvdmlkZWQgY29tcG9uZW50IHdpbGwgYmUgaWdub3JlZC5gO1xuXG5leHBvcnQgY29uc3QgY3VzdG9tTWVudUl0ZW1zSWdub3JlZENvbXBvbmVudCA9XG4gICc8VXNlckJ1dHRvbi5NZW51SXRlbXMgLz4gY29tcG9uZW50IGNhbiBvbmx5IGFjY2VwdCA8VXNlckJ1dHRvbi5BY3Rpb24gLz4gYW5kIDxVc2VyQnV0dG9uLkxpbmsgLz4gYXMgaXRzIGNoaWxkcmVuLiBBbnkgb3RoZXIgcHJvdmlkZWQgY29tcG9uZW50IHdpbGwgYmUgaWdub3JlZC4nO1xuXG5leHBvcnQgY29uc3QgdXNlckJ1dHRvbk1lbnVJdGVtc1JlbmRlcmVkRXJyb3IgPVxuICAnPFVzZXJCdXR0b24uTWVudUl0ZW1zIC8+IGNvbXBvbmVudCBuZWVkcyB0byBiZSBhIGRpcmVjdCBjaGlsZCBvZiBgPFVzZXJCdXR0b24gLz5gLic7XG5cbmV4cG9ydCBjb25zdCB1c2VyQnV0dG9uTWVudUFjdGlvblJlbmRlcmVkRXJyb3IgPVxuICAnPFVzZXJCdXR0b24uQWN0aW9uIC8+IGNvbXBvbmVudCBuZWVkcyB0byBiZSBhIGRpcmVjdCBjaGlsZCBvZiBgPFVzZXJCdXR0b24uTWVudUl0ZW1zIC8+YC4nO1xuXG5leHBvcnQgY29uc3QgdXNlckJ1dHRvbk1lbnVMaW5rUmVuZGVyZWRFcnJvciA9XG4gICc8VXNlckJ1dHRvbi5MaW5rIC8+IGNvbXBvbmVudCBuZWVkcyB0byBiZSBhIGRpcmVjdCBjaGlsZCBvZiBgPFVzZXJCdXR0b24uTWVudUl0ZW1zIC8+YC4nO1xuXG5leHBvcnQgY29uc3QgdXNlckJ1dHRvbk1lbnVJdGVtTGlua1dyb25nUHJvcHMgPVxuICAnTWlzc2luZyBwcm9wcy4gPFVzZXJCdXR0b24uTGluayAvPiBjb21wb25lbnQgcmVxdWlyZXMgdGhlIGZvbGxvd2luZyBwcm9wczogaHJlZiwgbGFiZWwgYW5kIGxhYmVsSWNvbi4nO1xuXG5leHBvcnQgY29uc3QgdXNlckJ1dHRvbk1lbnVJdGVtc0FjdGlvbldyb25nc1Byb3BzID1cbiAgJ01pc3NpbmcgcHJvcHMuIDxVc2VyQnV0dG9uLkFjdGlvbiAvPiBjb21wb25lbnQgcmVxdWlyZXMgdGhlIGZvbGxvd2luZyBwcm9wczogbGFiZWwuJztcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGVycm9yVGhyb3dlciB9IGZyb20gJy4uL2Vycm9ycy9lcnJvclRocm93ZXInO1xuaW1wb3J0IHsgbXVsdGlwbGVDaGlsZHJlbkluQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi4vZXJyb3JzL21lc3NhZ2VzJztcblxuZXhwb3J0IGNvbnN0IGFzc2VydFNpbmdsZUNoaWxkID1cbiAgKGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUpID0+XG4gIChuYW1lOiAnU2lnbkluQnV0dG9uJyB8ICdTaWduVXBCdXR0b24nIHwgJ1NpZ25PdXRCdXR0b24nIHwgJ1NpZ25JbldpdGhNZXRhbWFza0J1dHRvbicpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIGVycm9yVGhyb3dlci50aHJvdyhtdWx0aXBsZUNoaWxkcmVuSW5CdXR0b25Db21wb25lbnQobmFtZSkpO1xuICAgIH1cbiAgfTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVdpdGhEZWZhdWx0VmFsdWUgPSAoY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB8IHVuZGVmaW5lZCwgZGVmYXVsdFRleHQ6IHN0cmluZykgPT4ge1xuICBpZiAoIWNoaWxkcmVuKSB7XG4gICAgY2hpbGRyZW4gPSBkZWZhdWx0VGV4dDtcbiAgfVxuICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnc3RyaW5nJykge1xuICAgIGNoaWxkcmVuID0gPGJ1dHRvbj57Y2hpbGRyZW59PC9idXR0b24+O1xuICB9XG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG5cbmV4cG9ydCBjb25zdCBzYWZlRXhlY3V0ZSA9XG4gIChjYjogdW5rbm93bikgPT5cbiAgKC4uLmFyZ3M6IGFueSkgPT4ge1xuICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjYiguLi5hcmdzKTtcbiAgICB9XG4gIH07XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNDb25zdHJ1Y3RvcjxUPihmOiBhbnkpOiBmIGlzIFQge1xuICByZXR1cm4gdHlwZW9mIGYgPT09ICdmdW5jdGlvbic7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBlcnJvclRocm93ZXIgfSBmcm9tICcuLi9lcnJvcnMvZXJyb3JUaHJvd2VyJztcblxuY29uc3QgY291bnRzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZU1heEFsbG93ZWRJbnN0YW5jZXNHdWFyZChuYW1lOiBzdHJpbmcsIGVycm9yOiBzdHJpbmcsIG1heENvdW50ID0gMSk6IHZvaWQge1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNvdW50ID0gY291bnRzLmdldChuYW1lKSB8fCAwO1xuICAgIGlmIChjb3VudCA9PSBtYXhDb3VudCkge1xuICAgICAgcmV0dXJuIGVycm9yVGhyb3dlci50aHJvdyhlcnJvcik7XG4gICAgfVxuICAgIGNvdW50cy5zZXQobmFtZSwgY291bnQgKyAxKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb3VudHMuc2V0KG5hbWUsIChjb3VudHMuZ2V0KG5hbWUpIHx8IDEpIC0gMSk7XG4gICAgfTtcbiAgfSwgW10pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aE1heEFsbG93ZWRJbnN0YW5jZXNHdWFyZDxQPihcbiAgV3JhcHBlZENvbXBvbmVudDogUmVhY3QuQ29tcG9uZW50VHlwZTxQPixcbiAgbmFtZTogc3RyaW5nLFxuICBlcnJvcjogc3RyaW5nLFxuKTogUmVhY3QuQ29tcG9uZW50VHlwZTxQPiB7XG4gIGNvbnN0IGRpc3BsYXlOYW1lID0gV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgbmFtZSB8fCAnQ29tcG9uZW50JztcbiAgY29uc3QgSG9jID0gKHByb3BzOiBQKSA9PiB7XG4gICAgdXNlTWF4QWxsb3dlZEluc3RhbmNlc0d1YXJkKG5hbWUsIGVycm9yKTtcbiAgICByZXR1cm4gPFdyYXBwZWRDb21wb25lbnQgey4uLihwcm9wcyBhcyBhbnkpfSAvPjtcbiAgfTtcbiAgSG9jLmRpc3BsYXlOYW1lID0gYHdpdGhNYXhBbGxvd2VkSW5zdGFuY2VzR3VhcmQoJHtkaXNwbGF5TmFtZX0pYDtcbiAgcmV0dXJuIEhvYztcbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7XG5cbmV4cG9ydCB0eXBlIFVzZUN1c3RvbUVsZW1lbnRQb3J0YWxQYXJhbXMgPSB7XG4gIGNvbXBvbmVudDogUmVhY3QuUmVhY3ROb2RlO1xuICBpZDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgVXNlQ3VzdG9tRWxlbWVudFBvcnRhbFJldHVybiA9IHtcbiAgcG9ydGFsOiAoKSA9PiBSZWFjdC5KU1guRWxlbWVudDtcbiAgbW91bnQ6IChub2RlOiBFbGVtZW50KSA9PiB2b2lkO1xuICB1bm1vdW50OiAoKSA9PiB2b2lkO1xuICBpZDogbnVtYmVyO1xufTtcblxuLy8gVGhpcyBmdW5jdGlvbiB0YWtlcyBhIGNvbXBvbmVudCBhcyBwcm9wLCBhbmQgcmV0dXJucyBmdW5jdGlvbnMgdGhhdCBtb3VudCBhbmQgdW5tb3VudFxuLy8gdGhlIGdpdmVuIGNvbXBvbmVudCBpbnRvIGEgZ2l2ZW4gbm9kZVxuZXhwb3J0IGNvbnN0IHVzZUN1c3RvbUVsZW1lbnRQb3J0YWwgPSAoZWxlbWVudHM6IFVzZUN1c3RvbUVsZW1lbnRQb3J0YWxQYXJhbXNbXSkgPT4ge1xuICBjb25zdCBpbml0aWFsU3RhdGUgPSBBcnJheShlbGVtZW50cy5sZW5ndGgpLmZpbGwobnVsbCk7XG4gIGNvbnN0IFtub2Rlcywgc2V0Tm9kZXNdID0gdXNlU3RhdGU8KEVsZW1lbnQgfCBudWxsKVtdPihpbml0aWFsU3RhdGUpO1xuXG4gIHJldHVybiBlbGVtZW50cy5tYXAoKGVsLCBpbmRleCkgPT4gKHtcbiAgICBpZDogZWwuaWQsXG4gICAgbW91bnQ6IChub2RlOiBFbGVtZW50KSA9PiBzZXROb2RlcyhwcmV2U3RhdGUgPT4gcHJldlN0YXRlLm1hcCgobiwgaSkgPT4gKGkgPT09IGluZGV4ID8gbm9kZSA6IG4pKSksXG4gICAgdW5tb3VudDogKCkgPT4gc2V0Tm9kZXMocHJldlN0YXRlID0+IHByZXZTdGF0ZS5tYXAoKG4sIGkpID0+IChpID09PSBpbmRleCA/IG51bGwgOiBuKSkpLFxuICAgIHBvcnRhbDogKCkgPT4gPD57bm9kZXNbaW5kZXhdID8gY3JlYXRlUG9ydGFsKGVsLmNvbXBvbmVudCwgbm9kZXNbaW5kZXhdKSA6IG51bGx9PC8+LFxuICB9KSk7XG59O1xuIiwiaW1wb3J0IHsgbG9nRXJyb3JJbkRldk1vZGUgfSBmcm9tICdAY2xlcmsvc2hhcmVkL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgQ3VzdG9tUGFnZSB9IGZyb20gJ0BjbGVyay90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFJlYWN0RWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7XG4gIE1lbnVJdGVtcyxcbiAgT3JnYW5pemF0aW9uUHJvZmlsZUxpbmssXG4gIE9yZ2FuaXphdGlvblByb2ZpbGVQYWdlLFxuICBVc2VyUHJvZmlsZUxpbmssXG4gIFVzZXJQcm9maWxlUGFnZSxcbn0gZnJvbSAnLi4vY29tcG9uZW50cy91aUNvbXBvbmVudHMnO1xuaW1wb3J0IHsgY3VzdG9tTGlua1dyb25nUHJvcHMsIGN1c3RvbVBhZ2VzSWdub3JlZENvbXBvbmVudCwgY3VzdG9tUGFnZVdyb25nUHJvcHMgfSBmcm9tICcuLi9lcnJvcnMvbWVzc2FnZXMnO1xuaW1wb3J0IHR5cGUgeyBVc2VyUHJvZmlsZVBhZ2VQcm9wcyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzVGhhdENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50VmFsaWRhdGlvbic7XG5pbXBvcnQgdHlwZSB7IFVzZUN1c3RvbUVsZW1lbnRQb3J0YWxQYXJhbXMsIFVzZUN1c3RvbUVsZW1lbnRQb3J0YWxSZXR1cm4gfSBmcm9tICcuL3VzZUN1c3RvbUVsZW1lbnRQb3J0YWwnO1xuaW1wb3J0IHsgdXNlQ3VzdG9tRWxlbWVudFBvcnRhbCB9IGZyb20gJy4vdXNlQ3VzdG9tRWxlbWVudFBvcnRhbCc7XG5cbmV4cG9ydCBjb25zdCB1c2VVc2VyUHJvZmlsZUN1c3RvbVBhZ2VzID0gKFxuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIHwgUmVhY3QuUmVhY3ROb2RlW10sXG4gIG9wdGlvbnM/OiBVc2VDdXN0b21QYWdlc09wdGlvbnMsXG4pID0+IHtcbiAgY29uc3QgcmVvcmRlckl0ZW1zTGFiZWxzID0gWydhY2NvdW50JywgJ3NlY3VyaXR5J107XG4gIHJldHVybiB1c2VDdXN0b21QYWdlcyhcbiAgICB7XG4gICAgICBjaGlsZHJlbixcbiAgICAgIHJlb3JkZXJJdGVtc0xhYmVscyxcbiAgICAgIExpbmtDb21wb25lbnQ6IFVzZXJQcm9maWxlTGluayxcbiAgICAgIFBhZ2VDb21wb25lbnQ6IFVzZXJQcm9maWxlUGFnZSxcbiAgICAgIE1lbnVJdGVtc0NvbXBvbmVudDogTWVudUl0ZW1zLFxuICAgICAgY29tcG9uZW50TmFtZTogJ1VzZXJQcm9maWxlJyxcbiAgICB9LFxuICAgIG9wdGlvbnMsXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlT3JnYW5pemF0aW9uUHJvZmlsZUN1c3RvbVBhZ2VzID0gKFxuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIHwgUmVhY3QuUmVhY3ROb2RlW10sXG4gIG9wdGlvbnM/OiBVc2VDdXN0b21QYWdlc09wdGlvbnMsXG4pID0+IHtcbiAgY29uc3QgcmVvcmRlckl0ZW1zTGFiZWxzID0gWydnZW5lcmFsJywgJ21lbWJlcnMnXTtcbiAgcmV0dXJuIHVzZUN1c3RvbVBhZ2VzKFxuICAgIHtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcmVvcmRlckl0ZW1zTGFiZWxzLFxuICAgICAgTGlua0NvbXBvbmVudDogT3JnYW5pemF0aW9uUHJvZmlsZUxpbmssXG4gICAgICBQYWdlQ29tcG9uZW50OiBPcmdhbml6YXRpb25Qcm9maWxlUGFnZSxcbiAgICAgIGNvbXBvbmVudE5hbWU6ICdPcmdhbml6YXRpb25Qcm9maWxlJyxcbiAgICB9LFxuICAgIG9wdGlvbnMsXG4gICk7XG59O1xuXG50eXBlIFVzZUN1c3RvbVBhZ2VzUGFyYW1zID0ge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIHwgUmVhY3QuUmVhY3ROb2RlW107XG4gIExpbmtDb21wb25lbnQ6IGFueTtcbiAgUGFnZUNvbXBvbmVudDogYW55O1xuICBNZW51SXRlbXNDb21wb25lbnQ/OiBhbnk7XG4gIHJlb3JkZXJJdGVtc0xhYmVsczogc3RyaW5nW107XG4gIGNvbXBvbmVudE5hbWU6IHN0cmluZztcbn07XG5cbnR5cGUgVXNlQ3VzdG9tUGFnZXNPcHRpb25zID0ge1xuICBhbGxvd0ZvckFueUNoaWxkcmVuOiBib29sZWFuO1xufTtcblxudHlwZSBDdXN0b21QYWdlV2l0aElkVHlwZSA9IFVzZXJQcm9maWxlUGFnZVByb3BzICYgeyBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZSB9O1xuXG4vKipcbiAqIEV4Y2x1ZGUgYW55IGNoaWxkcmVuIHRoYXQgaXMgdXNlZCBmb3IgaWRlbnRpZnlpbmcgQ3VzdG9tIFBhZ2VzIG9yIEN1c3RvbSBJdGVtcy5cbiAqIFBhc3Npbmc6XG4gKiBgYGB0c3hcbiAqICA8VXNlclByb2ZpbGUuUGFnZS8+XG4gKiAgPE9yZ2FuaXphdGlvblByb2ZpbGUuTGluay8+XG4gKiAgPE15Q29tcG9uZW50PlxuICogIDxVc2VyQnV0dG9uLk1lbnVJdGVtcy8+XG4gKiBgYGBcbiAqIEdpdmVzIGJhY2tcbiAqIGBgYHRzeFxuICogPE15Q29tcG9uZW50PlxuICogYGBgYFxuICovXG5leHBvcnQgY29uc3QgdXNlU2FuaXRpemVkQ2hpbGRyZW4gPSAoY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSkgPT4ge1xuICBjb25zdCBzYW5pdGl6ZWRDaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlW10gPSBbXTtcblxuICBjb25zdCBleGNsdWRlZENvbXBvbmVudHM6IGFueVtdID0gW1xuICAgIE9yZ2FuaXphdGlvblByb2ZpbGVMaW5rLFxuICAgIE9yZ2FuaXphdGlvblByb2ZpbGVQYWdlLFxuICAgIE1lbnVJdGVtcyxcbiAgICBVc2VyUHJvZmlsZVBhZ2UsXG4gICAgVXNlclByb2ZpbGVMaW5rLFxuICBdO1xuXG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICBpZiAoIWV4Y2x1ZGVkQ29tcG9uZW50cy5zb21lKGNvbXBvbmVudCA9PiBpc1RoYXRDb21wb25lbnQoY2hpbGQsIGNvbXBvbmVudCkpKSB7XG4gICAgICBzYW5pdGl6ZWRDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBzYW5pdGl6ZWRDaGlsZHJlbjtcbn07XG5cbmNvbnN0IHVzZUN1c3RvbVBhZ2VzID0gKHBhcmFtczogVXNlQ3VzdG9tUGFnZXNQYXJhbXMsIG9wdGlvbnM/OiBVc2VDdXN0b21QYWdlc09wdGlvbnMpID0+IHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgTGlua0NvbXBvbmVudCwgUGFnZUNvbXBvbmVudCwgTWVudUl0ZW1zQ29tcG9uZW50LCByZW9yZGVySXRlbXNMYWJlbHMsIGNvbXBvbmVudE5hbWUgfSA9IHBhcmFtcztcbiAgY29uc3QgeyBhbGxvd0ZvckFueUNoaWxkcmVuID0gZmFsc2UgfSA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHZhbGlkQ2hpbGRyZW46IEN1c3RvbVBhZ2VXaXRoSWRUeXBlW10gPSBbXTtcblxuICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBjaGlsZCA9PiB7XG4gICAgaWYgKFxuICAgICAgIWlzVGhhdENvbXBvbmVudChjaGlsZCwgUGFnZUNvbXBvbmVudCkgJiZcbiAgICAgICFpc1RoYXRDb21wb25lbnQoY2hpbGQsIExpbmtDb21wb25lbnQpICYmXG4gICAgICAhaXNUaGF0Q29tcG9uZW50KGNoaWxkLCBNZW51SXRlbXNDb21wb25lbnQpXG4gICAgKSB7XG4gICAgICBpZiAoY2hpbGQgJiYgIWFsbG93Rm9yQW55Q2hpbGRyZW4pIHtcbiAgICAgICAgbG9nRXJyb3JJbkRldk1vZGUoY3VzdG9tUGFnZXNJZ25vcmVkQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IHByb3BzIH0gPSBjaGlsZCBhcyBSZWFjdEVsZW1lbnQ7XG5cbiAgICBjb25zdCB7IGNoaWxkcmVuLCBsYWJlbCwgdXJsLCBsYWJlbEljb24gfSA9IHByb3BzO1xuXG4gICAgaWYgKGlzVGhhdENvbXBvbmVudChjaGlsZCwgUGFnZUNvbXBvbmVudCkpIHtcbiAgICAgIGlmIChpc1Jlb3JkZXJJdGVtKHByb3BzLCByZW9yZGVySXRlbXNMYWJlbHMpKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSByZW9yZGVyaW5nIGl0ZW1cbiAgICAgICAgdmFsaWRDaGlsZHJlbi5wdXNoKHsgbGFiZWwgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzQ3VzdG9tUGFnZShwcm9wcykpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIGN1c3RvbSBwYWdlXG4gICAgICAgIHZhbGlkQ2hpbGRyZW4ucHVzaCh7IGxhYmVsLCBsYWJlbEljb24sIGNoaWxkcmVuLCB1cmwgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dFcnJvckluRGV2TW9kZShjdXN0b21QYWdlV3JvbmdQcm9wcyhjb21wb25lbnROYW1lKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNUaGF0Q29tcG9uZW50KGNoaWxkLCBMaW5rQ29tcG9uZW50KSkge1xuICAgICAgaWYgKGlzRXh0ZXJuYWxMaW5rKHByb3BzKSkge1xuICAgICAgICAvLyBUaGlzIGlzIGFuIGV4dGVybmFsIGxpbmtcbiAgICAgICAgdmFsaWRDaGlsZHJlbi5wdXNoKHsgbGFiZWwsIGxhYmVsSWNvbiwgdXJsIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nRXJyb3JJbkRldk1vZGUoY3VzdG9tTGlua1dyb25nUHJvcHMoY29tcG9uZW50TmFtZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBjdXN0b21QYWdlQ29udGVudHM6IFVzZUN1c3RvbUVsZW1lbnRQb3J0YWxQYXJhbXNbXSA9IFtdO1xuICBjb25zdCBjdXN0b21QYWdlTGFiZWxJY29uczogVXNlQ3VzdG9tRWxlbWVudFBvcnRhbFBhcmFtc1tdID0gW107XG4gIGNvbnN0IGN1c3RvbUxpbmtMYWJlbEljb25zOiBVc2VDdXN0b21FbGVtZW50UG9ydGFsUGFyYW1zW10gPSBbXTtcblxuICB2YWxpZENoaWxkcmVuLmZvckVhY2goKGNwLCBpbmRleCkgPT4ge1xuICAgIGlmIChpc0N1c3RvbVBhZ2UoY3ApKSB7XG4gICAgICBjdXN0b21QYWdlQ29udGVudHMucHVzaCh7IGNvbXBvbmVudDogY3AuY2hpbGRyZW4sIGlkOiBpbmRleCB9KTtcbiAgICAgIGN1c3RvbVBhZ2VMYWJlbEljb25zLnB1c2goeyBjb21wb25lbnQ6IGNwLmxhYmVsSWNvbiwgaWQ6IGluZGV4IH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNFeHRlcm5hbExpbmsoY3ApKSB7XG4gICAgICBjdXN0b21MaW5rTGFiZWxJY29ucy5wdXNoKHsgY29tcG9uZW50OiBjcC5sYWJlbEljb24sIGlkOiBpbmRleCB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGN1c3RvbVBhZ2VDb250ZW50c1BvcnRhbHMgPSB1c2VDdXN0b21FbGVtZW50UG9ydGFsKGN1c3RvbVBhZ2VDb250ZW50cyk7XG4gIGNvbnN0IGN1c3RvbVBhZ2VMYWJlbEljb25zUG9ydGFscyA9IHVzZUN1c3RvbUVsZW1lbnRQb3J0YWwoY3VzdG9tUGFnZUxhYmVsSWNvbnMpO1xuICBjb25zdCBjdXN0b21MaW5rTGFiZWxJY29uc1BvcnRhbHMgPSB1c2VDdXN0b21FbGVtZW50UG9ydGFsKGN1c3RvbUxpbmtMYWJlbEljb25zKTtcblxuICBjb25zdCBjdXN0b21QYWdlczogQ3VzdG9tUGFnZVtdID0gW107XG4gIGNvbnN0IGN1c3RvbVBhZ2VzUG9ydGFsczogUmVhY3QuQ29tcG9uZW50VHlwZVtdID0gW107XG5cbiAgdmFsaWRDaGlsZHJlbi5mb3JFYWNoKChjcCwgaW5kZXgpID0+IHtcbiAgICBpZiAoaXNSZW9yZGVySXRlbShjcCwgcmVvcmRlckl0ZW1zTGFiZWxzKSkge1xuICAgICAgY3VzdG9tUGFnZXMucHVzaCh7IGxhYmVsOiBjcC5sYWJlbCB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzQ3VzdG9tUGFnZShjcCkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcG9ydGFsOiBjb250ZW50UG9ydGFsLFxuICAgICAgICBtb3VudCxcbiAgICAgICAgdW5tb3VudCxcbiAgICAgIH0gPSBjdXN0b21QYWdlQ29udGVudHNQb3J0YWxzLmZpbmQocCA9PiBwLmlkID09PSBpbmRleCkgYXMgVXNlQ3VzdG9tRWxlbWVudFBvcnRhbFJldHVybjtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcG9ydGFsOiBsYWJlbFBvcnRhbCxcbiAgICAgICAgbW91bnQ6IG1vdW50SWNvbixcbiAgICAgICAgdW5tb3VudDogdW5tb3VudEljb24sXG4gICAgICB9ID0gY3VzdG9tUGFnZUxhYmVsSWNvbnNQb3J0YWxzLmZpbmQocCA9PiBwLmlkID09PSBpbmRleCkgYXMgVXNlQ3VzdG9tRWxlbWVudFBvcnRhbFJldHVybjtcbiAgICAgIGN1c3RvbVBhZ2VzLnB1c2goeyBsYWJlbDogY3AubGFiZWwsIHVybDogY3AudXJsLCBtb3VudCwgdW5tb3VudCwgbW91bnRJY29uLCB1bm1vdW50SWNvbiB9KTtcbiAgICAgIGN1c3RvbVBhZ2VzUG9ydGFscy5wdXNoKGNvbnRlbnRQb3J0YWwpO1xuICAgICAgY3VzdG9tUGFnZXNQb3J0YWxzLnB1c2gobGFiZWxQb3J0YWwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNFeHRlcm5hbExpbmsoY3ApKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBvcnRhbDogbGFiZWxQb3J0YWwsXG4gICAgICAgIG1vdW50OiBtb3VudEljb24sXG4gICAgICAgIHVubW91bnQ6IHVubW91bnRJY29uLFxuICAgICAgfSA9IGN1c3RvbUxpbmtMYWJlbEljb25zUG9ydGFscy5maW5kKHAgPT4gcC5pZCA9PT0gaW5kZXgpIGFzIFVzZUN1c3RvbUVsZW1lbnRQb3J0YWxSZXR1cm47XG4gICAgICBjdXN0b21QYWdlcy5wdXNoKHsgbGFiZWw6IGNwLmxhYmVsLCB1cmw6IGNwLnVybCwgbW91bnRJY29uLCB1bm1vdW50SWNvbiB9KTtcbiAgICAgIGN1c3RvbVBhZ2VzUG9ydGFscy5wdXNoKGxhYmVsUG9ydGFsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IGN1c3RvbVBhZ2VzLCBjdXN0b21QYWdlc1BvcnRhbHMgfTtcbn07XG5cbmNvbnN0IGlzUmVvcmRlckl0ZW0gPSAoY2hpbGRQcm9wczogYW55LCB2YWxpZEl0ZW1zOiBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuLCBsYWJlbCwgdXJsLCBsYWJlbEljb24gfSA9IGNoaWxkUHJvcHM7XG4gIHJldHVybiAhY2hpbGRyZW4gJiYgIXVybCAmJiAhbGFiZWxJY29uICYmIHZhbGlkSXRlbXMuc29tZSh2ID0+IHYgPT09IGxhYmVsKTtcbn07XG5cbmNvbnN0IGlzQ3VzdG9tUGFnZSA9IChjaGlsZFByb3BzOiBhbnkpOiBib29sZWFuID0+IHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgbGFiZWwsIHVybCwgbGFiZWxJY29uIH0gPSBjaGlsZFByb3BzO1xuICByZXR1cm4gISFjaGlsZHJlbiAmJiAhIXVybCAmJiAhIWxhYmVsSWNvbiAmJiAhIWxhYmVsO1xufTtcblxuY29uc3QgaXNFeHRlcm5hbExpbmsgPSAoY2hpbGRQcm9wczogYW55KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGxhYmVsLCB1cmwsIGxhYmVsSWNvbiB9ID0gY2hpbGRQcm9wcztcbiAgcmV0dXJuICFjaGlsZHJlbiAmJiAhIXVybCAmJiAhIWxhYmVsSWNvbiAmJiAhIWxhYmVsO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBjb25zdCBpc1RoYXRDb21wb25lbnQgPSAodjogYW55LCBjb21wb25lbnQ6IFJlYWN0LlJlYWN0Tm9kZSk6IHYgaXMgUmVhY3QuUmVhY3ROb2RlID0+IHtcbiAgcmV0dXJuICEhdiAmJiBSZWFjdC5pc1ZhbGlkRWxlbWVudCh2KSAmJiAodiBhcyBSZWFjdC5SZWFjdEVsZW1lbnQpPy50eXBlID09PSBjb21wb25lbnQ7XG59O1xuIiwiaW1wb3J0IHsgbG9nRXJyb3JJbkRldk1vZGUgfSBmcm9tICdAY2xlcmsvc2hhcmVkL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgQ3VzdG9tTWVudUl0ZW0gfSBmcm9tICdAY2xlcmsvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBSZWFjdEVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBNZW51QWN0aW9uLCBNZW51SXRlbXMsIE1lbnVMaW5rLCBVc2VyUHJvZmlsZUxpbmssIFVzZXJQcm9maWxlUGFnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvdWlDb21wb25lbnRzJztcbmltcG9ydCB7XG4gIGN1c3RvbU1lbnVJdGVtc0lnbm9yZWRDb21wb25lbnQsXG4gIHVzZXJCdXR0b25JZ25vcmVkQ29tcG9uZW50LFxuICB1c2VyQnV0dG9uTWVudUl0ZW1MaW5rV3JvbmdQcm9wcyxcbiAgdXNlckJ1dHRvbk1lbnVJdGVtc0FjdGlvbldyb25nc1Byb3BzLFxufSBmcm9tICcuLi9lcnJvcnMvbWVzc2FnZXMnO1xuaW1wb3J0IHR5cGUgeyBVc2VyQnV0dG9uQWN0aW9uUHJvcHMsIFVzZXJCdXR0b25MaW5rUHJvcHMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc1RoYXRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudFZhbGlkYXRpb24nO1xuaW1wb3J0IHR5cGUgeyBVc2VDdXN0b21FbGVtZW50UG9ydGFsUGFyYW1zLCBVc2VDdXN0b21FbGVtZW50UG9ydGFsUmV0dXJuIH0gZnJvbSAnLi91c2VDdXN0b21FbGVtZW50UG9ydGFsJztcbmltcG9ydCB7IHVzZUN1c3RvbUVsZW1lbnRQb3J0YWwgfSBmcm9tICcuL3VzZUN1c3RvbUVsZW1lbnRQb3J0YWwnO1xuXG5leHBvcnQgY29uc3QgdXNlVXNlckJ1dHRvbkN1c3RvbU1lbnVJdGVtcyA9IChjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIHwgUmVhY3QuUmVhY3ROb2RlW10pID0+IHtcbiAgY29uc3QgcmVvcmRlckl0ZW1zTGFiZWxzID0gWydtYW5hZ2VBY2NvdW50JywgJ3NpZ25PdXQnXTtcbiAgcmV0dXJuIHVzZUN1c3RvbU1lbnVJdGVtcyh7XG4gICAgY2hpbGRyZW4sXG4gICAgcmVvcmRlckl0ZW1zTGFiZWxzLFxuICAgIE1lbnVJdGVtc0NvbXBvbmVudDogTWVudUl0ZW1zLFxuICAgIE1lbnVBY3Rpb25Db21wb25lbnQ6IE1lbnVBY3Rpb24sXG4gICAgTWVudUxpbmtDb21wb25lbnQ6IE1lbnVMaW5rLFxuICAgIFVzZXJQcm9maWxlTGlua0NvbXBvbmVudDogVXNlclByb2ZpbGVMaW5rLFxuICAgIFVzZXJQcm9maWxlUGFnZUNvbXBvbmVudDogVXNlclByb2ZpbGVQYWdlLFxuICB9KTtcbn07XG5cbnR5cGUgVXNlQ3VzdG9tTWVudUl0ZW1zUGFyYW1zID0ge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIHwgUmVhY3QuUmVhY3ROb2RlW107XG4gIE1lbnVJdGVtc0NvbXBvbmVudD86IGFueTtcbiAgTWVudUFjdGlvbkNvbXBvbmVudD86IGFueTtcbiAgTWVudUxpbmtDb21wb25lbnQ/OiBhbnk7XG4gIFVzZXJQcm9maWxlTGlua0NvbXBvbmVudD86IGFueTtcbiAgVXNlclByb2ZpbGVQYWdlQ29tcG9uZW50PzogYW55O1xuICByZW9yZGVySXRlbXNMYWJlbHM6IHN0cmluZ1tdO1xufTtcblxudHlwZSBDdXN0b21NZW51SXRlbVR5cGUgPSBVc2VyQnV0dG9uQWN0aW9uUHJvcHMgfCBVc2VyQnV0dG9uTGlua1Byb3BzO1xuXG5jb25zdCB1c2VDdXN0b21NZW51SXRlbXMgPSAoe1xuICBjaGlsZHJlbixcbiAgTWVudUl0ZW1zQ29tcG9uZW50LFxuICBNZW51QWN0aW9uQ29tcG9uZW50LFxuICBNZW51TGlua0NvbXBvbmVudCxcbiAgVXNlclByb2ZpbGVMaW5rQ29tcG9uZW50LFxuICBVc2VyUHJvZmlsZVBhZ2VDb21wb25lbnQsXG4gIHJlb3JkZXJJdGVtc0xhYmVscyxcbn06IFVzZUN1c3RvbU1lbnVJdGVtc1BhcmFtcykgPT4ge1xuICBjb25zdCB2YWxpZENoaWxkcmVuOiBDdXN0b21NZW51SXRlbVR5cGVbXSA9IFtdO1xuICBjb25zdCBjdXN0b21NZW51SXRlbXM6IEN1c3RvbU1lbnVJdGVtW10gPSBbXTtcbiAgY29uc3QgY3VzdG9tTWVudUl0ZW1zUG9ydGFsczogUmVhY3QuQ29tcG9uZW50VHlwZVtdID0gW107XG5cbiAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgY2hpbGQgPT4ge1xuICAgIGlmIChcbiAgICAgICFpc1RoYXRDb21wb25lbnQoY2hpbGQsIE1lbnVJdGVtc0NvbXBvbmVudCkgJiZcbiAgICAgICFpc1RoYXRDb21wb25lbnQoY2hpbGQsIFVzZXJQcm9maWxlTGlua0NvbXBvbmVudCkgJiZcbiAgICAgICFpc1RoYXRDb21wb25lbnQoY2hpbGQsIFVzZXJQcm9maWxlUGFnZUNvbXBvbmVudClcbiAgICApIHtcbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICBsb2dFcnJvckluRGV2TW9kZSh1c2VyQnV0dG9uSWdub3JlZENvbXBvbmVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWdub3JlIFVzZXJQcm9maWxlTGlua0NvbXBvbmVudCBhbmQgVXNlclByb2ZpbGVQYWdlQ29tcG9uZW50XG4gICAgaWYgKGlzVGhhdENvbXBvbmVudChjaGlsZCwgVXNlclByb2ZpbGVMaW5rQ29tcG9uZW50KSB8fCBpc1RoYXRDb21wb25lbnQoY2hpbGQsIFVzZXJQcm9maWxlUGFnZUNvbXBvbmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNZW51IGl0ZW1zIGNoaWxkcmVuXG4gICAgY29uc3QgeyBwcm9wcyB9ID0gY2hpbGQgYXMgUmVhY3RFbGVtZW50O1xuXG4gICAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgY2hpbGQgPT4ge1xuICAgICAgaWYgKCFpc1RoYXRDb21wb25lbnQoY2hpbGQsIE1lbnVBY3Rpb25Db21wb25lbnQpICYmICFpc1RoYXRDb21wb25lbnQoY2hpbGQsIE1lbnVMaW5rQ29tcG9uZW50KSkge1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICBsb2dFcnJvckluRGV2TW9kZShjdXN0b21NZW51SXRlbXNJZ25vcmVkQ29tcG9uZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBwcm9wcyB9ID0gY2hpbGQgYXMgUmVhY3RFbGVtZW50O1xuXG4gICAgICBjb25zdCB7IGxhYmVsLCBsYWJlbEljb24sIGhyZWYsIG9uQ2xpY2ssIG9wZW4gfSA9IHByb3BzO1xuXG4gICAgICBpZiAoaXNUaGF0Q29tcG9uZW50KGNoaWxkLCBNZW51QWN0aW9uQ29tcG9uZW50KSkge1xuICAgICAgICBpZiAoaXNSZW9yZGVySXRlbShwcm9wcywgcmVvcmRlckl0ZW1zTGFiZWxzKSkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYSByZW9yZGVyaW5nIGl0ZW1cbiAgICAgICAgICB2YWxpZENoaWxkcmVuLnB1c2goeyBsYWJlbCB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0N1c3RvbU1lbnVJdGVtKHByb3BzKSkge1xuICAgICAgICAgIGNvbnN0IGJhc2VJdGVtID0ge1xuICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICBsYWJlbEljb24sXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChvbkNsaWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbGlkQ2hpbGRyZW4ucHVzaCh7XG4gICAgICAgICAgICAgIC4uLmJhc2VJdGVtLFxuICAgICAgICAgICAgICBvbkNsaWNrLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbGlkQ2hpbGRyZW4ucHVzaCh7XG4gICAgICAgICAgICAgIC4uLmJhc2VJdGVtLFxuICAgICAgICAgICAgICBvcGVuOiBvcGVuLnN0YXJ0c1dpdGgoJy8nKSA/IG9wZW4gOiBgLyR7b3Blbn1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSBuZWl0aGVyIG9uQ2xpY2sgbm9yIG9wZW4gaXMgZGVmaW5lZFxuICAgICAgICAgICAgbG9nRXJyb3JJbkRldk1vZGUoJ0N1c3RvbSBtZW51IGl0ZW0gbXVzdCBoYXZlIGVpdGhlciBvbkNsaWNrIG9yIG9wZW4gcHJvcGVydHknKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nRXJyb3JJbkRldk1vZGUodXNlckJ1dHRvbk1lbnVJdGVtc0FjdGlvbldyb25nc1Byb3BzKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzVGhhdENvbXBvbmVudChjaGlsZCwgTWVudUxpbmtDb21wb25lbnQpKSB7XG4gICAgICAgIGlmIChpc0V4dGVybmFsTGluayhwcm9wcykpIHtcbiAgICAgICAgICB2YWxpZENoaWxkcmVuLnB1c2goeyBsYWJlbCwgbGFiZWxJY29uLCBocmVmIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ0Vycm9ySW5EZXZNb2RlKHVzZXJCdXR0b25NZW51SXRlbUxpbmtXcm9uZ1Byb3BzKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgY3VzdG9tTWVudUl0ZW1MYWJlbEljb25zOiBVc2VDdXN0b21FbGVtZW50UG9ydGFsUGFyYW1zW10gPSBbXTtcbiAgY29uc3QgY3VzdG9tTGlua0xhYmVsSWNvbnM6IFVzZUN1c3RvbUVsZW1lbnRQb3J0YWxQYXJhbXNbXSA9IFtdO1xuICB2YWxpZENoaWxkcmVuLmZvckVhY2goKG1pLCBpbmRleCkgPT4ge1xuICAgIGlmIChpc0N1c3RvbU1lbnVJdGVtKG1pKSkge1xuICAgICAgY3VzdG9tTWVudUl0ZW1MYWJlbEljb25zLnB1c2goeyBjb21wb25lbnQ6IG1pLmxhYmVsSWNvbiwgaWQ6IGluZGV4IH0pO1xuICAgIH1cbiAgICBpZiAoaXNFeHRlcm5hbExpbmsobWkpKSB7XG4gICAgICBjdXN0b21MaW5rTGFiZWxJY29ucy5wdXNoKHsgY29tcG9uZW50OiBtaS5sYWJlbEljb24sIGlkOiBpbmRleCB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGN1c3RvbU1lbnVJdGVtTGFiZWxJY29uc1BvcnRhbHMgPSB1c2VDdXN0b21FbGVtZW50UG9ydGFsKGN1c3RvbU1lbnVJdGVtTGFiZWxJY29ucyk7XG4gIGNvbnN0IGN1c3RvbUxpbmtMYWJlbEljb25zUG9ydGFscyA9IHVzZUN1c3RvbUVsZW1lbnRQb3J0YWwoY3VzdG9tTGlua0xhYmVsSWNvbnMpO1xuXG4gIHZhbGlkQ2hpbGRyZW4uZm9yRWFjaCgobWksIGluZGV4KSA9PiB7XG4gICAgaWYgKGlzUmVvcmRlckl0ZW0obWksIHJlb3JkZXJJdGVtc0xhYmVscykpIHtcbiAgICAgIGN1c3RvbU1lbnVJdGVtcy5wdXNoKHtcbiAgICAgICAgbGFiZWw6IG1pLmxhYmVsLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc0N1c3RvbU1lbnVJdGVtKG1pKSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBwb3J0YWw6IGljb25Qb3J0YWwsXG4gICAgICAgIG1vdW50OiBtb3VudEljb24sXG4gICAgICAgIHVubW91bnQ6IHVubW91bnRJY29uLFxuICAgICAgfSA9IGN1c3RvbU1lbnVJdGVtTGFiZWxJY29uc1BvcnRhbHMuZmluZChwID0+IHAuaWQgPT09IGluZGV4KSBhcyBVc2VDdXN0b21FbGVtZW50UG9ydGFsUmV0dXJuO1xuICAgICAgY29uc3QgbWVudUl0ZW06IEN1c3RvbU1lbnVJdGVtID0ge1xuICAgICAgICBsYWJlbDogbWkubGFiZWwsXG4gICAgICAgIG1vdW50SWNvbixcbiAgICAgICAgdW5tb3VudEljb24sXG4gICAgICB9O1xuXG4gICAgICBpZiAoJ29uQ2xpY2snIGluIG1pKSB7XG4gICAgICAgIG1lbnVJdGVtLm9uQ2xpY2sgPSBtaS5vbkNsaWNrO1xuICAgICAgfSBlbHNlIGlmICgnb3BlbicgaW4gbWkpIHtcbiAgICAgICAgbWVudUl0ZW0ub3BlbiA9IG1pLm9wZW47XG4gICAgICB9XG4gICAgICBjdXN0b21NZW51SXRlbXMucHVzaChtZW51SXRlbSk7XG4gICAgICBjdXN0b21NZW51SXRlbXNQb3J0YWxzLnB1c2goaWNvblBvcnRhbCk7XG4gICAgfVxuICAgIGlmIChpc0V4dGVybmFsTGluayhtaSkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcG9ydGFsOiBpY29uUG9ydGFsLFxuICAgICAgICBtb3VudDogbW91bnRJY29uLFxuICAgICAgICB1bm1vdW50OiB1bm1vdW50SWNvbixcbiAgICAgIH0gPSBjdXN0b21MaW5rTGFiZWxJY29uc1BvcnRhbHMuZmluZChwID0+IHAuaWQgPT09IGluZGV4KSBhcyBVc2VDdXN0b21FbGVtZW50UG9ydGFsUmV0dXJuO1xuICAgICAgY3VzdG9tTWVudUl0ZW1zLnB1c2goe1xuICAgICAgICBsYWJlbDogbWkubGFiZWwsXG4gICAgICAgIGhyZWY6IG1pLmhyZWYsXG4gICAgICAgIG1vdW50SWNvbixcbiAgICAgICAgdW5tb3VudEljb24sXG4gICAgICB9KTtcbiAgICAgIGN1c3RvbU1lbnVJdGVtc1BvcnRhbHMucHVzaChpY29uUG9ydGFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IGN1c3RvbU1lbnVJdGVtcywgY3VzdG9tTWVudUl0ZW1zUG9ydGFscyB9O1xufTtcblxuY29uc3QgaXNSZW9yZGVySXRlbSA9IChjaGlsZFByb3BzOiBhbnksIHZhbGlkSXRlbXM6IHN0cmluZ1tdKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGxhYmVsLCBvbkNsaWNrLCBsYWJlbEljb24gfSA9IGNoaWxkUHJvcHM7XG4gIHJldHVybiAhY2hpbGRyZW4gJiYgIW9uQ2xpY2sgJiYgIWxhYmVsSWNvbiAmJiB2YWxpZEl0ZW1zLnNvbWUodiA9PiB2ID09PSBsYWJlbCk7XG59O1xuXG5jb25zdCBpc0N1c3RvbU1lbnVJdGVtID0gKGNoaWxkUHJvcHM6IGFueSk6IGNoaWxkUHJvcHMgaXMgVXNlckJ1dHRvbkFjdGlvblByb3BzID0+IHtcbiAgY29uc3QgeyBsYWJlbCwgbGFiZWxJY29uLCBvbkNsaWNrLCBvcGVuIH0gPSBjaGlsZFByb3BzO1xuICByZXR1cm4gISFsYWJlbEljb24gJiYgISFsYWJlbCAmJiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG9wZW4gPT09ICdzdHJpbmcnKTtcbn07XG5cbmNvbnN0IGlzRXh0ZXJuYWxMaW5rID0gKGNoaWxkUHJvcHM6IGFueSk6IGNoaWxkUHJvcHMgaXMgVXNlckJ1dHRvbkxpbmtQcm9wcyA9PiB7XG4gIGNvbnN0IHsgbGFiZWwsIGhyZWYsIGxhYmVsSWNvbiB9ID0gY2hpbGRQcm9wcztcbiAgcmV0dXJuICEhaHJlZiAmJiAhIWxhYmVsSWNvbiAmJiAhIWxhYmVsO1xufTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBVc2VkIHRvIGRldGVjdCB3aGVuIGEgQ2xlcmsgY29tcG9uZW50IGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBET00uXG4gKi9cbmZ1bmN0aW9uIHdhaXRGb3JFbGVtZW50Q2hpbGRyZW4ob3B0aW9uczogeyBzZWxlY3Rvcj86IHN0cmluZzsgcm9vdD86IEhUTUxFbGVtZW50IHwgbnVsbDsgdGltZW91dD86IG51bWJlciB9KSB7XG4gIGNvbnN0IHsgcm9vdCA9IGRvY3VtZW50Py5ib2R5LCBzZWxlY3RvciwgdGltZW91dCA9IDAgfSA9IG9wdGlvbnM7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIXJvb3QpIHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIHJvb3QgZWxlbWVudCBwcm92aWRlZCcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZWxlbWVudFRvV2F0Y2g6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHJvb3Q7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBlbGVtZW50VG9XYXRjaCA9IHJvb3Q/LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGFscmVhZHkgaGFzIGNoaWxkIG5vZGVzXG4gICAgY29uc3QgaXNFbGVtZW50QWxyZWFkeVByZXNlbnQgPSBlbGVtZW50VG9XYXRjaD8uY2hpbGRFbGVtZW50Q291bnQgJiYgZWxlbWVudFRvV2F0Y2guY2hpbGRFbGVtZW50Q291bnQgPiAwO1xuICAgIGlmIChpc0VsZW1lbnRBbHJlYWR5UHJlc2VudCkge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNldCB1cCBhIE11dGF0aW9uT2JzZXJ2ZXIgdG8gZGV0ZWN0IHdoZW4gdGhlIGVsZW1lbnQgaGFzIGNoaWxkcmVuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnNMaXN0ID0+IHtcbiAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkge1xuICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICBpZiAoIWVsZW1lbnRUb1dhdGNoICYmIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBlbGVtZW50VG9XYXRjaCA9IHJvb3Q/LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbGVtZW50VG9XYXRjaD8uY2hpbGRFbGVtZW50Q291bnQgJiYgZWxlbWVudFRvV2F0Y2guY2hpbGRFbGVtZW50Q291bnQgPiAwKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBvYnNlcnZlci5vYnNlcnZlKHJvb3QsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuXG4gICAgLy8gU2V0IHVwIGFuIG9wdGlvbmFsIHRpbWVvdXQgdG8gcmVqZWN0IHRoZSBwcm9taXNlIGlmIHRoZSBlbGVtZW50IG5ldmVyIGdldHMgY2hpbGQgbm9kZXNcbiAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFRpbWVvdXQgd2FpdGluZyBmb3IgZWxlbWVudCBjaGlsZHJlbmApKTtcbiAgICAgIH0sIHRpbWVvdXQpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogRGV0ZWN0IHdoZW4gYSBDbGVyayBjb21wb25lbnQgaGFzIG1vdW50ZWQgYnkgd2F0Y2hpbmcgRE9NIHVwZGF0ZXMgdG8gYW4gZWxlbWVudCB3aXRoIGEgYGRhdGEtY2xlcmstY29tcG9uZW50PVwiJHtjb21wb25lbnR9XCJgIHByb3BlcnR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlV2FpdEZvckNvbXBvbmVudE1vdW50KGNvbXBvbmVudD86IHN0cmluZykge1xuICBjb25zdCB3YXRjaGVyUmVmID0gdXNlUmVmPFByb21pc2U8dm9pZD4+KCk7XG4gIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZTwncmVuZGVyaW5nJyB8ICdyZW5kZXJlZCcgfCAnZXJyb3InPigncmVuZGVyaW5nJyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGVyazogbm8gY29tcG9uZW50IG5hbWUgcHJvdmlkZWQsIHVuYWJsZSB0byBkZXRlY3QgbW91bnQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICF3YXRjaGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIHdhdGNoZXJSZWYuY3VycmVudCA9IHdhaXRGb3JFbGVtZW50Q2hpbGRyZW4oeyBzZWxlY3RvcjogYFtkYXRhLWNsZXJrLWNvbXBvbmVudD1cIiR7Y29tcG9uZW50fVwiXWAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHNldFN0YXR1cygncmVuZGVyZWQnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICBzZXRTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2NvbXBvbmVudF0pO1xuXG4gIHJldHVybiBzdGF0dXM7XG59XG4iLCJpbXBvcnQgeyB3aXRob3V0IH0gZnJvbSAnQGNsZXJrL3NoYXJlZC9vYmplY3QnO1xuaW1wb3J0IHsgaXNEZWVwbHlFcXVhbCB9IGZyb20gJ0BjbGVyay9zaGFyZWQvcmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB0eXBlIHsgTW91bnRQcm9wcywgT3BlblByb3BzIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCBpc01vdW50UHJvcHMgPSAocHJvcHM6IGFueSk6IHByb3BzIGlzIE1vdW50UHJvcHMgPT4ge1xuICByZXR1cm4gJ21vdW50JyBpbiBwcm9wcztcbn07XG5cbmNvbnN0IGlzT3BlblByb3BzID0gKHByb3BzOiBhbnkpOiBwcm9wcyBpcyBPcGVuUHJvcHMgPT4ge1xuICByZXR1cm4gJ29wZW4nIGluIHByb3BzO1xufTtcblxuY29uc3Qgc3RyaXBNZW51SXRlbUljb25IYW5kbGVycyA9IChcbiAgbWVudUl0ZW1zPzogQXJyYXk8e1xuICAgIG1vdW50SWNvbj86IChlbDogSFRNTERpdkVsZW1lbnQpID0+IHZvaWQ7XG4gICAgdW5tb3VudEljb24/OiAoZWw6IEhUTUxEaXZFbGVtZW50KSA9PiB2b2lkO1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcbiAgfT4sXG4pID0+IHtcbiAgcmV0dXJuIG1lbnVJdGVtcz8ubWFwKCh7IG1vdW50SWNvbiwgdW5tb3VudEljb24sIC4uLnJlc3QgfSkgPT4gcmVzdCk7XG59O1xuXG4vLyBSRUFETUU6IDxDbGVya0hvc3RSZW5kZXJlci8+IHNob3VsZCBiZSBhIGNsYXNzIHB1cmUgY29tcG9uZW50IGluIG9yZGVyIGZvciBtb3VudCBhbmQgdW5tb3VudFxuLy8gbGlmZWN5Y2xlIHByb3BzIHRvIGJlIGludm9rZWQgY29ycmVjdGx5LiBSZXBsYWNpbmcgdGhlIGNsYXNzIGNvbXBvbmVudCB3aXRoIGFcbi8vIGZ1bmN0aW9uYWwgY29tcG9uZW50IHdyYXBwZWQgd2l0aCBhIFJlYWN0Lm1lbW8gaXMgbm90IGlkZW50aWNhbCB0byB0aGUgb3JpZ2luYWxcbi8vIGNsYXNzIGltcGxlbWVudGF0aW9uIGR1ZSB0byBSZWFjdCBpbnRyaWNhY2llcyBzdWNoIGFzIHRoZSB1c2VFZmZlY3TigJlzIGNsZWFudXBcbi8vIHNlZW1zIHRvIHJ1biBBRlRFUiB1bm1vdW50LCB3aGlsZSBjb21wb25lbnRXaWxsVW5tb3VudCBydW5zIEJFRk9SRS5cblxuLy8gTW9yZSBpbmZvcm1hdGlvbiBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly9jbGVyay5zbGFjay5jb20vYXJjaGl2ZXMvQzAxNVMwQkdIOFIvcDE2MjQ4OTE5OTMwMTYzMDBcblxuLy8gVGhlIGZ1bmN0aW9uIFBvcnRhbCBpbXBsZW1lbnRhdGlvbiBpcyBjb21tZW50ZWQgb3V0IGZvciBmdXR1cmUgcmVmZXJlbmNlLlxuXG4vLyBjb25zdCBQb3J0YWwgPSBSZWFjdC5tZW1vKCh7IHByb3BzLCBtb3VudCwgdW5tb3VudCB9OiBNb3VudFByb3BzKSA9PiB7XG4vLyAgIGNvbnN0IHBvcnRhbFJlZiA9IFJlYWN0LmNyZWF0ZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcblxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xuLy8gICAgIGlmIChwb3J0YWxSZWYuY3VycmVudCkge1xuLy8gICAgICAgbW91bnQocG9ydGFsUmVmLmN1cnJlbnQsIHByb3BzKTtcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuICgpID0+IHtcbi8vICAgICAgIGlmIChwb3J0YWxSZWYuY3VycmVudCkge1xuLy8gICAgICAgICB1bm1vdW50KHBvcnRhbFJlZi5jdXJyZW50KTtcbi8vICAgICAgIH1cbi8vICAgICB9O1xuLy8gICB9LCBbXSk7XG5cbi8vICAgcmV0dXJuIDxkaXYgcmVmPXtwb3J0YWxSZWZ9IC8+O1xuLy8gfSk7XG5cbi8vIFBvcnRhbC5kaXNwbGF5TmFtZSA9ICdDbGVya1BvcnRhbCc7XG5cbi8qKlxuICogVXNlZCB0byBvcmNoZXN0cmF0ZSBtb3VudGluZyBvZiBDbGVyayBjb21wb25lbnRzIGluIGEgaG9zdCBSZWFjdCBhcHBsaWNhdGlvbi5cbiAqIENvbXBvbmVudHMgYXJlIHJlbmRlcmVkIGludG8gYSBzcGVjaWZpYyBET00gbm9kZSB1c2luZyBtb3VudC91bm1vdW50IG1ldGhvZHMgcHJvdmlkZWQgYnkgdGhlIENsZXJrIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQ2xlcmtIb3N0UmVuZGVyZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFxuICBQcm9wc1dpdGhDaGlsZHJlbjxcbiAgICAoTW91bnRQcm9wcyB8IE9wZW5Qcm9wcykgJiB7XG4gICAgICBjb21wb25lbnQ/OiBzdHJpbmc7XG4gICAgICBoaWRlUm9vdEh0bWxFbGVtZW50PzogYm9vbGVhbjtcbiAgICAgIHJvb3RQcm9wcz86IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snZGl2J107XG4gICAgfVxuICA+XG4+IHtcbiAgcHJpdmF0ZSByb290UmVmID0gUmVhY3QuY3JlYXRlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShfcHJldlByb3BzOiBSZWFkb25seTxNb3VudFByb3BzIHwgT3BlblByb3BzPikge1xuICAgIGlmICghaXNNb3VudFByb3BzKF9wcmV2UHJvcHMpIHx8ICFpc01vdW50UHJvcHModGhpcy5wcm9wcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgY2hpbGRyZW4gYW5kIGN1c3RvbVBhZ2VzIGZyb20gcHJvcHMgYmVmb3JlIGNvbXBhcmluZ1xuICAgIC8vIGNoaWxkcmVuIG1pZ2h0IGhvbGQgY2lyY3VsYXIgcmVmZXJlbmNlcyB3aGljaCBkZWVwRXF1YWwgY2FuJ3QgaGFuZGxlXG4gICAgLy8gYW5kIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBjdXN0b21QYWdlcyByZWxpZXMgb24gcHJvcHMgZ2V0dGluZyBuZXcgcmVmZXJlbmNlc1xuICAgIGNvbnN0IHByZXZQcm9wcyA9IHdpdGhvdXQoX3ByZXZQcm9wcy5wcm9wcywgJ2N1c3RvbVBhZ2VzJywgJ2N1c3RvbU1lbnVJdGVtcycsICdjaGlsZHJlbicpO1xuICAgIGNvbnN0IG5ld1Byb3BzID0gd2l0aG91dCh0aGlzLnByb3BzLnByb3BzLCAnY3VzdG9tUGFnZXMnLCAnY3VzdG9tTWVudUl0ZW1zJywgJ2NoaWxkcmVuJyk7XG5cbiAgICAvLyBpbnN0ZWFkLCB3ZSBzaW1wbHkgdXNlIHRoZSBsZW5ndGggb2YgY3VzdG9tUGFnZXMgdG8gZGV0ZXJtaW5lIGlmIGl0IGNoYW5nZWQgb3Igbm90XG4gICAgY29uc3QgY3VzdG9tUGFnZXNDaGFuZ2VkID0gcHJldlByb3BzLmN1c3RvbVBhZ2VzPy5sZW5ndGggIT09IG5ld1Byb3BzLmN1c3RvbVBhZ2VzPy5sZW5ndGg7XG4gICAgY29uc3QgY3VzdG9tTWVudUl0ZW1zQ2hhbmdlZCA9IHByZXZQcm9wcy5jdXN0b21NZW51SXRlbXM/Lmxlbmd0aCAhPT0gbmV3UHJvcHMuY3VzdG9tTWVudUl0ZW1zPy5sZW5ndGg7XG5cbiAgICAvLyBTdHJpcCBvdXQgbW91bnRJY29uIGFuZCB1bm1vdW50SWNvbiBoYW5kbGVycyBzaW5jZSB0aGV5J3JlIGFsd2F5cyBnZW5lcmF0ZWQgYXMgbmV3IGZ1bmN0aW9uIHJlZmVyZW5jZXMsXG4gICAgLy8gd2hpY2ggd291bGQgY2F1c2UgdW5uZWNlc3NhcnkgcmUtcmVuZGVycyBpbiBkZWVwIGVxdWFsaXR5IGNoZWNrc1xuICAgIGNvbnN0IHByZXZNZW51SXRlbXNXaXRob3V0SGFuZGxlcnMgPSBzdHJpcE1lbnVJdGVtSWNvbkhhbmRsZXJzKF9wcmV2UHJvcHMucHJvcHMuY3VzdG9tTWVudUl0ZW1zKTtcbiAgICBjb25zdCBuZXdNZW51SXRlbXNXaXRob3V0SGFuZGxlcnMgPSBzdHJpcE1lbnVJdGVtSWNvbkhhbmRsZXJzKHRoaXMucHJvcHMucHJvcHMuY3VzdG9tTWVudUl0ZW1zKTtcblxuICAgIGlmIChcbiAgICAgICFpc0RlZXBseUVxdWFsKHByZXZQcm9wcywgbmV3UHJvcHMpIHx8XG4gICAgICAhaXNEZWVwbHlFcXVhbChwcmV2TWVudUl0ZW1zV2l0aG91dEhhbmRsZXJzLCBuZXdNZW51SXRlbXNXaXRob3V0SGFuZGxlcnMpIHx8XG4gICAgICBjdXN0b21QYWdlc0NoYW5nZWQgfHxcbiAgICAgIGN1c3RvbU1lbnVJdGVtc0NoYW5nZWRcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLnJvb3RSZWYuY3VycmVudCkge1xuICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZVByb3BzKHsgbm9kZTogdGhpcy5yb290UmVmLmN1cnJlbnQsIHByb3BzOiB0aGlzLnByb3BzLnByb3BzIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnJvb3RSZWYuY3VycmVudCkge1xuICAgICAgaWYgKGlzTW91bnRQcm9wcyh0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnByb3BzLm1vdW50KHRoaXMucm9vdFJlZi5jdXJyZW50LCB0aGlzLnByb3BzLnByb3BzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzT3BlblByb3BzKHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMucHJvcHMub3Blbih0aGlzLnByb3BzLnByb3BzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5yb290UmVmLmN1cnJlbnQpIHtcbiAgICAgIGlmIChpc01vdW50UHJvcHModGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy5wcm9wcy51bm1vdW50KHRoaXMucm9vdFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09wZW5Qcm9wcyh0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnByb3BzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaGlkZVJvb3RIdG1sRWxlbWVudCA9IGZhbHNlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHJvb3RBdHRyaWJ1dGVzID0ge1xuICAgICAgcmVmOiB0aGlzLnJvb3RSZWYsXG4gICAgICAuLi50aGlzLnByb3BzLnJvb3RQcm9wcyxcbiAgICAgIC4uLih0aGlzLnByb3BzLmNvbXBvbmVudCAmJiB7ICdkYXRhLWNsZXJrLWNvbXBvbmVudCc6IHRoaXMucHJvcHMuY29tcG9uZW50IH0pLFxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgeyFoaWRlUm9vdEh0bWxFbGVtZW50ICYmIDxkaXYgey4uLnJvb3RBdHRyaWJ1dGVzfSAvPn1cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IExvYWRlZENsZXJrLCBXaXRob3V0IH0gZnJvbSAnQGNsZXJrL3R5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IHVzZUlzb21vcnBoaWNDbGVya0NvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0cy9Jc29tb3JwaGljQ2xlcmtDb250ZXh0JztcbmltcG9ydCB7IHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIgfSBmcm9tICcuLi9ob29rcy91c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyJztcblxuZXhwb3J0IGNvbnN0IHdpdGhDbGVyayA9IDxQIGV4dGVuZHMgeyBjbGVyazogTG9hZGVkQ2xlcms7IGNvbXBvbmVudD86IHN0cmluZyB9PihcbiAgQ29tcG9uZW50OiBSZWFjdC5Db21wb25lbnRUeXBlPFA+LFxuICBkaXNwbGF5TmFtZU9yT3B0aW9ucz86IHN0cmluZyB8IHsgY29tcG9uZW50OiBzdHJpbmc7IHJlbmRlcldoaWxlTG9hZGluZz86IGJvb2xlYW4gfSxcbikgPT4ge1xuICBjb25zdCBwYXNzZWREaXNwbGF5ZWROYW1lID1cbiAgICB0eXBlb2YgZGlzcGxheU5hbWVPck9wdGlvbnMgPT09ICdzdHJpbmcnID8gZGlzcGxheU5hbWVPck9wdGlvbnMgOiBkaXNwbGF5TmFtZU9yT3B0aW9ucz8uY29tcG9uZW50O1xuICBjb25zdCBkaXNwbGF5TmFtZSA9IHBhc3NlZERpc3BsYXllZE5hbWUgfHwgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICBDb21wb25lbnQuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcblxuICBjb25zdCBvcHRpb25zID0gdHlwZW9mIGRpc3BsYXlOYW1lT3JPcHRpb25zID09PSAnc3RyaW5nJyA/IHVuZGVmaW5lZCA6IGRpc3BsYXlOYW1lT3JPcHRpb25zO1xuXG4gIGNvbnN0IEhPQyA9IChwcm9wczogV2l0aG91dDxQLCAnY2xlcmsnPikgPT4ge1xuICAgIHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIoZGlzcGxheU5hbWUgfHwgJ3dpdGhDbGVyaycpO1xuXG4gICAgY29uc3QgY2xlcmsgPSB1c2VJc29tb3JwaGljQ2xlcmtDb250ZXh0KCk7XG5cbiAgICBpZiAoIWNsZXJrLmxvYWRlZCAmJiAhb3B0aW9ucz8ucmVuZGVyV2hpbGVMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvbmVudFxuICAgICAgICB7Li4uKHByb3BzIGFzIFApfVxuICAgICAgICBjb21wb25lbnQ9e2Rpc3BsYXlOYW1lfVxuICAgICAgICBjbGVyaz17Y2xlcmt9XG4gICAgICAvPlxuICAgICk7XG4gIH07XG4gIEhPQy5kaXNwbGF5TmFtZSA9IGB3aXRoQ2xlcmsoJHtkaXNwbGF5TmFtZX0pYDtcbiAgcmV0dXJuIEhPQztcbn07XG4iLCJpbXBvcnQgeyBDbGVya0luc3RhbmNlQ29udGV4dCwgdXNlQ2xlcmtJbnN0YW5jZUNvbnRleHQgfSBmcm9tICdAY2xlcmsvc2hhcmVkL3JlYWN0JztcblxuaW1wb3J0IHR5cGUgeyBJc29tb3JwaGljQ2xlcmsgfSBmcm9tICcuLi9pc29tb3JwaGljQ2xlcmsnO1xuXG5leHBvcnQgY29uc3QgSXNvbW9ycGhpY0NsZXJrQ29udGV4dCA9IENsZXJrSW5zdGFuY2VDb250ZXh0O1xuZXhwb3J0IGNvbnN0IHVzZUlzb21vcnBoaWNDbGVya0NvbnRleHQgPSB1c2VDbGVya0luc3RhbmNlQ29udGV4dCBhcyB1bmtub3duIGFzICgpID0+IElzb21vcnBoaWNDbGVyaztcbiIsImltcG9ydCB7IHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIgYXMgdXNlU2hhcmVkQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlciB9IGZyb20gJ0BjbGVyay9zaGFyZWQvcmVhY3QnO1xuXG5pbXBvcnQgeyBlcnJvclRocm93ZXIgfSBmcm9tICcuLi9lcnJvcnMvZXJyb3JUaHJvd2VyJztcblxuZXhwb3J0IGNvbnN0IHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIgPSAoc291cmNlOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgdXNlU2hhcmVkQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlcigoKSA9PiB7XG4gICAgZXJyb3JUaHJvd2VyLnRocm93TWlzc2luZ0NsZXJrUHJvdmlkZXJFcnJvcih7IHNvdXJjZSB9KTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IHsgZGVwcmVjYXRlZCB9IGZyb20gJ0BjbGVyay9zaGFyZWQvZGVwcmVjYXRlZCc7XG5pbXBvcnQgdHlwZSB7XG4gIENoZWNrQXV0aG9yaXphdGlvbldpdGhDdXN0b21QZXJtaXNzaW9ucyxcbiAgSGFuZGxlT0F1dGhDYWxsYmFja1BhcmFtcyxcbiAgT3JnYW5pemF0aW9uQ3VzdG9tUGVybWlzc2lvbktleSxcbiAgT3JnYW5pemF0aW9uQ3VzdG9tUm9sZUtleSxcbn0gZnJvbSAnQGNsZXJrL3R5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IHVzZUF1dGhDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0NsZXJrQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHRzL0lzb21vcnBoaWNDbGVya0NvbnRleHQnO1xuaW1wb3J0IHsgdXNlU2Vzc2lvbkNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0cy9TZXNzaW9uQ29udGV4dCc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vaG9va3MnO1xuaW1wb3J0IHsgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlciB9IGZyb20gJy4uL2hvb2tzL3VzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXInO1xuaW1wb3J0IHR5cGUgeyBSZWRpcmVjdFRvU2lnbkluUHJvcHMsIFJlZGlyZWN0VG9TaWduVXBQcm9wcywgV2l0aENsZXJrUHJvcCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHdpdGhDbGVyayB9IGZyb20gJy4vd2l0aENsZXJrJztcblxuZXhwb3J0IGNvbnN0IFNpZ25lZEluID0gKHsgY2hpbGRyZW4gfTogUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48dW5rbm93bj4pID0+IHtcbiAgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlcignU2lnbmVkSW4nKTtcblxuICBjb25zdCB7IHVzZXJJZCB9ID0gdXNlQXV0aENvbnRleHQoKTtcbiAgaWYgKHVzZXJJZCkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBTaWduZWRPdXQgPSAoeyBjaGlsZHJlbiB9OiBSZWFjdC5Qcm9wc1dpdGhDaGlsZHJlbjx1bmtub3duPikgPT4ge1xuICB1c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyKCdTaWduZWRPdXQnKTtcblxuICBjb25zdCB7IHVzZXJJZCB9ID0gdXNlQXV0aENvbnRleHQoKTtcbiAgaWYgKHVzZXJJZCA9PT0gbnVsbCkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBDbGVya0xvYWRlZCA9ICh7IGNoaWxkcmVuIH06IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPHVua25vd24+KSA9PiB7XG4gIHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIoJ0NsZXJrTG9hZGVkJyk7XG5cbiAgY29uc3QgaXNvbW9ycGhpY0NsZXJrID0gdXNlSXNvbW9ycGhpY0NsZXJrQ29udGV4dCgpO1xuICBpZiAoIWlzb21vcnBoaWNDbGVyay5sb2FkZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY2hpbGRyZW47XG59O1xuXG5leHBvcnQgY29uc3QgQ2xlcmtMb2FkaW5nID0gKHsgY2hpbGRyZW4gfTogUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48dW5rbm93bj4pID0+IHtcbiAgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlcignQ2xlcmtMb2FkaW5nJyk7XG5cbiAgY29uc3QgaXNvbW9ycGhpY0NsZXJrID0gdXNlSXNvbW9ycGhpY0NsZXJrQ29udGV4dCgpO1xuICBpZiAoaXNvbW9ycGhpY0NsZXJrLmxvYWRlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG5cbmV4cG9ydCB0eXBlIFByb3RlY3RQcm9wcyA9IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPFxuICAoXG4gICAgfCB7XG4gICAgICAgIGNvbmRpdGlvbj86IG5ldmVyO1xuICAgICAgICByb2xlOiBPcmdhbml6YXRpb25DdXN0b21Sb2xlS2V5O1xuICAgICAgICBwZXJtaXNzaW9uPzogbmV2ZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIGNvbmRpdGlvbj86IG5ldmVyO1xuICAgICAgICByb2xlPzogbmV2ZXI7XG4gICAgICAgIHBlcm1pc3Npb246IE9yZ2FuaXphdGlvbkN1c3RvbVBlcm1pc3Npb25LZXk7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIGNvbmRpdGlvbjogKGhhczogQ2hlY2tBdXRob3JpemF0aW9uV2l0aEN1c3RvbVBlcm1pc3Npb25zKSA9PiBib29sZWFuO1xuICAgICAgICByb2xlPzogbmV2ZXI7XG4gICAgICAgIHBlcm1pc3Npb24/OiBuZXZlcjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgY29uZGl0aW9uPzogbmV2ZXI7XG4gICAgICAgIHJvbGU/OiBuZXZlcjtcbiAgICAgICAgcGVybWlzc2lvbj86IG5ldmVyO1xuICAgICAgfVxuICApICYge1xuICAgIGZhbGxiYWNrPzogUmVhY3QuUmVhY3ROb2RlO1xuICB9XG4+O1xuXG4vKipcbiAqIFVzZSBgPFByb3RlY3QvPmAgaW4gb3JkZXIgdG8gcHJldmVudCB1bmF1dGhlbnRpY2F0ZWQgb3IgdW5hdXRob3JpemVkIHVzZXJzIGZyb20gYWNjZXNzaW5nIHRoZSBjaGlsZHJlbiBwYXNzZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqIGBgYFxuICogPFByb3RlY3QgcGVybWlzc2lvbj1cImFfcGVybWlzc2lvbl9rZXlcIiAvPlxuICogPFByb3RlY3Qgcm9sZT1cImFfcm9sZV9rZXlcIiAvPlxuICogPFByb3RlY3QgY29uZGl0aW9uPXsoaGFzKSA9PiBoYXMoe3Blcm1pc3Npb246XCJhX3Blcm1pc3Npb25fa2V5XCJ9KX0gLz5cbiAqIDxQcm90ZWN0IGNvbmRpdGlvbj17KGhhcykgPT4gaGFzKHtyb2xlOlwiYV9yb2xlX2tleVwifSl9IC8+XG4gKiA8UHJvdGVjdCBmYWxsYmFjaz17PHA+VW5hdXRob3JpemVkPC9wPn0gLz5cbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgUHJvdGVjdCA9ICh7IGNoaWxkcmVuLCBmYWxsYmFjaywgLi4ucmVzdEF1dGhvcml6ZWRQYXJhbXMgfTogUHJvdGVjdFByb3BzKSA9PiB7XG4gIHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIoJ1Byb3RlY3QnKTtcblxuICBjb25zdCB7IGlzTG9hZGVkLCBoYXMsIHVzZXJJZCB9ID0gdXNlQXV0aCgpO1xuXG4gIC8qKlxuICAgKiBBdm9pZCBmbGlja2VyaW5nIGNoaWxkcmVuIG9yIGZhbGxiYWNrIHdoaWxlIGNsZXJrIGlzIGxvYWRpbmcgc2Vzc2lvbklkIG9yIHVzZXJJZFxuICAgKi9cbiAgaWYgKCFpc0xvYWRlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEZhbGxiYWNrIHRvIFVJIHByb3ZpZGVkIGJ5IHVzZXIgb3IgYG51bGxgIGlmIGF1dGhvcml6YXRpb24gY2hlY2tzIGZhaWxlZFxuICAgKi9cbiAgY29uc3QgdW5hdXRob3JpemVkID0gZmFsbGJhY2sgPz8gbnVsbDtcblxuICBjb25zdCBhdXRob3JpemVkID0gY2hpbGRyZW47XG5cbiAgaWYgKCF1c2VySWQpIHtcbiAgICByZXR1cm4gdW5hdXRob3JpemVkO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGFnYWluc3QgdGhlIHJlc3VsdHMgb2YgYGhhc2AgY2FsbGVkIGluc2lkZSB0aGUgY2FsbGJhY2tcbiAgICovXG4gIGlmICh0eXBlb2YgcmVzdEF1dGhvcml6ZWRQYXJhbXMuY29uZGl0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHJlc3RBdXRob3JpemVkUGFyYW1zLmNvbmRpdGlvbihoYXMpKSB7XG4gICAgICByZXR1cm4gYXV0aG9yaXplZDtcbiAgICB9XG4gICAgcmV0dXJuIHVuYXV0aG9yaXplZDtcbiAgfVxuXG4gIGlmIChyZXN0QXV0aG9yaXplZFBhcmFtcy5yb2xlIHx8IHJlc3RBdXRob3JpemVkUGFyYW1zLnBlcm1pc3Npb24pIHtcbiAgICBpZiAoaGFzKHJlc3RBdXRob3JpemVkUGFyYW1zKSkge1xuICAgICAgcmV0dXJuIGF1dGhvcml6ZWQ7XG4gICAgfVxuICAgIHJldHVybiB1bmF1dGhvcml6ZWQ7XG4gIH1cblxuICAvKipcbiAgICogSWYgbmVpdGhlciBvZiB0aGUgYXV0aG9yaXphdGlvbiBwYXJhbXMgYXJlIHBhc3NlZCBiZWhhdmUgYXMgdGhlIGA8U2lnbmVkSW4vPmAuXG4gICAqIElmIGZhbGxiYWNrIGlzIHByZXNlbnQgcmVuZGVyIHRoYXQgaW5zdGVhZCBvZiByZW5kZXJpbmcgbm90aGluZy5cbiAgICovXG4gIHJldHVybiBhdXRob3JpemVkO1xufTtcblxuZXhwb3J0IGNvbnN0IFJlZGlyZWN0VG9TaWduSW4gPSB3aXRoQ2xlcmsoKHsgY2xlcmssIC4uLnByb3BzIH06IFdpdGhDbGVya1Byb3A8UmVkaXJlY3RUb1NpZ25JblByb3BzPikgPT4ge1xuICBjb25zdCB7IGNsaWVudCwgc2Vzc2lvbiB9ID0gY2xlcms7XG4gIGNvbnN0IGhhc0FjdGl2ZVNlc3Npb25zID0gY2xpZW50LmFjdGl2ZVNlc3Npb25zICYmIGNsaWVudC5hY3RpdmVTZXNzaW9ucy5sZW5ndGggPiAwO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlc3Npb24gPT09IG51bGwgJiYgaGFzQWN0aXZlU2Vzc2lvbnMpIHtcbiAgICAgIHZvaWQgY2xlcmsucmVkaXJlY3RUb0FmdGVyU2lnbk91dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2b2lkIGNsZXJrLnJlZGlyZWN0VG9TaWduSW4ocHJvcHMpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIHJldHVybiBudWxsO1xufSwgJ1JlZGlyZWN0VG9TaWduSW4nKTtcblxuZXhwb3J0IGNvbnN0IFJlZGlyZWN0VG9TaWduVXAgPSB3aXRoQ2xlcmsoKHsgY2xlcmssIC4uLnByb3BzIH06IFdpdGhDbGVya1Byb3A8UmVkaXJlY3RUb1NpZ25VcFByb3BzPikgPT4ge1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZvaWQgY2xlcmsucmVkaXJlY3RUb1NpZ25VcChwcm9wcyk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gbnVsbDtcbn0sICdSZWRpcmVjdFRvU2lnblVwJyk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIFtgcmVkaXJlY3RUb1VzZXJQcm9maWxlKClgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9jbGVyay9yZWRpcmVjdC1tZXRob2RzI3JlZGlyZWN0LXRvLXVzZXItcHJvZmlsZSkgaW5zdGVhZCwgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBSZWRpcmVjdFRvVXNlclByb2ZpbGUgPSB3aXRoQ2xlcmsoKHsgY2xlcmsgfSkgPT4ge1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRlcHJlY2F0ZWQoJ1JlZGlyZWN0VG9Vc2VyUHJvZmlsZScsICdVc2UgdGhlIGByZWRpcmVjdFRvVXNlclByb2ZpbGUoKWAgbWV0aG9kIGluc3RlYWQuJyk7XG4gICAgdm9pZCBjbGVyay5yZWRpcmVjdFRvVXNlclByb2ZpbGUoKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBudWxsO1xufSwgJ1JlZGlyZWN0VG9Vc2VyUHJvZmlsZScpO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBbYHJlZGlyZWN0VG9Pcmdhbml6YXRpb25Qcm9maWxlKClgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9jbGVyay9yZWRpcmVjdC1tZXRob2RzI3JlZGlyZWN0LXRvLW9yZ2FuaXphdGlvbi1wcm9maWxlKSBpbnN0ZWFkLCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlZGlyZWN0VG9Pcmdhbml6YXRpb25Qcm9maWxlID0gd2l0aENsZXJrKCh7IGNsZXJrIH0pID0+IHtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBkZXByZWNhdGVkKCdSZWRpcmVjdFRvT3JnYW5pemF0aW9uUHJvZmlsZScsICdVc2UgdGhlIGByZWRpcmVjdFRvT3JnYW5pemF0aW9uUHJvZmlsZSgpYCBtZXRob2QgaW5zdGVhZC4nKTtcbiAgICB2b2lkIGNsZXJrLnJlZGlyZWN0VG9Pcmdhbml6YXRpb25Qcm9maWxlKCk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gbnVsbDtcbn0sICdSZWRpcmVjdFRvT3JnYW5pemF0aW9uUHJvZmlsZScpO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBbYHJlZGlyZWN0VG9DcmVhdGVPcmdhbml6YXRpb24oKWBdKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvcmVmZXJlbmNlcy9qYXZhc2NyaXB0L2NsZXJrL3JlZGlyZWN0LW1ldGhvZHMjcmVkaXJlY3QtdG8tY3JlYXRlLW9yZ2FuaXphdGlvbikgaW5zdGVhZCwgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBSZWRpcmVjdFRvQ3JlYXRlT3JnYW5pemF0aW9uID0gd2l0aENsZXJrKCh7IGNsZXJrIH0pID0+IHtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBkZXByZWNhdGVkKCdSZWRpcmVjdFRvQ3JlYXRlT3JnYW5pemF0aW9uJywgJ1VzZSB0aGUgYHJlZGlyZWN0VG9DcmVhdGVPcmdhbml6YXRpb24oKWAgbWV0aG9kIGluc3RlYWQuJyk7XG4gICAgdm9pZCBjbGVyay5yZWRpcmVjdFRvQ3JlYXRlT3JnYW5pemF0aW9uKCk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gbnVsbDtcbn0sICdSZWRpcmVjdFRvQ3JlYXRlT3JnYW5pemF0aW9uJyk7XG5cbmV4cG9ydCBjb25zdCBBdXRoZW50aWNhdGVXaXRoUmVkaXJlY3RDYWxsYmFjayA9IHdpdGhDbGVyayhcbiAgKHsgY2xlcmssIC4uLmhhbmRsZVJlZGlyZWN0Q2FsbGJhY2tQYXJhbXMgfTogV2l0aENsZXJrUHJvcDxIYW5kbGVPQXV0aENhbGxiYWNrUGFyYW1zPikgPT4ge1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICB2b2lkIGNsZXJrLmhhbmRsZVJlZGlyZWN0Q2FsbGJhY2soaGFuZGxlUmVkaXJlY3RDYWxsYmFja1BhcmFtcyk7XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gICdBdXRoZW50aWNhdGVXaXRoUmVkaXJlY3RDYWxsYmFjaycsXG4pO1xuXG5leHBvcnQgY29uc3QgTXVsdGlzZXNzaW9uQXBwU3VwcG9ydCA9ICh7IGNoaWxkcmVuIH06IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPHVua25vd24+KSA9PiB7XG4gIHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIoJ011bHRpc2Vzc2lvbkFwcFN1cHBvcnQnKTtcblxuICBjb25zdCBzZXNzaW9uID0gdXNlU2Vzc2lvbkNvbnRleHQoKTtcbiAgcmV0dXJuIDxSZWFjdC5GcmFnbWVudCBrZXk9e3Nlc3Npb24gPyBzZXNzaW9uLmlkIDogJ25vLXVzZXJzJ30+e2NoaWxkcmVufTwvUmVhY3QuRnJhZ21lbnQ+O1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHRBbmRIb29rIH0gZnJvbSAnQGNsZXJrL3NoYXJlZC9yZWFjdCc7XG5pbXBvcnQgdHlwZSB7IEFjdEpXVENsYWltLCBPcmdhbml6YXRpb25DdXN0b21QZXJtaXNzaW9uS2V5LCBPcmdhbml6YXRpb25DdXN0b21Sb2xlS2V5IH0gZnJvbSAnQGNsZXJrL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgQXV0aENvbnRleHRWYWx1ZSA9IHtcbiAgdXNlcklkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuICBzZXNzaW9uSWQ6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIGFjdG9yOiBBY3RKV1RDbGFpbSB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIG9yZ0lkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuICBvcmdSb2xlOiBPcmdhbml6YXRpb25DdXN0b21Sb2xlS2V5IHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgb3JnU2x1Zzogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgb3JnUGVybWlzc2lvbnM6IE9yZ2FuaXphdGlvbkN1c3RvbVBlcm1pc3Npb25LZXlbXSB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIGZhY3RvclZlcmlmaWNhdGlvbkFnZTogW251bWJlciwgbnVtYmVyXSB8IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgW0F1dGhDb250ZXh0LCB1c2VBdXRoQ29udGV4dF0gPSBjcmVhdGVDb250ZXh0QW5kSG9vazxBdXRoQ29udGV4dFZhbHVlPignQXV0aENvbnRleHQnKTtcbiIsImV4cG9ydCB7IFNlc3Npb25Db250ZXh0LCB1c2VTZXNzaW9uQ29udGV4dCB9IGZyb20gJ0BjbGVyay9zaGFyZWQvcmVhY3QnO1xuIiwiaW1wb3J0IHsgY3JlYXRlQ2hlY2tBdXRob3JpemF0aW9uIH0gZnJvbSAnQGNsZXJrL3NoYXJlZC9hdXRob3JpemF0aW9uJztcbmltcG9ydCB0eXBlIHsgQ2hlY2tBdXRob3JpemF0aW9uV2l0aEN1c3RvbVBlcm1pc3Npb25zLCBHZXRUb2tlbiwgU2lnbk91dCwgVXNlQXV0aFJldHVybiB9IGZyb20gJ0BjbGVyay90eXBlcyc7XG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgdXNlQXV0aENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0cy9BdXRoQ29udGV4dCc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljQ2xlcmtDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMvSXNvbW9ycGhpY0NsZXJrQ29udGV4dCc7XG5pbXBvcnQgeyBlcnJvclRocm93ZXIgfSBmcm9tICcuLi9lcnJvcnMvZXJyb3JUaHJvd2VyJztcbmltcG9ydCB7IGludmFsaWRTdGF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzL21lc3NhZ2VzJztcbmltcG9ydCB7IHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIgfSBmcm9tICcuL3VzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXInO1xuaW1wb3J0IHsgY3JlYXRlR2V0VG9rZW4sIGNyZWF0ZVNpZ25PdXQgfSBmcm9tICcuL3V0aWxzJztcblxuLyoqXG4gKiBUaGUgYHVzZUF1dGgoKWAgaG9vayBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGN1cnJlbnQgdXNlcidzIGF1dGhlbnRpY2F0aW9uIHN0YXRlIGFuZCBtZXRob2RzIHRvIG1hbmFnZSB0aGUgYWN0aXZlIHNlc3Npb24uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVtb25zdHJhdGVzIGhvdyB0byB1c2UgdGhlIGB1c2VBdXRoKClgIGhvb2sgdG8gYWNjZXNzIHRoZSBjdXJyZW50IGF1dGggc3RhdGUsIGxpa2Ugd2hldGhlciB0aGUgdXNlciBpcyBzaWduZWQgaW4gb3Igbm90LiBJdCBhbHNvIGluY2x1ZGVzIGEgYmFzaWMgZXhhbXBsZSBmb3IgdXNpbmcgdGhlIGBnZXRUb2tlbigpYCBtZXRob2QgdG8gcmV0cmlldmUgYSBzZXNzaW9uIHRva2VuIGZvciBmZXRjaGluZyBkYXRhIGZyb20gYW4gZXh0ZXJuYWwgcmVzb3VyY2UuXG4gKlxuICogYGBgdHN4IHt7IGZpbGVuYW1lOiAnc3JjL3BhZ2VzL0V4dGVybmFsRGF0YVBhZ2UudHN4JyB9fVxuICogaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0BjbGVyay9jbGVyay1yZWFjdCdcbiAqXG4gKiBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFeHRlcm5hbERhdGFQYWdlKCkge1xuICogICBjb25zdCB7IHVzZXJJZCwgc2Vzc2lvbklkLCBnZXRUb2tlbiwgaXNMb2FkZWQsIGlzU2lnbmVkSW4gfSA9IHVzZUF1dGgoKVxuICpcbiAqICAgY29uc3QgZmV0Y2hFeHRlcm5hbERhdGEgPSBhc3luYyAoKSA9PiB7XG4gKiAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRUb2tlbigpXG4gKlxuICogICAgIC8vIEZldGNoIGRhdGEgZnJvbSBhbiBleHRlcm5hbCBBUElcbiAqICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJywge1xuICogICAgICAgaGVhZGVyczoge1xuICogICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAqICAgICAgIH0sXG4gKiAgICAgfSlcbiAqXG4gKiAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxuICogICB9XG4gKlxuICogICBpZiAoIWlzTG9hZGVkKSB7XG4gKiAgICAgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PlxuICogICB9XG4gKlxuICogICBpZiAoIWlzU2lnbmVkSW4pIHtcbiAqICAgICByZXR1cm4gPGRpdj5TaWduIGluIHRvIHZpZXcgdGhpcyBwYWdlPC9kaXY+XG4gKiAgIH1cbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxwPlxuICogICAgICAgICBIZWxsbywge3VzZXJJZH0hIFlvdXIgY3VycmVudCBhY3RpdmUgc2Vzc2lvbiBpcyB7c2Vzc2lvbklkfS5cbiAqICAgICAgIDwvcD5cbiAqICAgICAgIDxidXR0b24gb25DbGljaz17ZmV0Y2hFeHRlcm5hbERhdGF9PkZldGNoIERhdGE8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKGluaXRpYWxBdXRoU3RhdGU6IGFueSA9IHt9KTogVXNlQXV0aFJldHVybiA9PiB7XG4gIHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIoJ3VzZUF1dGgnKTtcblxuICBjb25zdCBhdXRoQ29udGV4dEZyb21Ib29rID0gdXNlQXV0aENvbnRleHQoKTtcbiAgbGV0IGF1dGhDb250ZXh0ID0gYXV0aENvbnRleHRGcm9tSG9vaztcblxuICBpZiAoYXV0aENvbnRleHQuc2Vzc2lvbklkID09PSB1bmRlZmluZWQgJiYgYXV0aENvbnRleHQudXNlcklkID09PSB1bmRlZmluZWQpIHtcbiAgICBhdXRoQ29udGV4dCA9IGluaXRpYWxBdXRoU3RhdGUgIT0gbnVsbCA/IGluaXRpYWxBdXRoU3RhdGUgOiB7fTtcbiAgfVxuXG4gIGNvbnN0IHsgc2Vzc2lvbklkLCB1c2VySWQsIGFjdG9yLCBvcmdJZCwgb3JnUm9sZSwgb3JnU2x1Zywgb3JnUGVybWlzc2lvbnMsIGZhY3RvclZlcmlmaWNhdGlvbkFnZSB9ID0gYXV0aENvbnRleHQ7XG4gIGNvbnN0IGlzb21vcnBoaWNDbGVyayA9IHVzZUlzb21vcnBoaWNDbGVya0NvbnRleHQoKTtcblxuICBjb25zdCBnZXRUb2tlbjogR2V0VG9rZW4gPSB1c2VDYWxsYmFjayhjcmVhdGVHZXRUb2tlbihpc29tb3JwaGljQ2xlcmspLCBbaXNvbW9ycGhpY0NsZXJrXSk7XG4gIGNvbnN0IHNpZ25PdXQ6IFNpZ25PdXQgPSB1c2VDYWxsYmFjayhjcmVhdGVTaWduT3V0KGlzb21vcnBoaWNDbGVyayksIFtpc29tb3JwaGljQ2xlcmtdKTtcblxuICByZXR1cm4gdXNlRGVyaXZlZEF1dGgoe1xuICAgIHNlc3Npb25JZCxcbiAgICB1c2VySWQsXG4gICAgYWN0b3IsXG4gICAgb3JnSWQsXG4gICAgb3JnU2x1ZyxcbiAgICBvcmdSb2xlLFxuICAgIGdldFRva2VuLFxuICAgIHNpZ25PdXQsXG4gICAgb3JnUGVybWlzc2lvbnMsXG4gICAgZmFjdG9yVmVyaWZpY2F0aW9uQWdlLFxuICB9KTtcbn07XG5cbi8qKlxuICogQSBob29rIHRoYXQgZGVyaXZlcyBhbmQgcmV0dXJucyBhdXRoZW50aWNhdGlvbiBzdGF0ZSBhbmQgdXRpbGl0eSBmdW5jdGlvbnMgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGF1dGggb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBhdXRoT2JqZWN0IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgYXV0aGVudGljYXRpb24tcmVsYXRlZCBwcm9wZXJ0aWVzIGFuZCBmdW5jdGlvbnMuXG4gKlxuICogQHJldHVybnMgQSBkZXJpdmVkIGF1dGhlbnRpY2F0aW9uIHN0YXRlIHdpdGggaGVscGVyIG1ldGhvZHMuIElmIHRoZSBhdXRoZW50aWNhdGlvbiBzdGF0ZSBpcyBpbnZhbGlkLCBhbiBlcnJvciBpcyB0aHJvd24uXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgaG9vayBpbnNwZWN0cyBzZXNzaW9uLCB1c2VyLCBhbmQgb3JnYW5pemF0aW9uIGluZm9ybWF0aW9uIHRvIGRldGVybWluZSB0aGUgY3VycmVudCBhdXRoZW50aWNhdGlvbiBzdGF0ZS5cbiAqIEl0IHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaW5jbHVkZXMgdmFyaW91cyBwcm9wZXJ0aWVzIHN1Y2ggYXMgd2hldGhlciB0aGUgc3RhdGUgaXMgbG9hZGVkLCBpZiBhIHVzZXIgaXMgc2lnbmVkIGluLFxuICogc2Vzc2lvbiBhbmQgdXNlciBpZGVudGlmaWVycywgb3JnYW5pemF0aW9uIHJvbGVzLCBhbmQgYSBgaGFzYCBmdW5jdGlvbiBmb3IgYXV0aG9yaXphdGlvbiBjaGVja3MuXG4gKiBBZGRpdGlvbmFsbHksIGl0IHByb3ZpZGVzIGBzaWduT3V0YCBhbmQgYGdldFRva2VuYCBmdW5jdGlvbnMgaWYgYXBwbGljYWJsZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBjb25zdCB7XG4gKiAgIGlzTG9hZGVkLFxuICogICBpc1NpZ25lZEluLFxuICogICB1c2VySWQsXG4gKiAgIG9yZ0lkLFxuICogICBoYXMsXG4gKiAgIHNpZ25PdXQsXG4gKiAgIGdldFRva2VuXG4gKiB9ID0gdXNlRGVyaXZlZEF1dGgoYXV0aE9iamVjdCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURlcml2ZWRBdXRoKGF1dGhPYmplY3Q6IGFueSk6IFVzZUF1dGhSZXR1cm4ge1xuICBjb25zdCB7XG4gICAgc2Vzc2lvbklkLFxuICAgIHVzZXJJZCxcbiAgICBhY3RvcixcbiAgICBvcmdJZCxcbiAgICBvcmdTbHVnLFxuICAgIG9yZ1JvbGUsXG4gICAgaGFzLFxuICAgIHNpZ25PdXQsXG4gICAgZ2V0VG9rZW4sXG4gICAgb3JnUGVybWlzc2lvbnMsXG4gICAgZmFjdG9yVmVyaWZpY2F0aW9uQWdlLFxuICB9ID0gYXV0aE9iamVjdCA/PyB7fTtcblxuICBjb25zdCBkZXJpdmVkSGFzID0gdXNlQ2FsbGJhY2soXG4gICAgKHBhcmFtczogUGFyYW1ldGVyczxDaGVja0F1dGhvcml6YXRpb25XaXRoQ3VzdG9tUGVybWlzc2lvbnM+WzBdKSA9PiB7XG4gICAgICBpZiAoaGFzKSB7XG4gICAgICAgIHJldHVybiBoYXMocGFyYW1zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVDaGVja0F1dGhvcml6YXRpb24oe1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIG9yZ0lkLFxuICAgICAgICBvcmdSb2xlLFxuICAgICAgICBvcmdQZXJtaXNzaW9ucyxcbiAgICAgICAgZmFjdG9yVmVyaWZpY2F0aW9uQWdlLFxuICAgICAgfSkocGFyYW1zKTtcbiAgICB9LFxuICAgIFt1c2VySWQsIGZhY3RvclZlcmlmaWNhdGlvbkFnZSwgb3JnSWQsIG9yZ1JvbGUsIG9yZ1Blcm1pc3Npb25zXSxcbiAgKTtcblxuICBpZiAoc2Vzc2lvbklkID09PSB1bmRlZmluZWQgJiYgdXNlcklkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNTaWduZWRJbjogdW5kZWZpbmVkLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdXNlcklkLFxuICAgICAgYWN0b3I6IHVuZGVmaW5lZCxcbiAgICAgIG9yZ0lkOiB1bmRlZmluZWQsXG4gICAgICBvcmdSb2xlOiB1bmRlZmluZWQsXG4gICAgICBvcmdTbHVnOiB1bmRlZmluZWQsXG4gICAgICBoYXM6IHVuZGVmaW5lZCxcbiAgICAgIHNpZ25PdXQsXG4gICAgICBnZXRUb2tlbixcbiAgICB9O1xuICB9XG5cbiAgaWYgKHNlc3Npb25JZCA9PT0gbnVsbCAmJiB1c2VySWQgPT09IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBpc1NpZ25lZEluOiBmYWxzZSxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGFjdG9yOiBudWxsLFxuICAgICAgb3JnSWQ6IG51bGwsXG4gICAgICBvcmdSb2xlOiBudWxsLFxuICAgICAgb3JnU2x1ZzogbnVsbCxcbiAgICAgIGhhczogKCkgPT4gZmFsc2UsXG4gICAgICBzaWduT3V0LFxuICAgICAgZ2V0VG9rZW4sXG4gICAgfTtcbiAgfVxuXG4gIGlmICghIXNlc3Npb25JZCAmJiAhIXVzZXJJZCAmJiAhIW9yZ0lkICYmICEhb3JnUm9sZSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGlzU2lnbmVkSW46IHRydWUsXG4gICAgICBzZXNzaW9uSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBhY3RvcjogYWN0b3IgfHwgbnVsbCxcbiAgICAgIG9yZ0lkLFxuICAgICAgb3JnUm9sZSxcbiAgICAgIG9yZ1NsdWc6IG9yZ1NsdWcgfHwgbnVsbCxcbiAgICAgIGhhczogZGVyaXZlZEhhcyxcbiAgICAgIHNpZ25PdXQsXG4gICAgICBnZXRUb2tlbixcbiAgICB9O1xuICB9XG5cbiAgaWYgKCEhc2Vzc2lvbklkICYmICEhdXNlcklkICYmICFvcmdJZCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGlzU2lnbmVkSW46IHRydWUsXG4gICAgICBzZXNzaW9uSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBhY3RvcjogYWN0b3IgfHwgbnVsbCxcbiAgICAgIG9yZ0lkOiBudWxsLFxuICAgICAgb3JnUm9sZTogbnVsbCxcbiAgICAgIG9yZ1NsdWc6IG51bGwsXG4gICAgICBoYXM6IGRlcml2ZWRIYXMsXG4gICAgICBzaWduT3V0LFxuICAgICAgZ2V0VG9rZW4sXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBlcnJvclRocm93ZXIudGhyb3coaW52YWxpZFN0YXRlRXJyb3IpO1xufVxuIiwiaW1wb3J0IHR5cGUgeyBJc29tb3JwaGljQ2xlcmsgfSBmcm9tICcuLi9pc29tb3JwaGljQ2xlcmsnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBjbGVya0xvYWRlZCA9IChpc29tb3JwaGljQ2xlcms6IElzb21vcnBoaWNDbGVyaykgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgaWYgKGlzb21vcnBoaWNDbGVyay5sb2FkZWQpIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9XG4gICAgaXNvbW9ycGhpY0NsZXJrLmFkZE9uTG9hZGVkKHJlc29sdmUpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVHZXRUb2tlbiA9IChpc29tb3JwaGljQ2xlcms6IElzb21vcnBoaWNDbGVyaykgPT4ge1xuICByZXR1cm4gYXN5bmMgKG9wdGlvbnM6IGFueSkgPT4ge1xuICAgIGF3YWl0IGNsZXJrTG9hZGVkKGlzb21vcnBoaWNDbGVyayk7XG4gICAgaWYgKCFpc29tb3JwaGljQ2xlcmsuc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBpc29tb3JwaGljQ2xlcmsuc2Vzc2lvbi5nZXRUb2tlbihvcHRpb25zKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTaWduT3V0ID0gKGlzb21vcnBoaWNDbGVyazogSXNvbW9ycGhpY0NsZXJrKSA9PiB7XG4gIHJldHVybiBhc3luYyAoLi4uYXJnczogYW55KSA9PiB7XG4gICAgYXdhaXQgY2xlcmtMb2FkZWQoaXNvbW9ycGhpY0NsZXJrKTtcbiAgICByZXR1cm4gaXNvbW9ycGhpY0NsZXJrLnNpZ25PdXQoLi4uYXJncyk7XG4gIH07XG59O1xuIiwiaW1wb3J0IHR5cGUge1xuICBDcmVhdGVFbWFpbExpbmtGbG93UmV0dXJuLFxuICBFbWFpbEFkZHJlc3NSZXNvdXJjZSxcbiAgU2lnbkluUmVzb3VyY2UsXG4gIFNpZ25JblN0YXJ0RW1haWxMaW5rRmxvd1BhcmFtcyxcbiAgU2lnblVwUmVzb3VyY2UsXG4gIFN0YXJ0RW1haWxMaW5rRmxvd1BhcmFtcyxcbn0gZnJvbSAnQGNsZXJrL3R5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnR5cGUgRW1haWxMaW5rYWJsZSA9IFNpZ25VcFJlc291cmNlIHwgRW1haWxBZGRyZXNzUmVzb3VyY2UgfCBTaWduSW5SZXNvdXJjZTtcbnR5cGUgVXNlRW1haWxMaW5rU2lnbkluUmV0dXJuID0gQ3JlYXRlRW1haWxMaW5rRmxvd1JldHVybjxTaWduSW5TdGFydEVtYWlsTGlua0Zsb3dQYXJhbXMsIFNpZ25JblJlc291cmNlPjtcbnR5cGUgVXNlRW1haWxMaW5rU2lnblVwUmV0dXJuID0gQ3JlYXRlRW1haWxMaW5rRmxvd1JldHVybjxTdGFydEVtYWlsTGlua0Zsb3dQYXJhbXMsIFNpZ25VcFJlc291cmNlPjtcbnR5cGUgVXNlRW1haWxMaW5rRW1haWxBZGRyZXNzUmV0dXJuID0gQ3JlYXRlRW1haWxMaW5rRmxvd1JldHVybjxTdGFydEVtYWlsTGlua0Zsb3dQYXJhbXMsIEVtYWlsQWRkcmVzc1Jlc291cmNlPjtcblxuZnVuY3Rpb24gdXNlRW1haWxMaW5rKHJlc291cmNlOiBTaWduSW5SZXNvdXJjZSk6IFVzZUVtYWlsTGlua1NpZ25JblJldHVybjtcbmZ1bmN0aW9uIHVzZUVtYWlsTGluayhyZXNvdXJjZTogU2lnblVwUmVzb3VyY2UpOiBVc2VFbWFpbExpbmtTaWduVXBSZXR1cm47XG5mdW5jdGlvbiB1c2VFbWFpbExpbmsocmVzb3VyY2U6IEVtYWlsQWRkcmVzc1Jlc291cmNlKTogVXNlRW1haWxMaW5rRW1haWxBZGRyZXNzUmV0dXJuO1xuZnVuY3Rpb24gdXNlRW1haWxMaW5rKFxuICByZXNvdXJjZTogRW1haWxMaW5rYWJsZSxcbik6IFVzZUVtYWlsTGlua1NpZ25JblJldHVybiB8IFVzZUVtYWlsTGlua1NpZ25VcFJldHVybiB8IFVzZUVtYWlsTGlua0VtYWlsQWRkcmVzc1JldHVybiB7XG4gIGNvbnN0IHsgc3RhcnRFbWFpbExpbmtGbG93LCBjYW5jZWxFbWFpbExpbmtGbG93IH0gPSBSZWFjdC51c2VNZW1vKCgpID0+IHJlc291cmNlLmNyZWF0ZUVtYWlsTGlua0Zsb3coKSwgW3Jlc291cmNlXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gY2FuY2VsRW1haWxMaW5rRmxvdztcbiAgfSwgW10pO1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnRFbWFpbExpbmtGbG93LFxuICAgIGNhbmNlbEVtYWlsTGlua0Zsb3csXG4gIH0gYXMgVXNlRW1haWxMaW5rU2lnbkluUmV0dXJuIHwgVXNlRW1haWxMaW5rU2lnblVwUmV0dXJuIHwgVXNlRW1haWxMaW5rRW1haWxBZGRyZXNzUmV0dXJuO1xufVxuXG5leHBvcnQgeyB1c2VFbWFpbExpbmsgfTtcbiIsImltcG9ydCB7IHVzZUNsaWVudENvbnRleHQgfSBmcm9tICdAY2xlcmsvc2hhcmVkL3JlYWN0JztcbmltcG9ydCB7IGV2ZW50TWV0aG9kQ2FsbGVkIH0gZnJvbSAnQGNsZXJrL3NoYXJlZC90ZWxlbWV0cnknO1xuaW1wb3J0IHR5cGUgeyBVc2VTaWduSW5SZXR1cm4gfSBmcm9tICdAY2xlcmsvdHlwZXMnO1xuXG5pbXBvcnQgeyB1c2VJc29tb3JwaGljQ2xlcmtDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMvSXNvbW9ycGhpY0NsZXJrQ29udGV4dCc7XG5pbXBvcnQgeyB1c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyIH0gZnJvbSAnLi91c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyJztcblxuLyoqXG4gKiBUaGUgYHVzZVNpZ25JbigpYCBob29rIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgW2BTaWduSW5gXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9zaWduLWluL3NpZ24taW4pIG9iamVjdCwgd2hpY2ggYWxsb3dzIHlvdSB0byBjaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIHNpZ24taW4gYXR0ZW1wdCBhbmQgbWFuYWdlIHRoZSBzaWduLWluIGZsb3cuIFlvdSBjYW4gdXNlIHRoaXMgdG8gY3JlYXRlIGEgW2N1c3RvbSBzaWduLWluIGZsb3ddKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvY3VzdG9tLWZsb3dzL292ZXJ2aWV3I3NpZ24taW4tZmxvdykuXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBDaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIHNpZ24taW5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgdXNlcyB0aGUgYHVzZVNpZ25JbigpYCBob29rIHRvIGFjY2VzcyB0aGUgW2BTaWduSW5gXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9zaWduLWluL3NpZ24taW4pIG9iamVjdCwgd2hpY2ggY29udGFpbnMgdGhlIGN1cnJlbnQgc2lnbi1pbiBhdHRlbXB0IHN0YXR1cyBhbmQgbWV0aG9kcyB0byBjcmVhdGUgYSBuZXcgc2lnbi1pbiBhdHRlbXB0LiBUaGUgYGlzTG9hZGVkYCBwcm9wZXJ0eSBpcyB1c2VkIHRvIGhhbmRsZSB0aGUgbG9hZGluZyBzdGF0ZS5cbiAqXG4gKiBgYGB0c3gge3sgZmlsZW5hbWU6ICdzcmMvcGFnZXMvU2lnbkluUGFnZS50c3gnIH19XG4gKiBpbXBvcnQgeyB1c2VTaWduSW4gfSBmcm9tICdAY2xlcmsvY2xlcmstcmVhY3QnXG4gKlxuICogZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2lnbkluUGFnZSgpIHtcbiAqICAgY29uc3QgeyBpc0xvYWRlZCwgc2lnbkluIH0gPSB1c2VTaWduSW4oKVxuICpcbiAqICAgaWYgKCFpc0xvYWRlZCkge1xuICogICAgIC8vIEhhbmRsZSBsb2FkaW5nIHN0YXRlXG4gKiAgICAgcmV0dXJuIG51bGxcbiAqICAgfVxuICpcbiAqICAgcmV0dXJuIDxkaXY+VGhlIGN1cnJlbnQgc2lnbi1pbiBhdHRlbXB0IHN0YXR1cyBpcyB7c2lnbkluPy5zdGF0dXN9LjwvZGl2PlxuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBDcmVhdGUgYSBjdXN0b20gc2lnbi1pbiBmbG93IHdpdGggYHVzZVNpZ25JbigpYFxuICpcbiAqIFRoZSBgdXNlU2lnbkluKClgIGhvb2sgY2FuIGFsc28gYmUgdXNlZCB0byBidWlsZCBmdWxseSBjdXN0b20gc2lnbi1pbiBmbG93cywgaWYgQ2xlcmsncyBwcmVidWlsdCBjb21wb25lbnRzIGRvbid0IG1lZXQgeW91ciBzcGVjaWZpYyBuZWVkcyBvciBpZiB5b3UgcmVxdWlyZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgYXV0aGVudGljYXRpb24gZmxvdy4gRGlmZmVyZW50IHNpZ24taW4gZmxvd3MgaW5jbHVkZSBlbWFpbCBhbmQgcGFzc3dvcmQsIGVtYWlsIGFuZCBwaG9uZSBjb2RlcywgZW1haWwgbGlua3MsIGFuZCBtdWx0aWZhY3RvciAoTUZBKS4gVG8gbGVhcm4gbW9yZSBhYm91dCB1c2luZyB0aGUgYHVzZVNpZ25JbigpYCBob29rIHRvIGNyZWF0ZSBjdXN0b20gZmxvd3MsIHNlZSB0aGUgW2N1c3RvbSBmbG93IGd1aWRlc10oaHR0cHM6Ly9jbGVyay5jb20vZG9jcy9jdXN0b20tZmxvd3Mvb3ZlcnZpZXcpLlxuICpcbiAqIGBgYFxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VTaWduSW4gPSAoKTogVXNlU2lnbkluUmV0dXJuID0+IHtcbiAgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlcigndXNlU2lnbkluJyk7XG5cbiAgY29uc3QgaXNvbW9ycGhpY0NsZXJrID0gdXNlSXNvbW9ycGhpY0NsZXJrQ29udGV4dCgpO1xuICBjb25zdCBjbGllbnQgPSB1c2VDbGllbnRDb250ZXh0KCk7XG5cbiAgaXNvbW9ycGhpY0NsZXJrLnRlbGVtZXRyeT8ucmVjb3JkKGV2ZW50TWV0aG9kQ2FsbGVkKCd1c2VTaWduSW4nKSk7XG5cbiAgaWYgKCFjbGllbnQpIHtcbiAgICByZXR1cm4geyBpc0xvYWRlZDogZmFsc2UsIHNpZ25JbjogdW5kZWZpbmVkLCBzZXRBY3RpdmU6IHVuZGVmaW5lZCB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICBzaWduSW46IGNsaWVudC5zaWduSW4sXG4gICAgc2V0QWN0aXZlOiBpc29tb3JwaGljQ2xlcmsuc2V0QWN0aXZlLFxuICB9O1xufTtcbiIsImltcG9ydCB7IHVzZUNsaWVudENvbnRleHQgfSBmcm9tICdAY2xlcmsvc2hhcmVkL3JlYWN0JztcbmltcG9ydCB7IGV2ZW50TWV0aG9kQ2FsbGVkIH0gZnJvbSAnQGNsZXJrL3NoYXJlZC90ZWxlbWV0cnknO1xuaW1wb3J0IHR5cGUgeyBVc2VTaWduVXBSZXR1cm4gfSBmcm9tICdAY2xlcmsvdHlwZXMnO1xuXG5pbXBvcnQgeyB1c2VJc29tb3JwaGljQ2xlcmtDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMvSXNvbW9ycGhpY0NsZXJrQ29udGV4dCc7XG5pbXBvcnQgeyB1c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyIH0gZnJvbSAnLi91c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyJztcblxuLyoqXG4gKiBUaGUgYHVzZVNpZ25VcCgpYCBob29rIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgW2BTaWduVXBgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9zaWduLXVwL3NpZ24tdXApIG9iamVjdCwgd2hpY2ggYWxsb3dzIHlvdSB0byBjaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIHNpZ24tdXAgYXR0ZW1wdCBhbmQgbWFuYWdlIHRoZSBzaWduLXVwIGZsb3cuIFlvdSBjYW4gdXNlIHRoaXMgdG8gY3JlYXRlIGEgW2N1c3RvbSBzaWduLXVwIGZsb3ddKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvY3VzdG9tLWZsb3dzL292ZXJ2aWV3I3NpZ24tdXAtZmxvdykuXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBDaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIHNpZ24tdXBcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgdXNlcyB0aGUgYHVzZVNpZ25VcCgpYCBob29rIHRvIGFjY2VzcyB0aGUgW2BTaWduVXBgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9zaWduLXVwL3NpZ24tdXApIG9iamVjdCwgd2hpY2ggY29udGFpbnMgdGhlIGN1cnJlbnQgc2lnbi11cCBhdHRlbXB0IHN0YXR1cyBhbmQgbWV0aG9kcyB0byBjcmVhdGUgYSBuZXcgc2lnbi11cCBhdHRlbXB0LiBUaGUgYGlzTG9hZGVkYCBwcm9wZXJ0eSBpcyB1c2VkIHRvIGhhbmRsZSB0aGUgbG9hZGluZyBzdGF0ZS5cbiAqXG4gKiBgYGB0c3gge3sgZmlsZW5hbWU6ICdzcmMvcGFnZXMvU2lnblVwUGFnZS50c3gnIH19XG4gKiBpbXBvcnQgeyB1c2VTaWduVXAgfSBmcm9tICdAY2xlcmsvY2xlcmstcmVhY3QnXG4gKlxuICogZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2lnblVwUGFnZSgpIHtcbiAqICAgY29uc3QgeyBpc0xvYWRlZCwgc2lnblVwIH0gPSB1c2VTaWduVXAoKVxuICpcbiAqICAgaWYgKCFpc0xvYWRlZCkge1xuICogICAgIC8vIEhhbmRsZSBsb2FkaW5nIHN0YXRlXG4gKiAgICAgcmV0dXJuIG51bGxcbiAqICAgfVxuICpcbiAqICAgcmV0dXJuIDxkaXY+VGhlIGN1cnJlbnQgc2lnbi11cCBhdHRlbXB0IHN0YXR1cyBpcyB7c2lnblVwPy5zdGF0dXN9LjwvZGl2PlxuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBDcmVhdGUgYSBjdXN0b20gc2lnbi11cCBmbG93IHdpdGggYHVzZVNpZ25VcCgpYFxuICpcbiAqIFRoZSBgdXNlU2lnblVwKClgIGhvb2sgY2FuIGFsc28gYmUgdXNlZCB0byBidWlsZCBmdWxseSBjdXN0b20gc2lnbi11cCBmbG93cywgaWYgQ2xlcmsncyBwcmVidWlsdCBjb21wb25lbnRzIGRvbid0IG1lZXQgeW91ciBzcGVjaWZpYyBuZWVkcyBvciBpZiB5b3UgcmVxdWlyZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgYXV0aGVudGljYXRpb24gZmxvdy4gRGlmZmVyZW50IHNpZ24tdXAgZmxvd3MgaW5jbHVkZSBlbWFpbCBhbmQgcGFzc3dvcmQsIGVtYWlsIGFuZCBwaG9uZSBjb2RlcywgZW1haWwgbGlua3MsIGFuZCBtdWx0aWZhY3RvciAoTUZBKS4gVG8gbGVhcm4gbW9yZSBhYm91dCB1c2luZyB0aGUgYHVzZVNpZ25VcCgpYCBob29rIHRvIGNyZWF0ZSBjdXN0b20gZmxvd3MsIHNlZSB0aGUgW2N1c3RvbSBmbG93IGd1aWRlc10oaHR0cHM6Ly9jbGVyay5jb20vZG9jcy9jdXN0b20tZmxvd3Mvb3ZlcnZpZXcpLlxuICpcbiAqIGBgYHRzeFxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VTaWduVXAgPSAoKTogVXNlU2lnblVwUmV0dXJuID0+IHtcbiAgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlcigndXNlU2lnblVwJyk7XG5cbiAgY29uc3QgaXNvbW9ycGhpY0NsZXJrID0gdXNlSXNvbW9ycGhpY0NsZXJrQ29udGV4dCgpO1xuICBjb25zdCBjbGllbnQgPSB1c2VDbGllbnRDb250ZXh0KCk7XG5cbiAgaXNvbW9ycGhpY0NsZXJrLnRlbGVtZXRyeT8ucmVjb3JkKGV2ZW50TWV0aG9kQ2FsbGVkKCd1c2VTaWduVXAnKSk7XG5cbiAgaWYgKCFjbGllbnQpIHtcbiAgICByZXR1cm4geyBpc0xvYWRlZDogZmFsc2UsIHNpZ25VcDogdW5kZWZpbmVkLCBzZXRBY3RpdmU6IHVuZGVmaW5lZCB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICBzaWduVXA6IGNsaWVudC5zaWduVXAsXG4gICAgc2V0QWN0aXZlOiBpc29tb3JwaGljQ2xlcmsuc2V0QWN0aXZlLFxuICB9O1xufTtcbiIsImV4cG9ydCB7IHVzZUF1dGggfSBmcm9tICcuL3VzZUF1dGgnO1xuZXhwb3J0IHsgdXNlRW1haWxMaW5rIH0gZnJvbSAnLi91c2VFbWFpbExpbmsnO1xuZXhwb3J0IHsgdXNlU2lnbkluIH0gZnJvbSAnLi91c2VTaWduSW4nO1xuZXhwb3J0IHsgdXNlU2lnblVwIH0gZnJvbSAnLi91c2VTaWduVXAnO1xuZXhwb3J0IHtcbiAgdXNlQ2xlcmssXG4gIHVzZU9yZ2FuaXphdGlvbixcbiAgdXNlT3JnYW5pemF0aW9uTGlzdCxcbiAgdXNlU2Vzc2lvbkxpc3QsXG4gIHVzZVVzZXIsXG4gIHVzZVNlc3Npb24sXG4gIHVzZVJldmVyaWZpY2F0aW9uLFxufSBmcm9tICdAY2xlcmsvc2hhcmVkL3JlYWN0JztcbiIsImltcG9ydCB0eXBlIHsgU2lnbkluQnV0dG9uUHJvcHMsIFNpZ25JblByb3BzIH0gZnJvbSAnQGNsZXJrL3R5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB0eXBlIHsgV2l0aENsZXJrUHJvcCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFzc2VydFNpbmdsZUNoaWxkLCBub3JtYWxpemVXaXRoRGVmYXVsdFZhbHVlLCBzYWZlRXhlY3V0ZSB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IHdpdGhDbGVyayB9IGZyb20gJy4vd2l0aENsZXJrJztcblxuZXhwb3J0IGNvbnN0IFNpZ25JbkJ1dHRvbiA9IHdpdGhDbGVyayhcbiAgKHsgY2xlcmssIGNoaWxkcmVuLCAuLi5wcm9wcyB9OiBXaXRoQ2xlcmtQcm9wPFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPFNpZ25JbkJ1dHRvblByb3BzPj4pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzaWduVXBGYWxsYmFja1JlZGlyZWN0VXJsLFxuICAgICAgZm9yY2VSZWRpcmVjdFVybCxcbiAgICAgIGZhbGxiYWNrUmVkaXJlY3RVcmwsXG4gICAgICBzaWduVXBGb3JjZVJlZGlyZWN0VXJsLFxuICAgICAgbW9kZSxcbiAgICAgIGluaXRpYWxWYWx1ZXMsXG4gICAgICB3aXRoU2lnblVwLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSBwcm9wcztcbiAgICBjaGlsZHJlbiA9IG5vcm1hbGl6ZVdpdGhEZWZhdWx0VmFsdWUoY2hpbGRyZW4sICdTaWduIGluJyk7XG4gICAgY29uc3QgY2hpbGQgPSBhc3NlcnRTaW5nbGVDaGlsZChjaGlsZHJlbikoJ1NpZ25JbkJ1dHRvbicpO1xuXG4gICAgY29uc3QgY2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0czogU2lnbkluUHJvcHMgPSB7XG4gICAgICAgIGZvcmNlUmVkaXJlY3RVcmwsXG4gICAgICAgIGZhbGxiYWNrUmVkaXJlY3RVcmwsXG4gICAgICAgIHNpZ25VcEZhbGxiYWNrUmVkaXJlY3RVcmwsXG4gICAgICAgIHNpZ25VcEZvcmNlUmVkaXJlY3RVcmwsXG4gICAgICAgIGluaXRpYWxWYWx1ZXMsXG4gICAgICAgIHdpdGhTaWduVXAsXG4gICAgICB9O1xuXG4gICAgICBpZiAobW9kZSA9PT0gJ21vZGFsJykge1xuICAgICAgICByZXR1cm4gY2xlcmsub3BlblNpZ25Jbih7IC4uLm9wdHMsIGFwcGVhcmFuY2U6IHByb3BzLmFwcGVhcmFuY2UgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xlcmsucmVkaXJlY3RUb1NpZ25Jbih7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIHNpZ25JbkZhbGxiYWNrUmVkaXJlY3RVcmw6IGZhbGxiYWNrUmVkaXJlY3RVcmwsXG4gICAgICAgIHNpZ25JbkZvcmNlUmVkaXJlY3RVcmw6IGZvcmNlUmVkaXJlY3RVcmwsXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgd3JhcHBlZENoaWxkQ2xpY2tIYW5kbGVyOiBSZWFjdC5Nb3VzZUV2ZW50SGFuZGxlciA9IGFzeW5jIGUgPT4ge1xuICAgICAgaWYgKGNoaWxkICYmIHR5cGVvZiBjaGlsZCA9PT0gJ29iamVjdCcgJiYgJ3Byb3BzJyBpbiBjaGlsZCkge1xuICAgICAgICBhd2FpdCBzYWZlRXhlY3V0ZShjaGlsZC5wcm9wcy5vbkNsaWNrKShlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjbGlja0hhbmRsZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2hpbGRQcm9wcyA9IHsgLi4ucmVzdCwgb25DbGljazogd3JhcHBlZENoaWxkQ2xpY2tIYW5kbGVyIH07XG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8dW5rbm93bj4sIGNoaWxkUHJvcHMpO1xuICB9LFxuICB7IGNvbXBvbmVudDogJ1NpZ25JbkJ1dHRvbicsIHJlbmRlcldoaWxlTG9hZGluZzogdHJ1ZSB9LFxuKTtcbiIsImltcG9ydCB0eXBlIHsgU2lnblVwQnV0dG9uUHJvcHMsIFNpZ25VcFByb3BzIH0gZnJvbSAnQGNsZXJrL3R5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB0eXBlIHsgV2l0aENsZXJrUHJvcCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFzc2VydFNpbmdsZUNoaWxkLCBub3JtYWxpemVXaXRoRGVmYXVsdFZhbHVlLCBzYWZlRXhlY3V0ZSB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IHdpdGhDbGVyayB9IGZyb20gJy4vd2l0aENsZXJrJztcblxuZXhwb3J0IGNvbnN0IFNpZ25VcEJ1dHRvbiA9IHdpdGhDbGVyayhcbiAgKHsgY2xlcmssIGNoaWxkcmVuLCAuLi5wcm9wcyB9OiBXaXRoQ2xlcmtQcm9wPFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPFNpZ25VcEJ1dHRvblByb3BzPj4pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBmYWxsYmFja1JlZGlyZWN0VXJsLFxuICAgICAgZm9yY2VSZWRpcmVjdFVybCxcbiAgICAgIHNpZ25JbkZhbGxiYWNrUmVkaXJlY3RVcmwsXG4gICAgICBzaWduSW5Gb3JjZVJlZGlyZWN0VXJsLFxuICAgICAgbW9kZSxcbiAgICAgIHVuc2FmZU1ldGFkYXRhLFxuICAgICAgaW5pdGlhbFZhbHVlcyxcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gcHJvcHM7XG5cbiAgICBjaGlsZHJlbiA9IG5vcm1hbGl6ZVdpdGhEZWZhdWx0VmFsdWUoY2hpbGRyZW4sICdTaWduIHVwJyk7XG4gICAgY29uc3QgY2hpbGQgPSBhc3NlcnRTaW5nbGVDaGlsZChjaGlsZHJlbikoJ1NpZ25VcEJ1dHRvbicpO1xuXG4gICAgY29uc3QgY2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0czogU2lnblVwUHJvcHMgPSB7XG4gICAgICAgIGZhbGxiYWNrUmVkaXJlY3RVcmwsXG4gICAgICAgIGZvcmNlUmVkaXJlY3RVcmwsXG4gICAgICAgIHNpZ25JbkZhbGxiYWNrUmVkaXJlY3RVcmwsXG4gICAgICAgIHNpZ25JbkZvcmNlUmVkaXJlY3RVcmwsXG4gICAgICAgIHVuc2FmZU1ldGFkYXRhLFxuICAgICAgICBpbml0aWFsVmFsdWVzLFxuICAgICAgfTtcblxuICAgICAgaWYgKG1vZGUgPT09ICdtb2RhbCcpIHtcbiAgICAgICAgcmV0dXJuIGNsZXJrLm9wZW5TaWduVXAoeyAuLi5vcHRzLCBhcHBlYXJhbmNlOiBwcm9wcy5hcHBlYXJhbmNlIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2xlcmsucmVkaXJlY3RUb1NpZ25VcCh7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIHNpZ25VcEZhbGxiYWNrUmVkaXJlY3RVcmw6IGZhbGxiYWNrUmVkaXJlY3RVcmwsXG4gICAgICAgIHNpZ25VcEZvcmNlUmVkaXJlY3RVcmw6IGZvcmNlUmVkaXJlY3RVcmwsXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgd3JhcHBlZENoaWxkQ2xpY2tIYW5kbGVyOiBSZWFjdC5Nb3VzZUV2ZW50SGFuZGxlciA9IGFzeW5jIGUgPT4ge1xuICAgICAgaWYgKGNoaWxkICYmIHR5cGVvZiBjaGlsZCA9PT0gJ29iamVjdCcgJiYgJ3Byb3BzJyBpbiBjaGlsZCkge1xuICAgICAgICBhd2FpdCBzYWZlRXhlY3V0ZShjaGlsZC5wcm9wcy5vbkNsaWNrKShlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjbGlja0hhbmRsZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2hpbGRQcm9wcyA9IHsgLi4ucmVzdCwgb25DbGljazogd3JhcHBlZENoaWxkQ2xpY2tIYW5kbGVyIH07XG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8dW5rbm93bj4sIGNoaWxkUHJvcHMpO1xuICB9LFxuICB7IGNvbXBvbmVudDogJ1NpZ25VcEJ1dHRvbicsIHJlbmRlcldoaWxlTG9hZGluZzogdHJ1ZSB9LFxuKTtcbiIsImltcG9ydCB0eXBlIHsgU2lnbk91dE9wdGlvbnMgfSBmcm9tICdAY2xlcmsvdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHR5cGUgeyBXaXRoQ2xlcmtQcm9wIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgYXNzZXJ0U2luZ2xlQ2hpbGQsIG5vcm1hbGl6ZVdpdGhEZWZhdWx0VmFsdWUsIHNhZmVFeGVjdXRlIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgd2l0aENsZXJrIH0gZnJvbSAnLi93aXRoQ2xlcmsnO1xuXG5leHBvcnQgdHlwZSBTaWduT3V0QnV0dG9uUHJvcHMgPSB7XG4gIHJlZGlyZWN0VXJsPzogc3RyaW5nO1xuICBzaWduT3V0T3B0aW9ucz86IFNpZ25PdXRPcHRpb25zO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbn07XG5cbmV4cG9ydCBjb25zdCBTaWduT3V0QnV0dG9uID0gd2l0aENsZXJrKFxuICAoeyBjbGVyaywgY2hpbGRyZW4sIC4uLnByb3BzIH06IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPFdpdGhDbGVya1Byb3A8U2lnbk91dEJ1dHRvblByb3BzPj4pID0+IHtcbiAgICBjb25zdCB7IHJlZGlyZWN0VXJsID0gJy8nLCBzaWduT3V0T3B0aW9ucywgLi4ucmVzdCB9ID0gcHJvcHM7XG5cbiAgICBjaGlsZHJlbiA9IG5vcm1hbGl6ZVdpdGhEZWZhdWx0VmFsdWUoY2hpbGRyZW4sICdTaWduIG91dCcpO1xuICAgIGNvbnN0IGNoaWxkID0gYXNzZXJ0U2luZ2xlQ2hpbGQoY2hpbGRyZW4pKCdTaWduT3V0QnV0dG9uJyk7XG5cbiAgICBjb25zdCBjbGlja0hhbmRsZXIgPSAoKSA9PiBjbGVyay5zaWduT3V0KHsgcmVkaXJlY3RVcmwsIC4uLnNpZ25PdXRPcHRpb25zIH0pO1xuICAgIGNvbnN0IHdyYXBwZWRDaGlsZENsaWNrSGFuZGxlcjogUmVhY3QuTW91c2VFdmVudEhhbmRsZXIgPSBhc3luYyBlID0+IHtcbiAgICAgIGF3YWl0IHNhZmVFeGVjdXRlKChjaGlsZCBhcyBhbnkpLnByb3BzLm9uQ2xpY2spKGUpO1xuICAgICAgcmV0dXJuIGNsaWNrSGFuZGxlcigpO1xuICAgIH07XG5cbiAgICBjb25zdCBjaGlsZFByb3BzID0geyAuLi5yZXN0LCBvbkNsaWNrOiB3cmFwcGVkQ2hpbGRDbGlja0hhbmRsZXIgfTtcbiAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkIGFzIFJlYWN0LlJlYWN0RWxlbWVudDx1bmtub3duPiwgY2hpbGRQcm9wcyk7XG4gIH0sXG4gIHsgY29tcG9uZW50OiAnU2lnbk91dEJ1dHRvbicsIHJlbmRlcldoaWxlTG9hZGluZzogdHJ1ZSB9LFxuKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB0eXBlIHsgU2lnbkluV2l0aE1ldGFtYXNrQnV0dG9uUHJvcHMsIFdpdGhDbGVya1Byb3AgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhc3NlcnRTaW5nbGVDaGlsZCwgbm9ybWFsaXplV2l0aERlZmF1bHRWYWx1ZSwgc2FmZUV4ZWN1dGUgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyB3aXRoQ2xlcmsgfSBmcm9tICcuL3dpdGhDbGVyayc7XG5cbmV4cG9ydCBjb25zdCBTaWduSW5XaXRoTWV0YW1hc2tCdXR0b24gPSB3aXRoQ2xlcmsoXG4gICh7IGNsZXJrLCBjaGlsZHJlbiwgLi4ucHJvcHMgfTogV2l0aENsZXJrUHJvcDxTaWduSW5XaXRoTWV0YW1hc2tCdXR0b25Qcm9wcz4pID0+IHtcbiAgICBjb25zdCB7IHJlZGlyZWN0VXJsLCAuLi5yZXN0IH0gPSBwcm9wcztcblxuICAgIGNoaWxkcmVuID0gbm9ybWFsaXplV2l0aERlZmF1bHRWYWx1ZShjaGlsZHJlbiwgJ1NpZ24gaW4gd2l0aCBNZXRhbWFzaycpO1xuICAgIGNvbnN0IGNoaWxkID0gYXNzZXJ0U2luZ2xlQ2hpbGQoY2hpbGRyZW4pKCdTaWduSW5XaXRoTWV0YW1hc2tCdXR0b24nKTtcblxuICAgIC8vIFRPRE86IFByb3Blcmx5IGZpeCB0aGlzIGNvZGVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3JlcXVpcmUtYXdhaXRcbiAgICBjb25zdCBjbGlja0hhbmRsZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBhc3luYyBmdW5jdGlvbiBhdXRoZW50aWNhdGUoKSB7XG4gICAgICAgIGF3YWl0IGNsZXJrLmF1dGhlbnRpY2F0ZVdpdGhNZXRhbWFzayh7IHJlZGlyZWN0VXJsOiByZWRpcmVjdFVybCB8fCB1bmRlZmluZWQgfSk7XG4gICAgICB9XG4gICAgICB2b2lkIGF1dGhlbnRpY2F0ZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCB3cmFwcGVkQ2hpbGRDbGlja0hhbmRsZXI6IFJlYWN0Lk1vdXNlRXZlbnRIYW5kbGVyID0gYXN5bmMgZSA9PiB7XG4gICAgICBhd2FpdCBzYWZlRXhlY3V0ZSgoY2hpbGQgYXMgYW55KS5wcm9wcy5vbkNsaWNrKShlKTtcbiAgICAgIHJldHVybiBjbGlja0hhbmRsZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2hpbGRQcm9wcyA9IHsgLi4ucmVzdCwgb25DbGljazogd3JhcHBlZENoaWxkQ2xpY2tIYW5kbGVyIH07XG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8dW5rbm93bj4sIGNoaWxkUHJvcHMpO1xuICB9LFxuICB7IGNvbXBvbmVudDogJ1NpZ25JbldpdGhNZXRhbWFzaycsIHJlbmRlcldoaWxlTG9hZGluZzogdHJ1ZSB9LFxuKTtcbiIsImltcG9ydCB7IGlzUHVibGlzaGFibGVLZXkgfSBmcm9tICdAY2xlcmsvc2hhcmVkL2tleXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgZXJyb3JUaHJvd2VyIH0gZnJvbSAnLi4vZXJyb3JzL2Vycm9yVGhyb3dlcic7XG5pbXBvcnQgeyBtdWx0aXBsZUNsZXJrUHJvdmlkZXJzRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMvbWVzc2FnZXMnO1xuaW1wb3J0IHR5cGUgeyBDbGVya1Byb3ZpZGVyUHJvcHMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyB3aXRoTWF4QWxsb3dlZEluc3RhbmNlc0d1YXJkIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgQ2xlcmtDb250ZXh0UHJvdmlkZXIgfSBmcm9tICcuL0NsZXJrQ29udGV4dFByb3ZpZGVyJztcblxuZnVuY3Rpb24gQ2xlcmtQcm92aWRlckJhc2UocHJvcHM6IENsZXJrUHJvdmlkZXJQcm9wcykge1xuICBjb25zdCB7IGluaXRpYWxTdGF0ZSwgY2hpbGRyZW4sIF9faW50ZXJuYWxfYnlwYXNzTWlzc2luZ1B1Ymxpc2hhYmxlS2V5LCAuLi5yZXN0SXNvbW9ycGhpY0NsZXJrT3B0aW9ucyB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgcHVibGlzaGFibGVLZXkgPSAnJywgQ2xlcms6IHVzZXJJbml0aWFsaXNlZENsZXJrIH0gPSByZXN0SXNvbW9ycGhpY0NsZXJrT3B0aW9ucztcblxuICBpZiAoIXVzZXJJbml0aWFsaXNlZENsZXJrICYmICFfX2ludGVybmFsX2J5cGFzc01pc3NpbmdQdWJsaXNoYWJsZUtleSkge1xuICAgIGlmICghcHVibGlzaGFibGVLZXkpIHtcbiAgICAgIGVycm9yVGhyb3dlci50aHJvd01pc3NpbmdQdWJsaXNoYWJsZUtleUVycm9yKCk7XG4gICAgfSBlbHNlIGlmIChwdWJsaXNoYWJsZUtleSAmJiAhaXNQdWJsaXNoYWJsZUtleShwdWJsaXNoYWJsZUtleSkpIHtcbiAgICAgIGVycm9yVGhyb3dlci50aHJvd0ludmFsaWRQdWJsaXNoYWJsZUtleUVycm9yKHsga2V5OiBwdWJsaXNoYWJsZUtleSB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxDbGVya0NvbnRleHRQcm92aWRlclxuICAgICAgaW5pdGlhbFN0YXRlPXtpbml0aWFsU3RhdGV9XG4gICAgICBpc29tb3JwaGljQ2xlcmtPcHRpb25zPXtyZXN0SXNvbW9ycGhpY0NsZXJrT3B0aW9uc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9DbGVya0NvbnRleHRQcm92aWRlcj5cbiAgKTtcbn1cblxuY29uc3QgQ2xlcmtQcm92aWRlciA9IHdpdGhNYXhBbGxvd2VkSW5zdGFuY2VzR3VhcmQoQ2xlcmtQcm92aWRlckJhc2UsICdDbGVya1Byb3ZpZGVyJywgbXVsdGlwbGVDbGVya1Byb3ZpZGVyc0Vycm9yKTtcblxuQ2xlcmtQcm92aWRlci5kaXNwbGF5TmFtZSA9ICdDbGVya1Byb3ZpZGVyJztcblxuZXhwb3J0IHsgQ2xlcmtQcm92aWRlciB9O1xuIiwiaW1wb3J0IHsgZGVyaXZlU3RhdGUgfSBmcm9tICdAY2xlcmsvc2hhcmVkL2Rlcml2ZVN0YXRlJztcbmltcG9ydCB7IENsaWVudENvbnRleHQsIE9yZ2FuaXphdGlvblByb3ZpZGVyLCBTZXNzaW9uQ29udGV4dCwgVXNlckNvbnRleHQgfSBmcm9tICdAY2xlcmsvc2hhcmVkL3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQ2xpZW50UmVzb3VyY2UsIEluaXRpYWxTdGF0ZSwgUmVzb3VyY2VzIH0gZnJvbSAnQGNsZXJrL3R5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IElzb21vcnBoaWNDbGVyayB9IGZyb20gJy4uL2lzb21vcnBoaWNDbGVyayc7XG5pbXBvcnQgdHlwZSB7IElzb21vcnBoaWNDbGVya09wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBBdXRoQ29udGV4dCB9IGZyb20gJy4vQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgSXNvbW9ycGhpY0NsZXJrQ29udGV4dCB9IGZyb20gJy4vSXNvbW9ycGhpY0NsZXJrQ29udGV4dCc7XG5cbnR5cGUgQ2xlcmtDb250ZXh0UHJvdmlkZXIgPSB7XG4gIGlzb21vcnBoaWNDbGVya09wdGlvbnM6IElzb21vcnBoaWNDbGVya09wdGlvbnM7XG4gIGluaXRpYWxTdGF0ZTogSW5pdGlhbFN0YXRlIHwgdW5kZWZpbmVkO1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufTtcblxuZXhwb3J0IHR5cGUgQ2xlcmtDb250ZXh0UHJvdmlkZXJTdGF0ZSA9IFJlc291cmNlcztcblxuZXhwb3J0IGZ1bmN0aW9uIENsZXJrQ29udGV4dFByb3ZpZGVyKHByb3BzOiBDbGVya0NvbnRleHRQcm92aWRlcikge1xuICBjb25zdCB7IGlzb21vcnBoaWNDbGVya09wdGlvbnMsIGluaXRpYWxTdGF0ZSwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICBjb25zdCB7IGlzb21vcnBoaWNDbGVyazogY2xlcmssIGxvYWRlZDogY2xlcmtMb2FkZWQgfSA9IHVzZUxvYWRlZElzb21vcnBoaWNDbGVyayhpc29tb3JwaGljQ2xlcmtPcHRpb25zKTtcblxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlPENsZXJrQ29udGV4dFByb3ZpZGVyU3RhdGU+KHtcbiAgICBjbGllbnQ6IGNsZXJrLmNsaWVudCBhcyBDbGllbnRSZXNvdXJjZSxcbiAgICBzZXNzaW9uOiBjbGVyay5zZXNzaW9uLFxuICAgIHVzZXI6IGNsZXJrLnVzZXIsXG4gICAgb3JnYW5pemF0aW9uOiBjbGVyay5vcmdhbml6YXRpb24sXG4gIH0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIGNsZXJrLmFkZExpc3RlbmVyKGUgPT4gc2V0U3RhdGUoeyAuLi5lIH0pKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGRlcml2ZWRTdGF0ZSA9IGRlcml2ZVN0YXRlKGNsZXJrTG9hZGVkLCBzdGF0ZSwgaW5pdGlhbFN0YXRlKTtcbiAgY29uc3QgY2xlcmtDdHggPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7IHZhbHVlOiBjbGVyayB9KSwgW2NsZXJrTG9hZGVkXSk7XG4gIGNvbnN0IGNsaWVudEN0eCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgdmFsdWU6IHN0YXRlLmNsaWVudCB9KSwgW3N0YXRlLmNsaWVudF0pO1xuXG4gIGNvbnN0IHtcbiAgICBzZXNzaW9uSWQsXG4gICAgc2Vzc2lvbixcbiAgICB1c2VySWQsXG4gICAgdXNlcixcbiAgICBvcmdJZCxcbiAgICBhY3RvcixcbiAgICBvcmdhbml6YXRpb24sXG4gICAgb3JnUm9sZSxcbiAgICBvcmdTbHVnLFxuICAgIG9yZ1Blcm1pc3Npb25zLFxuICAgIGZhY3RvclZlcmlmaWNhdGlvbkFnZSxcbiAgfSA9IGRlcml2ZWRTdGF0ZTtcblxuICBjb25zdCBhdXRoQ3R4ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSB7XG4gICAgICBzZXNzaW9uSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBhY3RvcixcbiAgICAgIG9yZ0lkLFxuICAgICAgb3JnUm9sZSxcbiAgICAgIG9yZ1NsdWcsXG4gICAgICBvcmdQZXJtaXNzaW9ucyxcbiAgICAgIGZhY3RvclZlcmlmaWNhdGlvbkFnZSxcbiAgICB9O1xuICAgIHJldHVybiB7IHZhbHVlIH07XG4gIH0sIFtzZXNzaW9uSWQsIHVzZXJJZCwgYWN0b3IsIG9yZ0lkLCBvcmdSb2xlLCBvcmdTbHVnLCBmYWN0b3JWZXJpZmljYXRpb25BZ2VdKTtcbiAgY29uc3Qgc2Vzc2lvbkN0eCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgdmFsdWU6IHNlc3Npb24gfSksIFtzZXNzaW9uSWQsIHNlc3Npb25dKTtcbiAgY29uc3QgdXNlckN0eCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgdmFsdWU6IHVzZXIgfSksIFt1c2VySWQsIHVzZXJdKTtcbiAgY29uc3Qgb3JnYW5pemF0aW9uQ3R4ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSB7XG4gICAgICBvcmdhbml6YXRpb246IG9yZ2FuaXphdGlvbixcbiAgICB9O1xuICAgIHJldHVybiB7IHZhbHVlIH07XG4gIH0sIFtvcmdJZCwgb3JnYW5pemF0aW9uXSk7XG5cbiAgcmV0dXJuIChcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHZhbHVlIHBhc3NlZCBpcyBvZiB0eXBlIElzb21vcnBoaWNDbGVyayB3aGVyZSB0aGUgY29udGV4dCBleHBlY3RzIExvYWRlZENsZXJrXG4gICAgPElzb21vcnBoaWNDbGVya0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NsZXJrQ3R4fT5cbiAgICAgIDxDbGllbnRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjbGllbnRDdHh9PlxuICAgICAgICA8U2Vzc2lvbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3Nlc3Npb25DdHh9PlxuICAgICAgICAgIDxPcmdhbml6YXRpb25Qcm92aWRlciB7Li4ub3JnYW5pemF0aW9uQ3R4LnZhbHVlfT5cbiAgICAgICAgICAgIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17YXV0aEN0eH0+XG4gICAgICAgICAgICAgIDxVc2VyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dXNlckN0eH0+e2NoaWxkcmVufTwvVXNlckNvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgICAgICA8L0F1dGhDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgIDwvT3JnYW5pemF0aW9uUHJvdmlkZXI+XG4gICAgICAgIDwvU2Vzc2lvbkNvbnRleHQuUHJvdmlkZXI+XG4gICAgICA8L0NsaWVudENvbnRleHQuUHJvdmlkZXI+XG4gICAgPC9Jc29tb3JwaGljQ2xlcmtDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG5jb25zdCB1c2VMb2FkZWRJc29tb3JwaGljQ2xlcmsgPSAob3B0aW9uczogSXNvbW9ycGhpY0NsZXJrT3B0aW9ucykgPT4ge1xuICBjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBpc29tb3JwaGljQ2xlcmsgPSBSZWFjdC51c2VNZW1vKCgpID0+IElzb21vcnBoaWNDbGVyay5nZXRPckNyZWF0ZUluc3RhbmNlKG9wdGlvbnMpLCBbXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICB2b2lkIGlzb21vcnBoaWNDbGVyay5fX3Vuc3RhYmxlX191cGRhdGVQcm9wcyh7IGFwcGVhcmFuY2U6IG9wdGlvbnMuYXBwZWFyYW5jZSB9KTtcbiAgfSwgW29wdGlvbnMuYXBwZWFyYW5jZV0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdm9pZCBpc29tb3JwaGljQ2xlcmsuX191bnN0YWJsZV9fdXBkYXRlUHJvcHMoeyBvcHRpb25zIH0pO1xuICB9LCBbb3B0aW9ucy5sb2NhbGl6YXRpb25dKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlzb21vcnBoaWNDbGVyay5hZGRPbkxvYWRlZCgoKSA9PiBzZXRMb2FkZWQodHJ1ZSkpO1xuICB9LCBbXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgSXNvbW9ycGhpY0NsZXJrLmNsZWFySW5zdGFuY2UoKTtcbiAgICAgIHNldExvYWRlZChmYWxzZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiB7IGlzb21vcnBoaWNDbGVyaywgbG9hZGVkIH07XG59O1xuIiwiaW1wb3J0IHsgaW5Ccm93c2VyIH0gZnJvbSAnQGNsZXJrL3NoYXJlZC9icm93c2VyJztcbmltcG9ydCB7IGxvYWRDbGVya0pzU2NyaXB0IH0gZnJvbSAnQGNsZXJrL3NoYXJlZC9sb2FkQ2xlcmtKc1NjcmlwdCc7XG5pbXBvcnQgdHlwZSB7IFRlbGVtZXRyeUNvbGxlY3RvciB9IGZyb20gJ0BjbGVyay9zaGFyZWQvdGVsZW1ldHJ5JztcbmltcG9ydCB7IGhhbmRsZVZhbHVlT3JGbiB9IGZyb20gJ0BjbGVyay9zaGFyZWQvdXRpbHMnO1xuaW1wb3J0IHR5cGUge1xuICBfX2ludGVybmFsX1VzZXJWZXJpZmljYXRpb25Nb2RhbFByb3BzLFxuICBfX2ludGVybmFsX1VzZXJWZXJpZmljYXRpb25Qcm9wcyxcbiAgQWN0aXZlU2Vzc2lvblJlc291cmNlLFxuICBBdXRoZW50aWNhdGVXaXRoQ29pbmJhc2VXYWxsZXRQYXJhbXMsXG4gIEF1dGhlbnRpY2F0ZVdpdGhHb29nbGVPbmVUYXBQYXJhbXMsXG4gIEF1dGhlbnRpY2F0ZVdpdGhNZXRhbWFza1BhcmFtcyxcbiAgQXV0aGVudGljYXRlV2l0aE9LWFdhbGxldFBhcmFtcyxcbiAgQ2xlcmssXG4gIENsZXJrQXV0aGVudGljYXRlV2l0aFdlYjNQYXJhbXMsXG4gIENsZXJrT3B0aW9ucyxcbiAgQ2xpZW50UmVzb3VyY2UsXG4gIENyZWF0ZU9yZ2FuaXphdGlvblBhcmFtcyxcbiAgQ3JlYXRlT3JnYW5pemF0aW9uUHJvcHMsXG4gIERvbWFpbk9yUHJveHlVcmwsXG4gIEdvb2dsZU9uZVRhcFByb3BzLFxuICBIYW5kbGVFbWFpbExpbmtWZXJpZmljYXRpb25QYXJhbXMsXG4gIEhhbmRsZU9BdXRoQ2FsbGJhY2tQYXJhbXMsXG4gIEluc3RhbmNlVHlwZSxcbiAgSm9pbldhaXRsaXN0UGFyYW1zLFxuICBMaXN0ZW5lckNhbGxiYWNrLFxuICBMb2FkZWRDbGVyayxcbiAgT3JnYW5pemF0aW9uTGlzdFByb3BzLFxuICBPcmdhbml6YXRpb25Qcm9maWxlUHJvcHMsXG4gIE9yZ2FuaXphdGlvblJlc291cmNlLFxuICBPcmdhbml6YXRpb25Td2l0Y2hlclByb3BzLFxuICBSZWRpcmVjdE9wdGlvbnMsXG4gIFNES01ldGFkYXRhLFxuICBTZXRBY3RpdmVQYXJhbXMsXG4gIFNpZ25JblByb3BzLFxuICBTaWduSW5SZWRpcmVjdE9wdGlvbnMsXG4gIFNpZ25JblJlc291cmNlLFxuICBTaWduT3V0LFxuICBTaWduT3V0Q2FsbGJhY2ssXG4gIFNpZ25PdXRPcHRpb25zLFxuICBTaWduVXBQcm9wcyxcbiAgU2lnblVwUmVkaXJlY3RPcHRpb25zLFxuICBTaWduVXBSZXNvdXJjZSxcbiAgVW5zdWJzY3JpYmVDYWxsYmFjayxcbiAgVXNlckJ1dHRvblByb3BzLFxuICBVc2VyUHJvZmlsZVByb3BzLFxuICBVc2VyUmVzb3VyY2UsXG4gIFdhaXRsaXN0UHJvcHMsXG4gIFdhaXRsaXN0UmVzb3VyY2UsXG4gIFdpdGhvdXQsXG59IGZyb20gJ0BjbGVyay90eXBlcyc7XG5cbmltcG9ydCB7IGVycm9yVGhyb3dlciB9IGZyb20gJy4vZXJyb3JzL2Vycm9yVGhyb3dlcic7XG5pbXBvcnQgeyB1bnN1cHBvcnRlZE5vbkJyb3dzZXJEb21haW5PclByb3h5VXJsRnVuY3Rpb24gfSBmcm9tICcuL2Vycm9ycy9tZXNzYWdlcyc7XG5pbXBvcnQgdHlwZSB7XG4gIEJyb3dzZXJDbGVyayxcbiAgQnJvd3NlckNsZXJrQ29uc3RydWN0b3IsXG4gIENsZXJrUHJvcCxcbiAgSGVhZGxlc3NCcm93c2VyQ2xlcmssXG4gIEhlYWRsZXNzQnJvd3NlckNsZXJrQ29uc3RydWN0b3IsXG4gIElzb21vcnBoaWNDbGVya09wdGlvbnMsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgaXNDb25zdHJ1Y3RvciB9IGZyb20gJy4vdXRpbHMnO1xuXG5pZiAodHlwZW9mIGdsb2JhbFRoaXMuX19CVUlMRF9ESVNBQkxFX1JIQ19fID09PSAndW5kZWZpbmVkJykge1xuICBnbG9iYWxUaGlzLl9fQlVJTERfRElTQUJMRV9SSENfXyA9IGZhbHNlO1xufVxuXG5jb25zdCBTREtfTUVUQURBVEEgPSB7XG4gIG5hbWU6IFBBQ0tBR0VfTkFNRSxcbiAgdmVyc2lvbjogUEFDS0FHRV9WRVJTSU9OLFxuICBlbnZpcm9ubWVudDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYsXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEdsb2JhbCB7XG4gIENsZXJrPzogSGVhZGxlc3NCcm93c2VyQ2xlcmsgfCBCcm93c2VyQ2xlcms7XG59XG5cbmRlY2xhcmUgY29uc3QgZ2xvYmFsOiBHbG9iYWw7XG5cbnR5cGUgR2VuZXJpY0Z1bmN0aW9uPFRBcmdzID0gbmV2ZXI+ID0gKC4uLmFyZ3M6IFRBcmdzW10pID0+IHVua25vd247XG5cbnR5cGUgTWV0aG9kTmFtZTxUPiA9IHtcbiAgW1AgaW4ga2V5b2YgVF06IFRbUF0gZXh0ZW5kcyBHZW5lcmljRnVuY3Rpb24gPyBQIDogbmV2ZXI7XG59W2tleW9mIFRdO1xuXG50eXBlIE1ldGhvZENhbGxiYWNrID0gKCkgPT4gUHJvbWlzZTx1bmtub3duPiB8IHVua25vd247XG5cbnR5cGUgSXNvbW9ycGhpY0xvYWRlZENsZXJrID0gV2l0aG91dDxcbiAgTG9hZGVkQ2xlcmssXG4gIC8qKlxuICAgKiBPdmVycmlkZSBDbGVya0pTIG1ldGhvZHMgaW4gb3JkZXIgdG8gc3VwcG9ydCBwcmVtb3VudE1ldGhvZENhbGxzXG4gICAqL1xuICB8ICdidWlsZFNpZ25JblVybCdcbiAgfCAnYnVpbGRTaWduVXBVcmwnXG4gIHwgJ2J1aWxkVXNlclByb2ZpbGVVcmwnXG4gIHwgJ2J1aWxkQ3JlYXRlT3JnYW5pemF0aW9uVXJsJ1xuICB8ICdidWlsZE9yZ2FuaXphdGlvblByb2ZpbGVVcmwnXG4gIHwgJ2J1aWxkQWZ0ZXJTaWduVXBVcmwnXG4gIHwgJ2J1aWxkQWZ0ZXJTaWduSW5VcmwnXG4gIHwgJ2J1aWxkQWZ0ZXJTaWduT3V0VXJsJ1xuICB8ICdidWlsZEFmdGVyTXVsdGlTZXNzaW9uU2luZ2xlU2lnbk91dFVybCdcbiAgfCAnYnVpbGRVcmxXaXRoQXV0aCdcbiAgfCAnYnVpbGRXYWl0bGlzdFVybCdcbiAgfCAnaGFuZGxlUmVkaXJlY3RDYWxsYmFjaydcbiAgfCAnaGFuZGxlR29vZ2xlT25lVGFwQ2FsbGJhY2snXG4gIHwgJ2hhbmRsZVVuYXV0aGVudGljYXRlZCdcbiAgfCAnYXV0aGVudGljYXRlV2l0aE1ldGFtYXNrJ1xuICB8ICdhdXRoZW50aWNhdGVXaXRoQ29pbmJhc2VXYWxsZXQnXG4gIHwgJ2F1dGhlbnRpY2F0ZVdpdGhXZWIzJ1xuICB8ICdhdXRoZW50aWNhdGVXaXRoR29vZ2xlT25lVGFwJ1xuICB8ICdjcmVhdGVPcmdhbml6YXRpb24nXG4gIHwgJ2dldE9yZ2FuaXphdGlvbidcbiAgfCAnam9pbldhaXRsaXN0J1xuICB8ICdtb3VudFVzZXJCdXR0b24nXG4gIHwgJ21vdW50T3JnYW5pemF0aW9uTGlzdCdcbiAgfCAnbW91bnRPcmdhbml6YXRpb25Td2l0Y2hlcidcbiAgfCAnbW91bnRPcmdhbml6YXRpb25Qcm9maWxlJ1xuICB8ICdtb3VudENyZWF0ZU9yZ2FuaXphdGlvbidcbiAgfCAnbW91bnRTaWduVXAnXG4gIHwgJ21vdW50U2lnbkluJ1xuICB8ICdtb3VudFVzZXJQcm9maWxlJ1xuICB8ICdtb3VudFdhaXRsaXN0J1xuICB8ICdjbGllbnQnXG4gIHwgJ19faW50ZXJuYWxfZ2V0Q2FjaGVkUmVzb3VyY2VzJ1xuICB8ICdfX2ludGVybmFsX3JlbG9hZEluaXRpYWxSZXNvdXJjZXMnXG4gIHwgJ19faW50ZXJuYWxfYWRkTmF2aWdhdGlvbkxpc3RlbmVyJ1xuPiAmIHtcbiAgLy8gVE9ETzogQWxpZ24gcmV0dXJuIHR5cGUgYW5kIHBhcm1zXG4gIGhhbmRsZVJlZGlyZWN0Q2FsbGJhY2s6IChwYXJhbXM6IEhhbmRsZU9BdXRoQ2FsbGJhY2tQYXJhbXMpID0+IHZvaWQ7XG4gIGhhbmRsZUdvb2dsZU9uZVRhcENhbGxiYWNrOiAoc2lnbkluT3JVcDogU2lnbkluUmVzb3VyY2UgfCBTaWduVXBSZXNvdXJjZSwgcGFyYW1zOiBIYW5kbGVPQXV0aENhbGxiYWNrUGFyYW1zKSA9PiB2b2lkO1xuICBoYW5kbGVVbmF1dGhlbnRpY2F0ZWQ6ICgpID0+IHZvaWQ7XG4gIC8vIFRPRE86IEFsaWduIFByb21pc2UgdW5rbm93blxuICBhdXRoZW50aWNhdGVXaXRoTWV0YW1hc2s6IChwYXJhbXM6IEF1dGhlbnRpY2F0ZVdpdGhNZXRhbWFza1BhcmFtcykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgYXV0aGVudGljYXRlV2l0aENvaW5iYXNlV2FsbGV0OiAocGFyYW1zOiBBdXRoZW50aWNhdGVXaXRoQ29pbmJhc2VXYWxsZXRQYXJhbXMpID0+IFByb21pc2U8dm9pZD47XG4gIGF1dGhlbnRpY2F0ZVdpdGhPS1hXYWxsZXQ6IChwYXJhbXM6IEF1dGhlbnRpY2F0ZVdpdGhPS1hXYWxsZXRQYXJhbXMpID0+IFByb21pc2U8dm9pZD47XG4gIGF1dGhlbnRpY2F0ZVdpdGhXZWIzOiAocGFyYW1zOiBDbGVya0F1dGhlbnRpY2F0ZVdpdGhXZWIzUGFyYW1zKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBhdXRoZW50aWNhdGVXaXRoR29vZ2xlT25lVGFwOiAoXG4gICAgcGFyYW1zOiBBdXRoZW50aWNhdGVXaXRoR29vZ2xlT25lVGFwUGFyYW1zLFxuICApID0+IFByb21pc2U8U2lnbkluUmVzb3VyY2UgfCBTaWduVXBSZXNvdXJjZT47XG4gIC8vIFRPRE86IEFsaWduIHJldHVybiB0eXBlIChtYXliZSBub3QgcG9zc2libGUgb3IgY29ycmVjdClcbiAgY3JlYXRlT3JnYW5pemF0aW9uOiAocGFyYW1zOiBDcmVhdGVPcmdhbml6YXRpb25QYXJhbXMpID0+IFByb21pc2U8T3JnYW5pemF0aW9uUmVzb3VyY2UgfCB2b2lkPjtcbiAgLy8gVE9ETzogQWxpZ24gcmV0dXJuIHR5cGUgKG1heWJlIG5vdCBwb3NzaWJsZSBvciBjb3JyZWN0KVxuICBnZXRPcmdhbml6YXRpb246IChvcmdhbml6YXRpb25JZDogc3RyaW5nKSA9PiBQcm9taXNlPE9yZ2FuaXphdGlvblJlc291cmNlIHwgdm9pZD47XG4gIC8vIFRPRE86IEFsaWduIHJldHVybiB0eXBlXG4gIGpvaW5XYWl0bGlzdDogKHBhcmFtczogSm9pbldhaXRsaXN0UGFyYW1zKSA9PiBQcm9taXNlPFdhaXRsaXN0UmVzb3VyY2UgfCB2b2lkPjtcblxuICAvLyBUT0RPOiBBbGlnbiByZXR1cm4gdHlwZVxuICBidWlsZFNpZ25JblVybDogKG9wdHM/OiBSZWRpcmVjdE9wdGlvbnMpID0+IHN0cmluZyB8IHZvaWQ7XG4gIC8vIFRPRE86IEFsaWduIHJldHVybiB0eXBlXG4gIGJ1aWxkU2lnblVwVXJsOiAob3B0cz86IFJlZGlyZWN0T3B0aW9ucykgPT4gc3RyaW5nIHwgdm9pZDtcbiAgLy8gVE9ETzogQWxpZ24gcmV0dXJuIHR5cGVcbiAgYnVpbGRVc2VyUHJvZmlsZVVybDogKCkgPT4gc3RyaW5nIHwgdm9pZDtcbiAgLy8gVE9ETzogQWxpZ24gcmV0dXJuIHR5cGVcbiAgYnVpbGRDcmVhdGVPcmdhbml6YXRpb25Vcmw6ICgpID0+IHN0cmluZyB8IHZvaWQ7XG4gIC8vIFRPRE86IEFsaWduIHJldHVybiB0eXBlXG4gIGJ1aWxkT3JnYW5pemF0aW9uUHJvZmlsZVVybDogKCkgPT4gc3RyaW5nIHwgdm9pZDtcbiAgLy8gVE9ETzogQWxpZ24gcmV0dXJuIHR5cGVcbiAgYnVpbGRBZnRlclNpZ25JblVybDogKCkgPT4gc3RyaW5nIHwgdm9pZDtcbiAgLy8gVE9ETzogQWxpZ24gcmV0dXJuIHR5cGVcbiAgYnVpbGRBZnRlclNpZ25VcFVybDogKCkgPT4gc3RyaW5nIHwgdm9pZDtcbiAgLy8gVE9ETzogQWxpZ24gcmV0dXJuIHR5cGVcbiAgYnVpbGRBZnRlclNpZ25PdXRVcmw6ICgpID0+IHN0cmluZyB8IHZvaWQ7XG4gIC8vIFRPRE86IEFsaWduIHJldHVybiB0eXBlXG4gIGJ1aWxkQWZ0ZXJNdWx0aVNlc3Npb25TaW5nbGVTaWduT3V0VXJsOiAoKSA9PiBzdHJpbmcgfCB2b2lkO1xuICAvLyBUT0RPOiBBbGlnbiBvcHRpb25hbCBwcm9wc1xuICBidWlsZFdhaXRsaXN0VXJsOiAoKSA9PiBzdHJpbmcgfCB2b2lkO1xuICAvLyBUT0RPOiBBbGlnbiBvcHRpb25hbCBwcm9wc1xuICBtb3VudFVzZXJCdXR0b246IChub2RlOiBIVE1MRGl2RWxlbWVudCwgcHJvcHM6IFVzZXJCdXR0b25Qcm9wcykgPT4gdm9pZDtcbiAgbW91bnRPcmdhbml6YXRpb25MaXN0OiAobm9kZTogSFRNTERpdkVsZW1lbnQsIHByb3BzOiBPcmdhbml6YXRpb25MaXN0UHJvcHMpID0+IHZvaWQ7XG4gIG1vdW50T3JnYW5pemF0aW9uU3dpdGNoZXI6IChub2RlOiBIVE1MRGl2RWxlbWVudCwgcHJvcHM6IE9yZ2FuaXphdGlvblN3aXRjaGVyUHJvcHMpID0+IHZvaWQ7XG4gIG1vdW50T3JnYW5pemF0aW9uUHJvZmlsZTogKG5vZGU6IEhUTUxEaXZFbGVtZW50LCBwcm9wczogT3JnYW5pemF0aW9uUHJvZmlsZVByb3BzKSA9PiB2b2lkO1xuICBtb3VudENyZWF0ZU9yZ2FuaXphdGlvbjogKG5vZGU6IEhUTUxEaXZFbGVtZW50LCBwcm9wczogQ3JlYXRlT3JnYW5pemF0aW9uUHJvcHMpID0+IHZvaWQ7XG4gIG1vdW50U2lnblVwOiAobm9kZTogSFRNTERpdkVsZW1lbnQsIHByb3BzOiBTaWduVXBQcm9wcykgPT4gdm9pZDtcbiAgbW91bnRTaWduSW46IChub2RlOiBIVE1MRGl2RWxlbWVudCwgcHJvcHM6IFNpZ25JblByb3BzKSA9PiB2b2lkO1xuICBtb3VudFVzZXJQcm9maWxlOiAobm9kZTogSFRNTERpdkVsZW1lbnQsIHByb3BzOiBVc2VyUHJvZmlsZVByb3BzKSA9PiB2b2lkO1xuICBtb3VudFdhaXRsaXN0OiAobm9kZTogSFRNTERpdkVsZW1lbnQsIHByb3BzOiBXYWl0bGlzdFByb3BzKSA9PiB2b2lkO1xuICBjbGllbnQ6IENsaWVudFJlc291cmNlIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNsYXNzIElzb21vcnBoaWNDbGVyayBpbXBsZW1lbnRzIElzb21vcnBoaWNMb2FkZWRDbGVyayB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbW9kZTogJ2Jyb3dzZXInIHwgJ3NlcnZlcic7XG4gIHByaXZhdGUgcmVhZG9ubHkgb3B0aW9uczogSXNvbW9ycGhpY0NsZXJrT3B0aW9ucztcbiAgcHJpdmF0ZSByZWFkb25seSBDbGVyazogQ2xlcmtQcm9wO1xuICBwcml2YXRlIGNsZXJranM6IEJyb3dzZXJDbGVyayB8IEhlYWRsZXNzQnJvd3NlckNsZXJrIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcHJlb3Blbk9uZVRhcD86IG51bGwgfCBHb29nbGVPbmVUYXBQcm9wcyA9IG51bGw7XG4gIHByaXZhdGUgcHJlb3BlblVzZXJWZXJpZmljYXRpb24/OiBudWxsIHwgX19pbnRlcm5hbF9Vc2VyVmVyaWZpY2F0aW9uUHJvcHMgPSBudWxsO1xuICBwcml2YXRlIHByZW9wZW5TaWduSW4/OiBudWxsIHwgU2lnbkluUHJvcHMgPSBudWxsO1xuICBwcml2YXRlIHByZW9wZW5TaWduVXA/OiBudWxsIHwgU2lnblVwUHJvcHMgPSBudWxsO1xuICBwcml2YXRlIHByZW9wZW5Vc2VyUHJvZmlsZT86IG51bGwgfCBVc2VyUHJvZmlsZVByb3BzID0gbnVsbDtcbiAgcHJpdmF0ZSBwcmVvcGVuT3JnYW5pemF0aW9uUHJvZmlsZT86IG51bGwgfCBPcmdhbml6YXRpb25Qcm9maWxlUHJvcHMgPSBudWxsO1xuICBwcml2YXRlIHByZW9wZW5DcmVhdGVPcmdhbml6YXRpb24/OiBudWxsIHwgQ3JlYXRlT3JnYW5pemF0aW9uUHJvcHMgPSBudWxsO1xuICBwcml2YXRlIHByZU9wZW5XYWl0bGlzdD86IG51bGwgfCBXYWl0bGlzdFByb3BzID0gbnVsbDtcbiAgcHJpdmF0ZSBwcmVtb3VudFNpZ25Jbk5vZGVzID0gbmV3IE1hcDxIVE1MRGl2RWxlbWVudCwgU2lnbkluUHJvcHM+KCk7XG4gIHByaXZhdGUgcHJlbW91bnRTaWduVXBOb2RlcyA9IG5ldyBNYXA8SFRNTERpdkVsZW1lbnQsIFNpZ25VcFByb3BzPigpO1xuICBwcml2YXRlIHByZW1vdW50VXNlclByb2ZpbGVOb2RlcyA9IG5ldyBNYXA8SFRNTERpdkVsZW1lbnQsIFVzZXJQcm9maWxlUHJvcHM+KCk7XG4gIHByaXZhdGUgcHJlbW91bnRVc2VyQnV0dG9uTm9kZXMgPSBuZXcgTWFwPEhUTUxEaXZFbGVtZW50LCBVc2VyQnV0dG9uUHJvcHM+KCk7XG4gIHByaXZhdGUgcHJlbW91bnRPcmdhbml6YXRpb25Qcm9maWxlTm9kZXMgPSBuZXcgTWFwPEhUTUxEaXZFbGVtZW50LCBPcmdhbml6YXRpb25Qcm9maWxlUHJvcHM+KCk7XG4gIHByaXZhdGUgcHJlbW91bnRDcmVhdGVPcmdhbml6YXRpb25Ob2RlcyA9IG5ldyBNYXA8SFRNTERpdkVsZW1lbnQsIENyZWF0ZU9yZ2FuaXphdGlvblByb3BzPigpO1xuICBwcml2YXRlIHByZW1vdW50T3JnYW5pemF0aW9uU3dpdGNoZXJOb2RlcyA9IG5ldyBNYXA8SFRNTERpdkVsZW1lbnQsIE9yZ2FuaXphdGlvblN3aXRjaGVyUHJvcHM+KCk7XG4gIHByaXZhdGUgcHJlbW91bnRPcmdhbml6YXRpb25MaXN0Tm9kZXMgPSBuZXcgTWFwPEhUTUxEaXZFbGVtZW50LCBPcmdhbml6YXRpb25MaXN0UHJvcHM+KCk7XG4gIHByaXZhdGUgcHJlbW91bnRNZXRob2RDYWxscyA9IG5ldyBNYXA8TWV0aG9kTmFtZTxCcm93c2VyQ2xlcms+LCBNZXRob2RDYWxsYmFjaz4oKTtcbiAgcHJpdmF0ZSBwcmVtb3VudFdhaXRsaXN0Tm9kZXMgPSBuZXcgTWFwPEhUTUxEaXZFbGVtZW50LCBXYWl0bGlzdFByb3BzPigpO1xuICAvLyBBIHNlcGFyYXRlIE1hcCBvZiBgYWRkTGlzdGVuZXJgIG1ldGhvZCBjYWxscyB0byBoYW5kbGUgbXVsdGlwbGUgbGlzdGVuZXJzLlxuICBwcml2YXRlIHByZW1vdW50QWRkTGlzdGVuZXJDYWxscyA9IG5ldyBNYXA8XG4gICAgTGlzdGVuZXJDYWxsYmFjayxcbiAgICB7XG4gICAgICB1bnN1YnNjcmliZTogVW5zdWJzY3JpYmVDYWxsYmFjaztcbiAgICAgIG5hdGl2ZVVuc3Vic2NyaWJlPzogVW5zdWJzY3JpYmVDYWxsYmFjaztcbiAgICB9XG4gID4oKTtcbiAgcHJpdmF0ZSBsb2FkZWRMaXN0ZW5lcnM6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG5cbiAgI2xvYWRlZCA9IGZhbHNlO1xuICAjZG9tYWluOiBEb21haW5PclByb3h5VXJsWydkb21haW4nXTtcbiAgI3Byb3h5VXJsOiBEb21haW5PclByb3h5VXJsWydwcm94eVVybCddO1xuICAjcHVibGlzaGFibGVLZXk6IHN0cmluZztcblxuICBnZXQgcHVibGlzaGFibGVLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jcHVibGlzaGFibGVLZXk7XG4gIH1cblxuICBnZXQgbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLiNsb2FkZWQ7XG4gIH1cblxuICBzdGF0aWMgI2luc3RhbmNlOiBJc29tb3JwaGljQ2xlcmsgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4gIHN0YXRpYyBnZXRPckNyZWF0ZUluc3RhbmNlKG9wdGlvbnM6IElzb21vcnBoaWNDbGVya09wdGlvbnMpIHtcbiAgICAvLyBEdXJpbmcgU1NSOiBhIG5ldyBpbnN0YW5jZSBzaG91bGQgYmUgY3JlYXRlZCBmb3IgZXZlcnkgcmVxdWVzdFxuICAgIC8vIER1cmluZyBDU1I6IHVzZSB0aGUgY2FjaGVkIGluc3RhbmNlIGZvciB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIGFwcFxuICAgIC8vIEFsc28gd2lsbCByZWNyZWF0ZSB0aGUgaW5zdGFuY2UgaWYgdGhlIHByb3ZpZGVkIENsZXJrIGluc3RhbmNlIGNoYW5nZXNcbiAgICAvLyBUaGlzIG1ldGhvZCBzaG91bGQgYmUgaWRlbXBvdGVudCBpbiBib3RoIHNjZW5hcmlvc1xuICAgIGlmIChcbiAgICAgICFpbkJyb3dzZXIoKSB8fFxuICAgICAgIXRoaXMuI2luc3RhbmNlIHx8XG4gICAgICAob3B0aW9ucy5DbGVyayAmJiB0aGlzLiNpbnN0YW5jZS5DbGVyayAhPT0gb3B0aW9ucy5DbGVyaykgfHxcbiAgICAgIC8vIEFsbG93IGhvdCBzd2FwcGluZyBQS3Mgb24gdGhlIGNsaWVudFxuICAgICAgdGhpcy4jaW5zdGFuY2UucHVibGlzaGFibGVLZXkgIT09IG9wdGlvbnMucHVibGlzaGFibGVLZXlcbiAgICApIHtcbiAgICAgIHRoaXMuI2luc3RhbmNlID0gbmV3IElzb21vcnBoaWNDbGVyayhvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuI2luc3RhbmNlO1xuICB9XG5cbiAgc3RhdGljIGNsZWFySW5zdGFuY2UoKSB7XG4gICAgdGhpcy4jaW5zdGFuY2UgPSBudWxsO1xuICB9XG5cbiAgZ2V0IGRvbWFpbigpOiBzdHJpbmcge1xuICAgIC8vIFRoaXMgZ2V0dGVyIGNhbiBydW4gaW4gZW52aXJvbm1lbnRzIHdoZXJlIHdpbmRvdyBpcyBub3QgYXZhaWxhYmxlLlxuICAgIC8vIEluIHRob3NlIGNhc2VzIHdlIHNob3VsZCBleHBlY3QgYW5kIHVzZSBkb21haW4gYXMgYSBzdHJpbmdcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gaGFuZGxlVmFsdWVPckZuKHRoaXMuI2RvbWFpbiwgbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZiksICcnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLiNkb21haW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBlcnJvclRocm93ZXIudGhyb3codW5zdXBwb3J0ZWROb25Ccm93c2VyRG9tYWluT3JQcm94eVVybEZ1bmN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuI2RvbWFpbiB8fCAnJztcbiAgfVxuXG4gIGdldCBwcm94eVVybCgpOiBzdHJpbmcge1xuICAgIC8vIFRoaXMgZ2V0dGVyIGNhbiBydW4gaW4gZW52aXJvbm1lbnRzIHdoZXJlIHdpbmRvdyBpcyBub3QgYXZhaWxhYmxlLlxuICAgIC8vIEluIHRob3NlIGNhc2VzIHdlIHNob3VsZCBleHBlY3QgYW5kIHVzZSBwcm94eSBhcyBhIHN0cmluZ1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYXRpb24pIHtcbiAgICAgIHJldHVybiBoYW5kbGVWYWx1ZU9yRm4odGhpcy4jcHJveHlVcmwsIG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLCAnJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy4jcHJveHlVcmwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBlcnJvclRocm93ZXIudGhyb3codW5zdXBwb3J0ZWROb25Ccm93c2VyRG9tYWluT3JQcm94eVVybEZ1bmN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuI3Byb3h5VXJsIHx8ICcnO1xuICB9XG5cbiAgcHVibGljIF9faW50ZXJuYWxfZ2V0T3B0aW9uPEsgZXh0ZW5kcyBrZXlvZiBDbGVya09wdGlvbnM+KGtleTogSyk6IENsZXJrT3B0aW9uc1tLXSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuY2xlcmtqcz8uX19pbnRlcm5hbF9nZXRPcHRpb24oa2V5KTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IElzb21vcnBoaWNDbGVya09wdGlvbnMpIHtcbiAgICBjb25zdCB7IENsZXJrID0gbnVsbCwgcHVibGlzaGFibGVLZXkgfSA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy4jcHVibGlzaGFibGVLZXkgPSBwdWJsaXNoYWJsZUtleTtcbiAgICB0aGlzLiNwcm94eVVybCA9IG9wdGlvbnM/LnByb3h5VXJsO1xuICAgIHRoaXMuI2RvbWFpbiA9IG9wdGlvbnM/LmRvbWFpbjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuQ2xlcmsgPSBDbGVyaztcbiAgICB0aGlzLm1vZGUgPSBpbkJyb3dzZXIoKSA/ICdicm93c2VyJyA6ICdzZXJ2ZXInO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuc2RrTWV0YWRhdGEpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5zZGtNZXRhZGF0YSA9IFNES19NRVRBREFUQTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy4jcHVibGlzaGFibGVLZXkpIHtcbiAgICAgIHZvaWQgdGhpcy5sb2FkQ2xlcmtKUygpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBzZGtNZXRhZGF0YSgpOiBTREtNZXRhZGF0YSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuY2xlcmtqcz8uc2RrTWV0YWRhdGEgfHwgdGhpcy5vcHRpb25zLnNka01ldGFkYXRhIHx8IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldCBpbnN0YW5jZVR5cGUoKTogSW5zdGFuY2VUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jbGVya2pzPy5pbnN0YW5jZVR5cGU7XG4gIH1cblxuICBnZXQgZnJvbnRlbmRBcGkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jbGVya2pzPy5mcm9udGVuZEFwaSB8fCAnJztcbiAgfVxuXG4gIGdldCBpc1N0YW5kYXJkQnJvd3NlcigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jbGVya2pzPy5pc1N0YW5kYXJkQnJvd3NlciB8fCB0aGlzLm9wdGlvbnMuc3RhbmRhcmRCcm93c2VyIHx8IGZhbHNlO1xuICB9XG5cbiAgZ2V0IGlzU2F0ZWxsaXRlKCk6IGJvb2xlYW4ge1xuICAgIC8vIFRoaXMgZ2V0dGVyIGNhbiBydW4gaW4gZW52aXJvbm1lbnRzIHdoZXJlIHdpbmRvdyBpcyBub3QgYXZhaWxhYmxlLlxuICAgIC8vIEluIHRob3NlIGNhc2VzIHdlIHNob3VsZCBleHBlY3QgYW5kIHVzZSBkb21haW4gYXMgYSBzdHJpbmdcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gaGFuZGxlVmFsdWVPckZuKHRoaXMub3B0aW9ucy5pc1NhdGVsbGl0ZSwgbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZiksIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaXNTYXRlbGxpdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBlcnJvclRocm93ZXIudGhyb3codW5zdXBwb3J0ZWROb25Ccm93c2VyRG9tYWluT3JQcm94eVVybEZ1bmN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgYnVpbGRTaWduSW5VcmwgPSAob3B0cz86IFJlZGlyZWN0T3B0aW9ucyk6IHN0cmluZyB8IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5idWlsZFNpZ25JblVybChvcHRzKSB8fCAnJztcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ2J1aWxkU2lnbkluVXJsJywgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICBidWlsZFNpZ25VcFVybCA9IChvcHRzPzogUmVkaXJlY3RPcHRpb25zKTogc3RyaW5nIHwgdm9pZCA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LmJ1aWxkU2lnblVwVXJsKG9wdHMpIHx8ICcnO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnYnVpbGRTaWduVXBVcmwnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGJ1aWxkQWZ0ZXJTaWduSW5VcmwgPSAoKTogc3RyaW5nIHwgdm9pZCA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LmJ1aWxkQWZ0ZXJTaWduSW5VcmwoKSB8fCAnJztcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ2J1aWxkQWZ0ZXJTaWduSW5VcmwnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGJ1aWxkQWZ0ZXJTaWduVXBVcmwgPSAoKTogc3RyaW5nIHwgdm9pZCA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LmJ1aWxkQWZ0ZXJTaWduVXBVcmwoKSB8fCAnJztcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ2J1aWxkQWZ0ZXJTaWduVXBVcmwnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGJ1aWxkQWZ0ZXJTaWduT3V0VXJsID0gKCk6IHN0cmluZyB8IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5idWlsZEFmdGVyU2lnbk91dFVybCgpIHx8ICcnO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnYnVpbGRBZnRlclNpZ25PdXRVcmwnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGJ1aWxkQWZ0ZXJNdWx0aVNlc3Npb25TaW5nbGVTaWduT3V0VXJsID0gKCk6IHN0cmluZyB8IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5idWlsZEFmdGVyTXVsdGlTZXNzaW9uU2luZ2xlU2lnbk91dFVybCgpIHx8ICcnO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnYnVpbGRBZnRlck11bHRpU2Vzc2lvblNpbmdsZVNpZ25PdXRVcmwnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGJ1aWxkVXNlclByb2ZpbGVVcmwgPSAoKTogc3RyaW5nIHwgdm9pZCA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LmJ1aWxkVXNlclByb2ZpbGVVcmwoKSB8fCAnJztcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ2J1aWxkVXNlclByb2ZpbGVVcmwnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGJ1aWxkQ3JlYXRlT3JnYW5pemF0aW9uVXJsID0gKCk6IHN0cmluZyB8IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5idWlsZENyZWF0ZU9yZ2FuaXphdGlvblVybCgpIHx8ICcnO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnYnVpbGRDcmVhdGVPcmdhbml6YXRpb25VcmwnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGJ1aWxkT3JnYW5pemF0aW9uUHJvZmlsZVVybCA9ICgpOiBzdHJpbmcgfCB2b2lkID0+IHtcbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHRoaXMuY2xlcmtqcz8uYnVpbGRPcmdhbml6YXRpb25Qcm9maWxlVXJsKCkgfHwgJyc7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50TWV0aG9kQ2FsbHMuc2V0KCdidWlsZE9yZ2FuaXphdGlvblByb2ZpbGVVcmwnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGJ1aWxkV2FpdGxpc3RVcmwgPSAoKTogc3RyaW5nIHwgdm9pZCA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LmJ1aWxkV2FpdGxpc3RVcmwoKSB8fCAnJztcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ2J1aWxkV2FpdGxpc3RVcmwnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGJ1aWxkVXJsV2l0aEF1dGggPSAodG86IHN0cmluZyk6IHN0cmluZyB8IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5idWlsZFVybFdpdGhBdXRoKHRvKSB8fCAnJztcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ2J1aWxkVXJsV2l0aEF1dGgnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZVVuYXV0aGVudGljYXRlZCA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHRoaXMuY2xlcmtqcz8uaGFuZGxlVW5hdXRoZW50aWNhdGVkKCk7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHZvaWQgY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnaGFuZGxlVW5hdXRoZW50aWNhdGVkJywgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICAjd2FpdEZvckNsZXJrSlMoKTogUHJvbWlzZTxIZWFkbGVzc0Jyb3dzZXJDbGVyayB8IEJyb3dzZXJDbGVyaz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxIZWFkbGVzc0Jyb3dzZXJDbGVyayB8IEJyb3dzZXJDbGVyaz4ocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLmFkZE9uTG9hZGVkKCgpID0+IHJlc29sdmUodGhpcy5jbGVya2pzISkpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgbG9hZENsZXJrSlMoKTogUHJvbWlzZTxIZWFkbGVzc0Jyb3dzZXJDbGVyayB8IEJyb3dzZXJDbGVyayB8IHVuZGVmaW5lZD4ge1xuICAgIGlmICh0aGlzLm1vZGUgIT09ICdicm93c2VyJyB8fCB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTdG9yZSBmcm9udGVuZEFQSSB2YWx1ZSBvbiB3aW5kb3cgYXMgYSBmYWxsYmFjay4gVGhpcyB2YWx1ZSBjYW4gYmUgdXNlZCBhcyBhXG4gICAgLy8gZmFsbGJhY2sgZHVyaW5nIENsZXJrSlMgaG90IGxvYWRpbmcgaW4gY2FzZSBDbGVya0pTIGZhaWxzIHRvIGZpbmQgdGhlXG4gICAgLy8gXCJkYXRhLWNsZXJrLWZyb250ZW5kLWFwaVwiIGF0dHJpYnV0ZSBvbiBpdHMgc2NyaXB0IHRhZy5cblxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiB3aGVuIHRoZSBET00gaXMgYWx0ZXJlZCBjb21wbGV0ZWx5IGR1cmluZyBjbGllbnQgcmVoeWRyYXRpb24uXG4gICAgLy8gRm9yIGV4YW1wbGUsIGluIFJlbWl4IHdpdGggUmVhY3QgMTggdGhlIGRvY3VtZW50IGNoYW5nZXMgY29tcGxldGVseSB2aWEgYGh5ZHJhdGVSb290KGRvY3VtZW50KWAuXG5cbiAgICAvLyBGb3IgbW9yZSBpbmZvcm1hdGlvbiByZWZlciB0bzpcbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vcmVtaXgvaXNzdWVzLzI5NDdcbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMjQ0MzBcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5fX2NsZXJrX3B1Ymxpc2hhYmxlX2tleSA9IHRoaXMuI3B1Ymxpc2hhYmxlS2V5O1xuICAgICAgd2luZG93Ll9fY2xlcmtfcHJveHlfdXJsID0gdGhpcy5wcm94eVVybDtcbiAgICAgIHdpbmRvdy5fX2NsZXJrX2RvbWFpbiA9IHRoaXMuZG9tYWluO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5DbGVyaykge1xuICAgICAgICAvLyBTZXQgYSBmaXhlZCBDbGVyayB2ZXJzaW9uXG4gICAgICAgIGxldCBjOiBDbGVya1Byb3A7XG5cbiAgICAgICAgaWYgKGlzQ29uc3RydWN0b3I8QnJvd3NlckNsZXJrQ29uc3RydWN0b3IgfCBIZWFkbGVzc0Jyb3dzZXJDbGVya0NvbnN0cnVjdG9yPih0aGlzLkNsZXJrKSkge1xuICAgICAgICAgIC8vIENvbnN0cnVjdCBhIG5ldyBDbGVyayBvYmplY3QgaWYgYSBjb25zdHJ1Y3RvciBpcyBwYXNzZWRcbiAgICAgICAgICBjID0gbmV3IHRoaXMuQ2xlcmsodGhpcy4jcHVibGlzaGFibGVLZXksIHtcbiAgICAgICAgICAgIHByb3h5VXJsOiB0aGlzLnByb3h5VXJsLFxuICAgICAgICAgICAgZG9tYWluOiB0aGlzLmRvbWFpbixcbiAgICAgICAgICB9IGFzIGFueSk7XG5cbiAgICAgICAgICBhd2FpdCBjLmxvYWQodGhpcy5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgdXNlIHRoZSBpbnN0YW50aWF0ZWQgQ2xlcmsgb2JqZWN0XG4gICAgICAgICAgYyA9IHRoaXMuQ2xlcms7XG5cbiAgICAgICAgICBpZiAoIWMubG9hZGVkKSB7XG4gICAgICAgICAgICBhd2FpdCBjLmxvYWQodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnbG9iYWwuQ2xlcmsgPSBjO1xuICAgICAgfSBlbHNlIGlmICghX19CVUlMRF9ESVNBQkxFX1JIQ19fKSB7XG4gICAgICAgIC8vIEhvdC1sb2FkIGxhdGVzdCBDbGVya0pTIGZyb20gQ2xlcmsgQ0ROXG4gICAgICAgIGlmICghZ2xvYmFsLkNsZXJrKSB7XG4gICAgICAgICAgYXdhaXQgbG9hZENsZXJrSnNTY3JpcHQoe1xuICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgcHVibGlzaGFibGVLZXk6IHRoaXMuI3B1Ymxpc2hhYmxlS2V5LFxuICAgICAgICAgICAgcHJveHlVcmw6IHRoaXMucHJveHlVcmwsXG4gICAgICAgICAgICBkb21haW46IHRoaXMuZG9tYWluLFxuICAgICAgICAgICAgbm9uY2U6IHRoaXMub3B0aW9ucy5ub25jZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2xvYmFsLkNsZXJrKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZG93bmxvYWQgbGF0ZXN0IENsZXJrSlMuIENvbnRhY3Qgc3VwcG9ydEBjbGVyay5jb20uJyk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBnbG9iYWwuQ2xlcmsubG9hZCh0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ2xvYmFsLkNsZXJrPy5sb2FkZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHlkcmF0ZUNsZXJrSlMoZ2xvYmFsLkNsZXJrKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gZXJyIGFzIEVycm9yO1xuICAgICAgLy8gSW4gTmV4dC5qcyB3ZSBjYW4gdGhyb3cgYSBmdWxsIHNjcmVlbiBlcnJvciBpbiBkZXZlbG9wbWVudCBtb2RlLlxuICAgICAgLy8gSG93ZXZlciwgaW4gcHJvZHVjdGlvbiB0aHJvd2luZyBhbiBlcnJvciByZXN1bHRzIGluIGFuIGluZmluaXRlIGxvb3AuXG4gICAgICAvLyBNb3JlIGluZm8gYXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qcy9pc3N1ZXMvNjk3M1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYWRkT25Mb2FkZWQgPSAoY2I6ICgpID0+IHZvaWQpID0+IHtcbiAgICB0aGlzLmxvYWRlZExpc3RlbmVycy5wdXNoKGNiKTtcbiAgICAvKipcbiAgICAgKiBXaGVuIElzb21vcnBoaWNDbGVyayBpcyBsb2FkZWQgZXhlY3V0ZSB0aGUgY2FsbGJhY2sgZGlyZWN0bHlcbiAgICAgKi9cbiAgICBpZiAodGhpcy5sb2FkZWQpIHtcbiAgICAgIHRoaXMuZW1pdExvYWRlZCgpO1xuICAgIH1cbiAgfTtcblxuICBwdWJsaWMgZW1pdExvYWRlZCA9ICgpID0+IHtcbiAgICB0aGlzLmxvYWRlZExpc3RlbmVycy5mb3JFYWNoKGNiID0+IGNiKCkpO1xuICAgIHRoaXMubG9hZGVkTGlzdGVuZXJzID0gW107XG4gIH07XG5cbiAgcHJpdmF0ZSBoeWRyYXRlQ2xlcmtKUyA9IChjbGVya2pzOiBCcm93c2VyQ2xlcmsgfCBIZWFkbGVzc0Jyb3dzZXJDbGVyayB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICghY2xlcmtqcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gaHlkcmF0ZSBsYXRlc3QgQ2xlcmsgSlMnKTtcbiAgICB9XG5cbiAgICB0aGlzLmNsZXJranMgPSBjbGVya2pzO1xuXG4gICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLmZvckVhY2goY2IgPT4gY2IoKSk7XG4gICAgdGhpcy5wcmVtb3VudEFkZExpc3RlbmVyQ2FsbHMuZm9yRWFjaCgobGlzdGVuZXJIYW5kbGVycywgbGlzdGVuZXIpID0+IHtcbiAgICAgIGxpc3RlbmVySGFuZGxlcnMubmF0aXZlVW5zdWJzY3JpYmUgPSBjbGVya2pzLmFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnByZW9wZW5TaWduSW4gIT09IG51bGwpIHtcbiAgICAgIGNsZXJranMub3BlblNpZ25Jbih0aGlzLnByZW9wZW5TaWduSW4pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByZW9wZW5TaWduVXAgIT09IG51bGwpIHtcbiAgICAgIGNsZXJranMub3BlblNpZ25VcCh0aGlzLnByZW9wZW5TaWduVXApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByZW9wZW5Vc2VyUHJvZmlsZSAhPT0gbnVsbCkge1xuICAgICAgY2xlcmtqcy5vcGVuVXNlclByb2ZpbGUodGhpcy5wcmVvcGVuVXNlclByb2ZpbGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByZW9wZW5Vc2VyVmVyaWZpY2F0aW9uICE9PSBudWxsKSB7XG4gICAgICBjbGVya2pzLl9faW50ZXJuYWxfb3BlblJldmVyaWZpY2F0aW9uKHRoaXMucHJlb3BlblVzZXJWZXJpZmljYXRpb24pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByZW9wZW5PbmVUYXAgIT09IG51bGwpIHtcbiAgICAgIGNsZXJranMub3Blbkdvb2dsZU9uZVRhcCh0aGlzLnByZW9wZW5PbmVUYXApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByZW9wZW5Pcmdhbml6YXRpb25Qcm9maWxlICE9PSBudWxsKSB7XG4gICAgICBjbGVya2pzLm9wZW5Pcmdhbml6YXRpb25Qcm9maWxlKHRoaXMucHJlb3Blbk9yZ2FuaXphdGlvblByb2ZpbGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByZW9wZW5DcmVhdGVPcmdhbml6YXRpb24gIT09IG51bGwpIHtcbiAgICAgIGNsZXJranMub3BlbkNyZWF0ZU9yZ2FuaXphdGlvbih0aGlzLnByZW9wZW5DcmVhdGVPcmdhbml6YXRpb24pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByZU9wZW5XYWl0bGlzdCAhPT0gbnVsbCkge1xuICAgICAgY2xlcmtqcy5vcGVuV2FpdGxpc3QodGhpcy5wcmVPcGVuV2FpdGxpc3QpO1xuICAgIH1cblxuICAgIHRoaXMucHJlbW91bnRTaWduSW5Ob2Rlcy5mb3JFYWNoKChwcm9wczogU2lnbkluUHJvcHMsIG5vZGU6IEhUTUxEaXZFbGVtZW50KSA9PiB7XG4gICAgICBjbGVya2pzLm1vdW50U2lnbkluKG5vZGUsIHByb3BzKTtcbiAgICB9KTtcblxuICAgIHRoaXMucHJlbW91bnRTaWduVXBOb2Rlcy5mb3JFYWNoKChwcm9wczogU2lnblVwUHJvcHMsIG5vZGU6IEhUTUxEaXZFbGVtZW50KSA9PiB7XG4gICAgICBjbGVya2pzLm1vdW50U2lnblVwKG5vZGUsIHByb3BzKTtcbiAgICB9KTtcblxuICAgIHRoaXMucHJlbW91bnRVc2VyUHJvZmlsZU5vZGVzLmZvckVhY2goKHByb3BzOiBVc2VyUHJvZmlsZVByb3BzLCBub2RlOiBIVE1MRGl2RWxlbWVudCkgPT4ge1xuICAgICAgY2xlcmtqcy5tb3VudFVzZXJQcm9maWxlKG5vZGUsIHByb3BzKTtcbiAgICB9KTtcblxuICAgIHRoaXMucHJlbW91bnRVc2VyQnV0dG9uTm9kZXMuZm9yRWFjaCgocHJvcHM6IFVzZXJCdXR0b25Qcm9wcywgbm9kZTogSFRNTERpdkVsZW1lbnQpID0+IHtcbiAgICAgIGNsZXJranMubW91bnRVc2VyQnV0dG9uKG5vZGUsIHByb3BzKTtcbiAgICB9KTtcblxuICAgIHRoaXMucHJlbW91bnRPcmdhbml6YXRpb25MaXN0Tm9kZXMuZm9yRWFjaCgocHJvcHM6IE9yZ2FuaXphdGlvbkxpc3RQcm9wcywgbm9kZTogSFRNTERpdkVsZW1lbnQpID0+IHtcbiAgICAgIGNsZXJranMubW91bnRPcmdhbml6YXRpb25MaXN0KG5vZGUsIHByb3BzKTtcbiAgICB9KTtcblxuICAgIHRoaXMucHJlbW91bnRXYWl0bGlzdE5vZGVzLmZvckVhY2goKHByb3BzOiBXYWl0bGlzdFByb3BzLCBub2RlOiBIVE1MRGl2RWxlbWVudCkgPT4ge1xuICAgICAgY2xlcmtqcy5tb3VudFdhaXRsaXN0KG5vZGUsIHByb3BzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuI2xvYWRlZCA9IHRydWU7XG4gICAgdGhpcy5lbWl0TG9hZGVkKCk7XG4gICAgcmV0dXJuIHRoaXMuY2xlcmtqcztcbiAgfTtcblxuICBnZXQgdmVyc2lvbigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmNsZXJranM/LnZlcnNpb247XG4gIH1cblxuICBnZXQgY2xpZW50KCk6IENsaWVudFJlc291cmNlIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodGhpcy5jbGVya2pzKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGVya2pzLmNsaWVudDtcbiAgICAgIC8vIFRPRE86IGFkZCBzc3IgY29uZGl0aW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHNlc3Npb24oKTogQWN0aXZlU2Vzc2lvblJlc291cmNlIHwgdW5kZWZpbmVkIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcykge1xuICAgICAgcmV0dXJuIHRoaXMuY2xlcmtqcy5zZXNzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIGdldCB1c2VyKCk6IFVzZXJSZXNvdXJjZSB8IHVuZGVmaW5lZCB8IG51bGwge1xuICAgIGlmICh0aGlzLmNsZXJranMpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsZXJranMudXNlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBnZXQgb3JnYW5pemF0aW9uKCk6IE9yZ2FuaXphdGlvblJlc291cmNlIHwgdW5kZWZpbmVkIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcykge1xuICAgICAgcmV0dXJuIHRoaXMuY2xlcmtqcy5vcmdhbml6YXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHRlbGVtZXRyeSgpOiBUZWxlbWV0cnlDb2xsZWN0b3IgfCB1bmRlZmluZWQge1xuICAgIGlmICh0aGlzLmNsZXJranMpIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLS0gV2UgY2FuJ3QgYWRkIHRoZSB0eXBlIGhlcmUgZHVlIHRvIHRoZSBUZWxlbWV0cnlDb2xsZWN0b3IgdHlwZSBleGlzdGluZyBpbiBzaGFyZWQsIGJ1dCB0aGUgQ2xlcmsgdHlwZSBleGlzdGluZyBpbiB0eXBlc1xuICAgICAgcmV0dXJuIHRoaXMuY2xlcmtqcy50ZWxlbWV0cnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0IF9fdW5zdGFibGVfX2Vudmlyb25tZW50KCk6IGFueSB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcykge1xuICAgICAgcmV0dXJuICh0aGlzLmNsZXJranMgYXMgYW55KS5fX3Vuc3RhYmxlX19lbnZpcm9ubWVudDtcbiAgICAgIC8vIFRPRE86IGFkZCBzc3IgY29uZGl0aW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgX191bnN0YWJsZV9fc2V0RW52aXJvbm1lbnQoLi4uYXJnczogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiAnX191bnN0YWJsZV9fc2V0RW52aXJvbm1lbnQnIGluIHRoaXMuY2xlcmtqcykge1xuICAgICAgKHRoaXMuY2xlcmtqcyBhcyBhbnkpLl9fdW5zdGFibGVfX3NldEVudmlyb25tZW50KGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIF9fdW5zdGFibGVfX3VwZGF0ZVByb3BzID0gYXN5bmMgKHByb3BzOiBhbnkpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBjbGVya2pzID0gYXdhaXQgdGhpcy4jd2FpdEZvckNsZXJrSlMoKTtcbiAgICAvLyBIYW5kbGUgY2FzZSB3aGVyZSBhY2NvdW50cyBoYXMgY2xlcmstcmVhY3RANCBpbnN0YWxsZWQsIGJ1dCBjbGVyay1qc0AzIGlzIG1hbnVhbGx5IGxvYWRlZFxuICAgIGlmIChjbGVya2pzICYmICdfX3Vuc3RhYmxlX191cGRhdGVQcm9wcycgaW4gY2xlcmtqcykge1xuICAgICAgcmV0dXJuIChjbGVya2pzIGFzIGFueSkuX191bnN0YWJsZV9fdXBkYXRlUHJvcHMocHJvcHMpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogYHNldEFjdGl2ZWAgY2FuIGJlIHVzZWQgdG8gc2V0IHRoZSBhY3RpdmUgc2Vzc2lvbiBhbmQvb3Igb3JnYW5pemF0aW9uLlxuICAgKi9cbiAgc2V0QWN0aXZlID0gKHsgc2Vzc2lvbiwgb3JnYW5pemF0aW9uLCBiZWZvcmVFbWl0LCByZWRpcmVjdFVybCB9OiBTZXRBY3RpdmVQYXJhbXMpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGVya2pzLnNldEFjdGl2ZSh7IHNlc3Npb24sIG9yZ2FuaXphdGlvbiwgYmVmb3JlRW1pdCwgcmVkaXJlY3RVcmwgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgIH1cbiAgfTtcblxuICBvcGVuU2lnbkluID0gKHByb3BzPzogU2lnbkluUHJvcHMpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLm9wZW5TaWduSW4ocHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW9wZW5TaWduSW4gPSBwcm9wcztcbiAgICB9XG4gIH07XG5cbiAgY2xvc2VTaWduSW4gPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHRoaXMuY2xlcmtqcy5jbG9zZVNpZ25JbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW9wZW5TaWduSW4gPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBfX2ludGVybmFsX29wZW5SZXZlcmlmaWNhdGlvbiA9IChwcm9wcz86IF9faW50ZXJuYWxfVXNlclZlcmlmaWNhdGlvbk1vZGFsUHJvcHMpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLl9faW50ZXJuYWxfb3BlblJldmVyaWZpY2F0aW9uKHByb3BzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVvcGVuVXNlclZlcmlmaWNhdGlvbiA9IHByb3BzO1xuICAgIH1cbiAgfTtcblxuICBfX2ludGVybmFsX2Nsb3NlUmV2ZXJpZmljYXRpb24gPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHRoaXMuY2xlcmtqcy5fX2ludGVybmFsX2Nsb3NlUmV2ZXJpZmljYXRpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVvcGVuVXNlclZlcmlmaWNhdGlvbiA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIG9wZW5Hb29nbGVPbmVUYXAgPSAocHJvcHM/OiBHb29nbGVPbmVUYXBQcm9wcyk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMub3Blbkdvb2dsZU9uZVRhcChwcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlb3Blbk9uZVRhcCA9IHByb3BzO1xuICAgIH1cbiAgfTtcblxuICBjbG9zZUdvb2dsZU9uZVRhcCA9ICgpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLmNsb3NlR29vZ2xlT25lVGFwKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlb3Blbk9uZVRhcCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIG9wZW5Vc2VyUHJvZmlsZSA9IChwcm9wcz86IFVzZXJQcm9maWxlUHJvcHMpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLm9wZW5Vc2VyUHJvZmlsZShwcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlb3BlblVzZXJQcm9maWxlID0gcHJvcHM7XG4gICAgfVxuICB9O1xuXG4gIGNsb3NlVXNlclByb2ZpbGUgPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHRoaXMuY2xlcmtqcy5jbG9zZVVzZXJQcm9maWxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlb3BlblVzZXJQcm9maWxlID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgb3Blbk9yZ2FuaXphdGlvblByb2ZpbGUgPSAocHJvcHM/OiBPcmdhbml6YXRpb25Qcm9maWxlUHJvcHMpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLm9wZW5Pcmdhbml6YXRpb25Qcm9maWxlKHByb3BzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVvcGVuT3JnYW5pemF0aW9uUHJvZmlsZSA9IHByb3BzO1xuICAgIH1cbiAgfTtcblxuICBjbG9zZU9yZ2FuaXphdGlvblByb2ZpbGUgPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHRoaXMuY2xlcmtqcy5jbG9zZU9yZ2FuaXphdGlvblByb2ZpbGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVvcGVuT3JnYW5pemF0aW9uUHJvZmlsZSA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIG9wZW5DcmVhdGVPcmdhbml6YXRpb24gPSAocHJvcHM/OiBDcmVhdGVPcmdhbml6YXRpb25Qcm9wcyk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMub3BlbkNyZWF0ZU9yZ2FuaXphdGlvbihwcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlb3BlbkNyZWF0ZU9yZ2FuaXphdGlvbiA9IHByb3BzO1xuICAgIH1cbiAgfTtcblxuICBjbG9zZUNyZWF0ZU9yZ2FuaXphdGlvbiA9ICgpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLmNsb3NlQ3JlYXRlT3JnYW5pemF0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlb3BlbkNyZWF0ZU9yZ2FuaXphdGlvbiA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIG9wZW5XYWl0bGlzdCA9IChwcm9wcz86IFdhaXRsaXN0UHJvcHMpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLm9wZW5XYWl0bGlzdChwcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlT3BlbldhaXRsaXN0ID0gcHJvcHM7XG4gICAgfVxuICB9O1xuXG4gIGNsb3NlV2FpdGxpc3QgPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHRoaXMuY2xlcmtqcy5jbG9zZVdhaXRsaXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlT3BlbldhaXRsaXN0ID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgb3BlblNpZ25VcCA9IChwcm9wcz86IFNpZ25VcFByb3BzKTogdm9pZCA9PiB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHRoaXMuY2xlcmtqcy5vcGVuU2lnblVwKHByb3BzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVvcGVuU2lnblVwID0gcHJvcHM7XG4gICAgfVxuICB9O1xuXG4gIGNsb3NlU2lnblVwID0gKCk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMuY2xvc2VTaWduVXAoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVvcGVuU2lnblVwID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgbW91bnRTaWduSW4gPSAobm9kZTogSFRNTERpdkVsZW1lbnQsIHByb3BzOiBTaWduSW5Qcm9wcyk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMubW91bnRTaWduSW4obm9kZSwgcHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50U2lnbkluTm9kZXMuc2V0KG5vZGUsIHByb3BzKTtcbiAgICB9XG4gIH07XG5cbiAgdW5tb3VudFNpZ25JbiA9IChub2RlOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMudW5tb3VudFNpZ25Jbihub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudFNpZ25Jbk5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICB9XG4gIH07XG5cbiAgbW91bnRTaWduVXAgPSAobm9kZTogSFRNTERpdkVsZW1lbnQsIHByb3BzOiBTaWduVXBQcm9wcyk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMubW91bnRTaWduVXAobm9kZSwgcHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50U2lnblVwTm9kZXMuc2V0KG5vZGUsIHByb3BzKTtcbiAgICB9XG4gIH07XG5cbiAgdW5tb3VudFNpZ25VcCA9IChub2RlOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMudW5tb3VudFNpZ25VcChub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudFNpZ25VcE5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICB9XG4gIH07XG5cbiAgbW91bnRVc2VyUHJvZmlsZSA9IChub2RlOiBIVE1MRGl2RWxlbWVudCwgcHJvcHM6IFVzZXJQcm9maWxlUHJvcHMpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLm1vdW50VXNlclByb2ZpbGUobm9kZSwgcHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50VXNlclByb2ZpbGVOb2Rlcy5zZXQobm9kZSwgcHJvcHMpO1xuICAgIH1cbiAgfTtcblxuICB1bm1vdW50VXNlclByb2ZpbGUgPSAobm9kZTogSFRNTERpdkVsZW1lbnQpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLnVubW91bnRVc2VyUHJvZmlsZShub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudFVzZXJQcm9maWxlTm9kZXMuZGVsZXRlKG5vZGUpO1xuICAgIH1cbiAgfTtcblxuICBtb3VudE9yZ2FuaXphdGlvblByb2ZpbGUgPSAobm9kZTogSFRNTERpdkVsZW1lbnQsIHByb3BzOiBPcmdhbml6YXRpb25Qcm9maWxlUHJvcHMpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLm1vdW50T3JnYW5pemF0aW9uUHJvZmlsZShub2RlLCBwcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRPcmdhbml6YXRpb25Qcm9maWxlTm9kZXMuc2V0KG5vZGUsIHByb3BzKTtcbiAgICB9XG4gIH07XG5cbiAgdW5tb3VudE9yZ2FuaXphdGlvblByb2ZpbGUgPSAobm9kZTogSFRNTERpdkVsZW1lbnQpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLnVubW91bnRPcmdhbml6YXRpb25Qcm9maWxlKG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50T3JnYW5pemF0aW9uUHJvZmlsZU5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICB9XG4gIH07XG5cbiAgbW91bnRDcmVhdGVPcmdhbml6YXRpb24gPSAobm9kZTogSFRNTERpdkVsZW1lbnQsIHByb3BzOiBDcmVhdGVPcmdhbml6YXRpb25Qcm9wcyk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMubW91bnRDcmVhdGVPcmdhbml6YXRpb24obm9kZSwgcHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50Q3JlYXRlT3JnYW5pemF0aW9uTm9kZXMuc2V0KG5vZGUsIHByb3BzKTtcbiAgICB9XG4gIH07XG5cbiAgdW5tb3VudENyZWF0ZU9yZ2FuaXphdGlvbiA9IChub2RlOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMudW5tb3VudENyZWF0ZU9yZ2FuaXphdGlvbihub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudENyZWF0ZU9yZ2FuaXphdGlvbk5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICB9XG4gIH07XG5cbiAgbW91bnRPcmdhbml6YXRpb25Td2l0Y2hlciA9IChub2RlOiBIVE1MRGl2RWxlbWVudCwgcHJvcHM6IE9yZ2FuaXphdGlvblN3aXRjaGVyUHJvcHMpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLm1vdW50T3JnYW5pemF0aW9uU3dpdGNoZXIobm9kZSwgcHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50T3JnYW5pemF0aW9uU3dpdGNoZXJOb2Rlcy5zZXQobm9kZSwgcHJvcHMpO1xuICAgIH1cbiAgfTtcblxuICB1bm1vdW50T3JnYW5pemF0aW9uU3dpdGNoZXIgPSAobm9kZTogSFRNTERpdkVsZW1lbnQpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLnVubW91bnRPcmdhbml6YXRpb25Td2l0Y2hlcihub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE9yZ2FuaXphdGlvblN3aXRjaGVyTm9kZXMuZGVsZXRlKG5vZGUpO1xuICAgIH1cbiAgfTtcblxuICBfX2V4cGVyaW1lbnRhbF9wcmVmZXRjaE9yZ2FuaXphdGlvblN3aXRjaGVyID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5fX2V4cGVyaW1lbnRhbF9wcmVmZXRjaE9yZ2FuaXphdGlvblN3aXRjaGVyKCk7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHZvaWQgY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnX19leHBlcmltZW50YWxfcHJlZmV0Y2hPcmdhbml6YXRpb25Td2l0Y2hlcicsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgbW91bnRPcmdhbml6YXRpb25MaXN0ID0gKG5vZGU6IEhUTUxEaXZFbGVtZW50LCBwcm9wczogT3JnYW5pemF0aW9uTGlzdFByb3BzKTogdm9pZCA9PiB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHRoaXMuY2xlcmtqcy5tb3VudE9yZ2FuaXphdGlvbkxpc3Qobm9kZSwgcHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50T3JnYW5pemF0aW9uTGlzdE5vZGVzLnNldChub2RlLCBwcm9wcyk7XG4gICAgfVxuICB9O1xuXG4gIHVubW91bnRPcmdhbml6YXRpb25MaXN0ID0gKG5vZGU6IEhUTUxEaXZFbGVtZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHRoaXMuY2xlcmtqcy51bm1vdW50T3JnYW5pemF0aW9uTGlzdChub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE9yZ2FuaXphdGlvbkxpc3ROb2Rlcy5kZWxldGUobm9kZSk7XG4gICAgfVxuICB9O1xuXG4gIG1vdW50VXNlckJ1dHRvbiA9IChub2RlOiBIVE1MRGl2RWxlbWVudCwgdXNlckJ1dHRvblByb3BzOiBVc2VyQnV0dG9uUHJvcHMpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdGhpcy5jbGVya2pzLm1vdW50VXNlckJ1dHRvbihub2RlLCB1c2VyQnV0dG9uUHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50VXNlckJ1dHRvbk5vZGVzLnNldChub2RlLCB1c2VyQnV0dG9uUHJvcHMpO1xuICAgIH1cbiAgfTtcblxuICB1bm1vdW50VXNlckJ1dHRvbiA9IChub2RlOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMudW5tb3VudFVzZXJCdXR0b24obm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRVc2VyQnV0dG9uTm9kZXMuZGVsZXRlKG5vZGUpO1xuICAgIH1cbiAgfTtcblxuICBtb3VudFdhaXRsaXN0ID0gKG5vZGU6IEhUTUxEaXZFbGVtZW50LCBwcm9wczogV2FpdGxpc3RQcm9wcyk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMubW91bnRXYWl0bGlzdChub2RlLCBwcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRXYWl0bGlzdE5vZGVzLnNldChub2RlLCBwcm9wcyk7XG4gICAgfVxuICB9O1xuXG4gIHVubW91bnRXYWl0bGlzdCA9IChub2RlOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZXJranMudW5tb3VudFdhaXRsaXN0KG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50V2FpdGxpc3ROb2Rlcy5kZWxldGUobm9kZSk7XG4gICAgfVxuICB9O1xuXG4gIGFkZExpc3RlbmVyID0gKGxpc3RlbmVyOiBMaXN0ZW5lckNhbGxiYWNrKTogVW5zdWJzY3JpYmVDYWxsYmFjayA9PiB7XG4gICAgaWYgKHRoaXMuY2xlcmtqcykge1xuICAgICAgcmV0dXJuIHRoaXMuY2xlcmtqcy5hZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBsaXN0ZW5lckhhbmRsZXJzID0gdGhpcy5wcmVtb3VudEFkZExpc3RlbmVyQ2FsbHMuZ2V0KGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGxpc3RlbmVySGFuZGxlcnMpIHtcbiAgICAgICAgICBsaXN0ZW5lckhhbmRsZXJzLm5hdGl2ZVVuc3Vic2NyaWJlPy4oKTtcbiAgICAgICAgICB0aGlzLnByZW1vdW50QWRkTGlzdGVuZXJDYWxscy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5wcmVtb3VudEFkZExpc3RlbmVyQ2FsbHMuc2V0KGxpc3RlbmVyLCB7IHVuc3Vic2NyaWJlLCBuYXRpdmVVbnN1YnNjcmliZTogdW5kZWZpbmVkIH0pO1xuICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xuICAgIH1cbiAgfTtcblxuICBuYXZpZ2F0ZSA9ICh0bzogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/Lm5hdmlnYXRlKHRvKTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdm9pZCBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50TWV0aG9kQ2FsbHMuc2V0KCduYXZpZ2F0ZScsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgcmVkaXJlY3RXaXRoQXV0aCA9IGFzeW5jICguLi5hcmdzOiBQYXJhbWV0ZXJzPENsZXJrWydyZWRpcmVjdFdpdGhBdXRoJ10+KTogUHJvbWlzZTx1bmtub3duPiA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LnJlZGlyZWN0V2l0aEF1dGgoLi4uYXJncyk7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50TWV0aG9kQ2FsbHMuc2V0KCdyZWRpcmVjdFdpdGhBdXRoJywgY2FsbGJhY2spO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICByZWRpcmVjdFRvU2lnbkluID0gYXN5bmMgKG9wdHM6IFNpZ25JblJlZGlyZWN0T3B0aW9ucyk6IFByb21pc2U8dW5rbm93bj4gPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5yZWRpcmVjdFRvU2lnbkluKG9wdHMgYXMgYW55KTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ3JlZGlyZWN0VG9TaWduSW4nLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIHJlZGlyZWN0VG9TaWduVXAgPSBhc3luYyAob3B0czogU2lnblVwUmVkaXJlY3RPcHRpb25zKTogUHJvbWlzZTx1bmtub3duPiA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LnJlZGlyZWN0VG9TaWduVXAob3B0cyBhcyBhbnkpO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgncmVkaXJlY3RUb1NpZ25VcCcsIGNhbGxiYWNrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgcmVkaXJlY3RUb1VzZXJQcm9maWxlID0gYXN5bmMgKCk6IFByb21pc2U8dW5rbm93bj4gPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5yZWRpcmVjdFRvVXNlclByb2ZpbGUoKTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ3JlZGlyZWN0VG9Vc2VyUHJvZmlsZScsIGNhbGxiYWNrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgcmVkaXJlY3RUb0FmdGVyU2lnblVwID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5yZWRpcmVjdFRvQWZ0ZXJTaWduVXAoKTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ3JlZGlyZWN0VG9BZnRlclNpZ25VcCcsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgcmVkaXJlY3RUb0FmdGVyU2lnbkluID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5yZWRpcmVjdFRvQWZ0ZXJTaWduSW4oKTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgncmVkaXJlY3RUb0FmdGVyU2lnbkluJywgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICByZWRpcmVjdFRvQWZ0ZXJTaWduT3V0ID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5yZWRpcmVjdFRvQWZ0ZXJTaWduT3V0KCk7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ3JlZGlyZWN0VG9BZnRlclNpZ25PdXQnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIHJlZGlyZWN0VG9Pcmdhbml6YXRpb25Qcm9maWxlID0gYXN5bmMgKCk6IFByb21pc2U8dW5rbm93bj4gPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5yZWRpcmVjdFRvT3JnYW5pemF0aW9uUHJvZmlsZSgpO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgncmVkaXJlY3RUb09yZ2FuaXphdGlvblByb2ZpbGUnLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIHJlZGlyZWN0VG9DcmVhdGVPcmdhbml6YXRpb24gPSBhc3luYyAoKTogUHJvbWlzZTx1bmtub3duPiA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LnJlZGlyZWN0VG9DcmVhdGVPcmdhbml6YXRpb24oKTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ3JlZGlyZWN0VG9DcmVhdGVPcmdhbml6YXRpb24nLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIHJlZGlyZWN0VG9XYWl0bGlzdCA9IGFzeW5jICgpOiBQcm9taXNlPHVua25vd24+ID0+IHtcbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHRoaXMuY2xlcmtqcz8ucmVkaXJlY3RUb1dhaXRsaXN0KCk7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50TWV0aG9kQ2FsbHMuc2V0KCdyZWRpcmVjdFRvV2FpdGxpc3QnLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZVJlZGlyZWN0Q2FsbGJhY2sgPSAocGFyYW1zOiBIYW5kbGVPQXV0aENhbGxiYWNrUGFyYW1zKTogdm9pZCA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LmhhbmRsZVJlZGlyZWN0Q2FsbGJhY2socGFyYW1zKTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgdm9pZCBjYWxsYmFjaygpPy5jYXRjaCgoKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3IgaXMgY2F1c2VkIHdoZW4gdGhlIGhvc3QgYXBwIGlzIHVzaW5nIFJlYWN0MThcbiAgICAgICAgLy8gYW5kIHN0cmljdE1vZGUgaXMgZW5hYmxlZC4gVGhpcyB1c2VFZmZlY3RzIHJ1bnMgdHdpY2UgYmVjYXVzZVxuICAgICAgICAvLyB0aGUgY2xlcmstcmVhY3QgdWkgY29tcG9uZW50cyBtb3VudHMsIHVubW91bnRzIGFuZCBtb3VudHMgYWdhaW5cbiAgICAgICAgLy8gc28gdGhlIGNsZXJrLWpzIGNvbXBvbmVudCBsb3NlcyBpdHMgc3RhdGUgYmVjYXVzZSBvZiB0aGUgY3VzdG9tXG4gICAgICAgIC8vIHVubW91bnQgY2FsbGJhY2sgd2UncmUgdXNpbmcuXG4gICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgc29sdmVkIGJ5IHR3ZWFraW5nIHRoZSBsb2dpYyBpbiB1aUNvbXBvbmVudHMudHN4XG4gICAgICAgIC8vIG9yIGJ5IG1ha2luZyBoYW5kbGVSZWRpcmVjdENhbGxiYWNrIGlkZW1wb3RlbnRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50TWV0aG9kQ2FsbHMuc2V0KCdoYW5kbGVSZWRpcmVjdENhbGxiYWNrJywgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVHb29nbGVPbmVUYXBDYWxsYmFjayA9IChcbiAgICBzaWduSW5PclVwOiBTaWduSW5SZXNvdXJjZSB8IFNpZ25VcFJlc291cmNlLFxuICAgIHBhcmFtczogSGFuZGxlT0F1dGhDYWxsYmFja1BhcmFtcyxcbiAgKTogdm9pZCA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LmhhbmRsZUdvb2dsZU9uZVRhcENhbGxiYWNrKHNpZ25Jbk9yVXAsIHBhcmFtcyk7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHZvaWQgY2FsbGJhY2soKT8uY2F0Y2goKCkgPT4ge1xuICAgICAgICAvLyBUaGlzIGVycm9yIGlzIGNhdXNlZCB3aGVuIHRoZSBob3N0IGFwcCBpcyB1c2luZyBSZWFjdDE4XG4gICAgICAgIC8vIGFuZCBzdHJpY3RNb2RlIGlzIGVuYWJsZWQuIFRoaXMgdXNlRWZmZWN0cyBydW5zIHR3aWNlIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIGNsZXJrLXJlYWN0IHVpIGNvbXBvbmVudHMgbW91bnRzLCB1bm1vdW50cyBhbmQgbW91bnRzIGFnYWluXG4gICAgICAgIC8vIHNvIHRoZSBjbGVyay1qcyBjb21wb25lbnQgbG9zZXMgaXRzIHN0YXRlIGJlY2F1c2Ugb2YgdGhlIGN1c3RvbVxuICAgICAgICAvLyB1bm1vdW50IGNhbGxiYWNrIHdlJ3JlIHVzaW5nLlxuICAgICAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIHNvbHZlZCBieSB0d2Vha2luZyB0aGUgbG9naWMgaW4gdWlDb21wb25lbnRzLnRzeFxuICAgICAgICAvLyBvciBieSBtYWtpbmcgaGFuZGxlUmVkaXJlY3RDYWxsYmFjayBpZGVtcG90ZW50XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnaGFuZGxlR29vZ2xlT25lVGFwQ2FsbGJhY2snLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUVtYWlsTGlua1ZlcmlmaWNhdGlvbiA9IGFzeW5jIChwYXJhbXM6IEhhbmRsZUVtYWlsTGlua1ZlcmlmaWNhdGlvblBhcmFtcyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5oYW5kbGVFbWFpbExpbmtWZXJpZmljYXRpb24ocGFyYW1zKTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCkgYXMgUHJvbWlzZTx2b2lkPjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnaGFuZGxlRW1haWxMaW5rVmVyaWZpY2F0aW9uJywgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICBhdXRoZW50aWNhdGVXaXRoTWV0YW1hc2sgPSBhc3luYyAocGFyYW1zOiBBdXRoZW50aWNhdGVXaXRoTWV0YW1hc2tQYXJhbXMpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHRoaXMuY2xlcmtqcz8uYXV0aGVudGljYXRlV2l0aE1ldGFtYXNrKHBhcmFtcyk7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpIGFzIFByb21pc2U8dm9pZD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ2F1dGhlbnRpY2F0ZVdpdGhNZXRhbWFzaycsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgYXV0aGVudGljYXRlV2l0aENvaW5iYXNlV2FsbGV0ID0gYXN5bmMgKHBhcmFtczogQXV0aGVudGljYXRlV2l0aENvaW5iYXNlV2FsbGV0UGFyYW1zKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LmF1dGhlbnRpY2F0ZVdpdGhDb2luYmFzZVdhbGxldChwYXJhbXMpO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKSBhcyBQcm9taXNlPHZvaWQ+O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50TWV0aG9kQ2FsbHMuc2V0KCdhdXRoZW50aWNhdGVXaXRoQ29pbmJhc2VXYWxsZXQnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGF1dGhlbnRpY2F0ZVdpdGhPS1hXYWxsZXQgPSBhc3luYyAocGFyYW1zPzogQXV0aGVudGljYXRlV2l0aE9LWFdhbGxldFBhcmFtcyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5hdXRoZW50aWNhdGVXaXRoT0tYV2FsbGV0KHBhcmFtcyk7XG4gICAgaWYgKHRoaXMuY2xlcmtqcyAmJiB0aGlzLiNsb2FkZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpIGFzIFByb21pc2U8dm9pZD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ2F1dGhlbnRpY2F0ZVdpdGhPS1hXYWxsZXQnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIGF1dGhlbnRpY2F0ZVdpdGhXZWIzID0gYXN5bmMgKHBhcmFtczogQ2xlcmtBdXRoZW50aWNhdGVXaXRoV2ViM1BhcmFtcyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5hdXRoZW50aWNhdGVXaXRoV2ViMyhwYXJhbXMpO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKSBhcyBQcm9taXNlPHZvaWQ+O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50TWV0aG9kQ2FsbHMuc2V0KCdhdXRoZW50aWNhdGVXaXRoV2ViMycsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgYXV0aGVudGljYXRlV2l0aEdvb2dsZU9uZVRhcCA9IGFzeW5jIChcbiAgICBwYXJhbXM6IEF1dGhlbnRpY2F0ZVdpdGhHb29nbGVPbmVUYXBQYXJhbXMsXG4gICk6IFByb21pc2U8U2lnbkluUmVzb3VyY2UgfCBTaWduVXBSZXNvdXJjZT4gPT4ge1xuICAgIGNvbnN0IGNsZXJranMgPSBhd2FpdCB0aGlzLiN3YWl0Rm9yQ2xlcmtKUygpO1xuICAgIHJldHVybiBjbGVya2pzLmF1dGhlbnRpY2F0ZVdpdGhHb29nbGVPbmVUYXAocGFyYW1zKTtcbiAgfTtcblxuICBjcmVhdGVPcmdhbml6YXRpb24gPSBhc3luYyAocGFyYW1zOiBDcmVhdGVPcmdhbml6YXRpb25QYXJhbXMpOiBQcm9taXNlPE9yZ2FuaXphdGlvblJlc291cmNlIHwgdm9pZD4gPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5jcmVhdGVPcmdhbml6YXRpb24ocGFyYW1zKTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCkgYXMgUHJvbWlzZTxPcmdhbml6YXRpb25SZXNvdXJjZT47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbW91bnRNZXRob2RDYWxscy5zZXQoJ2NyZWF0ZU9yZ2FuaXphdGlvbicsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgZ2V0T3JnYW5pemF0aW9uID0gYXN5bmMgKG9yZ2FuaXphdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPE9yZ2FuaXphdGlvblJlc291cmNlIHwgdm9pZD4gPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gdGhpcy5jbGVya2pzPy5nZXRPcmdhbml6YXRpb24ob3JnYW5pemF0aW9uSWQpO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKSBhcyBQcm9taXNlPE9yZ2FuaXphdGlvblJlc291cmNlPjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnZ2V0T3JnYW5pemF0aW9uJywgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICBqb2luV2FpdGxpc3QgPSBhc3luYyAocGFyYW1zOiBKb2luV2FpdGxpc3RQYXJhbXMpOiBQcm9taXNlPFdhaXRsaXN0UmVzb3VyY2UgfCB2b2lkPiA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB0aGlzLmNsZXJranM/LmpvaW5XYWl0bGlzdChwYXJhbXMpO1xuICAgIGlmICh0aGlzLmNsZXJranMgJiYgdGhpcy4jbG9hZGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKSBhcyBQcm9taXNlPFdhaXRsaXN0UmVzb3VyY2U+O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZW1vdW50TWV0aG9kQ2FsbHMuc2V0KCdqb2luV2FpdGxpc3QnLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIHNpZ25PdXQ6IFNpZ25PdXQgPSBhc3luYyAoXG4gICAgc2lnbk91dENhbGxiYWNrT3JPcHRpb25zPzogU2lnbk91dENhbGxiYWNrIHwgU2lnbk91dE9wdGlvbnMsXG4gICAgb3B0aW9ucz86IFNpZ25PdXRPcHRpb25zLFxuICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHRoaXMuY2xlcmtqcz8uc2lnbk91dChzaWduT3V0Q2FsbGJhY2tPck9wdGlvbnMgYXMgYW55LCBvcHRpb25zKTtcbiAgICBpZiAodGhpcy5jbGVya2pzICYmIHRoaXMuI2xvYWRlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCkgYXMgUHJvbWlzZTx2b2lkPjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVtb3VudE1ldGhvZENhbGxzLnNldCgnc2lnbk91dCcsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG59XG4iXSwibmFtZXMiOlsic3JjX2V4cG9ydHMiLCJfX2V4cG9ydCIsIkF1dGhlbnRpY2F0ZVdpdGhSZWRpcmVjdENhbGxiYWNrIiwiQ2xlcmtMb2FkZWQiLCJDbGVya0xvYWRpbmciLCJDbGVya1Byb3ZpZGVyIiwiQ3JlYXRlT3JnYW5pemF0aW9uIiwiR29vZ2xlT25lVGFwIiwiT3JnYW5pemF0aW9uTGlzdCIsIk9yZ2FuaXphdGlvblByb2ZpbGUiLCJPcmdhbml6YXRpb25Td2l0Y2hlciIsIlByb3RlY3QiLCJSZWRpcmVjdFRvQ3JlYXRlT3JnYW5pemF0aW9uIiwiUmVkaXJlY3RUb09yZ2FuaXphdGlvblByb2ZpbGUiLCJSZWRpcmVjdFRvU2lnbkluIiwiUmVkaXJlY3RUb1NpZ25VcCIsIlJlZGlyZWN0VG9Vc2VyUHJvZmlsZSIsIlNpZ25JbiIsIlNpZ25JbkJ1dHRvbiIsIlNpZ25JbldpdGhNZXRhbWFza0J1dHRvbiIsIlNpZ25PdXRCdXR0b24iLCJTaWduVXAiLCJTaWduVXBCdXR0b24iLCJTaWduZWRJbiIsIlNpZ25lZE91dCIsIlVzZXJCdXR0b24iLCJVc2VyUHJvZmlsZSIsIldhaXRsaXN0IiwidXNlQXV0aCIsInVzZUNsZXJrIiwiaW1wb3J0X3JlYWN0MjAiLCJ1c2VFbWFpbExpbmsiLCJ1c2VPcmdhbml6YXRpb24iLCJ1c2VPcmdhbml6YXRpb25MaXN0IiwidXNlUmV2ZXJpZmljYXRpb24iLCJ1c2VTZXNzaW9uIiwidXNlU2Vzc2lvbkxpc3QiLCJ1c2VTaWduSW4iLCJ1c2VTaWduVXAiLCJ1c2VVc2VyIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fdG9Db21tb25KUyIsIndpbmRvdyIsImdsb2JhbCIsImltcG9ydF9sb2FkQ2xlcmtKc1NjcmlwdCIsInJlcXVpcmUiLCJpbXBvcnRfZXJyb3IiLCJlcnJvclRocm93ZXIiLCJidWlsZEVycm9yVGhyb3dlciIsInBhY2thZ2VOYW1lIiwic2V0RXJyb3JUaHJvd2VyT3B0aW9ucyIsIm9wdGlvbnMiLCJzZXRNZXNzYWdlcyIsInNldFBhY2thZ2VOYW1lIiwiaW1wb3J0X3V0aWxzIiwiaW1wb3J0X3JlYWN0IiwiX190b0VTTSIsIm11bHRpcGxlQ2xlcmtQcm92aWRlcnNFcnJvciIsIm11bHRpcGxlQ2hpbGRyZW5JbkJ1dHRvbkNvbXBvbmVudCIsIm5hbWUiLCJpbnZhbGlkU3RhdGVFcnJvciIsInVuc3VwcG9ydGVkTm9uQnJvd3NlckRvbWFpbk9yUHJveHlVcmxGdW5jdGlvbiIsInVzZXJQcm9maWxlUGFnZVJlbmRlcmVkRXJyb3IiLCJ1c2VyUHJvZmlsZUxpbmtSZW5kZXJlZEVycm9yIiwib3JnYW5pemF0aW9uUHJvZmlsZVBhZ2VSZW5kZXJlZEVycm9yIiwib3JnYW5pemF0aW9uUHJvZmlsZUxpbmtSZW5kZXJlZEVycm9yIiwiY3VzdG9tUGFnZXNJZ25vcmVkQ29tcG9uZW50IiwiY29tcG9uZW50TmFtZSIsImN1c3RvbVBhZ2VXcm9uZ1Byb3BzIiwiY3VzdG9tTGlua1dyb25nUHJvcHMiLCJ1c2VyQnV0dG9uSWdub3JlZENvbXBvbmVudCIsImN1c3RvbU1lbnVJdGVtc0lnbm9yZWRDb21wb25lbnQiLCJ1c2VyQnV0dG9uTWVudUl0ZW1zUmVuZGVyZWRFcnJvciIsInVzZXJCdXR0b25NZW51QWN0aW9uUmVuZGVyZWRFcnJvciIsInVzZXJCdXR0b25NZW51TGlua1JlbmRlcmVkRXJyb3IiLCJ1c2VyQnV0dG9uTWVudUl0ZW1MaW5rV3JvbmdQcm9wcyIsInVzZXJCdXR0b25NZW51SXRlbXNBY3Rpb25Xcm9uZ3NQcm9wcyIsImFzc2VydFNpbmdsZUNoaWxkIiwiY2hpbGRyZW4iLCJSZWFjdCIsIkNoaWxkcmVuIiwib25seSIsInRocm93Iiwibm9ybWFsaXplV2l0aERlZmF1bHRWYWx1ZSIsImRlZmF1bHRUZXh0IiwiY3JlYXRlRWxlbWVudCIsInNhZmVFeGVjdXRlIiwiY2IiLCJhcmdzIiwiaXNDb25zdHJ1Y3RvciIsImYiLCJjb3VudHMiLCJNYXAiLCJ1c2VNYXhBbGxvd2VkSW5zdGFuY2VzR3VhcmQiLCJlcnJvciIsIm1heENvdW50IiwiaW1wb3J0X3JlYWN0MiIsInVzZUVmZmVjdCIsImNvdW50IiwiZ2V0Iiwic2V0Iiwid2l0aE1heEFsbG93ZWRJbnN0YW5jZXNHdWFyZCIsIldyYXBwZWRDb21wb25lbnQiLCJkaXNwbGF5TmFtZSIsIkhvYyIsInByb3BzIiwiaW1wb3J0X3JlYWN0X2RvbSIsInVzZUN1c3RvbUVsZW1lbnRQb3J0YWwiLCJlbGVtZW50cyIsImluaXRpYWxTdGF0ZSIsIkFycmF5IiwibGVuZ3RoIiwiZmlsbCIsIm5vZGVzIiwic2V0Tm9kZXMiLCJpbXBvcnRfcmVhY3QzIiwidXNlU3RhdGUiLCJtYXAiLCJlbCIsImluZGV4IiwiaWQiLCJtb3VudCIsIm5vZGUiLCJwcmV2U3RhdGUiLCJuIiwiaSIsInVubW91bnQiLCJwb3J0YWwiLCJGcmFnbWVudCIsImNyZWF0ZVBvcnRhbCIsImNvbXBvbmVudCIsImlzVGhhdENvbXBvbmVudCIsInYiLCJpbXBvcnRfcmVhY3Q0IiwiaXNWYWxpZEVsZW1lbnQiLCJ0eXBlIiwidXNlVXNlclByb2ZpbGVDdXN0b21QYWdlcyIsInJlb3JkZXJJdGVtc0xhYmVscyIsInVzZUN1c3RvbVBhZ2VzIiwiTGlua0NvbXBvbmVudCIsIlVzZXJQcm9maWxlTGluayIsIlBhZ2VDb21wb25lbnQiLCJVc2VyUHJvZmlsZVBhZ2UiLCJNZW51SXRlbXNDb21wb25lbnQiLCJNZW51SXRlbXMiLCJ1c2VPcmdhbml6YXRpb25Qcm9maWxlQ3VzdG9tUGFnZXMiLCJPcmdhbml6YXRpb25Qcm9maWxlTGluayIsIk9yZ2FuaXphdGlvblByb2ZpbGVQYWdlIiwidXNlU2FuaXRpemVkQ2hpbGRyZW4iLCJzYW5pdGl6ZWRDaGlsZHJlbiIsImV4Y2x1ZGVkQ29tcG9uZW50cyIsImltcG9ydF9yZWFjdDUiLCJmb3JFYWNoIiwiY2hpbGQiLCJzb21lIiwicHVzaCIsInBhcmFtcyIsImFsbG93Rm9yQW55Q2hpbGRyZW4iLCJ2YWxpZENoaWxkcmVuIiwibG9nRXJyb3JJbkRldk1vZGUiLCJsYWJlbCIsInVybCIsImxhYmVsSWNvbiIsImlzUmVvcmRlckl0ZW0iLCJpc0N1c3RvbVBhZ2UiLCJpc0V4dGVybmFsTGluayIsImN1c3RvbVBhZ2VDb250ZW50cyIsImN1c3RvbVBhZ2VMYWJlbEljb25zIiwiY3VzdG9tTGlua0xhYmVsSWNvbnMiLCJjcCIsImN1c3RvbVBhZ2VDb250ZW50c1BvcnRhbHMiLCJjdXN0b21QYWdlTGFiZWxJY29uc1BvcnRhbHMiLCJjdXN0b21MaW5rTGFiZWxJY29uc1BvcnRhbHMiLCJjdXN0b21QYWdlcyIsImN1c3RvbVBhZ2VzUG9ydGFscyIsImNvbnRlbnRQb3J0YWwiLCJmaW5kIiwicCIsImxhYmVsUG9ydGFsIiwibW91bnRJY29uIiwidW5tb3VudEljb24iLCJjaGlsZFByb3BzIiwidmFsaWRJdGVtcyIsInVzZVVzZXJCdXR0b25DdXN0b21NZW51SXRlbXMiLCJ1c2VDdXN0b21NZW51SXRlbXMiLCJNZW51QWN0aW9uQ29tcG9uZW50IiwiTWVudUFjdGlvbiIsIk1lbnVMaW5rQ29tcG9uZW50IiwiTWVudUxpbmsiLCJVc2VyUHJvZmlsZUxpbmtDb21wb25lbnQiLCJVc2VyUHJvZmlsZVBhZ2VDb21wb25lbnQiLCJjdXN0b21NZW51SXRlbXMiLCJjdXN0b21NZW51SXRlbXNQb3J0YWxzIiwiaW1wb3J0X3JlYWN0NiIsImltcG9ydF91dGlsczIiLCJocmVmIiwib25DbGljayIsIm9wZW4iLCJpc0N1c3RvbU1lbnVJdGVtIiwiYmFzZUl0ZW0iLCJzdGFydHNXaXRoIiwiY3VzdG9tTWVudUl0ZW1MYWJlbEljb25zIiwibWkiLCJjdXN0b21NZW51SXRlbUxhYmVsSWNvbnNQb3J0YWxzIiwiaWNvblBvcnRhbCIsIm1lbnVJdGVtIiwid2FpdEZvckVsZW1lbnRDaGlsZHJlbiIsInJvb3QiLCJkb2N1bWVudCIsImJvZHkiLCJzZWxlY3RvciIsInRpbWVvdXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkVycm9yIiwiZWxlbWVudFRvV2F0Y2giLCJxdWVyeVNlbGVjdG9yIiwiaXNFbGVtZW50QWxyZWFkeVByZXNlbnQiLCJjaGlsZEVsZW1lbnRDb3VudCIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9uc0xpc3QiLCJtdXRhdGlvbiIsImRpc2Nvbm5lY3QiLCJvYnNlcnZlIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsInNldFRpbWVvdXQiLCJ1c2VXYWl0Rm9yQ29tcG9uZW50TW91bnQiLCJ3YXRjaGVyUmVmIiwiaW1wb3J0X3JlYWN0NyIsInVzZVJlZiIsInN0YXR1cyIsInNldFN0YXR1cyIsImN1cnJlbnQiLCJ0aGVuIiwiY2F0Y2giLCJpbXBvcnRfb2JqZWN0IiwiaXNNb3VudFByb3BzIiwiaXNPcGVuUHJvcHMiLCJzdHJpcE1lbnVJdGVtSWNvbkhhbmRsZXJzIiwibWVudUl0ZW1zIiwicmVzdCIsIkNsZXJrSG9zdFJlbmRlcmVyIiwiaW1wb3J0X3JlYWN0OSIsIlB1cmVDb21wb25lbnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJfcHJldlByb3BzIiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJwcmV2UHJvcHMiLCJ3aXRob3V0IiwibmV3UHJvcHMiLCJjdXN0b21QYWdlc0NoYW5nZWQiLCJjdXN0b21NZW51SXRlbXNDaGFuZ2VkIiwicHJldk1lbnVJdGVtc1dpdGhvdXRIYW5kbGVycyIsIm5ld01lbnVJdGVtc1dpdGhvdXRIYW5kbGVycyIsImltcG9ydF9yZWFjdDgiLCJpc0RlZXBseUVxdWFsIiwicm9vdFJlZiIsInVwZGF0ZVByb3BzIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImNsb3NlIiwicmVuZGVyIiwiaGlkZVJvb3RIdG1sRWxlbWVudCIsInJvb3RBdHRyaWJ1dGVzIiwicmVmIiwicm9vdFByb3BzIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJjcmVhdGVSZWYiLCJJc29tb3JwaGljQ2xlcmtDb250ZXh0IiwiaW1wb3J0X3JlYWN0MTAiLCJDbGVya0luc3RhbmNlQ29udGV4dCIsInVzZUlzb21vcnBoaWNDbGVya0NvbnRleHQiLCJ1c2VDbGVya0luc3RhbmNlQ29udGV4dCIsInVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIiLCJzb3VyY2UiLCJpbXBvcnRfcmVhY3QxMSIsInVzZVNoYXJlZEFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIiLCJ0aHJvd01pc3NpbmdDbGVya1Byb3ZpZGVyRXJyb3IiLCJ3aXRoQ2xlcmsiLCJDb21wb25lbnQiLCJkaXNwbGF5TmFtZU9yT3B0aW9ucyIsInBhc3NlZERpc3BsYXllZE5hbWUiLCJIT0MiLCJjbGVyayIsImxvYWRlZCIsInJlbmRlcldoaWxlTG9hZGluZyIsImltcG9ydF9yZWFjdDEyIiwiQ3VzdG9tUG9ydGFsc1JlbmRlcmVyIiwiaW1wb3J0X3JlYWN0MTMiLCJrZXkiLCJmYWxsYmFjayIsIm1vdW50aW5nU3RhdHVzIiwic2hvdWxkU2hvd0ZhbGxiYWNrIiwicmVuZGVyZXJSb290UHJvcHMiLCJzdHlsZSIsImRpc3BsYXkiLCJtb3VudFNpZ25JbiIsInVubW91bnRTaWduSW4iLCJfX3Vuc3RhYmxlX191cGRhdGVQcm9wcyIsIm1vdW50U2lnblVwIiwidW5tb3VudFNpZ25VcCIsImltcG9ydF91dGlsczMiLCJfVXNlclByb2ZpbGUiLCJtb3VudFVzZXJQcm9maWxlIiwidW5tb3VudFVzZXJQcm9maWxlIiwiT2JqZWN0IiwiYXNzaWduIiwiUGFnZSIsIkxpbmsiLCJVc2VyQnV0dG9uQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJfVXNlckJ1dHRvbiIsIl9fZXhwZXJpbWVudGFsX2FzUHJvdmlkZXIiLCJ1c2VyUHJvZmlsZVByb3BzIiwicGFzc2FibGVQcm9wcyIsIm1vdW50VXNlckJ1dHRvbiIsInVubW91bnRVc2VyQnV0dG9uIiwicG9ydGFsUHJvcHMiLCJQcm92aWRlciIsInZhbHVlIiwiVXNlckJ1dHRvbk91dGxldCIsIm91dGxldFByb3BzIiwicHJvdmlkZXJQcm9wcyIsInVzZUNvbnRleHQiLCJBY3Rpb24iLCJfX2V4cGVyaW1lbnRhbF9PdXRsZXQiLCJfT3JnYW5pemF0aW9uUHJvZmlsZSIsIm1vdW50T3JnYW5pemF0aW9uUHJvZmlsZSIsInVubW91bnRPcmdhbml6YXRpb25Qcm9maWxlIiwibW91bnRDcmVhdGVPcmdhbml6YXRpb24iLCJ1bm1vdW50Q3JlYXRlT3JnYW5pemF0aW9uIiwiT3JnYW5pemF0aW9uU3dpdGNoZXJDb250ZXh0IiwiX09yZ2FuaXphdGlvblN3aXRjaGVyIiwib3JnYW5pemF0aW9uUHJvZmlsZVByb3BzIiwibW91bnRPcmdhbml6YXRpb25Td2l0Y2hlciIsInVubW91bnRPcmdhbml6YXRpb25Td2l0Y2hlciIsIl9fZXhwZXJpbWVudGFsX3ByZWZldGNoT3JnYW5pemF0aW9uU3dpdGNoZXIiLCJPcmdhbml6YXRpb25Td2l0Y2hlck91dGxldCIsIm1vdW50T3JnYW5pemF0aW9uTGlzdCIsInVubW91bnRPcmdhbml6YXRpb25MaXN0Iiwib3Blbkdvb2dsZU9uZVRhcCIsImNsb3NlR29vZ2xlT25lVGFwIiwibW91bnRXYWl0bGlzdCIsInVubW91bnRXYWl0bGlzdCIsImltcG9ydF9kZXByZWNhdGVkIiwiQXV0aENvbnRleHQiLCJ1c2VBdXRoQ29udGV4dCIsImltcG9ydF9yZWFjdDE0IiwiY3JlYXRlQ29udGV4dEFuZEhvb2siLCJpbXBvcnRfYXV0aG9yaXphdGlvbiIsImNsZXJrTG9hZGVkIiwiaXNvbW9ycGhpY0NsZXJrIiwiYWRkT25Mb2FkZWQiLCJjcmVhdGVHZXRUb2tlbiIsInNlc3Npb24iLCJnZXRUb2tlbiIsImNyZWF0ZVNpZ25PdXQiLCJzaWduT3V0IiwiaW5pdGlhbEF1dGhTdGF0ZSIsImF1dGhDb250ZXh0RnJvbUhvb2siLCJhdXRoQ29udGV4dCIsInNlc3Npb25JZCIsInVzZXJJZCIsImFjdG9yIiwib3JnSWQiLCJvcmdSb2xlIiwib3JnU2x1ZyIsIm9yZ1Blcm1pc3Npb25zIiwiZmFjdG9yVmVyaWZpY2F0aW9uQWdlIiwiaW1wb3J0X3JlYWN0MTYiLCJ1c2VDYWxsYmFjayIsInVzZURlcml2ZWRBdXRoIiwiYXV0aE9iamVjdCIsImhhcyIsImRlcml2ZWRIYXMiLCJjcmVhdGVDaGVja0F1dGhvcml6YXRpb24iLCJpc0xvYWRlZCIsImlzU2lnbmVkSW4iLCJyZXNvdXJjZSIsInN0YXJ0RW1haWxMaW5rRmxvdyIsImNhbmNlbEVtYWlsTGlua0Zsb3ciLCJpbXBvcnRfcmVhY3QxNyIsInVzZU1lbW8iLCJjcmVhdGVFbWFpbExpbmtGbG93IiwiaW1wb3J0X3RlbGVtZXRyeSIsImNsaWVudCIsImltcG9ydF9yZWFjdDE4IiwidXNlQ2xpZW50Q29udGV4dCIsInRlbGVtZXRyeSIsInJlY29yZCIsImV2ZW50TWV0aG9kQ2FsbGVkIiwic2lnbkluIiwic2V0QWN0aXZlIiwiaW1wb3J0X3JlYWN0MTkiLCJpbXBvcnRfdGVsZW1ldHJ5MiIsInNpZ25VcCIsInJlc3RBdXRob3JpemVkUGFyYW1zIiwidW5hdXRob3JpemVkIiwiYXV0aG9yaXplZCIsImNvbmRpdGlvbiIsInJvbGUiLCJwZXJtaXNzaW9uIiwiaGFzQWN0aXZlU2Vzc2lvbnMiLCJhY3RpdmVTZXNzaW9ucyIsImltcG9ydF9yZWFjdDIxIiwicmVkaXJlY3RUb0FmdGVyU2lnbk91dCIsInJlZGlyZWN0VG9TaWduSW4iLCJyZWRpcmVjdFRvU2lnblVwIiwiZGVwcmVjYXRlZCIsInJlZGlyZWN0VG9Vc2VyUHJvZmlsZSIsInJlZGlyZWN0VG9Pcmdhbml6YXRpb25Qcm9maWxlIiwicmVkaXJlY3RUb0NyZWF0ZU9yZ2FuaXphdGlvbiIsImhhbmRsZVJlZGlyZWN0Q2FsbGJhY2tQYXJhbXMiLCJoYW5kbGVSZWRpcmVjdENhbGxiYWNrIiwic2lnblVwRmFsbGJhY2tSZWRpcmVjdFVybCIsImZvcmNlUmVkaXJlY3RVcmwiLCJmYWxsYmFja1JlZGlyZWN0VXJsIiwic2lnblVwRm9yY2VSZWRpcmVjdFVybCIsIm1vZGUiLCJpbml0aWFsVmFsdWVzIiwid2l0aFNpZ25VcCIsImNsaWNrSGFuZGxlciIsIm9wdHMiLCJvcGVuU2lnbkluIiwiYXBwZWFyYW5jZSIsInNpZ25JbkZhbGxiYWNrUmVkaXJlY3RVcmwiLCJzaWduSW5Gb3JjZVJlZGlyZWN0VXJsIiwid3JhcHBlZENoaWxkQ2xpY2tIYW5kbGVyIiwiZSIsImltcG9ydF9yZWFjdDIyIiwiY2xvbmVFbGVtZW50IiwidW5zYWZlTWV0YWRhdGEiLCJvcGVuU2lnblVwIiwiaW1wb3J0X3JlYWN0MjMiLCJyZWRpcmVjdFVybCIsInNpZ25PdXRPcHRpb25zIiwiaW1wb3J0X3JlYWN0MjQiLCJhdXRoZW50aWNhdGUiLCJhdXRoZW50aWNhdGVXaXRoTWV0YW1hc2siLCJpbXBvcnRfcmVhY3QyNSIsImltcG9ydF9rZXlzIiwiaW1wb3J0X2Rlcml2ZVN0YXRlIiwiaW1wb3J0X2Jyb3dzZXIiLCJnbG9iYWxUaGlzIiwiX19CVUlMRF9ESVNBQkxFX1JIQ19fIiwiU0RLX01FVEFEQVRBIiwidmVyc2lvbiIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiX2xvYWRlZCIsIl9kb21haW4iLCJfcHJveHlVcmwiLCJfcHVibGlzaGFibGVLZXkiLCJfaW5zdGFuY2UiLCJfSXNvbW9ycGhpY0NsZXJrX2luc3RhbmNlcyIsIndhaXRGb3JDbGVya0pTX2ZuIiwiX0lzb21vcnBoaWNDbGVyayIsInB1Ymxpc2hhYmxlS2V5IiwiX19wcml2YXRlR2V0IiwiZ2V0T3JDcmVhdGVJbnN0YW5jZSIsImluQnJvd3NlciIsIkNsZXJrIiwiX19wcml2YXRlU2V0IiwiY2xlYXJJbnN0YW5jZSIsImRvbWFpbiIsImxvY2F0aW9uIiwiaW1wb3J0X3V0aWxzMTAiLCJoYW5kbGVWYWx1ZU9yRm4iLCJVUkwiLCJwcm94eVVybCIsIl9faW50ZXJuYWxfZ2V0T3B0aW9uIiwiY2xlcmtqcyIsInNka01ldGFkYXRhIiwiaW5zdGFuY2VUeXBlIiwiZnJvbnRlbmRBcGkiLCJpc1N0YW5kYXJkQnJvd3NlciIsInN0YW5kYXJkQnJvd3NlciIsImlzU2F0ZWxsaXRlIiwibG9hZENsZXJrSlMiLCJfX2NsZXJrX3B1Ymxpc2hhYmxlX2tleSIsIl9fY2xlcmtfcHJveHlfdXJsIiwiX19jbGVya19kb21haW4iLCJjIiwibG9hZCIsImxvYWRDbGVya0pzU2NyaXB0Iiwibm9uY2UiLCJoeWRyYXRlQ2xlcmtKUyIsImVyciIsImNvbnNvbGUiLCJzdGFjayIsIm1lc3NhZ2UiLCJ1c2VyIiwib3JnYW5pemF0aW9uIiwiX191bnN0YWJsZV9fZW52aXJvbm1lbnQiLCJfX3Vuc3RhYmxlX19zZXRFbnZpcm9ubWVudCIsIl9fcHJpdmF0ZUFkZCIsInByZW9wZW5PbmVUYXAiLCJwcmVvcGVuVXNlclZlcmlmaWNhdGlvbiIsInByZW9wZW5TaWduSW4iLCJwcmVvcGVuU2lnblVwIiwicHJlb3BlblVzZXJQcm9maWxlIiwicHJlb3Blbk9yZ2FuaXphdGlvblByb2ZpbGUiLCJwcmVvcGVuQ3JlYXRlT3JnYW5pemF0aW9uIiwicHJlT3BlbldhaXRsaXN0IiwicHJlbW91bnRTaWduSW5Ob2RlcyIsInByZW1vdW50U2lnblVwTm9kZXMiLCJwcmVtb3VudFVzZXJQcm9maWxlTm9kZXMiLCJwcmVtb3VudFVzZXJCdXR0b25Ob2RlcyIsInByZW1vdW50T3JnYW5pemF0aW9uUHJvZmlsZU5vZGVzIiwicHJlbW91bnRDcmVhdGVPcmdhbml6YXRpb25Ob2RlcyIsInByZW1vdW50T3JnYW5pemF0aW9uU3dpdGNoZXJOb2RlcyIsInByZW1vdW50T3JnYW5pemF0aW9uTGlzdE5vZGVzIiwicHJlbW91bnRNZXRob2RDYWxscyIsInByZW1vdW50V2FpdGxpc3ROb2RlcyIsInByZW1vdW50QWRkTGlzdGVuZXJDYWxscyIsImxvYWRlZExpc3RlbmVycyIsImJ1aWxkU2lnbkluVXJsIiwiY2FsbGJhY2siLCJidWlsZFNpZ25VcFVybCIsImJ1aWxkQWZ0ZXJTaWduSW5VcmwiLCJidWlsZEFmdGVyU2lnblVwVXJsIiwiYnVpbGRBZnRlclNpZ25PdXRVcmwiLCJidWlsZEFmdGVyTXVsdGlTZXNzaW9uU2luZ2xlU2lnbk91dFVybCIsImJ1aWxkVXNlclByb2ZpbGVVcmwiLCJidWlsZENyZWF0ZU9yZ2FuaXphdGlvblVybCIsImJ1aWxkT3JnYW5pemF0aW9uUHJvZmlsZVVybCIsImJ1aWxkV2FpdGxpc3RVcmwiLCJidWlsZFVybFdpdGhBdXRoIiwidG8iLCJoYW5kbGVVbmF1dGhlbnRpY2F0ZWQiLCJlbWl0TG9hZGVkIiwibGlzdGVuZXJIYW5kbGVycyIsImxpc3RlbmVyIiwibmF0aXZlVW5zdWJzY3JpYmUiLCJhZGRMaXN0ZW5lciIsIm9wZW5Vc2VyUHJvZmlsZSIsIl9faW50ZXJuYWxfb3BlblJldmVyaWZpY2F0aW9uIiwib3Blbk9yZ2FuaXphdGlvblByb2ZpbGUiLCJvcGVuQ3JlYXRlT3JnYW5pemF0aW9uIiwib3BlbldhaXRsaXN0IiwiX19wcml2YXRlTWV0aG9kIiwiY2FsbCIsImJlZm9yZUVtaXQiLCJjbG9zZVNpZ25JbiIsIl9faW50ZXJuYWxfY2xvc2VSZXZlcmlmaWNhdGlvbiIsImNsb3NlVXNlclByb2ZpbGUiLCJjbG9zZU9yZ2FuaXphdGlvblByb2ZpbGUiLCJjbG9zZUNyZWF0ZU9yZ2FuaXphdGlvbiIsImNsb3NlV2FpdGxpc3QiLCJjbG9zZVNpZ25VcCIsImRlbGV0ZSIsInVzZXJCdXR0b25Qcm9wcyIsInVuc3Vic2NyaWJlIiwibmF2aWdhdGUiLCJyZWRpcmVjdFdpdGhBdXRoIiwicmVkaXJlY3RUb0FmdGVyU2lnblVwIiwicmVkaXJlY3RUb0FmdGVyU2lnbkluIiwicmVkaXJlY3RUb1dhaXRsaXN0IiwiaGFuZGxlR29vZ2xlT25lVGFwQ2FsbGJhY2siLCJzaWduSW5PclVwIiwiaGFuZGxlRW1haWxMaW5rVmVyaWZpY2F0aW9uIiwiYXV0aGVudGljYXRlV2l0aENvaW5iYXNlV2FsbGV0IiwiYXV0aGVudGljYXRlV2l0aE9LWFdhbGxldCIsImF1dGhlbnRpY2F0ZVdpdGhXZWIzIiwiYXV0aGVudGljYXRlV2l0aEdvb2dsZU9uZVRhcCIsImNyZWF0ZU9yZ2FuaXphdGlvbiIsImdldE9yZ2FuaXphdGlvbiIsIm9yZ2FuaXphdGlvbklkIiwiam9pbldhaXRsaXN0Iiwic2lnbk91dENhbGxiYWNrT3JPcHRpb25zIiwiV2Vha01hcCIsIldlYWtTZXQiLCJJc29tb3JwaGljQ2xlcmsiLCJDbGVya0NvbnRleHRQcm92aWRlciIsImlzb21vcnBoaWNDbGVya09wdGlvbnMiLCJ1c2VMb2FkZWRJc29tb3JwaGljQ2xlcmsiLCJzdGF0ZSIsInNldFN0YXRlIiwiaW1wb3J0X3JlYWN0MjciLCJkZXJpdmVkU3RhdGUiLCJkZXJpdmVTdGF0ZSIsImNsZXJrQ3R4IiwiY2xpZW50Q3R4IiwiYXV0aEN0eCIsInNlc3Npb25DdHgiLCJ1c2VyQ3R4Iiwib3JnYW5pemF0aW9uQ3R4IiwiaW1wb3J0X3JlYWN0MjYiLCJDbGllbnRDb250ZXh0IiwiU2Vzc2lvbkNvbnRleHQiLCJPcmdhbml6YXRpb25Qcm92aWRlciIsIlVzZXJDb250ZXh0Iiwic2V0TG9hZGVkIiwibG9jYWxpemF0aW9uIiwiQ2xlcmtQcm92aWRlckJhc2UiLCJfX2ludGVybmFsX2J5cGFzc01pc3NpbmdQdWJsaXNoYWJsZUtleSIsInJlc3RJc29tb3JwaGljQ2xlcmtPcHRpb25zIiwidXNlckluaXRpYWxpc2VkQ2xlcmsiLCJ0aHJvd01pc3NpbmdQdWJsaXNoYWJsZUtleUVycm9yIiwiaXNQdWJsaXNoYWJsZUtleSIsInRocm93SW52YWxpZFB1Ymxpc2hhYmxlS2V5RXJyb3IiLCJpbXBvcnRfcmVhY3QyOCIsImltcG9ydF9sb2FkQ2xlcmtKc1NjcmlwdDIiLCJzZXRDbGVya0pzTG9hZGluZ0Vycm9yUGFja2FnZU5hbWUiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxjQUFBLENBQUE7QUFBQUMsU0FBQUQsYUFBQTtJQUFBRSxrQ0FBQSxJQUFBQTtJQUFBQyxhQUFBLElBQUFB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