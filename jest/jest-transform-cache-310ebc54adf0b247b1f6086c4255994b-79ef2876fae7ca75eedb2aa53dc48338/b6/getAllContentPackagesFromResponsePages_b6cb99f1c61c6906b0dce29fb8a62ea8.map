{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/source-selector/src/utils/getAllContentPackagesFromResponsePages.ts"],"sourcesContent":["import { ContentPackage, ContentPackagesResponse } from \"@rp/react/tanstack-api/content\"\n\ntype GetAllContentPackagesFromResponsePagesProps = {\n  pages: Array<ContentPackagesResponse> | undefined\n  isPermittedFullCatalog: boolean\n}\n\nfunction getAllContentPackagesFromResponsePages({\n  pages,\n  isPermittedFullCatalog,\n}: GetAllContentPackagesFromResponsePagesProps): Array<ContentPackage> {\n  return (\n    pages\n      ?.flatMap(page => page.results)\n      .filter(\n        contentPackage =>\n          contentPackage.appEnabled && (isPermittedFullCatalog || contentPackage.catalogEnabled),\n      )\n      // \"all\" comes from the b/e as non-entitled, but should be entitled\n      .map(contentPackage =>\n        contentPackage.id === \"all\" ? { ...contentPackage, entitled: true } : contentPackage,\n      )\n      .sort(contentPackage => (contentPackage.id === \"all\" ? -1 : 1)) || []\n  )\n}\n\nexport { getAllContentPackagesFromResponsePages }\n"],"names":["getAllContentPackagesFromResponsePages","pages","isPermittedFullCatalog","flatMap","page","results","filter","contentPackage","appEnabled","catalogEnabled","map","id","entitled","sort"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA0BSA;;;eAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAnBT,SAASA,uCAAuC,EAC9CC,KAAK,EACLC,sBAAsB,EACsB;IAC5C,OACED,CAAAA,kBAAAA,4BAAAA,MACIE,OAAO,CAACC,CAAAA,OAAQA,KAAKC,OAAO,EAC7BC,MAAM,CACLC,CAAAA,iBACEA,eAAeC,UAAU,IAAKN,CAAAA,0BAA0BK,eAAeE,cAAc,AAAD,EAExF,mEAAmE;KAClEC,GAAG,CAACH,CAAAA,iBACHA,eAAeI,EAAE,KAAK,QAAQ,wCAAKJ;YAAgBK,UAAU;aAASL,gBAEvEM,IAAI,CAACN,CAAAA,iBAAmBA,eAAeI,EAAE,KAAK,QAAQ,CAAC,IAAI,OAAO,EAAE;AAE3E"}