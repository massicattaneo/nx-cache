{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/property-information/lib/util/create.js"],"sourcesContent":["/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n *\n * @typedef {Record<string, string>} Attributes\n *\n * @typedef {Object} Definition\n * @property {Record<string, number|null>} properties\n * @property {(attributes: Attributes, property: string) => string} transform\n * @property {string} [space]\n * @property {Attributes} [attributes]\n * @property {Array<string>} [mustUseProperty]\n */\n\nimport {normalize} from '../normalize.js'\nimport {Schema} from './schema.js'\nimport {DefinedInfo} from './defined-info.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Definition} definition\n * @returns {Schema}\n */\nexport function create(definition) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  /** @type {string} */\n  let prop\n\n  for (prop in definition.properties) {\n    if (own.call(definition.properties, prop)) {\n      const value = definition.properties[prop]\n      const info = new DefinedInfo(\n        prop,\n        definition.transform(definition.attributes || {}, prop),\n        value,\n        definition.space\n      )\n\n      if (\n        definition.mustUseProperty &&\n        definition.mustUseProperty.includes(prop)\n      ) {\n        info.mustUseProperty = true\n      }\n\n      property[prop] = info\n\n      normal[normalize(prop)] = prop\n      normal[normalize(info.attribute)] = prop\n    }\n  }\n\n  return new Schema(property, normal, definition.space)\n}\n"],"names":["create","own","hasOwnProperty","definition","property","normal","prop","properties","call","value","info","DefinedInfo","transform","attributes","space","mustUseProperty","includes","normalize","attribute","Schema"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA;;;;;;;;;;;;CAYC;;;;+BAYeA;;;eAAAA;;;2BAVQ;wBACH;6BACK;AAE1B,MAAMC,MAAM,CAAC,EAAEC,cAAc;AAMtB,SAASF,OAAOG,UAAU;IAC/B,uBAAuB,GACvB,MAAMC,WAAW,CAAC;IAClB,mBAAmB,GACnB,MAAMC,SAAS,CAAC;IAChB,mBAAmB,GACnB,IAAIC;IAEJ,IAAKA,QAAQH,WAAWI,UAAU,CAAE;QAClC,IAAIN,IAAIO,IAAI,CAACL,WAAWI,UAAU,EAAED,OAAO;YACzC,MAAMG,QAAQN,WAAWI,UAAU,CAACD,KAAK;YACzC,MAAMI,OAAO,IAAIC,wBAAW,CAC1BL,MACAH,WAAWS,SAAS,CAACT,WAAWU,UAAU,IAAI,CAAC,GAAGP,OAClDG,OACAN,WAAWW,KAAK;YAGlB,IACEX,WAAWY,eAAe,IAC1BZ,WAAWY,eAAe,CAACC,QAAQ,CAACV,OACpC;gBACAI,KAAKK,eAAe,GAAG;YACzB;YAEAX,QAAQ,CAACE,KAAK,GAAGI;YAEjBL,MAAM,CAACY,IAAAA,oBAAS,EAACX,MAAM,GAAGA;YAC1BD,MAAM,CAACY,IAAAA,oBAAS,EAACP,KAAKQ,SAAS,EAAE,GAAGZ;QACtC;IACF;IAEA,OAAO,IAAIa,cAAM,CAACf,UAAUC,QAAQF,WAAWW,KAAK;AACtD"}