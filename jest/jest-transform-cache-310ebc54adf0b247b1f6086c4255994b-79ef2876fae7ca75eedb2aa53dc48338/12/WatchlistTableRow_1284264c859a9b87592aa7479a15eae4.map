{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/components/Hub/Watchlists/PortfolioView/WatchlistTableRow.tsx"],"sourcesContent":["import React from \"react\"\nimport Highlighter from \"react-highlight-words\"\nimport { CqsItem } from \"@rp/common/api-types\"\nimport { getWatchlistItemDescription } from \"@rp/common/utils\"\nimport {\n  PanelConfig,\n  isMetadata,\n  usePanelConfig,\n} from \"@rp/react/tanstack-api/discovery-panel-config\"\nimport { EllipsisTooltip } from \"@rp/react/web/common/composite-components\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { IconButton, TableCell, TableRow, Typography, useTheme } from \"@rp/react/web/mui/core\"\nimport { Close } from \"@rp/react/web/mui/icons\"\n\nconst getTicker = (item: CqsItem, panelConfig?: PanelConfig) => {\n  if (item.category !== \"Companies\") {\n    return\n  }\n\n  if (!panelConfig) {\n    // Default trying to avoid loading state\n    return item.metadata1\n  }\n\n  const tickerMetadata = panelConfig.discoveryPanelCategories\n    .find(cat => cat.category === \"companies\")\n    ?.groups.filter(isMetadata)\n    .find(metadata => metadata.label === \"Ticker\")?.metadata\n\n  return tickerMetadata ? item[tickerMetadata] : undefined\n}\n\ntype Props = {\n  item: CqsItem\n  filterTerm: string\n  onDelete?: (id: string) => void\n}\n\nconst WatchlistTableRow = ({ item, filterTerm, onDelete }: Props) => {\n  const theme = useTheme()\n  const { data } = usePanelConfig()\n  const ticker = getTicker(item, data)\n  const { isMobile } = useDeviceInfo()\n\n  return (\n    <TableRow hover>\n      <TableCell sx={{ py: 2, maxWidth: isMobile ? \"1px\" : 300 }}>\n        <EllipsisTooltip\n          tooltipText={item.name}\n          typographyProps={{ variant: \"body2\", fontWeight: \"bold\" }}\n          tooltipProps={{ disableInteractive: true }}\n        >\n          <Highlighter\n            autoEscape\n            highlightStyle={{ color: theme.palette.primary.light }}\n            highlightTag=\"span\"\n            searchWords={[filterTerm]}\n            textToHighlight={item.name}\n          />\n        </EllipsisTooltip>\n        {ticker ? (\n          <Typography color=\"blue.200\" variant=\"caption\" ml={1}>\n            {ticker}\n          </Typography>\n        ) : null}\n        <Typography\n          color=\"rgba(255, 255, 255, 0.6)\"\n          variant=\"body2\"\n          textOverflow=\"ellipsis\"\n          overflow=\"hidden\"\n          whiteSpace=\"nowrap\"\n        >\n          {getWatchlistItemDescription(item)}\n        </Typography>\n      </TableCell>\n      <TableCell sx={{ width: isMobile ? \"1px\" : undefined }}>{item.category}</TableCell>\n      {onDelete ? (\n        <TableCell sx={{ width: isMobile ? \"1px\" : undefined }}>\n          <IconButton onClick={() => onDelete(item.key)}>\n            <Close />\n          </IconButton>\n        </TableCell>\n      ) : null}\n    </TableRow>\n  )\n}\n\nexport { WatchlistTableRow }\n"],"names":["WatchlistTableRow","getTicker","item","panelConfig","category","metadata1","tickerMetadata","discoveryPanelCategories","find","cat","groups","filter","isMetadata","metadata","label","undefined","filterTerm","onDelete","theme","useTheme","data","usePanelConfig","ticker","isMobile","useDeviceInfo","TableRow","hover","TableCell","sx","py","maxWidth","EllipsisTooltip","tooltipText","name","typographyProps","variant","fontWeight","tooltipProps","disableInteractive","Highlighter","autoEscape","highlightStyle","color","palette","primary","light","highlightTag","searchWords","textToHighlight","Typography","ml","textOverflow","overflow","whiteSpace","getWatchlistItemDescription","width","IconButton","onClick","key","Close"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuFSA;;;eAAAA;;;;8DAvFS;4EACM;uBAEoB;sCAKrC;qCACyB;uBACF;sBACwC;uBAChD;;;;;;AAEtB,MAAMC,YAAY,CAACC,MAAeC;QAUTA,+DAAAA;IATvB,IAAID,KAAKE,QAAQ,KAAK,aAAa;QACjC;IACF;IAEA,IAAI,CAACD,aAAa;QAChB,wCAAwC;QACxC,OAAOD,KAAKG,SAAS;IACvB;IAEA,MAAMC,kBAAiBH,6CAAAA,YAAYI,wBAAwB,CACxDC,IAAI,CAACC,CAAAA,MAAOA,IAAIL,QAAQ,KAAK,0BADTD,kEAAAA,gEAAAA,2CAEnBO,MAAM,CAACC,MAAM,CAACC,gCAAU,EACzBJ,IAAI,CAACK,CAAAA,WAAYA,SAASC,KAAK,KAAK,uBAHhBX,oFAAAA,8DAG2BU,QAAQ;IAE1D,OAAOP,iBAAiBJ,IAAI,CAACI,eAAe,GAAGS;AACjD;AAQA,MAAMf,oBAAoB,CAAC,EAAEE,IAAI,EAAEc,UAAU,EAAEC,QAAQ,EAAS;IAC9D,MAAMC,QAAQC,IAAAA,cAAQ;IACtB,MAAM,EAAEC,IAAI,EAAE,GAAGC,IAAAA,oCAAc;IAC/B,MAAMC,SAASrB,UAAUC,MAAMkB;IAC/B,MAAM,EAAEG,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAElC,qBACE,sBAACC,cAAQ;QAACC,KAAK;;0BACb,sBAACC,eAAS;gBAACC,IAAI;oBAAEC,IAAI;oBAAGC,UAAUP,WAAW,QAAQ;gBAAI;;kCACvD,qBAACQ,oCAAe;wBACdC,aAAa9B,KAAK+B,IAAI;wBACtBC,iBAAiB;4BAAEC,SAAS;4BAASC,YAAY;wBAAO;wBACxDC,cAAc;4BAAEC,oBAAoB;wBAAK;kCAEzC,cAAA,qBAACC,4BAAW;4BACVC,UAAU;4BACVC,gBAAgB;gCAAEC,OAAOxB,MAAMyB,OAAO,CAACC,OAAO,CAACC,KAAK;4BAAC;4BACrDC,cAAa;4BACbC,aAAa;gCAAC/B;6BAAW;4BACzBgC,iBAAiB9C,KAAK+B,IAAI;;;oBAG7BX,uBACC,qBAAC2B,gBAAU;wBAACP,OAAM;wBAAWP,SAAQ;wBAAUe,IAAI;kCAChD5B;yBAED;kCACJ,qBAAC2B,gBAAU;wBACTP,OAAM;wBACNP,SAAQ;wBACRgB,cAAa;wBACbC,UAAS;wBACTC,YAAW;kCAEVC,IAAAA,kCAA2B,EAACpD;;;;0BAGjC,qBAACyB,eAAS;gBAACC,IAAI;oBAAE2B,OAAOhC,WAAW,QAAQR;gBAAU;0BAAIb,KAAKE,QAAQ;;YACrEa,yBACC,qBAACU,eAAS;gBAACC,IAAI;oBAAE2B,OAAOhC,WAAW,QAAQR;gBAAU;0BACnD,cAAA,qBAACyC,gBAAU;oBAACC,SAAS,IAAMxC,SAASf,KAAKwD,GAAG;8BAC1C,cAAA,qBAACC,YAAK;;iBAGR;;;AAGV"}