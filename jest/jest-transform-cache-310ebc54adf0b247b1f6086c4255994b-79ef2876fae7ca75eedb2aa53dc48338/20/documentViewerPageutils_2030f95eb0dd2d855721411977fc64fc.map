{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/document-viewer/src/lib/DocumentViewerPage/hooks/documentViewerPage.utils.ts"],"sourcesContent":["import { BoundingBox } from \"@rp/common/api-types\"\n\nconst getIsAppleChrome = ({\n  isMacOS,\n  isIOS,\n  isSafari,\n}: {\n  isMacOS: boolean\n  isIOS: boolean\n  isSafari: boolean\n}): boolean => (isMacOS || isIOS) && !isSafari\n\nconst getIsApplePWA = ({\n  isMacOS,\n  isIOS,\n  isPWA,\n}: {\n  isMacOS: boolean\n  isIOS: boolean\n  isPWA: boolean\n}): boolean => (isMacOS || isIOS) && isPWA\n\nconst getHasDocAndIsApple = ({\n  documentId,\n  isAppleChrome,\n  isApplePWA,\n}: {\n  documentId: string\n  isAppleChrome: boolean\n  isApplePWA: boolean\n}): boolean => !!documentId && (isAppleChrome || isApplePWA)\n\nconst HIGHLIGHT_PADDING = 0.0025\nconst drawSourceHighlight = (page: HTMLCanvasElement | null, boundingBox: BoundingBox): void => {\n  if (!page) return\n\n  const ctx = page.getContext(\"2d\")\n  if (!ctx) return\n\n  const { height, width } = page\n\n  ctx.fillStyle = \"#0589FF33\"\n\n  const startPadding = HIGHLIGHT_PADDING\n  const endPadding = HIGHLIGHT_PADDING * 2\n\n  const rectX = width * (boundingBox.left - startPadding)\n  const rectY = height * (boundingBox.top - startPadding)\n  const rectWidth = width * (endPadding + boundingBox.right - boundingBox.left)\n  const rectHeight = height * (endPadding + boundingBox.bottom - boundingBox.top)\n\n  ctx.fillRect(rectX, rectY, rectWidth, rectHeight)\n}\n\nconst getIsHighlightValid = (boundingBox: BoundingBox) =>\n  ![boundingBox.top, boundingBox.left].includes(0) &&\n  ![boundingBox.bottom, boundingBox.right].includes(1) &&\n  boundingBox.page > 0\n\nexport {\n  getIsAppleChrome,\n  getIsApplePWA,\n  getHasDocAndIsApple,\n  drawSourceHighlight,\n  getIsHighlightValid,\n}\n"],"names":["drawSourceHighlight","getHasDocAndIsApple","getIsAppleChrome","getIsApplePWA","getIsHighlightValid","isMacOS","isIOS","isSafari","isPWA","documentId","isAppleChrome","isApplePWA","HIGHLIGHT_PADDING","page","boundingBox","ctx","getContext","height","width","fillStyle","startPadding","endPadding","rectX","left","rectY","top","rectWidth","right","rectHeight","bottom","fillRect","includes"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IA+DEA,mBAAmB;eAAnBA;;IADAC,mBAAmB;eAAnBA;;IAFAC,gBAAgB;eAAhBA;;IACAC,aAAa;eAAbA;;IAGAC,mBAAmB;eAAnBA;;;AA9DF,MAAMF,mBAAmB,CAAC,EACxBG,OAAO,EACPC,KAAK,EACLC,QAAQ,EAKT,GAAc,AAACF,CAAAA,WAAWC,KAAI,KAAM,CAACC;AAEtC,MAAMJ,gBAAgB,CAAC,EACrBE,OAAO,EACPC,KAAK,EACLE,KAAK,EAKN,GAAc,AAACH,CAAAA,WAAWC,KAAI,KAAME;AAErC,MAAMP,sBAAsB,CAAC,EAC3BQ,UAAU,EACVC,aAAa,EACbC,UAAU,EAKX,GAAc,CAAC,CAACF,cAAeC,CAAAA,iBAAiBC,UAAS;AAE1D,MAAMC,oBAAoB;AAC1B,MAAMZ,sBAAsB,CAACa,MAAgCC;IAC3D,IAAI,CAACD,MAAM;IAEX,MAAME,MAAMF,KAAKG,UAAU,CAAC;IAC5B,IAAI,CAACD,KAAK;IAEV,MAAM,EAAEE,MAAM,EAAEC,KAAK,EAAE,GAAGL;IAE1BE,IAAII,SAAS,GAAG;IAEhB,MAAMC,eAAeR;IACrB,MAAMS,aAAaT,oBAAoB;IAEvC,MAAMU,QAAQJ,QAASJ,CAAAA,YAAYS,IAAI,GAAGH,YAAW;IACrD,MAAMI,QAAQP,SAAUH,CAAAA,YAAYW,GAAG,GAAGL,YAAW;IACrD,MAAMM,YAAYR,QAASG,CAAAA,aAAaP,YAAYa,KAAK,GAAGb,YAAYS,IAAI,AAAD;IAC3E,MAAMK,aAAaX,SAAUI,CAAAA,aAAaP,YAAYe,MAAM,GAAGf,YAAYW,GAAG,AAAD;IAE7EV,IAAIe,QAAQ,CAACR,OAAOE,OAAOE,WAAWE;AACxC;AAEA,MAAMxB,sBAAsB,CAACU,cAC3B,CAAC;QAACA,YAAYW,GAAG;QAAEX,YAAYS,IAAI;KAAC,CAACQ,QAAQ,CAAC,MAC9C,CAAC;QAACjB,YAAYe,MAAM;QAAEf,YAAYa,KAAK;KAAC,CAACI,QAAQ,CAAC,MAClDjB,YAAYD,IAAI,GAAG"}