8310ce36639f682ab12b5d9b6509927c
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "TaskFactory", {
    enumerable: true,
    get: function() {
        return TaskFactory;
    }
});
const _RawTask = require("./RawTask.js");
class TaskFactory {
    create(task) {
        const tasks = this.freeTasks;
        const t1 = tasks.length ? tasks.pop() : new _RawTask.RawTask(this.onError, (t)=>tasks[tasks.length] = t);
        t1.task = task;
        return t1;
    }
    constructor(onError){
        this.onError = onError;
        this.freeTasks = [];
    }
} //# sourceMappingURL=TaskFactory.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9UYXNrRmFjdG9yeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSYXdUYXNrIH0gZnJvbSAnLi9SYXdUYXNrLmpzJ1xuaW1wb3J0IHR5cGUgeyBUYXNrIH0gZnJvbSAnLi90eXBlcy5qcydcblxuZXhwb3J0IGNsYXNzIFRhc2tGYWN0b3J5IHtcblx0cHJpdmF0ZSBmcmVlVGFza3M6IFJhd1Rhc2tbXSA9IFtdXG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgb25FcnJvcjogKGVycjogYW55KSA9PiB2b2lkKSB7fVxuXG5cdHB1YmxpYyBjcmVhdGUodGFzazogKCkgPT4gdm9pZCk6IFRhc2sge1xuXHRcdGNvbnN0IHRhc2tzID0gdGhpcy5mcmVlVGFza3Ncblx0XHRjb25zdCB0ID0gdGFza3MubGVuZ3RoXG5cdFx0XHQ/ICh0YXNrcy5wb3AoKSBhcyBSYXdUYXNrKVxuXHRcdFx0OiBuZXcgUmF3VGFzayh0aGlzLm9uRXJyb3IsICh0KSA9PiAodGFza3NbdGFza3MubGVuZ3RoXSA9IHQpKVxuXHRcdHQudGFzayA9IHRhc2tcblx0XHRyZXR1cm4gdFxuXHR9XG59XG4iXSwibmFtZXMiOlsiVGFza0ZhY3RvcnkiLCJjcmVhdGUiLCJ0YXNrIiwidGFza3MiLCJmcmVlVGFza3MiLCJ0IiwibGVuZ3RoIiwicG9wIiwiUmF3VGFzayIsIm9uRXJyb3IiLCJjb25zdHJ1Y3RvciJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkFHYUE7OztlQUFBQTs7O3lCQUhXO0FBR2pCLE1BQU1BO0lBS1pDLE9BQWNDLElBQWdCLEVBQVE7UUFDckMsTUFBTUMsUUFBUSxJQUFJLENBQUNDLFNBQVM7UUFDNUIsTUFBTUMsS0FBSUYsTUFBTUcsTUFBTSxHQUNsQkgsTUFBTUksR0FBRyxLQUNWLElBQUlDLGdCQUFPLENBQUMsSUFBSSxDQUFDQyxPQUFPLEVBQUUsQ0FBQ0osSUFBT0YsS0FBSyxDQUFDQSxNQUFNRyxNQUFNLENBQUMsR0FBR0Q7UUFDM0RBLEdBQUVILElBQUksR0FBR0E7UUFDVCxPQUFPRzs7SUFSUkssWUFBMkJELE9BQTJCLENBQUU7YUFBN0JBLE9BQTJCLEdBQTNCQTthQUZuQkwsU0FBUyxHQUFjLEVBQUUifQ==