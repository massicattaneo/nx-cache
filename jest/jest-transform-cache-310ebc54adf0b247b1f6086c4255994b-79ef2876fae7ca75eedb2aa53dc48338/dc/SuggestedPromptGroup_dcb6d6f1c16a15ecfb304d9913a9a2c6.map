{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/SuggestedPrompts/SuggestedPromptGroup.tsx"],"sourcesContent":["import { useCallback, useRef, useState } from \"react\"\nimport { CuratedSuggestedPrompt } from \"@rp/react/common/hooks\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { Box, ButtonBase, Grid, Typography } from \"@rp/react/web/mui/core\"\nimport { BOTTOM_NAV_HEIGHT } from \"../NavBars\"\nimport { SuggestedPromptCard } from \"./SuggestedPromptCard\"\n\ntype Props = {\n  prompts: Array<CuratedSuggestedPrompt>\n  onPromptClick: (prompt: CuratedSuggestedPrompt) => void\n  initialNumber?: number\n  showMoreAmount?: number\n}\n\nconst DESKTOP_SCROLL_OFFSET = 150\nconst MOBILE_SCROLL_OFFSET = 230\n\nconst SuggestedPromptGroup = ({\n  prompts,\n  onPromptClick,\n  initialNumber = 9,\n  showMoreAmount = 9,\n}: Props) => {\n  const [maxNumber, setMaxNumber] = useState(initialNumber)\n  const { isMobile, safeArea } = useDeviceInfo()\n  const scrollOffset = isMobile ? MOBILE_SCROLL_OFFSET : DESKTOP_SCROLL_OFFSET\n  const ref = useRef<HTMLDivElement>(null)\n\n  const areMorePrompts = prompts.length > maxNumber\n  const collapseGroup = useCallback(() => {\n    setMaxNumber(initialNumber)\n\n    const scrollAmount = ref.current?.getBoundingClientRect().y\n    if (scrollAmount && scrollAmount < 0) {\n      window.scrollBy({ top: scrollAmount - scrollOffset, behavior: \"smooth\" })\n    }\n  }, [initialNumber, scrollOffset])\n\n  return (\n    <Box\n      sx={{\n        pt: 1,\n        pb: `calc(${isMobile ? BOTTOM_NAV_HEIGHT : 20}px + ${safeArea.bottom})`,\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n      }}\n      ref={ref}\n    >\n      <Grid container spacing={2.5}>\n        {prompts.slice(0, maxNumber).map(\n          prompt =>\n            !prompt.blocked && (\n              <Grid\n                item\n                xs={12}\n                md={4}\n                key={prompt.label}\n                sx={{\n                  \"& > div\": {\n                    minHeight: isMobile ? 0 : undefined,\n                  },\n                }}\n              >\n                <SuggestedPromptCard prompt={prompt} onPromptClick={onPromptClick} />\n              </Grid>\n            ),\n        )}\n      </Grid>\n      {prompts.length > initialNumber && areMorePrompts ? (\n        <ButtonBase\n          sx={{ mt: 2.5 }}\n          disableRipple\n          onClick={() =>\n            areMorePrompts ? setMaxNumber(prev => prev + showMoreAmount) : collapseGroup()\n          }\n        >\n          <Typography\n            sx={{\n              color: \"text.secondary\",\n              \"&:hover\": {\n                color: \"text.primary\",\n              },\n            }}\n          >\n            Show more\n          </Typography>\n        </ButtonBase>\n      ) : null}\n    </Box>\n  )\n}\nexport { SuggestedPromptGroup }\n"],"names":["SuggestedPromptGroup","DESKTOP_SCROLL_OFFSET","MOBILE_SCROLL_OFFSET","prompts","onPromptClick","initialNumber","showMoreAmount","maxNumber","setMaxNumber","useState","isMobile","safeArea","useDeviceInfo","scrollOffset","ref","useRef","areMorePrompts","length","collapseGroup","useCallback","scrollAmount","current","getBoundingClientRect","y","window","scrollBy","top","behavior","Box","sx","pt","pb","BOTTOM_NAV_HEIGHT","bottom","display","flexDirection","justifyContent","Grid","container","spacing","slice","map","prompt","blocked","item","xs","md","minHeight","undefined","SuggestedPromptCard","label","ButtonBase","mt","disableRipple","onClick","prev","Typography","color"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA4FSA;;;eAAAA;;;;uBA5FqC;uBAEhB;sBACoB;yBAChB;qCACE;AASpC,MAAMC,wBAAwB;AAC9B,MAAMC,uBAAuB;AAE7B,MAAMF,uBAAuB,CAAC,EAC5BG,OAAO,EACPC,aAAa,EACbC,gBAAgB,CAAC,EACjBC,iBAAiB,CAAC,EACZ;IACN,MAAM,CAACC,WAAWC,aAAa,GAAGC,IAAAA,eAAQ,EAACJ;IAC3C,MAAM,EAAEK,QAAQ,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAC5C,MAAMC,eAAeH,WAAWR,uBAAuBD;IACvD,MAAMa,MAAMC,IAAAA,aAAM,EAAiB;IAEnC,MAAMC,iBAAiBb,QAAQc,MAAM,GAAGV;IACxC,MAAMW,gBAAgBC,IAAAA,kBAAW,EAAC;YAGXL;QAFrBN,aAAaH;QAEb,MAAMe,gBAAeN,eAAAA,IAAIO,OAAO,cAAXP,mCAAAA,aAAaQ,qBAAqB,GAAGC,CAAC;QAC3D,IAAIH,gBAAgBA,eAAe,GAAG;YACpCI,OAAOC,QAAQ,CAAC;gBAAEC,KAAKN,eAAeP;gBAAcc,UAAU;YAAS;QACzE;IACF,GAAG;QAACtB;QAAeQ;KAAa;IAEhC,qBACE,sBAACe,SAAG;QACFC,IAAI;YACFC,IAAI;YACJC,IAAI,CAAC,KAAK,EAAErB,WAAWsB,0BAAiB,GAAG,GAAG,KAAK,EAAErB,SAASsB,MAAM,CAAC,CAAC,CAAC;YACvEC,SAAS;YACTC,eAAe;YACfC,gBAAgB;QAClB;QACAtB,KAAKA;;0BAEL,qBAACuB,UAAI;gBAACC,SAAS;gBAACC,SAAS;0BACtBpC,QAAQqC,KAAK,CAAC,GAAGjC,WAAWkC,GAAG,CAC9BC,CAAAA,SACE,CAACA,OAAOC,OAAO,kBACb,qBAACN,UAAI;wBACHO,IAAI;wBACJC,IAAI;wBACJC,IAAI;wBAEJjB,IAAI;4BACF,WAAW;gCACTkB,WAAWrC,WAAW,IAAIsC;4BAC5B;wBACF;kCAEA,cAAA,qBAACC,wCAAmB;4BAACP,QAAQA;4BAAQtC,eAAeA;;uBAP/CsC,OAAOQ,KAAK;;YAY1B/C,QAAQc,MAAM,GAAGZ,iBAAiBW,+BACjC,qBAACmC,gBAAU;gBACTtB,IAAI;oBAAEuB,IAAI;gBAAI;gBACdC,aAAa;gBACbC,SAAS,IACPtC,iBAAiBR,aAAa+C,CAAAA,OAAQA,OAAOjD,kBAAkBY;0BAGjE,cAAA,qBAACsC,gBAAU;oBACT3B,IAAI;wBACF4B,OAAO;wBACP,WAAW;4BACTA,OAAO;wBACT;oBACF;8BACD;;iBAID;;;AAGV"}