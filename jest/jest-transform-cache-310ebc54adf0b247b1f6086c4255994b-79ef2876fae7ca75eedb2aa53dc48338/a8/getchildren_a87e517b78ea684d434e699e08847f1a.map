{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/rpjson/src/lib/create-react-elements/get-children.ts"],"sourcesContent":["import { createElement } from \"react\"\nimport {\n  isEnhancedContent,\n  isEnhancedListBlock,\n  isEnhancedRow,\n  isEnhancedTableBlock,\n  isEnhancedTextBlock,\n} from \"@rp/react/rpjson/types\"\nimport {\n  EnhancedCell,\n  EnhancedElementBlock,\n  EnhancedListBlock,\n  EnhancedListEntry,\n  EnhancedRow,\n  EnhancedTableBlock,\n  EnhancedTextBlock,\n} from \"@rp/react/rpjson/types\"\nimport { TAG_NAMES } from \"../constants\"\nimport { createReactElements } from \"./create-react-elements\"\nimport {\n  ReactDocumentOptions,\n  ReactDocumentProps,\n  RpJsonBlockDetections,\n} from \"./create-react-elements.types\"\nimport { createReactTextElement } from \"./create-react-text-element\"\nimport { getChildrenTagName } from \"./get-tag-element\"\n\nexport const getContentChildren = (\n  block: EnhancedListEntry | EnhancedCell,\n  props: ReactDocumentProps,\n  options: ReactDocumentOptions,\n) => block.content?.map(cont => createReactElements(cont, props, options) || []) || []\n\nexport const getTextChildren = (\n  block: EnhancedTextBlock,\n  props: ReactDocumentProps,\n  options: ReactDocumentOptions,\n) => {\n  const rpJsonDetections: RpJsonBlockDetections = {\n    entities: block.entities || [],\n  }\n  return [createReactTextElement(block, props, rpJsonDetections, options)]\n}\n\nexport const getEntriesChildren = (\n  block: EnhancedListBlock,\n  props: ReactDocumentProps,\n  options: ReactDocumentOptions,\n) => {\n  const tagName = getChildrenTagName(block)\n  return block.entries.map(entry => createReactElements(entry, props, { ...options, tagName }))\n}\n\nexport const getRowsChildren = (\n  block: EnhancedTableBlock,\n  props: ReactDocumentProps,\n  options: ReactDocumentOptions,\n) =>\n  createElement(\n    TAG_NAMES.TBODY,\n    {\n      key: `${block.id}_tbody`,\n      ...props,\n    },\n    block.rows.map(entry =>\n      createReactElements(entry, props, { ...options, tagName: TAG_NAMES.TR }),\n    ),\n  )\n\nexport const getCellsChildren = (\n  block: EnhancedRow,\n  props: ReactDocumentProps<\"td\">,\n  options: ReactDocumentOptions,\n) =>\n  block.cells.map(entry =>\n    createReactElements<\"td\">(\n      entry,\n      { ...props, colSpan: entry.colspan, rowSpan: entry.rowspan },\n      {\n        ...options,\n        tagName: TAG_NAMES.TD,\n      },\n    ),\n  )\n\nexport const getChildren = (\n  block: EnhancedElementBlock,\n  props: ReactDocumentProps,\n  options: ReactDocumentOptions,\n) => {\n  const children = []\n  if (isEnhancedTextBlock(block)) children.push(...getTextChildren(block, props, options))\n  if (isEnhancedListBlock(block)) children.push(...getEntriesChildren(block, props, options))\n  if (isEnhancedContent(block)) children.push(...getContentChildren(block, props, options))\n  if (isEnhancedTableBlock(block)) children.push(getRowsChildren(block, props, options))\n  if (isEnhancedRow(block)) children.push(...getCellsChildren(block, props, options))\n  return children\n}\n"],"names":["getCellsChildren","getChildren","getContentChildren","getEntriesChildren","getRowsChildren","getTextChildren","block","props","options","content","map","cont","createReactElements","rpJsonDetections","entities","createReactTextElement","tagName","getChildrenTagName","entries","entry","createElement","TAG_NAMES","TBODY","key","id","rows","TR","cells","colSpan","colspan","rowSpan","rowspan","TD","children","isEnhancedTextBlock","push","isEnhancedListBlock","isEnhancedContent","isEnhancedTableBlock","isEnhancedRow"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAqEaA,gBAAgB;eAAhBA;;IAgBAC,WAAW;eAAXA;;IA1DAC,kBAAkB;eAAlBA;;IAiBAC,kBAAkB;eAAlBA;;IASAC,eAAe;eAAfA;;IApBAC,eAAe;eAAfA;;;uBAjCiB;uBAOvB;2BAUmB;qCACU;wCAMG;+BACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE5B,MAAMH,qBAAqB,CAChCI,OACAC,OACAC;QACGF;WAAAA,EAAAA,iBAAAA,MAAMG,OAAO,cAAbH,qCAAAA,eAAeI,GAAG,CAACC,CAAAA,OAAQC,IAAAA,wCAAmB,EAACD,MAAMJ,OAAOC,YAAY,EAAE,MAAK,EAAE;;AAE/E,MAAMH,kBAAkB,CAC7BC,OACAC,OACAC;IAEA,MAAMK,mBAA0C;QAC9CC,UAAUR,MAAMQ,QAAQ,IAAI,EAAE;IAChC;IACA,OAAO;QAACC,IAAAA,8CAAsB,EAACT,OAAOC,OAAOM,kBAAkBL;KAAS;AAC1E;AAEO,MAAML,qBAAqB,CAChCG,OACAC,OACAC;IAEA,MAAMQ,UAAUC,IAAAA,iCAAkB,EAACX;IACnC,OAAOA,MAAMY,OAAO,CAACR,GAAG,CAACS,CAAAA,QAASP,IAAAA,wCAAmB,EAACO,OAAOZ,OAAO,wCAAKC;YAASQ;;AACpF;AAEO,MAAMZ,kBAAkB,CAC7BE,OACAC,OACAC,UAEAY,IAAAA,oBAAa,EACXC,oBAAS,CAACC,KAAK,EACf;QACEC,KAAK,CAAC,EAAEjB,MAAMkB,EAAE,CAAC,MAAM,CAAC;OACrBjB,QAELD,MAAMmB,IAAI,CAACf,GAAG,CAACS,CAAAA,QACbP,IAAAA,wCAAmB,EAACO,OAAOZ,OAAO,wCAAKC;YAASQ,SAASK,oBAAS,CAACK,EAAE;;AAIpE,MAAM1B,mBAAmB,CAC9BM,OACAC,OACAC,UAEAF,MAAMqB,KAAK,CAACjB,GAAG,CAACS,CAAAA,QACdP,IAAAA,wCAAmB,EACjBO,OACA,wCAAKZ;YAAOqB,SAAST,MAAMU,OAAO;YAAEC,SAASX,MAAMY,OAAO;YAC1D,wCACKvB;YACHQ,SAASK,oBAAS,CAACW,EAAE;;AAKtB,MAAM/B,cAAc,CACzBK,OACAC,OACAC;IAEA,MAAMyB,WAAW,EAAE;IACnB,IAAIC,IAAAA,0BAAmB,EAAC5B,QAAQ2B,SAASE,IAAI,IAAI9B,gBAAgBC,OAAOC,OAAOC;IAC/E,IAAI4B,IAAAA,0BAAmB,EAAC9B,QAAQ2B,SAASE,IAAI,IAAIhC,mBAAmBG,OAAOC,OAAOC;IAClF,IAAI6B,IAAAA,wBAAiB,EAAC/B,QAAQ2B,SAASE,IAAI,IAAIjC,mBAAmBI,OAAOC,OAAOC;IAChF,IAAI8B,IAAAA,2BAAoB,EAAChC,QAAQ2B,SAASE,IAAI,CAAC/B,gBAAgBE,OAAOC,OAAOC;IAC7E,IAAI+B,IAAAA,oBAAa,EAACjC,QAAQ2B,SAASE,IAAI,IAAInC,iBAAiBM,OAAOC,OAAOC;IAC1E,OAAOyB;AACT"}