{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/App.helpers.test.ts"],"sourcesContent":["import { datadogRum } from \"@datadog/browser-rum\"\nimport { handleClerkLoad } from \"./App.helpers\"\nimport { clerkOverrides } from \"./utils/clerkOverrides\"\n\njest.mock(\"@datadog/browser-rum\")\njest.mock(\"./utils/clerkOverrides\")\n\nbeforeEach(jest.clearAllMocks)\n\ndescribe(\"App.helpers\", () => {\n  describe(\"handleClerkLoad\", () => {\n    const initialLoginId = \"mock-initial-login-id-123\"\n    describe(\"when isLoaded\", () => {\n      const isLoaded = true\n      describe(\"when isInitialLogin\", () => {\n        const isInitialLogin = true\n\n        beforeEach(() => {\n          handleClerkLoad({ isLoaded, initialLoginId, isInitialLogin })\n        })\n\n        it(\"should call addAction with the correct params\", () => {\n          expect(datadogRum.addAction).toHaveBeenCalledTimes(1)\n          expect(datadogRum.addAction).toHaveBeenCalledWith(\"Create User Custom Action End\", {\n            initialLoginId,\n          })\n        })\n\n        it(\"should call clerkOverrides\", () => {\n          expect(clerkOverrides).toHaveBeenCalledTimes(1)\n        })\n      })\n\n      describe(\"when !isInitialLogin\", () => {\n        const isInitialLogin = false\n\n        beforeEach(() => {\n          handleClerkLoad({ isLoaded, initialLoginId, isInitialLogin })\n        })\n\n        it(\"should not call addAction\", () => {\n          expect(datadogRum.addAction).not.toHaveBeenCalled()\n        })\n\n        it(\"should call clerkOverrides\", () => {\n          expect(clerkOverrides).toHaveBeenCalledTimes(1)\n        })\n      })\n    })\n\n    describe(\"when !isLoaded\", () => {\n      const isLoaded = false\n      const isInitialLogin = true\n\n      beforeEach(() => {\n        handleClerkLoad({ isLoaded, initialLoginId, isInitialLogin })\n      })\n\n      it(\"should not call addAction\", () => {\n        expect(datadogRum.addAction).not.toHaveBeenCalled()\n      })\n\n      it(\"should not call clerkOverrides\", () => {\n        expect(clerkOverrides).not.toHaveBeenCalled()\n      })\n    })\n  })\n})\n"],"names":["jest","mock","beforeEach","clearAllMocks","describe","initialLoginId","isLoaded","isInitialLogin","handleClerkLoad","it","expect","datadogRum","addAction","toHaveBeenCalledTimes","toHaveBeenCalledWith","clerkOverrides","not","toHaveBeenCalled"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";AAIAA,KAAKC,IAAI,CAAC;AACVD,KAAKC,IAAI,CAAC;;;;4BALiB;4BACK;gCACD;AAK/BC,WAAWF,KAAKG,aAAa;AAE7BC,SAAS,eAAe;IACtBA,SAAS,mBAAmB;QAC1B,MAAMC,iBAAiB;QACvBD,SAAS,iBAAiB;YACxB,MAAME,WAAW;YACjBF,SAAS,uBAAuB;gBAC9B,MAAMG,iBAAiB;gBAEvBL,WAAW;oBACTM,IAAAA,2BAAe,EAAC;wBAAEF;wBAAUD;wBAAgBE;oBAAe;gBAC7D;gBAEAE,GAAG,iDAAiD;oBAClDC,OAAOC,sBAAU,CAACC,SAAS,EAAEC,qBAAqB,CAAC;oBACnDH,OAAOC,sBAAU,CAACC,SAAS,EAAEE,oBAAoB,CAAC,iCAAiC;wBACjFT;oBACF;gBACF;gBAEAI,GAAG,8BAA8B;oBAC/BC,OAAOK,8BAAc,EAAEF,qBAAqB,CAAC;gBAC/C;YACF;YAEAT,SAAS,wBAAwB;gBAC/B,MAAMG,iBAAiB;gBAEvBL,WAAW;oBACTM,IAAAA,2BAAe,EAAC;wBAAEF;wBAAUD;wBAAgBE;oBAAe;gBAC7D;gBAEAE,GAAG,6BAA6B;oBAC9BC,OAAOC,sBAAU,CAACC,SAAS,EAAEI,GAAG,CAACC,gBAAgB;gBACnD;gBAEAR,GAAG,8BAA8B;oBAC/BC,OAAOK,8BAAc,EAAEF,qBAAqB,CAAC;gBAC/C;YACF;QACF;QAEAT,SAAS,kBAAkB;YACzB,MAAME,WAAW;YACjB,MAAMC,iBAAiB;YAEvBL,WAAW;gBACTM,IAAAA,2BAAe,EAAC;oBAAEF;oBAAUD;oBAAgBE;gBAAe;YAC7D;YAEAE,GAAG,6BAA6B;gBAC9BC,OAAOC,sBAAU,CAACC,SAAS,EAAEI,GAAG,CAACC,gBAAgB;YACnD;YAEAR,GAAG,kCAAkC;gBACnCC,OAAOK,8BAAc,EAAEC,GAAG,CAACC,gBAAgB;YAC7C;QACF;IACF;AACF"}