{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/providers/src/ModalContext/ModalContext.tsx"],"sourcesContent":["import {\n  Dispatch,\n  PropsWithChildren,\n  SetStateAction,\n  createContext,\n  useContext,\n  useState,\n} from \"react\"\nimport { ChatFeedbackData } from \"@rp/react/common/hooks\"\nimport {\n  BriefConfigData,\n  BriefData,\n  DeleteChatData,\n  DeleteFilesData,\n  DeleteSearchData,\n  DeleteWatchlistData,\n  EditChatNameData,\n  EditFileNameData,\n  EditableWatchlistFields,\n  FollowData,\n  SaveSearchData,\n  SelectFilesData,\n  SelectWatchlistData,\n  ShareData,\n  ShareInfoData,\n  SourceSelectorData,\n  WatchListData,\n} from \"./modals.types\"\n\ntype ModalContext = {\n  editFileNameModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (data: EditFileNameData) => void\n    editFileNameData: EditFileNameData | undefined\n  }\n  editChatNameModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (data: EditChatNameData) => void\n    editChatNameData: EditChatNameData | undefined\n  }\n  deleteChatModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (search: DeleteChatData) => void\n    deleteChatData: DeleteChatData | undefined\n  }\n  saveSearchModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (search: SaveSearchData[\"search\"], onSuccess?: SaveSearchData[\"onSuccess\"]) => void\n    saveSearchData: SaveSearchData | undefined\n  }\n  deleteSearchModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (search: DeleteSearchData) => void\n    deleteSearchData: DeleteSearchData | undefined\n  }\n  watchlistModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (\n      watchList: WatchListData[\"watchlist\"],\n      onSuccess?: WatchListData[\"onSuccess\"],\n      onError?: WatchListData[\"onError\"],\n    ) => void\n    watchlistData: WatchListData | undefined\n    watchlistEditAutoFocus: EditableWatchlistFields\n    setWatchlistEditAutoFocus: Dispatch<SetStateAction<EditableWatchlistFields>>\n  }\n  deleteWatchlistModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (data: DeleteWatchlistData) => void\n    deleteWatchlistData: DeleteWatchlistData | undefined\n  }\n  shareNameSearchModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (data: ShareInfoData[\"data\"], onSuccess?: ShareInfoData[\"onSuccess\"]) => void\n    shareNameSearchData: ShareInfoData | undefined\n  }\n  shareInfoModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (data: ShareInfoData[\"data\"], onSuccess?: ShareInfoData[\"onSuccess\"]) => void\n    shareInfoData: ShareInfoData | undefined\n  }\n  shareModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (data: ShareData) => void\n    shareChatData: ShareData | undefined\n  }\n  followSearchModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (data: FollowData[\"data\"]) => void\n    followSearchData: FollowData | undefined\n  }\n  unfollowSearchModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (data: FollowData[\"data\"]) => void\n    unfollowSearchData: FollowData | undefined\n  }\n  orderSearchesModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: () => void\n    orderSearchesData: boolean\n  }\n  createNewBriefModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (props: BriefData) => void\n    briefData: BriefData | undefined\n  }\n  deleteFilesModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (props: DeleteFilesData) => void\n    deleteFilesData: DeleteFilesData | undefined\n  }\n  selectFilesModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (props: SelectFilesData) => void\n    selectFilesData: SelectFilesData | undefined\n    setSelected: Dispatch<SetStateAction<SelectFilesData[\"selected\"]>>\n  }\n  chatFeedbackModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (props: ChatFeedbackData) => void\n    chatFeedbackData: ChatFeedbackData | undefined\n  }\n  selectWatchlistModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (props: SelectWatchlistData) => void\n    selectWatchlistModalData: SelectWatchlistData | undefined\n  }\n  unsubscribeBriefConfigModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (briefConfig: BriefConfigData) => void\n    unsubscribeBriefConfigData: BriefConfigData | undefined\n  }\n  onboardingModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: () => void\n  }\n  planComparisonModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (featureName?: string | undefined) => void\n    planComparisonFeatureName: string\n  }\n  legalModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (marketingAccepted?: boolean, termsAccepted?: boolean) => void\n    marketingAccepted: boolean | undefined\n    termsAccepted: boolean | undefined\n  }\n  selectSourceModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: (data: SourceSelectorData) => void\n    selectSourceData: SourceSelectorData | undefined\n  }\n  customColumnsModal: {\n    isOpen: boolean\n    handleClose: () => void\n    handleOpen: () => void\n  }\n}\n\nconst ModalContext = createContext<ModalContext | null>(null)\n\nconst ModalProvider = ({ children }: PropsWithChildren) => {\n  const [editFileNameData, setEditFileNameData] = useState<EditFileNameData | undefined>(undefined)\n  const [editChatNameData, setEditChatNameData] = useState<EditChatNameData | undefined>(undefined)\n  const [saveSearchData, setSaveSearchData] = useState<SaveSearchData | undefined>(undefined)\n  const [deleteSearchData, setDeleteSearchData] = useState<DeleteSearchData | undefined>(undefined)\n  const [deleteChatData, setDeleteChatData] = useState<DeleteChatData | undefined>(undefined)\n  const [watchlistData, setWatchlistData] = useState<WatchListData | undefined>(undefined)\n  const [watchlistEditAutoFocus, setWatchlistEditAutoFocus] =\n    useState<EditableWatchlistFields>(\"name\")\n  const [deleteWatchlistData, setDeleteWatchlistData] = useState<DeleteWatchlistData | undefined>(\n    undefined,\n  )\n  // Share flow\n  const [shareNameSearchData, setShareNameSearchData] = useState<ShareInfoData | undefined>(\n    undefined,\n  )\n  const [shareInfoData, setShareInfoData] = useState<ShareInfoData | undefined>(undefined)\n  const [shareChatData, setShareChatData] = useState<ShareData | undefined>(undefined)\n  const [followSearchData, setFollowSearchData] = useState<FollowData | undefined>(undefined)\n  const [unfollowSearchData, setUnfollowSearchData] = useState<FollowData | undefined>(undefined)\n  const [orderSearchesData, setOrderSearchesData] = useState<boolean>(false)\n  const [briefData, setBriefData] = useState<BriefData | undefined>(undefined)\n  const [deleteFilesData, setDeleteFilesData] = useState<DeleteFilesData | undefined>(undefined)\n  const [selectFilesData, setSelectFilesData] = useState<SelectFilesData | undefined>(undefined)\n  const [selectWatchlistData, setSelectWatchlistData] = useState<SelectWatchlistData | undefined>(\n    undefined,\n  )\n  const [chatFeedbackData, setChatFeedbackData] = useState<ChatFeedbackData | undefined>(undefined)\n  const [unsubscribeBriefConfigData, setUnsubscribeBriefConfigData] = useState<\n    BriefConfigData | undefined\n  >(undefined)\n  const [selectSourceData, setSelectSourceData] = useState<SourceSelectorData | undefined>(\n    undefined,\n  )\n  const [showCustomColumns, setShowCustomColumns] = useState<boolean | undefined>(undefined)\n\n  const [showOnboarding, setShowOnboarding] = useState<boolean | undefined>(undefined)\n  const [showPlanComparison, setShowPlanComparison] = useState<boolean | undefined>(undefined)\n  const [showLegal, setShowLegal] = useState<boolean | undefined>(undefined)\n  const [planComparisonFeatureName, setPlanComparisonFeatureName] = useState<string>(\"\")\n  const [marketingAccepted, setMarketingAccepted] = useState<boolean | undefined>(undefined)\n  const [termsAccepted, setTermsAccepted] = useState<boolean | undefined>(undefined)\n  const [selectSource, setSelectSource] = useState<boolean | undefined>(undefined)\n\n  const modals: ModalContext = {\n    editFileNameModal: {\n      isOpen: Boolean(editFileNameData),\n      handleClose: () => setEditFileNameData(undefined),\n      handleOpen: data => setEditFileNameData(data),\n      editFileNameData,\n    },\n    editChatNameModal: {\n      isOpen: Boolean(editChatNameData),\n      handleClose: () => setEditChatNameData(undefined),\n      handleOpen: data => setEditChatNameData(data),\n      editChatNameData,\n    },\n    saveSearchModal: {\n      isOpen: Boolean(saveSearchData),\n      handleClose: () => setSaveSearchData(undefined),\n      handleOpen: (search, onSuccess) => setSaveSearchData({ search, onSuccess }),\n      saveSearchData,\n    },\n    deleteSearchModal: {\n      isOpen: Boolean(deleteSearchData),\n      handleClose: () => setDeleteSearchData(undefined),\n      handleOpen: (search: DeleteSearchData) => setDeleteSearchData(search),\n      deleteSearchData,\n    },\n    deleteChatModal: {\n      isOpen: Boolean(deleteChatData),\n      handleClose: () => setDeleteChatData(undefined),\n      handleOpen: (chat: DeleteChatData) => setDeleteChatData(chat),\n      deleteChatData,\n    },\n    watchlistModal: {\n      isOpen: Boolean(watchlistData),\n      handleClose: () => setWatchlistData(undefined),\n      handleOpen: (watchlist, onSuccess, onError) =>\n        setWatchlistData({ watchlist, onSuccess, onError }),\n      watchlistData,\n      watchlistEditAutoFocus: watchlistEditAutoFocus,\n      setWatchlistEditAutoFocus,\n    },\n    deleteWatchlistModal: {\n      isOpen: Boolean(deleteWatchlistData),\n      handleClose: () => setDeleteWatchlistData(undefined),\n      handleOpen: watchlist => setDeleteWatchlistData(watchlist),\n      deleteWatchlistData: deleteWatchlistData,\n    },\n    shareNameSearchModal: {\n      isOpen: Boolean(shareNameSearchData),\n      handleClose: () => setShareNameSearchData(undefined),\n      handleOpen: (data, onSuccess) => setShareNameSearchData({ data, onSuccess }),\n      shareNameSearchData,\n    },\n    shareInfoModal: {\n      isOpen: Boolean(shareInfoData),\n      handleClose: () => setShareInfoData(undefined),\n      handleOpen: (data: ShareInfoData[\"data\"]) => setShareInfoData({ data }),\n      shareInfoData,\n    },\n    shareModal: {\n      isOpen: Boolean(shareChatData),\n      handleClose: () => setShareChatData(undefined),\n      handleOpen: (data: ShareData) => setShareChatData(data),\n      shareChatData,\n    },\n    followSearchModal: {\n      isOpen: Boolean(followSearchData),\n      handleClose: () => setFollowSearchData(undefined),\n      handleOpen: data => setFollowSearchData({ data }),\n      followSearchData,\n    },\n    unfollowSearchModal: {\n      isOpen: Boolean(unfollowSearchData),\n      handleClose: () => setUnfollowSearchData(undefined),\n      handleOpen: data => setUnfollowSearchData({ data }),\n      unfollowSearchData,\n    },\n    orderSearchesModal: {\n      isOpen: Boolean(orderSearchesData),\n      handleClose: () => setOrderSearchesData(false),\n      handleOpen: () => setOrderSearchesData(true),\n      orderSearchesData,\n    },\n    createNewBriefModal: {\n      isOpen: Boolean(briefData),\n      handleClose: () => setBriefData(undefined),\n      handleOpen: props => setBriefData(props),\n      briefData,\n    },\n    deleteFilesModal: {\n      isOpen: Boolean(deleteFilesData),\n      handleClose: () => setDeleteFilesData(undefined),\n      handleOpen: props => setDeleteFilesData(props),\n      deleteFilesData,\n    },\n    chatFeedbackModal: {\n      isOpen: Boolean(chatFeedbackData),\n      handleClose: () => setChatFeedbackData(undefined),\n      handleOpen: props => setChatFeedbackData(props),\n      chatFeedbackData,\n    },\n    selectWatchlistModal: {\n      isOpen: Boolean(selectWatchlistData),\n      handleClose: () => setSelectWatchlistData(undefined),\n      handleOpen: props => setSelectWatchlistData(props),\n      selectWatchlistModalData: selectWatchlistData,\n    },\n    selectFilesModal: {\n      isOpen: Boolean(selectFilesData),\n      handleClose: () => setSelectFilesData(undefined),\n      handleOpen: props => setSelectFilesData(props),\n      selectFilesData,\n      setSelected: prev => {\n        if (typeof prev === \"function\") {\n          setSelectFilesData(prevSelectFilesData => {\n            if (!prevSelectFilesData) {\n              return prevSelectFilesData\n            }\n            return { ...prevSelectFilesData, selected: prev(prevSelectFilesData.selected) }\n          })\n        } else {\n          setSelectFilesData(prevSelectFilesData => {\n            if (!prevSelectFilesData) {\n              return prevSelectFilesData\n            }\n            return { ...prevSelectFilesData, selected: prev }\n          })\n        }\n      },\n    },\n    unsubscribeBriefConfigModal: {\n      isOpen: Boolean(unsubscribeBriefConfigData),\n      handleClose: () => setUnsubscribeBriefConfigData(undefined),\n      handleOpen: (briefConfig: BriefConfigData) => setUnsubscribeBriefConfigData(briefConfig),\n      unsubscribeBriefConfigData,\n    },\n    onboardingModal: {\n      isOpen: Boolean(showOnboarding),\n      handleClose: () => {\n        setShowOnboarding(false)\n      },\n      handleOpen: () => setShowOnboarding(true),\n    },\n\n    planComparisonModal: {\n      isOpen: Boolean(showPlanComparison),\n      handleClose: () => {\n        setShowPlanComparison(false)\n      },\n      handleOpen: featureName => {\n        setPlanComparisonFeatureName(featureName ? featureName : \"\")\n        setShowPlanComparison(true)\n      },\n      planComparisonFeatureName: planComparisonFeatureName,\n    },\n\n    legalModal: {\n      isOpen: Boolean(showLegal),\n      handleClose: () => {\n        setShowLegal(false)\n      },\n      handleOpen: (marketingAccepted, termsAccepted) => {\n        setMarketingAccepted(marketingAccepted)\n        setTermsAccepted(termsAccepted)\n        setShowLegal(true)\n      },\n      marketingAccepted,\n      termsAccepted,\n    },\n    selectSourceModal: {\n      isOpen: Boolean(selectSource),\n      handleClose: () => setSelectSource(false),\n      handleOpen: (data: SourceSelectorData) => {\n        setSelectSourceData(data)\n        setSelectSource(true)\n      },\n      selectSourceData,\n    },\n    customColumnsModal: {\n      isOpen: Boolean(showCustomColumns),\n      handleClose: () => setShowCustomColumns(false),\n      handleOpen: () => setShowCustomColumns(true),\n    },\n  }\n\n  return <ModalContext.Provider value={modals}>{children}</ModalContext.Provider>\n}\n\nconst useModal = () => {\n  const context = useContext(ModalContext)\n  if (!context) {\n    throw new Error(\"useModal must be used within a ModalProvider\")\n  }\n  return context\n}\n\nexport { ModalProvider, useModal }\n"],"names":["ModalProvider","useModal","ModalContext","createContext","children","editFileNameData","setEditFileNameData","useState","undefined","editChatNameData","setEditChatNameData","saveSearchData","setSaveSearchData","deleteSearchData","setDeleteSearchData","deleteChatData","setDeleteChatData","watchlistData","setWatchlistData","watchlistEditAutoFocus","setWatchlistEditAutoFocus","deleteWatchlistData","setDeleteWatchlistData","shareNameSearchData","setShareNameSearchData","shareInfoData","setShareInfoData","shareChatData","setShareChatData","followSearchData","setFollowSearchData","unfollowSearchData","setUnfollowSearchData","orderSearchesData","setOrderSearchesData","briefData","setBriefData","deleteFilesData","setDeleteFilesData","selectFilesData","setSelectFilesData","selectWatchlistData","setSelectWatchlistData","chatFeedbackData","setChatFeedbackData","unsubscribeBriefConfigData","setUnsubscribeBriefConfigData","selectSourceData","setSelectSourceData","showCustomColumns","setShowCustomColumns","showOnboarding","setShowOnboarding","showPlanComparison","setShowPlanComparison","showLegal","setShowLegal","planComparisonFeatureName","setPlanComparisonFeatureName","marketingAccepted","setMarketingAccepted","termsAccepted","setTermsAccepted","selectSource","setSelectSource","modals","editFileNameModal","isOpen","Boolean","handleClose","handleOpen","data","editChatNameModal","saveSearchModal","search","onSuccess","deleteSearchModal","deleteChatModal","chat","watchlistModal","watchlist","onError","deleteWatchlistModal","shareNameSearchModal","shareInfoModal","shareModal","followSearchModal","unfollowSearchModal","orderSearchesModal","createNewBriefModal","props","deleteFilesModal","chatFeedbackModal","selectWatchlistModal","selectWatchlistModalData","selectFilesModal","setSelected","prev","prevSelectFilesData","selected","unsubscribeBriefConfigModal","briefConfig","onboardingModal","planComparisonModal","featureName","legalModal","selectSourceModal","customColumnsModal","Provider","value","context","useContext","Error"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}