{"version":3,"sources":["../../../src/hooks/useDrop/useRegisteredDropTarget.ts"],"sourcesContent":["import type { TargetConnector } from '../../internals/index.js'\nimport { registerTarget } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useAccept } from './useAccept.js'\nimport { useDropTarget } from './useDropTarget.js'\n\nexport function useRegisteredDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n\tconnector: TargetConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst dropTarget = useDropTarget(spec, monitor)\n\tconst accept = useAccept(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDropTarget() {\n\t\t\tconst [handlerId, unregister] = registerTarget(\n\t\t\t\taccept,\n\t\t\t\tdropTarget,\n\t\t\t\tmanager,\n\t\t\t)\n\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\treturn unregister\n\t\t},\n\t\t[\n\t\t\tmanager,\n\t\t\tmonitor,\n\t\t\tdropTarget,\n\t\t\tconnector,\n\t\t\taccept.map((a) => a.toString()).join('|'),\n\t\t],\n\t)\n}\n"],"names":["useRegisteredDropTarget","spec","monitor","connector","manager","useDragDropManager","dropTarget","useDropTarget","accept","useAccept","useIsomorphicLayoutEffect","registerDropTarget","handlerId","unregister","registerTarget","receiveHandlerId","map","a","toString","join"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BASgBA;;;eAAAA;;;uBARe;oCAGI;2CACO;2BAChB;+BACI;AAEvB,SAASA,wBACfC,IAAiC,EACjCC,OAAgC,EAChCC,SAA0B;IAE1B,MAAMC,UAAUC,IAAAA,sCAAkB;IAClC,MAAMC,aAAaC,IAAAA,4BAAa,EAACN,MAAMC;IACvC,MAAMM,SAASC,IAAAA,oBAAS,EAACR;IAEzBS,IAAAA,oDAAyB,EACxB,SAASC;QACR,MAAM,CAACC,WAAWC,WAAW,GAAGC,IAAAA,qBAAc,EAC7CN,QACAF,YACAF;QAEDF,QAAQa,gBAAgB,CAACH;QACzBT,UAAUY,gBAAgB,CAACH;QAC3B,OAAOC;OAER;QACCT;QACAF;QACAI;QACAH;QACAK,OAAOQ,GAAG,CAAC,CAACC,IAAMA,EAAEC,QAAQ,IAAIC,IAAI,CAAC;KACrC"}