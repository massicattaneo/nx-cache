{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/StoryCard/StoryCardRanking/useUniqueDetections.tsx"],"sourcesContent":["import { CqsItem, CqsSentenceEntity } from \"@rp/common/api-types\"\nimport { useCqsByIdsContext } from \"@rp/react/tanstack-api/cqs-by-ids\"\n\nconst get = (array: Array<CqsItem>, queryType: string) => {\n  return array\n    .filter(item => item.queryType === queryType)\n    .map(item => item.name.trim())\n    .filter((id, index, array) => array.indexOf(id) === index)\n}\n\nconst useUniqueDetections = (\n  sentence: Array<CqsSentenceEntity>,\n  headline: Array<CqsSentenceEntity>,\n) => {\n  const { ids } = useCqsByIdsContext()\n  const array1 = sentence.map(item => ids[item.key]?.data ?? {})\n  const array2 = headline.map(item => ids[item.key]?.data ?? {})\n  return {\n    sentence: {\n      entities: get(array1, \"entity\"),\n      topics: get(array1, \"rp_topic\"),\n    },\n    headline: {\n      entities: get(array2, \"entity\"),\n      topics: get(array2, \"rp_topic\"),\n    },\n  }\n}\n\nexport { useUniqueDetections }\n"],"names":["useUniqueDetections","get","array","queryType","filter","item","map","name","trim","id","index","indexOf","sentence","headline","ids","useCqsByIdsContext","array1","key","data","array2","entities","topics"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA6BSA;;;eAAAA;;;0BA5B0B;AAEnC,MAAMC,MAAM,CAACC,OAAuBC;IAClC,OAAOD,MACJE,MAAM,CAACC,CAAAA,OAAQA,KAAKF,SAAS,KAAKA,WAClCG,GAAG,CAACD,CAAAA,OAAQA,KAAKE,IAAI,CAACC,IAAI,IAC1BJ,MAAM,CAAC,CAACK,IAAIC,OAAOR,QAAUA,MAAMS,OAAO,CAACF,QAAQC;AACxD;AAEA,MAAMV,sBAAsB,CAC1BY,UACAC;IAEA,MAAM,EAAEC,GAAG,EAAE,GAAGC,IAAAA,4BAAkB;IAClC,MAAMC,SAASJ,SAASN,GAAG,CAACD,CAAAA;YAAQS;YAAAA;eAAAA,CAAAA,sBAAAA,gBAAAA,GAAG,CAACT,KAAKY,GAAG,CAAC,cAAbH,oCAAAA,cAAeI,IAAI,cAAnBJ,gCAAAA,qBAAuB,CAAC;IAAA;IAC5D,MAAMK,SAASN,SAASP,GAAG,CAACD,CAAAA;YAAQS;YAAAA;eAAAA,CAAAA,sBAAAA,gBAAAA,GAAG,CAACT,KAAKY,GAAG,CAAC,cAAbH,oCAAAA,cAAeI,IAAI,cAAnBJ,gCAAAA,qBAAuB,CAAC;IAAA;IAC5D,OAAO;QACLF,UAAU;YACRQ,UAAUnB,IAAIe,QAAQ;YACtBK,QAAQpB,IAAIe,QAAQ;QACtB;QACAH,UAAU;YACRO,UAAUnB,IAAIkB,QAAQ;YACtBE,QAAQpB,IAAIkB,QAAQ;QACtB;IACF;AACF"}