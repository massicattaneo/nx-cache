96d716b544a602587d01db45a3e24396
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "CqsQueryBar", {
    enumerable: true,
    get: function() {
        return CqsQueryBar;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _theme = require("@rp/react/theme");
const _compositecomponents = require("@rp/react/web/common/composite-components");
const _hooks = require("@rp/react/web/common/hooks");
const _core = require("@rp/react/web/mui/core");
const _QueryBarContext = require("./QueryBarContext");
const _QueryDisplay = require("./QueryDisplay");
const QueryBarBackground = (0, _theme.styled)("section", {
    name: "QueryBarBackground"
})(({ theme })=>({
        backgroundColor: theme.palette.elevation.dp01,
        width: "100%",
        position: "sticky",
        top: 56,
        zIndex: 9,
        borderBottom: `1px solid ${theme.palette.outline.sidebar}`
    }));
const QueryBarContainer = (0, _theme.styled)(_core.Grid, {
    name: "QueryBarContainer"
})(()=>{
    const { isMobile } = (0, _hooks.useDeviceInfo)();
    return {
        display: "flex",
        justifyContent: "space-between",
        flexShrink: 0,
        minHeight: isMobile ? "48px" : "40px",
        alignItems: "center",
        overflow: "auto",
        "&::-webkit-scrollbar": {
            display: "none"
        }
    };
});
const CqsQueryBar = /*#__PURE__*/ (0, _react.forwardRef)(({ searchActions, query, onHandleOpenModal }, ref)=>{
    const { isMobile } = (0, _hooks.useDeviceInfo)();
    const scrollRef = (0, _react.useRef)(null);
    const handleOpenSearch = ()=>{
        searchActions === null || searchActions === void 0 ? void 0 : searchActions.setIsOpen(true);
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_QueryBarContext.QueryBarContextProvider, {
        value: {
            onHandleOpenModal
        },
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(QueryBarBackground, {
            ref: ref,
            "aria-label": "Query Bar",
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.MaxWidthContainer, {
                disableGutters: isMobile,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Grid, {
                    container: true,
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(QueryBarContainer, {
                        item: true,
                        xs: 12,
                        xl: 11,
                        ref: scrollRef,
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_QueryDisplay.QueryDisplay, {
                                query: query,
                                searchActions: searchActions,
                                scrollRef: scrollRef
                            }),
                            isMobile ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Box, {
                                sx: {
                                    width: "100%",
                                    height: "100%"
                                },
                                onClick: handleOpenSearch
                            }) : null
                        ]
                    })
                })
            })
        })
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2Nxcy1xdWVyeS1iYXIvc3JjL2xpYi9RdWVyeUJhci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAcnAvcmVhY3QvdGhlbWVcIlxuaW1wb3J0IHsgSGFuZGxlT3Blbk1vZGFsUHJvcHMsIE1heFdpZHRoQ29udGFpbmVyIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2NvbXBvc2l0ZS1jb21wb25lbnRzXCJcbmltcG9ydCB7IHVzZURldmljZUluZm8gfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vaG9va3NcIlxuaW1wb3J0IHsgQm94LCBHcmlkIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvbXVpL2NvcmVcIlxuaW1wb3J0IHsgUXVlcnlCYXJDb250ZXh0UHJvdmlkZXIgfSBmcm9tIFwiLi9RdWVyeUJhckNvbnRleHRcIlxuaW1wb3J0IHsgUXVlcnlEaXNwbGF5IH0gZnJvbSBcIi4vUXVlcnlEaXNwbGF5XCJcbmltcG9ydCB7IENxc1F1ZXJ5QmFyQ29udGV4dCB9IGZyb20gXCIuL2Nxcy1xdWVyeS1iYXIudHlwZXNcIlxuXG5jb25zdCBRdWVyeUJhckJhY2tncm91bmQgPSBzdHlsZWQoXCJzZWN0aW9uXCIsIHsgbmFtZTogXCJRdWVyeUJhckJhY2tncm91bmRcIiB9KSgoeyB0aGVtZSB9KSA9PiAoe1xuICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuZWxldmF0aW9uLmRwMDEsXG4gIHdpZHRoOiBcIjEwMCVcIixcbiAgcG9zaXRpb246IFwic3RpY2t5XCIsXG4gIHRvcDogNTYsIC8vIFRPRE86IEhlYWRlciBoZWlnaHRcbiAgekluZGV4OiA5LFxuICBib3JkZXJCb3R0b206IGAxcHggc29saWQgJHt0aGVtZS5wYWxldHRlLm91dGxpbmUuc2lkZWJhcn1gLFxufSkpXG5cbmNvbnN0IFF1ZXJ5QmFyQ29udGFpbmVyID0gc3R5bGVkKEdyaWQsIHsgbmFtZTogXCJRdWVyeUJhckNvbnRhaW5lclwiIH0pKCgpID0+IHtcbiAgY29uc3QgeyBpc01vYmlsZSB9ID0gdXNlRGV2aWNlSW5mbygpXG4gIHJldHVybiB7XG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgIGZsZXhTaHJpbms6IDAsXG4gICAgbWluSGVpZ2h0OiBpc01vYmlsZSA/IFwiNDhweFwiIDogXCI0MHB4XCIsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgXCImOjotd2Via2l0LXNjcm9sbGJhclwiOiB7XG4gICAgICBkaXNwbGF5OiBcIm5vbmVcIixcbiAgICB9LFxuICB9XG59KVxuXG50eXBlIFByb3BzID0ge1xuICBzZWFyY2hBY3Rpb25zPzogeyBzZXRJc09wZW46IChzZXRPcGVuOiBib29sZWFuKSA9PiB2b2lkIH1cbiAgcXVlcnk6IENxc1F1ZXJ5QmFyQ29udGV4dFxuICBvbkhhbmRsZU9wZW5Nb2RhbDogSGFuZGxlT3Blbk1vZGFsUHJvcHNcbn1cblxuY29uc3QgQ3FzUXVlcnlCYXIgPSBmb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBQcm9wcz4oXG4gICh7IHNlYXJjaEFjdGlvbnMsIHF1ZXJ5LCBvbkhhbmRsZU9wZW5Nb2RhbCB9LCByZWYpID0+IHtcbiAgICBjb25zdCB7IGlzTW9iaWxlIH0gPSB1c2VEZXZpY2VJbmZvKClcbiAgICBjb25zdCBzY3JvbGxSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IGhhbmRsZU9wZW5TZWFyY2ggPSAoKSA9PiB7XG4gICAgICBzZWFyY2hBY3Rpb25zPy5zZXRJc09wZW4odHJ1ZSlcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFF1ZXJ5QmFyQ29udGV4dFByb3ZpZGVyIHZhbHVlPXt7IG9uSGFuZGxlT3Blbk1vZGFsIH19PlxuICAgICAgICA8UXVlcnlCYXJCYWNrZ3JvdW5kIHJlZj17cmVmfSBhcmlhLWxhYmVsPVwiUXVlcnkgQmFyXCI+XG4gICAgICAgICAgPE1heFdpZHRoQ29udGFpbmVyIGRpc2FibGVHdXR0ZXJzPXtpc01vYmlsZX0+XG4gICAgICAgICAgICA8R3JpZCBjb250YWluZXI+XG4gICAgICAgICAgICAgIDxRdWVyeUJhckNvbnRhaW5lciBpdGVtIHhzPXsxMn0geGw9ezExfSByZWY9e3Njcm9sbFJlZn0+XG4gICAgICAgICAgICAgICAgPFF1ZXJ5RGlzcGxheSBxdWVyeT17cXVlcnl9IHNlYXJjaEFjdGlvbnM9e3NlYXJjaEFjdGlvbnN9IHNjcm9sbFJlZj17c2Nyb2xsUmVmfSAvPlxuICAgICAgICAgICAgICAgIHtpc01vYmlsZSA/IChcbiAgICAgICAgICAgICAgICAgIDxCb3ggc3g9e3sgd2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiIH19IG9uQ2xpY2s9e2hhbmRsZU9wZW5TZWFyY2h9IC8+XG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgIDwvUXVlcnlCYXJDb250YWluZXI+XG4gICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgPC9NYXhXaWR0aENvbnRhaW5lcj5cbiAgICAgICAgPC9RdWVyeUJhckJhY2tncm91bmQ+XG4gICAgICA8L1F1ZXJ5QmFyQ29udGV4dFByb3ZpZGVyPlxuICAgIClcbiAgfSxcbilcblxuZXhwb3J0IHsgQ3FzUXVlcnlCYXIgfVxuIl0sIm5hbWVzIjpbIkNxc1F1ZXJ5QmFyIiwiUXVlcnlCYXJCYWNrZ3JvdW5kIiwic3R5bGVkIiwibmFtZSIsInRoZW1lIiwiYmFja2dyb3VuZENvbG9yIiwicGFsZXR0ZSIsImVsZXZhdGlvbiIsImRwMDEiLCJ3aWR0aCIsInBvc2l0aW9uIiwidG9wIiwiekluZGV4IiwiYm9yZGVyQm90dG9tIiwib3V0bGluZSIsInNpZGViYXIiLCJRdWVyeUJhckNvbnRhaW5lciIsIkdyaWQiLCJpc01vYmlsZSIsInVzZURldmljZUluZm8iLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJmbGV4U2hyaW5rIiwibWluSGVpZ2h0IiwiYWxpZ25JdGVtcyIsIm92ZXJmbG93IiwiZm9yd2FyZFJlZiIsInNlYXJjaEFjdGlvbnMiLCJxdWVyeSIsIm9uSGFuZGxlT3Blbk1vZGFsIiwicmVmIiwic2Nyb2xsUmVmIiwidXNlUmVmIiwiaGFuZGxlT3BlblNlYXJjaCIsInNldElzT3BlbiIsIlF1ZXJ5QmFyQ29udGV4dFByb3ZpZGVyIiwidmFsdWUiLCJhcmlhLWxhYmVsIiwiTWF4V2lkdGhDb250YWluZXIiLCJkaXNhYmxlR3V0dGVycyIsImNvbnRhaW5lciIsIml0ZW0iLCJ4cyIsInhsIiwiUXVlcnlEaXNwbGF5IiwiQm94Iiwic3giLCJoZWlnaHQiLCJvbkNsaWNrIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBbUVTQTs7O2VBQUFBOzs7O3VCQW5FMEI7dUJBQ1o7cUNBQ2lDO3VCQUMxQjtzQkFDSjtpQ0FDYzs4QkFDWDtBQUc3QixNQUFNQyxxQkFBcUJDLElBQUFBLGFBQU0sRUFBQyxXQUFXO0lBQUVDLE1BQU07QUFBcUIsR0FBRyxDQUFDLEVBQUVDLEtBQUssRUFBRSxHQUFNLENBQUE7UUFDM0ZDLGlCQUFpQkQsTUFBTUUsT0FBTyxDQUFDQyxTQUFTLENBQUNDLElBQUk7UUFDN0NDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxLQUFLO1FBQ0xDLFFBQVE7UUFDUkMsY0FBYyxDQUFDLFVBQVUsRUFBRVQsTUFBTUUsT0FBTyxDQUFDUSxPQUFPLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0lBQzVELENBQUE7QUFFQSxNQUFNQyxvQkFBb0JkLElBQUFBLGFBQU0sRUFBQ2UsVUFBSSxFQUFFO0lBQUVkLE1BQU07QUFBb0IsR0FBRztJQUNwRSxNQUFNLEVBQUVlLFFBQVEsRUFBRSxHQUFHQyxJQUFBQSxvQkFBYTtJQUNsQyxPQUFPO1FBQ0xDLFNBQVM7UUFDVEMsZ0JBQWdCO1FBQ2hCQyxZQUFZO1FBQ1pDLFdBQVdMLFdBQVcsU0FBUztRQUMvQk0sWUFBWTtRQUNaQyxVQUFVO1FBQ1Ysd0JBQXdCO1lBQ3RCTCxTQUFTO1FBQ1g7SUFDRjtBQUNGO0FBUUEsTUFBTXBCLDRCQUFjMEIsSUFBQUEsaUJBQVUsRUFDNUIsQ0FBQyxFQUFFQyxhQUFhLEVBQUVDLEtBQUssRUFBRUMsaUJBQWlCLEVBQUUsRUFBRUM7SUFDNUMsTUFBTSxFQUFFWixRQUFRLEVBQUUsR0FBR0MsSUFBQUEsb0JBQWE7SUFDbEMsTUFBTVksWUFBWUMsSUFBQUEsYUFBTSxFQUFDO0lBRXpCLE1BQU1DLG1CQUFtQjtRQUN2Qk4sMEJBQUFBLG9DQUFBQSxjQUFlTyxTQUFTLENBQUM7SUFDM0I7SUFFQSxxQkFDRSxxQkFBQ0Msd0NBQXVCO1FBQUNDLE9BQU87WUFBRVA7UUFBa0I7a0JBQ2xELGNBQUEscUJBQUM1QjtZQUFtQjZCLEtBQUtBO1lBQUtPLGNBQVc7c0JBQ3ZDLGNBQUEscUJBQUNDLHNDQUFpQjtnQkFBQ0MsZ0JBQWdCckI7MEJBQ2pDLGNBQUEscUJBQUNELFVBQUk7b0JBQUN1QixTQUFTOzhCQUNiLGNBQUEsc0JBQUN4Qjt3QkFBa0J5QixJQUFJO3dCQUFDQyxJQUFJO3dCQUFJQyxJQUFJO3dCQUFJYixLQUFLQzs7MENBQzNDLHFCQUFDYSwwQkFBWTtnQ0FBQ2hCLE9BQU9BO2dDQUFPRCxlQUFlQTtnQ0FBZUksV0FBV0E7OzRCQUNwRWIseUJBQ0MscUJBQUMyQixTQUFHO2dDQUFDQyxJQUFJO29DQUFFckMsT0FBTztvQ0FBUXNDLFFBQVE7Z0NBQU87Z0NBQUdDLFNBQVNmO2lDQUNuRDs7Ozs7OztBQU9sQiJ9