{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/cqs-query-bar/src/lib/QueryBar.tsx"],"sourcesContent":["import { forwardRef, useRef } from \"react\"\nimport { styled } from \"@rp/react/theme\"\nimport { HandleOpenModalProps, MaxWidthContainer } from \"@rp/react/web/common/composite-components\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { Box, Grid } from \"@rp/react/web/mui/core\"\nimport { QueryBarContextProvider } from \"./QueryBarContext\"\nimport { QueryDisplay } from \"./QueryDisplay\"\nimport { CqsQueryBarContext } from \"./cqs-query-bar.types\"\n\nconst QueryBarBackground = styled(\"section\", { name: \"QueryBarBackground\" })(({ theme }) => ({\n  backgroundColor: theme.palette.elevation.dp01,\n  width: \"100%\",\n  position: \"sticky\",\n  top: 56, // TODO: Header height\n  zIndex: 9,\n  borderBottom: `1px solid ${theme.palette.outline.sidebar}`,\n}))\n\nconst QueryBarContainer = styled(Grid, { name: \"QueryBarContainer\" })(() => {\n  const { isMobile } = useDeviceInfo()\n  return {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    flexShrink: 0,\n    minHeight: isMobile ? \"48px\" : \"40px\",\n    alignItems: \"center\",\n    overflow: \"auto\",\n    \"&::-webkit-scrollbar\": {\n      display: \"none\",\n    },\n  }\n})\n\ntype Props = {\n  searchActions?: { setIsOpen: (setOpen: boolean) => void }\n  query: CqsQueryBarContext\n  onHandleOpenModal: HandleOpenModalProps\n}\n\nconst CqsQueryBar = forwardRef<HTMLDivElement, Props>(\n  ({ searchActions, query, onHandleOpenModal }, ref) => {\n    const { isMobile } = useDeviceInfo()\n    const scrollRef = useRef(null)\n\n    const handleOpenSearch = () => {\n      searchActions?.setIsOpen(true)\n    }\n\n    return (\n      <QueryBarContextProvider value={{ onHandleOpenModal }}>\n        <QueryBarBackground ref={ref} aria-label=\"Query Bar\">\n          <MaxWidthContainer disableGutters={isMobile}>\n            <Grid container>\n              <QueryBarContainer item xs={12} xl={11} ref={scrollRef}>\n                <QueryDisplay query={query} searchActions={searchActions} scrollRef={scrollRef} />\n                {isMobile ? (\n                  <Box sx={{ width: \"100%\", height: \"100%\" }} onClick={handleOpenSearch} />\n                ) : null}\n              </QueryBarContainer>\n            </Grid>\n          </MaxWidthContainer>\n        </QueryBarBackground>\n      </QueryBarContextProvider>\n    )\n  },\n)\n\nexport { CqsQueryBar }\n"],"names":["CqsQueryBar","QueryBarBackground","styled","name","theme","backgroundColor","palette","elevation","dp01","width","position","top","zIndex","borderBottom","outline","sidebar","QueryBarContainer","Grid","isMobile","useDeviceInfo","display","justifyContent","flexShrink","minHeight","alignItems","overflow","forwardRef","searchActions","query","onHandleOpenModal","ref","scrollRef","useRef","handleOpenSearch","setIsOpen","QueryBarContextProvider","value","aria-label","MaxWidthContainer","disableGutters","container","item","xs","xl","QueryDisplay","Box","sx","height","onClick"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAmESA;;;eAAAA;;;;uBAnE0B;uBACZ;qCACiC;uBAC1B;sBACJ;iCACc;8BACX;AAG7B,MAAMC,qBAAqBC,IAAAA,aAAM,EAAC,WAAW;IAAEC,MAAM;AAAqB,GAAG,CAAC,EAAEC,KAAK,EAAE,GAAM,CAAA;QAC3FC,iBAAiBD,MAAME,OAAO,CAACC,SAAS,CAACC,IAAI;QAC7CC,OAAO;QACPC,UAAU;QACVC,KAAK;QACLC,QAAQ;QACRC,cAAc,CAAC,UAAU,EAAET,MAAME,OAAO,CAACQ,OAAO,CAACC,OAAO,CAAC,CAAC;IAC5D,CAAA;AAEA,MAAMC,oBAAoBd,IAAAA,aAAM,EAACe,UAAI,EAAE;IAAEd,MAAM;AAAoB,GAAG;IACpE,MAAM,EAAEe,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAClC,OAAO;QACLC,SAAS;QACTC,gBAAgB;QAChBC,YAAY;QACZC,WAAWL,WAAW,SAAS;QAC/BM,YAAY;QACZC,UAAU;QACV,wBAAwB;YACtBL,SAAS;QACX;IACF;AACF;AAQA,MAAMpB,4BAAc0B,IAAAA,iBAAU,EAC5B,CAAC,EAAEC,aAAa,EAAEC,KAAK,EAAEC,iBAAiB,EAAE,EAAEC;IAC5C,MAAM,EAAEZ,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAClC,MAAMY,YAAYC,IAAAA,aAAM,EAAC;IAEzB,MAAMC,mBAAmB;QACvBN,0BAAAA,oCAAAA,cAAeO,SAAS,CAAC;IAC3B;IAEA,qBACE,qBAACC,wCAAuB;QAACC,OAAO;YAAEP;QAAkB;kBAClD,cAAA,qBAAC5B;YAAmB6B,KAAKA;YAAKO,cAAW;sBACvC,cAAA,qBAACC,sCAAiB;gBAACC,gBAAgBrB;0BACjC,cAAA,qBAACD,UAAI;oBAACuB,SAAS;8BACb,cAAA,sBAACxB;wBAAkByB,IAAI;wBAACC,IAAI;wBAAIC,IAAI;wBAAIb,KAAKC;;0CAC3C,qBAACa,0BAAY;gCAAChB,OAAOA;gCAAOD,eAAeA;gCAAeI,WAAWA;;4BACpEb,yBACC,qBAAC2B,SAAG;gCAACC,IAAI;oCAAErC,OAAO;oCAAQsC,QAAQ;gCAAO;gCAAGC,SAASf;iCACnD;;;;;;;AAOlB"}