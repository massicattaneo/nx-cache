{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/components/Hub/Watchlists/UserWatchlists/UserWatchlistItem.tsx"],"sourcesContent":["import { useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { Watchlist } from \"@rp/common/api-types\"\nimport { formatTime, isDefined } from \"@rp/common/utils\"\nimport { useAccount } from \"@rp/react/common/providers\"\nimport { HubTableRow } from \"@rp/react/web/common/composite-components\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { WATCHLIST_EDIT, WATCHLIST_ID_ROUTE } from \"@rp/react/web/router\"\nimport { useWatchlistsActions } from \"@rp/react/web/watchlists\"\nimport {\n  WatchlistTableDesktopActions,\n  WatchlistTableMobilesActions,\n} from \"../WatchlistTableActions\"\n\ntype Props = {\n  item: Watchlist\n  columnsWidth: Array<string>\n}\n\nfunction MobileActions({ item }: { item: Watchlist }) {\n  const { share, copy, search, rename, remove, chat } = useWatchlistsActions()\n  const [openMenu, setOpenMenu] = useState(false)\n  const { hasEntitlement } = useAccount()\n\n  const actions = [\n    hasEntitlement(\"chat:watchlist\") ? chat : undefined,\n    share,\n    copy,\n    rename,\n    remove,\n    hasEntitlement(\"search\") ? search : undefined,\n  ].filter(isDefined)\n\n  return (\n    <WatchlistTableMobilesActions\n      openMenu={openMenu}\n      setOpenMenu={setOpenMenu}\n      actions={actions}\n      item={item}\n    />\n  )\n}\n\nfunction DesktopActions({ item }: { item: Watchlist }) {\n  const { share, copy, search, rename, remove } = useWatchlistsActions()\n  const [openMenu, setOpenMenu] = useState(false)\n  const { hasEntitlement } = useAccount()\n\n  const actions = [\n    share,\n    copy,\n    rename,\n    remove,\n    hasEntitlement(\"search\") ? search : undefined,\n  ].filter(isDefined)\n\n  return (\n    <WatchlistTableDesktopActions\n      openMenu={openMenu}\n      setOpenMenu={setOpenMenu}\n      actions={actions}\n      item={item}\n    />\n  )\n}\n\nconst UserWatchlistItem = ({ item, columnsWidth }: Props) => {\n  const { isMobile } = useDeviceInfo()\n  const navigate = useNavigate()\n  const [openMenu] = useState(false)\n\n  return (\n    <HubTableRow\n      selected={openMenu}\n      onRowClick={() => {\n        if (isMobile) {\n          navigate(WATCHLIST_EDIT.replace(\":id\", item.id))\n        } else {\n          navigate(WATCHLIST_ID_ROUTE.replace(\":id\", item.id), { state: { comingFrom: \"user\" } })\n        }\n      }}\n      showCompanyIcon={item.shared?.company.permission !== \"undefined\"}\n      mobileActions={<MobileActions item={item} />}\n      columnsWidth={columnsWidth}\n      columns={[\n        { text: item.name },\n        { text: formatTime(item.lastInteracted ?? item.lastUpdated) },\n        {\n          node: <DesktopActions item={item} />,\n        },\n      ]}\n    />\n  )\n}\nexport { UserWatchlistItem }\n"],"names":["UserWatchlistItem","MobileActions","item","share","copy","search","rename","remove","chat","useWatchlistsActions","openMenu","setOpenMenu","useState","hasEntitlement","useAccount","actions","undefined","filter","isDefined","WatchlistTableMobilesActions","DesktopActions","WatchlistTableDesktopActions","columnsWidth","isMobile","useDeviceInfo","navigate","useNavigate","HubTableRow","selected","onRowClick","WATCHLIST_EDIT","replace","id","WATCHLIST_ID_ROUTE","state","comingFrom","showCompanyIcon","shared","company","permission","mobileActions","columns","text","name","formatTime","lastInteracted","lastUpdated","node"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA8FSA;;;eAAAA;;;;uBA9FgB;gCACG;uBAEU;2BACX;qCACC;uBACE;wBACqB;4BACd;uCAI9B;AAOP,SAASC,cAAc,EAAEC,IAAI,EAAuB;IAClD,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAE,GAAGC,IAAAA,gCAAoB;IAC1E,MAAM,CAACC,UAAUC,YAAY,GAAGC,IAAAA,eAAQ,EAAC;IACzC,MAAM,EAAEC,cAAc,EAAE,GAAGC,IAAAA,qBAAU;IAErC,MAAMC,UAAU;QACdF,eAAe,oBAAoBL,OAAOQ;QAC1Cb;QACAC;QACAE;QACAC;QACAM,eAAe,YAAYR,SAASW;KACrC,CAACC,MAAM,CAACC,gBAAS;IAElB,qBACE,qBAACC,mDAA4B;QAC3BT,UAAUA;QACVC,aAAaA;QACbI,SAASA;QACTb,MAAMA;;AAGZ;AAEA,SAASkB,eAAe,EAAElB,IAAI,EAAuB;IACnD,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAE,GAAGE,IAAAA,gCAAoB;IACpE,MAAM,CAACC,UAAUC,YAAY,GAAGC,IAAAA,eAAQ,EAAC;IACzC,MAAM,EAAEC,cAAc,EAAE,GAAGC,IAAAA,qBAAU;IAErC,MAAMC,UAAU;QACdZ;QACAC;QACAE;QACAC;QACAM,eAAe,YAAYR,SAASW;KACrC,CAACC,MAAM,CAACC,gBAAS;IAElB,qBACE,qBAACG,mDAA4B;QAC3BX,UAAUA;QACVC,aAAaA;QACbI,SAASA;QACTb,MAAMA;;AAGZ;AAEA,MAAMF,oBAAoB,CAAC,EAAEE,IAAI,EAAEoB,YAAY,EAAS;QAejCpB;IAdrB,MAAM,EAAEqB,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAClC,MAAMC,WAAWC,IAAAA,2BAAW;IAC5B,MAAM,CAAChB,SAAS,GAAGE,IAAAA,eAAQ,EAAC;QAiBHV;IAfzB,qBACE,qBAACyB,gCAAW;QACVC,UAAUlB;QACVmB,YAAY;YACV,IAAIN,UAAU;gBACZE,SAASK,sBAAc,CAACC,OAAO,CAAC,OAAO7B,KAAK8B,EAAE;YAChD,OAAO;gBACLP,SAASQ,0BAAkB,CAACF,OAAO,CAAC,OAAO7B,KAAK8B,EAAE,GAAG;oBAAEE,OAAO;wBAAEC,YAAY;oBAAO;gBAAE;YACvF;QACF;QACAC,iBAAiBlC,EAAAA,eAAAA,KAAKmC,MAAM,cAAXnC,mCAAAA,aAAaoC,OAAO,CAACC,UAAU,MAAK;QACrDC,6BAAe,qBAACvC;YAAcC,MAAMA;;QACpCoB,cAAcA;QACdmB,SAAS;YACP;gBAAEC,MAAMxC,KAAKyC,IAAI;YAAC;YAClB;gBAAED,MAAME,IAAAA,iBAAU,EAAC1C,CAAAA,uBAAAA,KAAK2C,cAAc,cAAnB3C,kCAAAA,uBAAuBA,KAAK4C,WAAW;YAAE;YAC5D;gBACEC,oBAAM,qBAAC3B;oBAAelB,MAAMA;;YAC9B;SACD;;AAGP"}