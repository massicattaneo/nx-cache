ce6018134695a737ce886b968bc36c82
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "UserWatchlistItem", {
    enumerable: true,
    get: function() {
        return UserWatchlistItem;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _reactrouterdom = require("react-router-dom");
const _utils = require("@rp/common/utils");
const _providers = require("@rp/react/common/providers");
const _compositecomponents = require("@rp/react/web/common/composite-components");
const _hooks = require("@rp/react/web/common/hooks");
const _router = require("@rp/react/web/router");
const _watchlists = require("@rp/react/web/watchlists");
const _WatchlistTableActions = require("../WatchlistTableActions");
function MobileActions({ item }) {
    const { share, copy, search, rename, remove, chat } = (0, _watchlists.useWatchlistsActions)();
    const [openMenu, setOpenMenu] = (0, _react.useState)(false);
    const { hasEntitlement } = (0, _providers.useAccount)();
    const actions = [
        hasEntitlement("chat:watchlist") ? chat : undefined,
        share,
        copy,
        rename,
        remove,
        hasEntitlement("search") ? search : undefined
    ].filter(_utils.isDefined);
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_WatchlistTableActions.WatchlistTableMobilesActions, {
        openMenu: openMenu,
        setOpenMenu: setOpenMenu,
        actions: actions,
        item: item
    });
}
function DesktopActions({ item }) {
    const { share, copy, search, rename, remove } = (0, _watchlists.useWatchlistsActions)();
    const [openMenu, setOpenMenu] = (0, _react.useState)(false);
    const { hasEntitlement } = (0, _providers.useAccount)();
    const actions = [
        share,
        copy,
        rename,
        remove,
        hasEntitlement("search") ? search : undefined
    ].filter(_utils.isDefined);
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_WatchlistTableActions.WatchlistTableDesktopActions, {
        openMenu: openMenu,
        setOpenMenu: setOpenMenu,
        actions: actions,
        item: item
    });
}
const UserWatchlistItem = ({ item, columnsWidth })=>{
    var _item_shared;
    const { isMobile } = (0, _hooks.useDeviceInfo)();
    const navigate = (0, _reactrouterdom.useNavigate)();
    const [openMenu] = (0, _react.useState)(false);
    var _item_lastInteracted;
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.HubTableRow, {
        selected: openMenu,
        onRowClick: ()=>{
            if (isMobile) {
                navigate(_router.WATCHLIST_EDIT.replace(":id", item.id));
            } else {
                navigate(_router.WATCHLIST_ID_ROUTE.replace(":id", item.id), {
                    state: {
                        comingFrom: "user"
                    }
                });
            }
        },
        showCompanyIcon: ((_item_shared = item.shared) === null || _item_shared === void 0 ? void 0 : _item_shared.company.permission) !== "undefined",
        mobileActions: /*#__PURE__*/ (0, _jsxruntime.jsx)(MobileActions, {
            item: item
        }),
        columnsWidth: columnsWidth,
        columns: [
            {
                text: item.name
            },
            {
                text: (0, _utils.formatTime)((_item_lastInteracted = item.lastInteracted) !== null && _item_lastInteracted !== void 0 ? _item_lastInteracted : item.lastUpdated)
            },
            {
                node: /*#__PURE__*/ (0, _jsxruntime.jsx)(DesktopActions, {
                    item: item
                })
            }
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2FwcHMvY2xpZW50LXdlYi9zcmMvYXBwL2NvbXBvbmVudHMvSHViL1dhdGNobGlzdHMvVXNlcldhdGNobGlzdHMvVXNlcldhdGNobGlzdEl0ZW0udHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIlxuaW1wb3J0IHsgV2F0Y2hsaXN0IH0gZnJvbSBcIkBycC9jb21tb24vYXBpLXR5cGVzXCJcbmltcG9ydCB7IGZvcm1hdFRpbWUsIGlzRGVmaW5lZCB9IGZyb20gXCJAcnAvY29tbW9uL3V0aWxzXCJcbmltcG9ydCB7IHVzZUFjY291bnQgfSBmcm9tIFwiQHJwL3JlYWN0L2NvbW1vbi9wcm92aWRlcnNcIlxuaW1wb3J0IHsgSHViVGFibGVSb3cgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vY29tcG9zaXRlLWNvbXBvbmVudHNcIlxuaW1wb3J0IHsgdXNlRGV2aWNlSW5mbyB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi9ob29rc1wiXG5pbXBvcnQgeyBXQVRDSExJU1RfRURJVCwgV0FUQ0hMSVNUX0lEX1JPVVRFIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvcm91dGVyXCJcbmltcG9ydCB7IHVzZVdhdGNobGlzdHNBY3Rpb25zIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvd2F0Y2hsaXN0c1wiXG5pbXBvcnQge1xuICBXYXRjaGxpc3RUYWJsZURlc2t0b3BBY3Rpb25zLFxuICBXYXRjaGxpc3RUYWJsZU1vYmlsZXNBY3Rpb25zLFxufSBmcm9tIFwiLi4vV2F0Y2hsaXN0VGFibGVBY3Rpb25zXCJcblxudHlwZSBQcm9wcyA9IHtcbiAgaXRlbTogV2F0Y2hsaXN0XG4gIGNvbHVtbnNXaWR0aDogQXJyYXk8c3RyaW5nPlxufVxuXG5mdW5jdGlvbiBNb2JpbGVBY3Rpb25zKHsgaXRlbSB9OiB7IGl0ZW06IFdhdGNobGlzdCB9KSB7XG4gIGNvbnN0IHsgc2hhcmUsIGNvcHksIHNlYXJjaCwgcmVuYW1lLCByZW1vdmUsIGNoYXQgfSA9IHVzZVdhdGNobGlzdHNBY3Rpb25zKClcbiAgY29uc3QgW29wZW5NZW51LCBzZXRPcGVuTWVudV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgeyBoYXNFbnRpdGxlbWVudCB9ID0gdXNlQWNjb3VudCgpXG5cbiAgY29uc3QgYWN0aW9ucyA9IFtcbiAgICBoYXNFbnRpdGxlbWVudChcImNoYXQ6d2F0Y2hsaXN0XCIpID8gY2hhdCA6IHVuZGVmaW5lZCxcbiAgICBzaGFyZSxcbiAgICBjb3B5LFxuICAgIHJlbmFtZSxcbiAgICByZW1vdmUsXG4gICAgaGFzRW50aXRsZW1lbnQoXCJzZWFyY2hcIikgPyBzZWFyY2ggOiB1bmRlZmluZWQsXG4gIF0uZmlsdGVyKGlzRGVmaW5lZClcblxuICByZXR1cm4gKFxuICAgIDxXYXRjaGxpc3RUYWJsZU1vYmlsZXNBY3Rpb25zXG4gICAgICBvcGVuTWVudT17b3Blbk1lbnV9XG4gICAgICBzZXRPcGVuTWVudT17c2V0T3Blbk1lbnV9XG4gICAgICBhY3Rpb25zPXthY3Rpb25zfVxuICAgICAgaXRlbT17aXRlbX1cbiAgICAvPlxuICApXG59XG5cbmZ1bmN0aW9uIERlc2t0b3BBY3Rpb25zKHsgaXRlbSB9OiB7IGl0ZW06IFdhdGNobGlzdCB9KSB7XG4gIGNvbnN0IHsgc2hhcmUsIGNvcHksIHNlYXJjaCwgcmVuYW1lLCByZW1vdmUgfSA9IHVzZVdhdGNobGlzdHNBY3Rpb25zKClcbiAgY29uc3QgW29wZW5NZW51LCBzZXRPcGVuTWVudV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgeyBoYXNFbnRpdGxlbWVudCB9ID0gdXNlQWNjb3VudCgpXG5cbiAgY29uc3QgYWN0aW9ucyA9IFtcbiAgICBzaGFyZSxcbiAgICBjb3B5LFxuICAgIHJlbmFtZSxcbiAgICByZW1vdmUsXG4gICAgaGFzRW50aXRsZW1lbnQoXCJzZWFyY2hcIikgPyBzZWFyY2ggOiB1bmRlZmluZWQsXG4gIF0uZmlsdGVyKGlzRGVmaW5lZClcblxuICByZXR1cm4gKFxuICAgIDxXYXRjaGxpc3RUYWJsZURlc2t0b3BBY3Rpb25zXG4gICAgICBvcGVuTWVudT17b3Blbk1lbnV9XG4gICAgICBzZXRPcGVuTWVudT17c2V0T3Blbk1lbnV9XG4gICAgICBhY3Rpb25zPXthY3Rpb25zfVxuICAgICAgaXRlbT17aXRlbX1cbiAgICAvPlxuICApXG59XG5cbmNvbnN0IFVzZXJXYXRjaGxpc3RJdGVtID0gKHsgaXRlbSwgY29sdW1uc1dpZHRoIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaXNNb2JpbGUgfSA9IHVzZURldmljZUluZm8oKVxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKClcbiAgY29uc3QgW29wZW5NZW51XSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIHJldHVybiAoXG4gICAgPEh1YlRhYmxlUm93XG4gICAgICBzZWxlY3RlZD17b3Blbk1lbnV9XG4gICAgICBvblJvd0NsaWNrPXsoKSA9PiB7XG4gICAgICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgICAgIG5hdmlnYXRlKFdBVENITElTVF9FRElULnJlcGxhY2UoXCI6aWRcIiwgaXRlbS5pZCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmF2aWdhdGUoV0FUQ0hMSVNUX0lEX1JPVVRFLnJlcGxhY2UoXCI6aWRcIiwgaXRlbS5pZCksIHsgc3RhdGU6IHsgY29taW5nRnJvbTogXCJ1c2VyXCIgfSB9KVxuICAgICAgICB9XG4gICAgICB9fVxuICAgICAgc2hvd0NvbXBhbnlJY29uPXtpdGVtLnNoYXJlZD8uY29tcGFueS5wZXJtaXNzaW9uICE9PSBcInVuZGVmaW5lZFwifVxuICAgICAgbW9iaWxlQWN0aW9ucz17PE1vYmlsZUFjdGlvbnMgaXRlbT17aXRlbX0gLz59XG4gICAgICBjb2x1bW5zV2lkdGg9e2NvbHVtbnNXaWR0aH1cbiAgICAgIGNvbHVtbnM9e1tcbiAgICAgICAgeyB0ZXh0OiBpdGVtLm5hbWUgfSxcbiAgICAgICAgeyB0ZXh0OiBmb3JtYXRUaW1lKGl0ZW0ubGFzdEludGVyYWN0ZWQgPz8gaXRlbS5sYXN0VXBkYXRlZCkgfSxcbiAgICAgICAge1xuICAgICAgICAgIG5vZGU6IDxEZXNrdG9wQWN0aW9ucyBpdGVtPXtpdGVtfSAvPixcbiAgICAgICAgfSxcbiAgICAgIF19XG4gICAgLz5cbiAgKVxufVxuZXhwb3J0IHsgVXNlcldhdGNobGlzdEl0ZW0gfVxuIl0sIm5hbWVzIjpbIlVzZXJXYXRjaGxpc3RJdGVtIiwiTW9iaWxlQWN0aW9ucyIsIml0ZW0iLCJzaGFyZSIsImNvcHkiLCJzZWFyY2giLCJyZW5hbWUiLCJyZW1vdmUiLCJjaGF0IiwidXNlV2F0Y2hsaXN0c0FjdGlvbnMiLCJvcGVuTWVudSIsInNldE9wZW5NZW51IiwidXNlU3RhdGUiLCJoYXNFbnRpdGxlbWVudCIsInVzZUFjY291bnQiLCJhY3Rpb25zIiwidW5kZWZpbmVkIiwiZmlsdGVyIiwiaXNEZWZpbmVkIiwiV2F0Y2hsaXN0VGFibGVNb2JpbGVzQWN0aW9ucyIsIkRlc2t0b3BBY3Rpb25zIiwiV2F0Y2hsaXN0VGFibGVEZXNrdG9wQWN0aW9ucyIsImNvbHVtbnNXaWR0aCIsImlzTW9iaWxlIiwidXNlRGV2aWNlSW5mbyIsIm5hdmlnYXRlIiwidXNlTmF2aWdhdGUiLCJIdWJUYWJsZVJvdyIsInNlbGVjdGVkIiwib25Sb3dDbGljayIsIldBVENITElTVF9FRElUIiwicmVwbGFjZSIsImlkIiwiV0FUQ0hMSVNUX0lEX1JPVVRFIiwic3RhdGUiLCJjb21pbmdGcm9tIiwic2hvd0NvbXBhbnlJY29uIiwic2hhcmVkIiwiY29tcGFueSIsInBlcm1pc3Npb24iLCJtb2JpbGVBY3Rpb25zIiwiY29sdW1ucyIsInRleHQiLCJuYW1lIiwiZm9ybWF0VGltZSIsImxhc3RJbnRlcmFjdGVkIiwibGFzdFVwZGF0ZWQiLCJub2RlIl0sInJhbmdlTWFwcGlu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