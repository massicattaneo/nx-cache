{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/SourceDisplay/SourceImageDisplay.tsx"],"sourcesContent":["import { LlmDocumentSource } from \"@rp/react/tanstack-api/llm-summary\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { useSourceImage } from \"@rp/react/web/common/providers\"\nimport { Box, Skeleton } from \"@rp/react/web/mui/core\"\nimport { SxProps } from \"@rp/react/web/mui/core\"\n\ntype LlmDocumentSourceWithLinks = LlmDocumentSource & {\n  url?: string | null\n  imageUrls?: Array<string> | null\n}\n\ntype Props = {\n  sources: Array<LlmDocumentSourceWithLinks>\n  isSummaryCompleted: boolean\n  height?: string | number\n  sx?: SxProps\n  isLoading?: boolean\n}\n\nconst SourceImageDisplay = ({ sources, isSummaryCompleted, height, sx, isLoading }: Props) => {\n  const { isLoaded, hasError, src, hd } = useSourceImage(\n    sources.map(source => ({\n      hd: source.hd,\n      id: source.id,\n      name: source.name,\n      imageUrls: source.imageUrls ?? [],\n    })),\n  )\n  const { isMobile } = useDeviceInfo()\n  const imgHeight = height ?? (isMobile ? 170 : 300)\n  const loading = !isSummaryCompleted || !isLoaded || isLoading || !sources.length\n\n  if (hasError || (isSummaryCompleted && !src)) return null\n  return (\n    <Box\n      sx={{\n        px: isMobile ? 2 : 0,\n        \"& img\": {\n          width: \"100%\",\n          height: imgHeight,\n          objectFit: \"cover\",\n          borderRadius: \"4px\",\n        },\n        ...sx,\n      }}\n    >\n      {loading ? (\n        <Skeleton width=\"100%\" height={imgHeight} sx={{ transform: \"none\", mb: 2.8 }} />\n      ) : (\n        <img src={src} alt={hd} />\n      )}\n    </Box>\n  )\n}\n\nexport { SourceImageDisplay }\n"],"names":["SourceImageDisplay","sources","isSummaryCompleted","height","sx","isLoading","isLoaded","hasError","src","hd","useSourceImage","map","source","id","name","imageUrls","isMobile","useDeviceInfo","imgHeight","loading","length","Box","px","width","objectFit","borderRadius","Skeleton","transform","mb","img","alt"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuDSA;;;eAAAA;;;;uBAtDqB;2BACC;sBACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgB9B,MAAMA,qBAAqB,CAAC,EAAEC,OAAO,EAAEC,kBAAkB,EAAEC,MAAM,EAAEC,EAAE,EAAEC,SAAS,EAAS;IACvF,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,EAAE,EAAE,GAAGC,IAAAA,yBAAc,EACpDT,QAAQU,GAAG,CAACC,CAAAA;YAICA;eAJU;YACrBH,IAAIG,OAAOH,EAAE;YACbI,IAAID,OAAOC,EAAE;YACbC,MAAMF,OAAOE,IAAI;YACjBC,WAAWH,CAAAA,oBAAAA,OAAOG,SAAS,cAAhBH,+BAAAA,oBAAoB,EAAE;QACnC;IAAA;IAEF,MAAM,EAAEI,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAClC,MAAMC,YAAYf,mBAAAA,oBAAAA,SAAWa,WAAW,MAAM;IAC9C,MAAMG,UAAU,CAACjB,sBAAsB,CAACI,YAAYD,aAAa,CAACJ,QAAQmB,MAAM;IAEhF,IAAIb,YAAaL,sBAAsB,CAACM,KAAM,OAAO;IACrD,qBACE,qBAACa,SAAG;QACFjB,IAAI;YACFkB,IAAIN,WAAW,IAAI;YACnB,SAAS;gBACPO,OAAO;gBACPpB,QAAQe;gBACRM,WAAW;gBACXC,cAAc;YAChB;WACGrB;kBAGJe,wBACC,qBAACO,cAAQ;YAACH,OAAM;YAAOpB,QAAQe;YAAWd,IAAI;gBAAEuB,WAAW;gBAAQC,IAAI;YAAI;2BAE3E,qBAACC;YAAIrB,KAAKA;YAAKsB,KAAKrB;;;AAI5B"}