{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/components/Hub/Watchlists/PublicWatchlists/PublicWatchlistsItem.tsx"],"sourcesContent":["import { useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useUser } from \"@clerk/clerk-react\"\nimport { Watchlist } from \"@rp/common/api-types\"\nimport { formatTime } from \"@rp/common/utils\"\nimport { useAccount } from \"@rp/react/common/providers\"\nimport { UserAvatar } from \"@rp/react/web/common/base-components\"\nimport { EllipsisTooltip, HubTableRow } from \"@rp/react/web/common/composite-components\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { Box } from \"@rp/react/web/mui/core\"\nimport { WATCHLIST_EDIT, WATCHLIST_ID_ROUTE } from \"@rp/react/web/router\"\nimport { useWatchlistsActions } from \"@rp/react/web/watchlists\"\nimport { getUserName } from \"../../Searches/getUserName\"\nimport {\n  WatchlistTableDesktopActions,\n  WatchlistTableMobilesActions,\n} from \"../WatchlistTableActions\"\n\ntype Props = {\n  item: Watchlist\n  columnsWidth: Array<string>\n}\n\nconst PublicWatchlistsItem = ({ item, columnsWidth }: Props) => {\n  const navigate = useNavigate()\n  const { user } = useUser()\n  const { hasEntitlement } = useAccount()\n  const { chat, share, copy, search } = useWatchlistsActions()\n  const { isMobile } = useDeviceInfo()\n  const [openMenu, setOpenMenu] = useState(false)\n\n  const mobileActions = hasEntitlement(\"search\") ? [chat, share, copy, search] : [chat, share, copy]\n  const desktopActions = hasEntitlement(\"search\") ? [share, copy, search] : [share, copy]\n\n  return (\n    <HubTableRow\n      selected={openMenu}\n      onRowClick={() => {\n        if (isMobile) {\n          navigate(WATCHLIST_EDIT.replace(\":id\", item.id))\n        } else {\n          navigate(WATCHLIST_ID_ROUTE.replace(\":id\", item.id))\n        }\n      }}\n      mobileActions={\n        <WatchlistTableMobilesActions\n          openMenu={openMenu}\n          setOpenMenu={setOpenMenu}\n          actions={mobileActions}\n          item={item}\n        />\n      }\n      columnsWidth={columnsWidth}\n      columns={[\n        { text: item.name },\n        {\n          text: `${formatTime(item.lastUpdated)} Â· ${getUserName(\n            { userEmail: user?.primaryEmailAddress?.emailAddress, userId: user?.id },\n            item,\n          )}`,\n          node: (\n            <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n              <UserAvatar ownerName={item.ownerName} />\n              <EllipsisTooltip tooltipText={item.ownerName} typographyProps={{ fontSize: 14 }}>\n                {getUserName(\n                  { userEmail: user?.primaryEmailAddress?.emailAddress, userId: user?.id },\n                  item,\n                )}\n              </EllipsisTooltip>\n            </Box>\n          ),\n        },\n        { text: formatTime(item.lastUpdated) },\n        {\n          node: (\n            <WatchlistTableDesktopActions\n              openMenu={openMenu}\n              setOpenMenu={setOpenMenu}\n              actions={desktopActions}\n              item={item}\n            />\n          ),\n        },\n      ]}\n    />\n  )\n}\nexport { PublicWatchlistsItem }\n"],"names":["PublicWatchlistsItem","item","columnsWidth","user","navigate","useNavigate","useUser","hasEntitlement","useAccount","chat","share","copy","search","useWatchlistsActions","isMobile","useDeviceInfo","openMenu","setOpenMenu","useState","mobileActions","desktopActions","HubTableRow","selected","onRowClick","WATCHLIST_EDIT","replace","id","WATCHLIST_ID_ROUTE","WatchlistTableMobilesActions","actions","columns","text","name","formatTime","lastUpdated","getUserName","userEmail","primaryEmailAddress","emailAddress","userId","node","Box","sx","display","alignItems","gap","UserAvatar","ownerName","EllipsisTooltip","tooltipText","typographyProps","fontSize","WatchlistTableDesktopActions"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuFSA;;;eAAAA;;;;uBAvFgB;gCACG;4BACJ;uBAEG;2BACA;gCACA;qCACkB;uBACf;sBACV;wBAC+B;4BACd;6BACT;uCAIrB;AAOP,MAAMA,uBAAuB,CAAC,EAAEC,IAAI,EAAEC,YAAY,EAAS;QAkClCC,2BAQMA;IAzC7B,MAAMC,WAAWC,IAAAA,2BAAW;IAC5B,MAAM,EAAEF,IAAI,EAAE,GAAGG,IAAAA,mBAAO;IACxB,MAAM,EAAEC,cAAc,EAAE,GAAGC,IAAAA,qBAAU;IACrC,MAAM,EAAEC,IAAI,EAAEC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAE,GAAGC,IAAAA,gCAAoB;IAC1D,MAAM,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAClC,MAAM,CAACC,UAAUC,YAAY,GAAGC,IAAAA,eAAQ,EAAC;IAEzC,MAAMC,gBAAgBZ,eAAe,YAAY;QAACE;QAAMC;QAAOC;QAAMC;KAAO,GAAG;QAACH;QAAMC;QAAOC;KAAK;IAClG,MAAMS,iBAAiBb,eAAe,YAAY;QAACG;QAAOC;QAAMC;KAAO,GAAG;QAACF;QAAOC;KAAK;IAEvF,qBACE,qBAACU,gCAAW;QACVC,UAAUN;QACVO,YAAY;YACV,IAAIT,UAAU;gBACZV,SAASoB,sBAAc,CAACC,OAAO,CAAC,OAAOxB,KAAKyB,EAAE;YAChD,OAAO;gBACLtB,SAASuB,0BAAkB,CAACF,OAAO,CAAC,OAAOxB,KAAKyB,EAAE;YACpD;QACF;QACAP,6BACE,qBAACS,mDAA4B;YAC3BZ,UAAUA;YACVC,aAAaA;YACbY,SAASV;YACTlB,MAAMA;;QAGVC,cAAcA;QACd4B,SAAS;YACP;gBAAEC,MAAM9B,KAAK+B,IAAI;YAAC;YAClB;gBACED,MAAM,CAAC,EAAEE,IAAAA,iBAAU,EAAChC,KAAKiC,WAAW,EAAE,GAAG,EAAEC,IAAAA,wBAAW,EACpD;oBAAEC,SAAS,EAAEjC,iBAAAA,4BAAAA,4BAAAA,KAAMkC,mBAAmB,cAAzBlC,gDAAAA,0BAA2BmC,YAAY;oBAAEC,MAAM,EAAEpC,iBAAAA,2BAAAA,KAAMuB,EAAE;gBAAC,GACvEzB,MACA,CAAC;gBACHuC,oBACE,sBAACC,SAAG;oBAACC,IAAI;wBAAEC,SAAS;wBAAQC,YAAY;wBAAUC,KAAK;oBAAE;;sCACvD,qBAACC,0BAAU;4BAACC,WAAW9C,KAAK8C,SAAS;;sCACrC,qBAACC,oCAAe;4BAACC,aAAahD,KAAK8C,SAAS;4BAAEG,iBAAiB;gCAAEC,UAAU;4BAAG;sCAC3EhB,IAAAA,wBAAW,EACV;gCAAEC,SAAS,EAAEjC,iBAAAA,4BAAAA,6BAAAA,KAAMkC,mBAAmB,cAAzBlC,iDAAAA,2BAA2BmC,YAAY;gCAAEC,MAAM,EAAEpC,iBAAAA,2BAAAA,KAAMuB,EAAE;4BAAC,GACvEzB;;;;YAKV;YACA;gBAAE8B,MAAME,IAAAA,iBAAU,EAAChC,KAAKiC,WAAW;YAAE;YACrC;gBACEM,oBACE,qBAACY,mDAA4B;oBAC3BpC,UAAUA;oBACVC,aAAaA;oBACbY,SAAST;oBACTnB,MAAMA;;YAGZ;SACD;;AAGP"}