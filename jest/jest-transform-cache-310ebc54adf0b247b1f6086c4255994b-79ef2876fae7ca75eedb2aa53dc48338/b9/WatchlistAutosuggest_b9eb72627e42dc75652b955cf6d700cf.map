{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistAutosuggest/WatchlistAutosuggest.tsx"],"sourcesContent":["import { PropsWithChildren, forwardRef, useState } from \"react\"\nimport { useDebouncedState } from \"@rp/react/common/hooks\"\nimport { EnhancedSuggestion, useWatchlistSuggestions } from \"@rp/react/tanstack-api/suggestion\"\nimport {\n  SuggestionCustomFilter,\n  WatchlistAutosuggestInput,\n  WatchlistAutosuggestInputRef,\n  getWatchlistAutosuggestFilters,\n} from \"@rp/react/web/common/search-autosuggest-input\"\n\ntype Props = PropsWithChildren<{\n  onChange: (value: EnhancedSuggestion) => void\n  customFilter?: SuggestionCustomFilter\n  selectedItems: Array<string>\n  perPage?: number\n  displayItems?: number\n  placeholder?: string\n  disabled?: boolean\n  onHorizontalSelect?: (index: 1 | -1) => void\n}>\n\nconst WatchlistAutosuggest = forwardRef<WatchlistAutosuggestInputRef, Props>(\n  (\n    {\n      onChange,\n      selectedItems,\n      perPage = 20,\n      displayItems = 5,\n      placeholder = \"Search for Companies & ETFs\",\n      disabled,\n      customFilter,\n      onHorizontalSelect,\n      children,\n    },\n    ref,\n  ) => {\n    const [popperOpen, setPopperOpen] = useState(false)\n    const [query, setQuery, queryValue] = useDebouncedState(\"\", 140)\n\n    const { data, fetchNextPage, hasNextPage, isLoading } = useWatchlistSuggestions({\n      query,\n      perPage,\n      ...getWatchlistAutosuggestFilters(customFilter),\n    })\n    return (\n      <WatchlistAutosuggestInput\n        ref={ref}\n        data={data}\n        isLoading={isLoading}\n        fetchNextPage={fetchNextPage}\n        hasNextPage={hasNextPage}\n        setQuery={setQuery}\n        rawQuery={queryValue}\n        onChange={onChange}\n        placeholder={placeholder}\n        open={popperOpen}\n        setOpen={setPopperOpen}\n        selectedItems={selectedItems}\n        displayItems={displayItems}\n        clearOnEnter\n        inputProps={{ sx: { input: { padding: 1 } } }}\n        disabled={disabled}\n        showTicker={customFilter === \"all\" || customFilter === \"stocks\" || customFilter === \"etfs\"}\n        onHorizontalSelect={onHorizontalSelect}\n      >\n        {children}\n      </WatchlistAutosuggestInput>\n    )\n  },\n)\n\nexport { WatchlistAutosuggest }\n"],"names":["WatchlistAutosuggest","forwardRef","onChange","selectedItems","perPage","displayItems","placeholder","disabled","customFilter","onHorizontalSelect","children","ref","popperOpen","setPopperOpen","useState","query","setQuery","queryValue","useDebouncedState","data","fetchNextPage","hasNextPage","isLoading","useWatchlistSuggestions","getWatchlistAutosuggestFilters","WatchlistAutosuggestInput","rawQuery","open","setOpen","clearOnEnter","inputProps","sx","input","padding","showTicker"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuESA;;;eAAAA;;;;uBAvE+C;uBACtB;4BAC0B;wCAMrD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAaP,MAAMA,qCAAuBC,IAAAA,iBAAU,EACrC,CACE,EACEC,QAAQ,EACRC,aAAa,EACbC,UAAU,EAAE,EACZC,eAAe,CAAC,EAChBC,cAAc,6BAA6B,EAC3CC,QAAQ,EACRC,YAAY,EACZC,kBAAkB,EAClBC,QAAQ,EACT,EACDC;IAEA,MAAM,CAACC,YAAYC,cAAc,GAAGC,IAAAA,eAAQ,EAAC;IAC7C,MAAM,CAACC,OAAOC,UAAUC,WAAW,GAAGC,IAAAA,wBAAiB,EAAC,IAAI;IAE5D,MAAM,EAAEC,IAAI,EAAEC,aAAa,EAAEC,WAAW,EAAEC,SAAS,EAAE,GAAGC,IAAAA,mCAAuB,EAAC;QAC9ER;QACAX;OACGoB,IAAAA,sDAA8B,EAAChB;IAEpC,qBACE,qBAACiB,iDAAyB;QACxBd,KAAKA;QACLQ,MAAMA;QACNG,WAAWA;QACXF,eAAeA;QACfC,aAAaA;QACbL,UAAUA;QACVU,UAAUT;QACVf,UAAUA;QACVI,aAAaA;QACbqB,MAAMf;QACNgB,SAASf;QACTV,eAAeA;QACfE,cAAcA;QACdwB,YAAY;QACZC,YAAY;YAAEC,IAAI;gBAAEC,OAAO;oBAAEC,SAAS;gBAAE;YAAE;QAAE;QAC5C1B,UAAUA;QACV2B,YAAY1B,iBAAiB,SAASA,iBAAiB,YAAYA,iBAAiB;QACpFC,oBAAoBA;kBAEnBC;;AAGP"}