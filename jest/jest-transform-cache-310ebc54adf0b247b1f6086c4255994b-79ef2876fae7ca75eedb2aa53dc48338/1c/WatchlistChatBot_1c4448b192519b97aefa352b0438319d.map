{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistChat/WatchlistChatBot/WatchlistChatBot.tsx"],"sourcesContent":["import { Dispatch, SetStateAction } from \"react\"\nimport { CqsItem, Watchlist } from \"@rp/common/api-types\"\nimport { BigdataChatAvatar } from \"@rp/react/common/assets\"\nimport { WatchlistSuggestion } from \"@rp/react/common/watchlists\"\nimport { WorkflowDescriptionResult } from \"@rp/react/tanstack-api/workflow\"\nimport { LoadingResponseSkeleton, UserInput } from \"@rp/react/web/chat\"\nimport { Box, Typography } from \"@rp/react/web/mui/core\"\nimport { WatchlistChatBotDefaultSuggestions } from \"./WatchlistChatBotDefaultSuggestions\"\n\ntype Props = {\n  workflows: Array<WorkflowDescriptionResult>\n  onSuggestionClick: (suggestion: WatchlistSuggestion) => void\n  currentInteraction?: {\n    userInput: string\n    displayedMessage?: string\n    error: boolean\n    stopped: boolean\n    edit: boolean\n  }\n  userInitials: string\n  watchlist: Watchlist\n  selectedEntity: CqsItem | null\n  showAllPrompts?: boolean\n  setShowAllPrompts?: Dispatch<SetStateAction<boolean>>\n  offsetY?: number\n}\n\nexport const WatchlistChatBot = ({\n  workflows,\n  onSuggestionClick,\n  currentInteraction,\n  userInitials,\n  watchlist,\n  selectedEntity,\n  showAllPrompts,\n  setShowAllPrompts,\n  offsetY = 0,\n}: Props) => {\n  if (watchlist.isClientWatchlist || watchlist.items.length === 0) {\n    return (\n      <Box\n        sx={{\n          pt: 2,\n          px: 2,\n          width: \"100%\",\n          maxWidth: 700,\n          mx: \"auto\",\n        }}\n      >\n        <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n          <BigdataChatAvatar height={28} width={28} />\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Bigdata\n          </Typography>\n        </Box>\n        <Typography sx={{ fontSize: 18, mt: 2 }}>\n          Hello! I can generate a summary with the latest news and updates on your watchlist, but\n          you'll need to add some Companies and ETFs to it first.\n        </Typography>\n      </Box>\n    )\n  }\n  if (currentInteraction) {\n    return (\n      <Box\n        sx={{\n          pt: 2,\n          width: \"100%\",\n          maxWidth: 700,\n          mx: \"auto\",\n        }}\n      >\n        <UserInput variant=\"mobile\" userInitials={userInitials} disableScroll>\n          {currentInteraction.displayedMessage ?? currentInteraction.userInput}\n        </UserInput>\n        <LoadingResponseSkeleton variant=\"mobile\" />\n      </Box>\n    )\n  }\n\n  const displayEntityName = selectedEntity?.name\n    ? `${selectedEntity?.name} ${selectedEntity?.metadata1 ? `(${selectedEntity?.metadata1})` : \"\"}`\n    : watchlist.name\n\n  return (\n    <WatchlistChatBotDefaultSuggestions\n      selectedEntity={selectedEntity}\n      workflows={workflows}\n      showAllPrompts={showAllPrompts}\n      setShowAllPrompts={setShowAllPrompts}\n      offsetY={offsetY}\n      onSuggestionClick={onSuggestionClick}\n      displayName={displayEntityName}\n    />\n  )\n}\n"],"names":["WatchlistChatBot","workflows","onSuggestionClick","currentInteraction","userInitials","watchlist","selectedEntity","showAllPrompts","setShowAllPrompts","offsetY","isClientWatchlist","items","length","Box","sx","pt","px","width","maxWidth","mx","display","alignItems","gap","BigdataChatAvatar","height","Typography","variant","color","fontSize","mt","UserInput","disableScroll","displayedMessage","userInput","LoadingResponseSkeleton","displayEntityName","name","metadata1","WatchlistChatBotDefaultSuggestions","displayName"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA2BaA;;;eAAAA;;;;wBAzBqB;sBAGiB;sBACnB;oDACmB;AAoB5C,MAAMA,mBAAmB,CAAC,EAC/BC,SAAS,EACTC,iBAAiB,EACjBC,kBAAkB,EAClBC,YAAY,EACZC,SAAS,EACTC,cAAc,EACdC,cAAc,EACdC,iBAAiB,EACjBC,UAAU,CAAC,EACL;IACN,IAAIJ,UAAUK,iBAAiB,IAAIL,UAAUM,KAAK,CAACC,MAAM,KAAK,GAAG;QAC/D,qBACE,sBAACC,SAAG;YACFC,IAAI;gBACFC,IAAI;gBACJC,IAAI;gBACJC,OAAO;gBACPC,UAAU;gBACVC,IAAI;YACN;;8BAEA,sBAACN,SAAG;oBAACC,IAAI;wBAAEM,SAAS;wBAAQC,YAAY;wBAAUC,KAAK;oBAAE;;sCACvD,qBAACC,yBAAiB;4BAACC,QAAQ;4BAAIP,OAAO;;sCACtC,qBAACQ,gBAAU;4BAACC,SAAQ;4BAAQC,OAAM;sCAAiB;;;;8BAIrD,qBAACF,gBAAU;oBAACX,IAAI;wBAAEc,UAAU;wBAAIC,IAAI;oBAAE;8BAAG;;;;IAM/C;IACA,IAAI1B,oBAAoB;YAWfA;QAVP,qBACE,sBAACU,SAAG;YACFC,IAAI;gBACFC,IAAI;gBACJE,OAAO;gBACPC,UAAU;gBACVC,IAAI;YACN;;8BAEA,qBAACW,eAAS;oBAACJ,SAAQ;oBAAStB,cAAcA;oBAAc2B,aAAa;8BAClE5B,CAAAA,uCAAAA,mBAAmB6B,gBAAgB,cAAnC7B,kDAAAA,uCAAuCA,mBAAmB8B,SAAS;;8BAEtE,qBAACC,6BAAuB;oBAACR,SAAQ;;;;IAGvC;IAEA,MAAMS,oBAAoB7B,CAAAA,2BAAAA,qCAAAA,eAAgB8B,IAAI,IAC1C,CAAC,EAAE9B,2BAAAA,qCAAAA,eAAgB8B,IAAI,CAAC,CAAC,EAAE9B,CAAAA,2BAAAA,qCAAAA,eAAgB+B,SAAS,IAAG,CAAC,CAAC,EAAE/B,2BAAAA,qCAAAA,eAAgB+B,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAC9FhC,UAAU+B,IAAI;IAElB,qBACE,qBAACE,sEAAkC;QACjChC,gBAAgBA;QAChBL,WAAWA;QACXM,gBAAgBA;QAChBC,mBAAmBA;QACnBC,SAASA;QACTP,mBAAmBA;QACnBqC,aAAaJ;;AAGnB"}