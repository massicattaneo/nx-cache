{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/tanstack-api/file/src/services/getMetadata.ts"],"sourcesContent":["import { FileCollection, ServerFile, mapServerFile } from \"@rp/common/utils\"\nimport { axiosClient } from \"@rp/react/axios-client\"\nimport { InfiniteData, QueryClient } from \"@tanstack/react-query\"\nimport { FILES_BASE_URL, FILES_ROOT } from \"../file.constants\"\nimport { filesQueryKeys } from \"../utils/filesQueryKeys\"\nimport { getFileFromResponseForGetMetadata } from \"../utils/getFileFromResponseForGetMetadata\"\n\nconst getMetadata = async (id: string | undefined, queryClient: QueryClient) => {\n  const res = queryClient.getQueriesData<InfiniteData<FileCollection>>({\n    queryKey: filesQueryKeys.paginated(),\n  })\n\n  const file = getFileFromResponseForGetMetadata(res, id)\n\n  if (file) return mapServerFile(file)\n\n  const { data } = await axiosClient.get<ServerFile>(\n    `${FILES_BASE_URL}${FILES_ROOT}/${id}/metadata`,\n  )\n\n  return mapServerFile(data)\n}\n\nexport { getMetadata }\n"],"names":["getMetadata","id","queryClient","res","getQueriesData","queryKey","filesQueryKeys","paginated","file","getFileFromResponseForGetMetadata","mapServerFile","data","axiosClient","get","FILES_BASE_URL","FILES_ROOT"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuBSA;;;eAAAA;;;uBAvBiD;6BAC9B;+BAEe;gCACZ;mDACmB;AAElD,MAAMA,cAAc,OAAOC,IAAwBC;IACjD,MAAMC,MAAMD,YAAYE,cAAc,CAA+B;QACnEC,UAAUC,8BAAc,CAACC,SAAS;IACpC;IAEA,MAAMC,OAAOC,IAAAA,oEAAiC,EAACN,KAAKF;IAEpD,IAAIO,MAAM,OAAOE,IAAAA,oBAAa,EAACF;IAE/B,MAAM,EAAEG,IAAI,EAAE,GAAG,MAAMC,wBAAW,CAACC,GAAG,CACpC,CAAC,EAAEC,6BAAc,CAAC,EAAEC,yBAAU,CAAC,CAAC,EAAEd,GAAG,SAAS,CAAC;IAGjD,OAAOS,IAAAA,oBAAa,EAACC;AACvB"}