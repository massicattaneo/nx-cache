0ff402b20d0ff244ff5d5bc0e7fcea2c
"use strict";
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly) {
            symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        }
        keys.push.apply(keys, symbols);
    }
    return keys;
}
function _object_spread_props(target, source) {
    source = source != null ? source : {};
    if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
        ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
    }
    return target;
}
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all)=>{
    for(var name in all)__defProp(target, name, {
        get: all[name],
        enumerable: true
    });
};
var __copyProps = (to, from, except, desc)=>{
    if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
            get: ()=>from[key],
            enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
        });
    }
    return to;
};
var __reExport = (target, mod, secondTarget)=>(__copyProps(target, mod, "default"), secondTarget && __copyProps(secondTarget, mod, "default"));
var __toESM = (mod, isNodeMode, target)=>(target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(// If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", {
        value: mod,
        enumerable: true
    }) : target, mod));
var __toCommonJS = (mod)=>__copyProps(__defProp({}, "__esModule", {
        value: true
    }), mod);
// src/react/index.ts
var react_exports = {};
__export(react_exports, {
    ClerkInstanceContext: ()=>ClerkInstanceContext,
    ClientContext: ()=>ClientContext,
    OptionsContext: ()=>OptionsContext,
    OrganizationProvider: ()=>OrganizationProvider,
    SessionContext: ()=>SessionContext,
    UserContext: ()=>UserContext,
    assertContextExists: ()=>assertContextExists,
    createContextAndHook: ()=>createContextAndHook,
    isDeeplyEqual: ()=>isDeeplyEqual,
    useAssertWrappedByClerkProvider: ()=>useAssertWrappedByClerkProvider,
    useClerk: ()=>useClerk,
    useClerkInstanceContext: ()=>useClerkInstanceContext,
    useClientContext: ()=>useClientContext,
    useDeepEqualMemo: ()=>useDeepEqualMemo,
    useOptionsContext: ()=>useOptionsContext,
    useOrganization: ()=>useOrganization,
    useOrganizationContext: ()=>useOrganizationContext,
    useOrganizationList: ()=>useOrganizationList,
    useReverification: ()=>useReverification,
    useSafeLayoutEffect: ()=>useSafeLayoutEffect,
    useSession: ()=>useSession,
    useSessionContext: ()=>useSessionContext,
    useSessionList: ()=>useSessionList,
    useUser: ()=>useUser,
    useUserContext: ()=>useUserContext
});
module.exports = __toCommonJS(react_exports);
// src/react/hooks/createContextAndHook.ts
var import_react = __toESM(require("react"));
function assertContextExists(contextVal, msgOrCtx) {
    if (!contextVal) {
        throw typeof msgOrCtx === "string" ? new Error(msgOrCtx) : new Error(`${msgOrCtx.displayName} not found`);
    }
}
var createContextAndHook = (displayName, options)=>{
    const { assertCtxFn = assertContextExists } = options || {};
    const Ctx = import_react.default.createContext(void 0);
    Ctx.displayName = displayName;
    const useCtx = ()=>{
        const ctx = import_react.default.useContext(Ctx);
        assertCtxFn(ctx, `${displayName} not found`);
        return ctx.value;
    };
    const useCtxWithoutGuarantee = ()=>{
        const ctx = import_react.default.useContext(Ctx);
        return ctx ? ctx.value : {};
    };
    return [
        Ctx,
        useCtx,
        useCtxWithoutGuarantee
    ];
};
// src/organization.ts
function getCurrentOrganizationMembership(organizationMemberships, organizationId) {
    return organizationMemberships.find((organizationMembership)=>organizationMembership.organization.id === organizationId);
}
// src/telemetry/events/method-called.ts
var EVENT_METHOD_CALLED = "METHOD_CALLED";
function eventMethodCalled(method, payload) {
    return {
        event: EVENT_METHOD_CALLED,
        payload: _object_spread({
            method
        }, payload)
    };
}
// src/react/contexts.tsx
var import_react2 = __toESM(require("react"));
// src/react/clerk-swr.ts
var clerk_swr_exports = {};
__export(clerk_swr_exports, {
    useSWR: ()=>import_swr.default,
    useSWRInfinite: ()=>import_infinite.default
});
__reExport(clerk_swr_exports, require("swr"));
var import_swr = __toESM(require("swr"));
var import_infinite = __toESM(require("swr/infinite"));
// src/react/contexts.tsx
var [ClerkInstanceContext, useClerkInstanceContext] = createContextAndHook("ClerkInstanceContext");
var [UserContext, useUserContext] = createContextAndHook("UserContext");
var [ClientContext, useClientContext] = createContextAndHook("ClientContext");
var [SessionContext, useSessionContext] = createContextAndHook("SessionContext");
var OptionsContext = import_react2.default.createContext({});
function useOptionsContext() {
    const context = import_react2.default.useContext(OptionsContext);
    if (context === void 0) {
        throw new Error("useOptions must be used within an OptionsContext");
    }
    return context;
}
var [OrganizationContextInternal, useOrganizationContext] = createContextAndHook("OrganizationContext");
var OrganizationProvider = ({ children, organization, swrConfig })=>{
    return /* @__PURE__ */ import_react2.default.createElement(clerk_swr_exports.SWRConfig, {
        value: swrConfig
    }, /* @__PURE__ */ import_react2.default.createElement(OrganizationContextInternal.Provider, {
        value: {
            value: {
                organization
            }
        }
    }, children));
};
function useAssertWrappedByClerkProvider(displayNameOrFn) {
    const ctx = import_react2.default.useContext(ClerkInstanceContext);
    if (!ctx) {
        if (typeof displayNameOrFn === "function") {
            displayNameOrFn();
            return;
        }
        throw new Error(`${displayNameOrFn} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim());
    }
}
// src/react/hooks/usePagesOrInfinite.ts
var import_react3 = require("react");
function getDifferentKeys(obj1, obj2) {
    const keysSet = new Set(Object.keys(obj2));
    const differentKeysObject = {};
    for (const key1 of Object.keys(obj1)){
        if (!keysSet.has(key1)) {
            differentKeysObject[key1] = obj1[key1];
        }
    }
    return differentKeysObject;
}
var useWithSafeValues = (params, defaultValues)=>{
    const shouldUseDefaults = typeof params === "boolean" && params;
    var _params_initialPage;
    const initialPageRef = (0, import_react3.useRef)(shouldUseDefaults ? defaultValues.initialPage : (_params_initialPage = params === null || params === void 0 ? void 0 : params.initialPage) !== null && _params_initialPage !== void 0 ? _params_initialPage : defaultValues.initialPage);
    var _params_pageSize;
    const pageSizeRef = (0, import_react3.useRef)(shouldUseDefaults ? defaultValues.pageSize : (_params_pageSize = params === null || params === void 0 ? void 0 : params.pageSize) !== null && _params_pageSize !== void 0 ? _params_pageSize : defaultValues.pageSize);
    const newObj = {};
    for (const key of Object.keys(defaultValues)){
        var _params_key;
        newObj[key] = shouldUseDefaults ? defaultValues[key] : (_params_key = params === null || params === void 0 ? void 0 : params[key]) !== null && _params_key !== void 0 ? _params_key : defaultValues[key];
    }
    return _object_spread_props(_object_spread({}, newObj), {
        initialPage: initialPageRef.current,
        pageSize: pageSizeRef.current
    });
};
var cachingSWROptions = {
    dedupingInterval: 1e3 * 60,
    focusThrottleInterval: 1e3 * 60 * 2
};
var usePagesOrInfinite = (params, fetcher, config, cacheKeys)=>{
    var _params_initialPage;
    const [paginatedPage, setPaginatedPage] = (0, import_react3.useState)((_params_initialPage = params.initialPage) !== null && _params_initialPage !== void 0 ? _params_initialPage : 1);
    var _params_initialPage1;
    const initialPageRef = (0, import_react3.useRef)((_params_initialPage1 = params.initialPage) !== null && _params_initialPage1 !== void 0 ? _params_initialPage1 : 1);
    var _params_pageSize;
    const pageSizeRef = (0, import_react3.useRef)((_params_pageSize = params.pageSize) !== null && _params_pageSize !== void 0 ? _params_pageSize : 10);
    var _config_enabled;
    const enabled = (_config_enabled = config.enabled) !== null && _config_enabled !== void 0 ? _config_enabled : true;
    var _config_infinite;
    const triggerInfinite = (_config_infinite = config.infinite) !== null && _config_infinite !== void 0 ? _config_infinite : false;
    var _config_keepPreviousData;
    const keepPreviousData = (_config_keepPreviousData = config.keepPreviousData) !== null && _config_keepPreviousData !== void 0 ? _config_keepPreviousData : false;
    const pagesCacheKey = _object_spread_props(_object_spread({}, cacheKeys, params), {
        initialPage: paginatedPage,
        pageSize: pageSizeRef.current
    });
    const { data: swrData, isValidating: swrIsValidating, isLoading: swrIsLoading, error: swrError, mutate: swrMutate } = (0, import_swr.default)(!triggerInfinite && !!fetcher && enabled ? pagesCacheKey : null, (cacheKeyParams)=>{
        const requestParams = getDifferentKeys(cacheKeyParams, cacheKeys);
        return fetcher === null || fetcher === void 0 ? void 0 : fetcher(requestParams);
    }, _object_spread({
        keepPreviousData
    }, cachingSWROptions));
    const { data: swrInfiniteData, isLoading: swrInfiniteIsLoading, isValidating: swrInfiniteIsValidating, error: swrInfiniteError, size, setSize, mutate: swrInfiniteMutate } = (0, import_infinite.default)((pageIndex)=>{
        if (!triggerInfinite || !enabled) {
            return null;
        }
        return _object_spread_props(_object_spread({}, params, cacheKeys), {
            initialPage: initialPageRef.current + pageIndex,
            pageSize: pageSizeRef.current
        });
    }, (cacheKeyParams)=>{
        const requestParams = getDifferentKeys(cacheKeyParams, cacheKeys);
        return fetcher === null || fetcher === void 0 ? void 0 : fetcher(requestParams);
    }, cachingSWROptions);
    const page = (0, import_react3.useMemo)(()=>{
        if (triggerInfinite) {
            return size;
        }
        return paginatedPage;
    }, [
        triggerInfinite,
        size,
        paginatedPage
    ]);
    const fetchPage = (0, import_react3.useCallback)((numberOrgFn)=>{
        if (triggerInfinite) {
            void setSize(numberOrgFn);
            return;
        }
        return setPaginatedPage(numberOrgFn);
    }, [
        setSize
    ]);
    const data = (0, import_react3.useMemo)(()=>{
        if (triggerInfinite) {
            var _swrInfiniteData_map_flat;
            return (_swrInfiniteData_map_flat = swrInfiniteData === null || swrInfiniteData === void 0 ? void 0 : swrInfiniteData.map((a)=>a === null || a === void 0 ? void 0 : a.data).flat()) !== null && _swrInfiniteData_map_flat !== void 0 ? _swrInfiniteData_map_flat : [];
        }
        var _swrData_data;
        return (_swrData_data = swrData === null || swrData === void 0 ? void 0 : swrData.data) !== null && _swrData_data !== void 0 ? _swrData_data : [];
    }, [
        triggerInfinite,
        swrData,
        swrInfiniteData
    ]);
    const count = (0, import_react3.useMemo)(()=>{
        if (triggerInfinite) {
            var _swrInfiniteData_;
            return (swrInfiniteData === null || swrInfiniteData === void 0 ? void 0 : (_swrInfiniteData_ = swrInfiniteData[(swrInfiniteData === null || swrInfiniteData === void 0 ? void 0 : swrInfiniteData.length) - 1]) === null || _swrInfiniteData_ === void 0 ? void 0 : _swrInfiniteData_.total_count) || 0;
        }
        var _swrData_total_count;
        return (_swrData_total_count = swrData === null || swrData === void 0 ? void 0 : swrData.total_count) !== null && _swrData_total_count !== void 0 ? _swrData_total_count : 0;
    }, [
        triggerInfinite,
        swrData,
        swrInfiniteData
    ]);
    const isLoading = triggerInfinite ? swrInfiniteIsLoading : swrIsLoading;
    const isFetching = triggerInfinite ? swrInfiniteIsValidating : swrIsValidating;
    var _ref;
    const error = (_ref = triggerInfinite ? swrInfiniteError : swrError) !== null && _ref !== void 0 ? _ref : null;
    const isError = !!error;
    const fetchNext = (0, import_react3.useCallback)(()=>{
        fetchPage((n)=>Math.max(0, n + 1));
    }, [
        fetchPage
    ]);
    const fetchPrevious = (0, import_react3.useCallback)(()=>{
        fetchPage((n)=>Math.max(0, n - 1));
    }, [
        fetchPage
    ]);
    const offsetCount = (initialPageRef.current - 1) * pageSizeRef.current;
    const pageCount = Math.ceil((count - offsetCount) / pageSizeRef.current);
    const hasNextPage = count - offsetCount * pageSizeRef.current > page * pageSizeRef.current;
    const hasPreviousPage = (page - 1) * pageSizeRef.current > offsetCount * pageSizeRef.current;
    const setData = triggerInfinite ? (value)=>swrInfiniteMutate(value, {
            revalidate: false
        }) : (value)=>swrMutate(value, {
            revalidate: false
        });
    const revalidate = triggerInfinite ? ()=>swrInfiniteMutate() : ()=>swrMutate();
    return {
        data,
        count,
        error,
        isLoading,
        isFetching,
        isError,
        page,
        pageCount,
        fetchPage,
        fetchNext,
        fetchPrevious,
        hasNextPage,
        hasPreviousPage,
        // Let the hook return type define this type
        revalidate,
        // Let the hook return type define this type
        setData
    };
};
// src/react/hooks/useOrganization.tsx
var undefinedPaginatedResource = {
    data: void 0,
    count: void 0,
    error: void 0,
    isLoading: false,
    isFetching: false,
    isError: false,
    page: void 0,
    pageCount: void 0,
    fetchPage: void 0,
    fetchNext: void 0,
    fetchPrevious: void 0,
    hasNextPage: false,
    hasPreviousPage: false,
    revalidate: void 0,
    setData: void 0
};
var useOrganization = (params)=>{
    var _clerk_telemetry;
    const { domains: domainListParams, membershipRequests: membershipRequestsListParams, memberships: membersListParams, invitations: invitationsListParams } = params || {};
    useAssertWrappedByClerkProvider("useOrganization");
    const { organization } = useOrganizationContext();
    const session = useSessionContext();
    const domainSafeValues = useWithSafeValues(domainListParams, {
        initialPage: 1,
        pageSize: 10,
        keepPreviousData: false,
        infinite: false,
        enrollmentMode: void 0
    });
    const membershipRequestSafeValues = useWithSafeValues(membershipRequestsListParams, {
        initialPage: 1,
        pageSize: 10,
        status: "pending",
        keepPreviousData: false,
        infinite: false
    });
    const membersSafeValues = useWithSafeValues(membersListParams, {
        initialPage: 1,
        pageSize: 10,
        role: void 0,
        keepPreviousData: false,
        infinite: false,
        query: void 0
    });
    const invitationsSafeValues = useWithSafeValues(invitationsListParams, {
        initialPage: 1,
        pageSize: 10,
        status: [
            "pending"
        ],
        keepPreviousData: false,
        infinite: false
    });
    const clerk = useClerkInstanceContext();
    (_clerk_telemetry = clerk.telemetry) === null || _clerk_telemetry === void 0 ? void 0 : _clerk_telemetry.record(eventMethodCalled("useOrganization"));
    const domainParams = typeof domainListParams === "undefined" ? void 0 : {
        initialPage: domainSafeValues.initialPage,
        pageSize: domainSafeValues.pageSize,
        enrollmentMode: domainSafeValues.enrollmentMode
    };
    const membershipRequestParams = typeof membershipRequestsListParams === "undefined" ? void 0 : {
        initialPage: membershipRequestSafeValues.initialPage,
        pageSize: membershipRequestSafeValues.pageSize,
        status: membershipRequestSafeValues.status
    };
    const membersParams = typeof membersListParams === "undefined" ? void 0 : {
        initialPage: membersSafeValues.initialPage,
        pageSize: membersSafeValues.pageSize,
        role: membersSafeValues.role,
        query: membersSafeValues.query
    };
    const invitationsParams = typeof invitationsListParams === "undefined" ? void 0 : {
        initialPage: invitationsSafeValues.initialPage,
        pageSize: invitationsSafeValues.pageSize,
        status: invitationsSafeValues.status
    };
    const domains = usePagesOrInfinite(_object_spread({}, domainParams), organization === null || organization === void 0 ? void 0 : organization.getDomains, {
        keepPreviousData: domainSafeValues.keepPreviousData,
        infinite: domainSafeValues.infinite,
        enabled: !!domainParams
    }, {
        type: "domains",
        organizationId: organization === null || organization === void 0 ? void 0 : organization.id
    });
    const membershipRequests = usePagesOrInfinite(_object_spread({}, membershipRequestParams), organization === null || organization === void 0 ? void 0 : organization.getMembershipRequests, {
        keepPreviousData: membershipRequestSafeValues.keepPreviousData,
        infinite: membershipRequestSafeValues.infinite,
        enabled: !!membershipRequestParams
    }, {
        type: "membershipRequests",
        organizationId: organization === null || organization === void 0 ? void 0 : organization.id
    });
    const memberships = usePagesOrInfinite(membersParams || {}, organization === null || organization === void 0 ? void 0 : organization.getMemberships, {
        keepPreviousData: membersSafeValues.keepPreviousData,
        infinite: membersSafeValues.infinite,
        enabled: !!membersParams
    }, {
        type: "members",
        organizationId: organization === null || organization === void 0 ? void 0 : organization.id
    });
    const invitations = usePagesOrInfinite(_object_spread({}, invitationsParams), organization === null || organization === void 0 ? void 0 : organization.getInvitations, {
        keepPreviousData: invitationsSafeValues.keepPreviousData,
        infinite: invitationsSafeValues.infinite,
        enabled: !!invitationsParams
    }, {
        type: "invitations",
        organizationId: organization === null || organization === void 0 ? void 0 : organization.id
    });
    if (organization === void 0) {
        return {
            isLoaded: false,
            organization: void 0,
            membership: void 0,
            domains: undefinedPaginatedResource,
            membershipRequests: undefinedPaginatedResource,
            memberships: undefinedPaginatedResource,
            invitations: undefinedPaginatedResource
        };
    }
    if (organization === null) {
        return {
            isLoaded: true,
            organization: null,
            membership: null,
            domains: null,
            membershipRequests: null,
            memberships: null,
            invitations: null
        };
    }
    if (!clerk.loaded && organization) {
        return {
            isLoaded: true,
            organization,
            membership: void 0,
            domains: undefinedPaginatedResource,
            membershipRequests: undefinedPaginatedResource,
            memberships: undefinedPaginatedResource,
            invitations: undefinedPaginatedResource
        };
    }
    return {
        isLoaded: clerk.loaded,
        organization,
        membership: getCurrentOrganizationMembership(session.user.organizationMemberships, organization.id),
        // your membership in the current org
        domains,
        membershipRequests,
        memberships,
        invitations
    };
};
// src/react/hooks/useOrganizationList.tsx
var undefinedPaginatedResource2 = {
    data: void 0,
    count: void 0,
    error: void 0,
    isLoading: false,
    isFetching: false,
    isError: false,
    page: void 0,
    pageCount: void 0,
    fetchPage: void 0,
    fetchNext: void 0,
    fetchPrevious: void 0,
    hasNextPage: false,
    hasPreviousPage: false,
    revalidate: void 0,
    setData: void 0
};
var useOrganizationList = (params)=>{
    var _clerk_telemetry;
    const { userMemberships, userInvitations, userSuggestions } = params || {};
    useAssertWrappedByClerkProvider("useOrganizationList");
    const userMembershipsSafeValues = useWithSafeValues(userMemberships, {
        initialPage: 1,
        pageSize: 10,
        keepPreviousData: false,
        infinite: false
    });
    const userInvitationsSafeValues = useWithSafeValues(userInvitations, {
        initialPage: 1,
        pageSize: 10,
        status: "pending",
        keepPreviousData: false,
        infinite: false
    });
    const userSuggestionsSafeValues = useWithSafeValues(userSuggestions, {
        initialPage: 1,
        pageSize: 10,
        status: "pending",
        keepPreviousData: false,
        infinite: false
    });
    const clerk = useClerkInstanceContext();
    const user = useUserContext();
    (_clerk_telemetry = clerk.telemetry) === null || _clerk_telemetry === void 0 ? void 0 : _clerk_telemetry.record(eventMethodCalled("useOrganizationList"));
    const userMembershipsParams = typeof userMemberships === "undefined" ? void 0 : {
        initialPage: userMembershipsSafeValues.initialPage,
        pageSize: userMembershipsSafeValues.pageSize
    };
    const userInvitationsParams = typeof userInvitations === "undefined" ? void 0 : {
        initialPage: userInvitationsSafeValues.initialPage,
        pageSize: userInvitationsSafeValues.pageSize,
        status: userInvitationsSafeValues.status
    };
    const userSuggestionsParams = typeof userSuggestions === "undefined" ? void 0 : {
        initialPage: userSuggestionsSafeValues.initialPage,
        pageSize: userSuggestionsSafeValues.pageSize,
        status: userSuggestionsSafeValues.status
    };
    const isClerkLoaded = !!(clerk.loaded && user);
    const memberships = usePagesOrInfinite(userMembershipsParams || {}, user === null || user === void 0 ? void 0 : user.getOrganizationMemberships, {
        keepPreviousData: userMembershipsSafeValues.keepPreviousData,
        infinite: userMembershipsSafeValues.infinite,
        enabled: !!userMembershipsParams
    }, {
        type: "userMemberships",
        userId: user === null || user === void 0 ? void 0 : user.id
    });
    const invitations = usePagesOrInfinite(_object_spread({}, userInvitationsParams), user === null || user === void 0 ? void 0 : user.getOrganizationInvitations, {
        keepPreviousData: userInvitationsSafeValues.keepPreviousData,
        infinite: userInvitationsSafeValues.infinite,
        enabled: !!userInvitationsParams
    }, {
        type: "userInvitations",
        userId: user === null || user === void 0 ? void 0 : user.id
    });
    const suggestions = usePagesOrInfinite(_object_spread({}, userSuggestionsParams), user === null || user === void 0 ? void 0 : user.getOrganizationSuggestions, {
        keepPreviousData: userSuggestionsSafeValues.keepPreviousData,
        infinite: userSuggestionsSafeValues.infinite,
        enabled: !!userSuggestionsParams
    }, {
        type: "userSuggestions",
        userId: user === null || user === void 0 ? void 0 : user.id
    });
    if (!isClerkLoaded) {
        return {
            isLoaded: false,
            createOrganization: void 0,
            setActive: void 0,
            userMemberships: undefinedPaginatedResource2,
            userInvitations: undefinedPaginatedResource2,
            userSuggestions: undefinedPaginatedResource2
        };
    }
    return {
        isLoaded: isClerkLoaded,
        setActive: clerk.setActive,
        createOrganization: clerk.createOrganization,
        userMemberships: memberships,
        userInvitations: invitations,
        userSuggestions: suggestions
    };
};
// src/react/hooks/useSafeLayoutEffect.tsx
var import_react4 = __toESM(require("react"));
var useSafeLayoutEffect = typeof window !== "undefined" ? import_react4.default.useLayoutEffect : import_react4.default.useEffect;
// src/react/hooks/useSession.ts
var useSession = ()=>{
    useAssertWrappedByClerkProvider("useSession");
    const session = useSessionContext();
    if (session === void 0) {
        return {
            isLoaded: false,
            isSignedIn: void 0,
            session: void 0
        };
    }
    if (session === null) {
        return {
            isLoaded: true,
            isSignedIn: false,
            session: null
        };
    }
    return {
        isLoaded: true,
        isSignedIn: true,
        session
    };
};
// src/react/hooks/useSessionList.ts
var useSessionList = ()=>{
    useAssertWrappedByClerkProvider("useSessionList");
    const isomorphicClerk = useClerkInstanceContext();
    const client = useClientContext();
    if (!client) {
        return {
            isLoaded: false,
            sessions: void 0,
            setActive: void 0
        };
    }
    return {
        isLoaded: true,
        sessions: client.sessions,
        setActive: isomorphicClerk.setActive
    };
};
// src/react/hooks/useUser.ts
function useUser() {
    useAssertWrappedByClerkProvider("useUser");
    const user = useUserContext();
    if (user === void 0) {
        return {
            isLoaded: false,
            isSignedIn: void 0,
            user: void 0
        };
    }
    if (user === null) {
        return {
            isLoaded: true,
            isSignedIn: false,
            user: null
        };
    }
    return {
        isLoaded: true,
        isSignedIn: true,
        user
    };
}
// src/react/hooks/useClerk.ts
var useClerk = ()=>{
    useAssertWrappedByClerkProvider("useClerk");
    return useClerkInstanceContext();
};
// src/react/hooks/useDeepEqualMemo.ts
var import_dequal = require("dequal");
var import_react5 = __toESM(require("react"));
var useDeepEqualMemoize = (value)=>{
    const ref = import_react5.default.useRef(value);
    if (!(0, import_dequal.dequal)(value, ref.current)) {
        ref.current = value;
    }
    return import_react5.default.useMemo(()=>ref.current, [
        ref.current
    ]);
};
var useDeepEqualMemo = (factory, dependencyArray)=>{
    return import_react5.default.useMemo(factory, useDeepEqualMemoize(dependencyArray));
};
var isDeeplyEqual = import_dequal.dequal;
// src/react/hooks/useReverification.ts
var import_react6 = require("react");
// src/authorization.ts
var TYPES_TO_OBJECTS = {
    strict_mfa: {
        afterMinutes: 10,
        level: "multi_factor"
    },
    strict: {
        afterMinutes: 10,
        level: "second_factor"
    },
    moderate: {
        afterMinutes: 60,
        level: "second_factor"
    },
    lax: {
        afterMinutes: 1440,
        level: "second_factor"
    }
};
var ALLOWED_LEVELS = /* @__PURE__ */ new Set([
    "first_factor",
    "second_factor",
    "multi_factor"
]);
var ALLOWED_TYPES = /* @__PURE__ */ new Set([
    "strict_mfa",
    "strict",
    "moderate",
    "lax"
]);
var isValidMaxAge = (maxAge)=>typeof maxAge === "number" && maxAge > 0;
var isValidLevel = (level)=>ALLOWED_LEVELS.has(level);
var isValidVerificationType = (type)=>ALLOWED_TYPES.has(type);
var validateReverificationConfig = (config)=>{
    if (!config) {
        return false;
    }
    const convertConfigToObject = (config2)=>{
        if (typeof config2 === "string") {
            return TYPES_TO_OBJECTS[config2];
        }
        return config2;
    };
    const isValidStringValue = typeof config === "string" && isValidVerificationType(config);
    const isValidObjectValue = typeof config === "object" && isValidLevel(config.level) && isValidMaxAge(config.afterMinutes);
    if (isValidStringValue || isValidObjectValue) {
        return convertConfigToObject.bind(null, config);
    }
    return false;
};
// src/authorization-errors.ts
var REVERIFICATION_REASON = "reverification-error";
var reverificationError = (missingConfig)=>({
        clerk_error: {
            type: "forbidden",
            reason: REVERIFICATION_REASON,
            metadata: {
                reverification: missingConfig
            }
        }
    });
var isReverificationHint = (result)=>{
    var _result_clerk_error, _result_clerk_error1;
    return result && typeof result === "object" && "clerk_error" in result && ((_result_clerk_error = result.clerk_error) === null || _result_clerk_error === void 0 ? void 0 : _result_clerk_error.type) === "forbidden" && ((_result_clerk_error1 = result.clerk_error) === null || _result_clerk_error1 === void 0 ? void 0 : _result_clerk_error1.reason) === REVERIFICATION_REASON;
};
// src/error.ts
function isClerkAPIResponseError(err) {
    return "clerkError" in err;
}
function isClerkRuntimeError(err) {
    return "clerkRuntimeError" in err;
}
var ClerkRuntimeError = class _ClerkRuntimeError extends Error {
    constructor(message, { code }){
        const prefix = "\u{1F512} Clerk:";
        const regex = new RegExp(prefix.replace(" ", "\\s*"), "i");
        const sanitized = message.replace(regex, "");
        const _message = `${prefix} ${sanitized.trim()}

(code="${code}")
`;
        super(_message);
        /**
     * Returns a string representation of the error.
     *
     * @returns {string} A formatted string with the error name and message.
     * @memberof ClerkRuntimeError
     */ this.toString = ()=>{
            return `[${this.name}]
Message:${this.message}`;
        };
        Object.setPrototypeOf(this, _ClerkRuntimeError.prototype);
        this.code = code;
        this.message = _message;
        this.clerkRuntimeError = true;
        this.name = "ClerkRuntimeError";
    }
};
var DefaultMessages = Object.freeze({
    InvalidProxyUrlErrorMessage: `The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})`,
    InvalidPublishableKeyErrorMessage: `The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})`,
    MissingPublishableKeyErrorMessage: `Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,
    MissingSecretKeyErrorMessage: `Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,
    MissingClerkProvider: `{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider`
});
// src/utils/noop.ts
var noop = (..._args)=>{};
// src/utils/createDeferredPromise.ts
var createDeferredPromise = ()=>{
    let resolve = noop;
    let reject = noop;
    const promise = new Promise((res, rej)=>{
        resolve = res;
        reject = rej;
    });
    return {
        promise,
        resolve,
        reject
    };
};
// src/react/hooks/useReverification.ts
var CLERK_API_REVERIFICATION_ERROR_CODE = "session_reverification_required";
async function resolveResult(result) {
    try {
        const r = await result;
        if (r instanceof Response) {
            return r.json();
        }
        return r;
    } catch (e) {
        if (isClerkAPIResponseError(e) && e.errors.find(({ code })=>code === CLERK_API_REVERIFICATION_ERROR_CODE)) {
            return reverificationError();
        }
        throw e;
    }
}
function createReverificationHandler(params) {
    function assertReverification(fetcher) {
        return async (...args)=>{
            let result = await resolveResult(fetcher(...args));
            if (isReverificationHint(result)) {
                var _result_clerk_error_metadata, _params_openUIComponent;
                const resolvers = createDeferredPromise();
                const isValidMetadata = validateReverificationConfig((_result_clerk_error_metadata = result.clerk_error.metadata) === null || _result_clerk_error_metadata === void 0 ? void 0 : _result_clerk_error_metadata.reverification);
                (_params_openUIComponent = params.openUIComponent) === null || _params_openUIComponent === void 0 ? void 0 : _params_openUIComponent.call(params, {
                    level: isValidMetadata ? isValidMetadata().level : void 0,
                    afterVerification () {
                        resolvers.resolve(true);
                    },
                    afterVerificationCancelled () {
                        resolvers.reject(new ClerkRuntimeError("User cancelled attempted verification", {
                            code: "reverification_cancelled"
                        }));
                    }
                });
                try {
                    await resolvers.promise;
                } catch (e) {
                    if (params.onCancel) {
                        params.onCancel();
                    }
                    if (isClerkRuntimeError(e) && e.code === "reverification_cancelled" && params.throwOnCancel) {
                        throw e;
                    }
                    return null;
                }
                result = await resolveResult(fetcher(...args));
            }
            return result;
        };
    }
    return assertReverification;
}
function useReverification(fetcher, options) {
    const { __internal_openReverification } = useClerk();
    const fetcherRef = (0, import_react6.useRef)(fetcher);
    const optionsRef = (0, import_react6.useRef)(options);
    const handleReverification = (0, import_react6.useMemo)(()=>{
        const handler = createReverificationHandler(_object_spread({
            openUIComponent: __internal_openReverification
        }, optionsRef.current))(fetcherRef.current);
        return [
            handler
        ];
    }, [
        __internal_openReverification,
        fetcherRef.current,
        optionsRef.current
    ]);
    useSafeLayoutEffect(()=>{
        fetcherRef.current = fetcher;
        optionsRef.current = options;
    });
    return handleReverification;
}
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
    ClerkInstanceContext,
    ClientContext,
    OptionsContext,
    OrganizationProvider,
    SessionContext,
    UserContext,
    assertContextExists,
    createContextAndHook,
    isDeeplyEqual,
    useAssertWrappedByClerkProvider,
    useClerk,
    useClerkInstanceContext,
    useClientContext,
    useDeepEqualMemo,
    useOptionsContext,
    useOrganization,
    useOrganizationContext,
    useOrganizationList,
    useReverification,
    useSafeLayoutEffect,
    useSession,
    useSessionContext,
    useSessionList,
    useUser,
    useUserContext
}); //# sourceMappingURL=index.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZWFjdC9pbmRleC50cyIsIi4uLy4uL3NyYy9yZWFjdC9ob29rcy9jcmVhdGVDb250ZXh0QW5kSG9vay50cyIsIi4uLy4uL3NyYy9vcmdhbml6YXRpb24udHMiLCIuLi8uLi9zcmMvdGVsZW1ldHJ5L2V2ZW50cy9tZXRob2QtY2FsbGVkLnRzIiwiLi4vLi4vc3JjL3JlYWN0L2NvbnRleHRzLnRzeCIsIi4uLy4uL3NyYy9yZWFjdC9jbGVyay1zd3IudHMiLCIuLi8uLi9zcmMvcmVhY3QvaG9va3MvdXNlUGFnZXNPckluZmluaXRlLnRzIiwiLi4vLi4vc3JjL3JlYWN0L2hvb2tzL3VzZU9yZ2FuaXphdGlvbi50c3giLCIuLi8uLi9zcmMvcmVhY3QvaG9va3MvdXNlT3JnYW5pemF0aW9uTGlzdC50c3giLCIuLi8uLi9zcmMvcmVhY3QvaG9va3MvdXNlU2FmZUxheW91dEVmZmVjdC50c3giLCIuLi8uLi9zcmMvcmVhY3QvaG9va3MvdXNlU2Vzc2lvbi50cyIsIi4uLy4uL3NyYy9yZWFjdC9ob29rcy91c2VTZXNzaW9uTGlzdC50cyIsIi4uLy4uL3NyYy9yZWFjdC9ob29rcy91c2VVc2VyLnRzIiwiLi4vLi4vc3JjL3JlYWN0L2hvb2tzL3VzZUNsZXJrLnRzIiwiLi4vLi4vc3JjL3JlYWN0L2hvb2tzL3VzZURlZXBFcXVhbE1lbW8udHMiLCIuLi8uLi9zcmMvcmVhY3QvaG9va3MvdXNlUmV2ZXJpZmljYXRpb24udHMiLCIuLi8uLi9zcmMvYXV0aG9yaXphdGlvbi50cyIsIi4uLy4uL3NyYy9hdXRob3JpemF0aW9uLWVycm9ycy50cyIsIi4uLy4uL3NyYy9lcnJvci50cyIsIi4uLy4uL3NyYy91dGlscy9ub29wLnRzIiwiLi4vLi4vc3JjL3V0aWxzL2NyZWF0ZURlZmVycmVkUHJvbWlzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2hvb2tzJztcblxuZXhwb3J0IHtcbiAgQ2xlcmtJbnN0YW5jZUNvbnRleHQsXG4gIENsaWVudENvbnRleHQsXG4gIE9wdGlvbnNDb250ZXh0LFxuICBPcmdhbml6YXRpb25Qcm92aWRlcixcbiAgU2Vzc2lvbkNvbnRleHQsXG4gIHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIsXG4gIHVzZUNsZXJrSW5zdGFuY2VDb250ZXh0LFxuICB1c2VDbGllbnRDb250ZXh0LFxuICB1c2VPcHRpb25zQ29udGV4dCxcbiAgdXNlT3JnYW5pemF0aW9uQ29udGV4dCxcbiAgVXNlckNvbnRleHQsXG4gIHVzZVNlc3Npb25Db250ZXh0LFxuICB1c2VVc2VyQ29udGV4dCxcbn0gZnJvbSAnLi9jb250ZXh0cyc7XG4iLCIndXNlIGNsaWVudCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0Q29udGV4dEV4aXN0cyhjb250ZXh0VmFsOiB1bmtub3duLCBtc2dPckN0eDogc3RyaW5nIHwgUmVhY3QuQ29udGV4dDxhbnk+KTogYXNzZXJ0cyBjb250ZXh0VmFsIHtcbiAgaWYgKCFjb250ZXh0VmFsKSB7XG4gICAgdGhyb3cgdHlwZW9mIG1zZ09yQ3R4ID09PSAnc3RyaW5nJyA/IG5ldyBFcnJvcihtc2dPckN0eCkgOiBuZXcgRXJyb3IoYCR7bXNnT3JDdHguZGlzcGxheU5hbWV9IG5vdCBmb3VuZGApO1xuICB9XG59XG5cbnR5cGUgT3B0aW9ucyA9IHsgYXNzZXJ0Q3R4Rm4/OiAodjogdW5rbm93biwgbXNnOiBzdHJpbmcpID0+IHZvaWQgfTtcbnR5cGUgQ29udGV4dE9mPFQ+ID0gUmVhY3QuQ29udGV4dDx7IHZhbHVlOiBUIH0gfCB1bmRlZmluZWQ+O1xudHlwZSBVc2VDdHhGbjxUPiA9ICgpID0+IFQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIENvbnRleHQgYW5kIHR3byBob29rcyB0aGF0IHJldHVybiB0aGUgY29udGV4dCB2YWx1ZS5cbiAqIFRoZSBDb250ZXh0IHR5cGUgaXMgZGVyaXZlZCBmcm9tIHRoZSB0eXBlIHBhc3NlZCBpbiBieSB0aGUgdXNlci5cbiAqIFRoZSBmaXJzdCBob29rIHJldHVybmVkIGd1YXJhbnRlZXMgdGhhdCB0aGUgY29udGV4dCBleGlzdHMgc28gdGhlIHJldHVybmVkIHZhbHVlIGlzIGFsd2F5cyBDdHhWYWx1ZVxuICogVGhlIHNlY29uZCBob29rIG1ha2VzIG5vIGd1YXJhbnRlZXMsIHNvIHRoZSByZXR1cm5lZCB2YWx1ZSBjYW4gYmUgQ3R4VmFsdWUgfCB1bmRlZmluZWRcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnRleHRBbmRIb29rID0gPEN0eFZhbD4oXG4gIGRpc3BsYXlOYW1lOiBzdHJpbmcsXG4gIG9wdGlvbnM/OiBPcHRpb25zLFxuKTogW0NvbnRleHRPZjxDdHhWYWw+LCBVc2VDdHhGbjxDdHhWYWw+LCBVc2VDdHhGbjxDdHhWYWwgfCBQYXJ0aWFsPEN0eFZhbD4+XSA9PiB7XG4gIGNvbnN0IHsgYXNzZXJ0Q3R4Rm4gPSBhc3NlcnRDb250ZXh0RXhpc3RzIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBDdHggPSBSZWFjdC5jcmVhdGVDb250ZXh0PHsgdmFsdWU6IEN0eFZhbCB9IHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBDdHguZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcblxuICBjb25zdCB1c2VDdHggPSAoKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChDdHgpO1xuICAgIGFzc2VydEN0eEZuKGN0eCwgYCR7ZGlzcGxheU5hbWV9IG5vdCBmb3VuZGApO1xuICAgIHJldHVybiAoY3R4IGFzIGFueSkudmFsdWUgYXMgQ3R4VmFsO1xuICB9O1xuXG4gIGNvbnN0IHVzZUN0eFdpdGhvdXRHdWFyYW50ZWUgPSAoKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChDdHgpO1xuICAgIHJldHVybiBjdHggPyBjdHgudmFsdWUgOiB7fTtcbiAgfTtcblxuICByZXR1cm4gW0N0eCwgdXNlQ3R4LCB1c2VDdHhXaXRob3V0R3VhcmFudGVlXTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7IE9yZ2FuaXphdGlvbk1lbWJlcnNoaXBSZXNvdXJjZSB9IGZyb20gJ0BjbGVyay90eXBlcyc7XG5cbi8qKlxuICogRmluZHMgdGhlIG9yZ2FuaXphdGlvbiBtZW1iZXJzaGlwIGZvciBhIGdpdmVuIG9yZ2FuaXphdGlvbiBJRCBmcm9tIGEgbGlzdCBvZiBtZW1iZXJzaGlwc1xuICogQHBhcmFtIG9yZ2FuaXphdGlvbk1lbWJlcnNoaXBzIC0gQXJyYXkgb2Ygb3JnYW5pemF0aW9uIG1lbWJlcnNoaXBzIHRvIHNlYXJjaCB0aHJvdWdoXG4gKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgLSBJRCBvZiB0aGUgb3JnYW5pemF0aW9uIHRvIGZpbmQgdGhlIG1lbWJlcnNoaXAgZm9yXG4gKiBAcmV0dXJucyBUaGUgbWF0Y2hpbmcgb3JnYW5pemF0aW9uIG1lbWJlcnNoaXAgb3IgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudE9yZ2FuaXphdGlvbk1lbWJlcnNoaXAoXG4gIG9yZ2FuaXphdGlvbk1lbWJlcnNoaXBzOiBPcmdhbml6YXRpb25NZW1iZXJzaGlwUmVzb3VyY2VbXSxcbiAgb3JnYW5pemF0aW9uSWQ6IHN0cmluZyxcbikge1xuICByZXR1cm4gb3JnYW5pemF0aW9uTWVtYmVyc2hpcHMuZmluZChcbiAgICBvcmdhbml6YXRpb25NZW1iZXJzaGlwID0+IG9yZ2FuaXphdGlvbk1lbWJlcnNoaXAub3JnYW5pemF0aW9uLmlkID09PSBvcmdhbml6YXRpb25JZCxcbiAgKTtcbn1cbiIsImltcG9ydCB0eXBlIHsgVGVsZW1ldHJ5RXZlbnRSYXcgfSBmcm9tICdAY2xlcmsvdHlwZXMnO1xuXG5jb25zdCBFVkVOVF9NRVRIT0RfQ0FMTEVEID0gJ01FVEhPRF9DQUxMRUQnO1xuXG50eXBlIEV2ZW50TWV0aG9kQ2FsbGVkID0ge1xuICBtZXRob2Q6IHN0cmluZztcbn0gJiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPjtcblxuLyoqXG4gKiBGaXJlZCB3aGVuIGEgaGVscGVyIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSBhIENsZXJrIFNESy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50TWV0aG9kQ2FsbGVkKFxuICBtZXRob2Q6IHN0cmluZyxcbiAgcGF5bG9hZD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogVGVsZW1ldHJ5RXZlbnRSYXc8RXZlbnRNZXRob2RDYWxsZWQ+IHtcbiAgcmV0dXJuIHtcbiAgICBldmVudDogRVZFTlRfTUVUSE9EX0NBTExFRCxcbiAgICBwYXlsb2FkOiB7XG4gICAgICBtZXRob2QsXG4gICAgICAuLi5wYXlsb2FkLFxuICAgIH0sXG4gIH07XG59XG4iLCIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB0eXBlIHtcbiAgQWN0aXZlU2Vzc2lvblJlc291cmNlLFxuICBDbGVya09wdGlvbnMsXG4gIENsaWVudFJlc291cmNlLFxuICBMb2FkZWRDbGVyayxcbiAgT3JnYW5pemF0aW9uUmVzb3VyY2UsXG4gIFVzZXJSZXNvdXJjZSxcbn0gZnJvbSAnQGNsZXJrL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgUHJvcHNXaXRoQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBTV1JDb25maWcgfSBmcm9tICcuL2NsZXJrLXN3cic7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0QW5kSG9vayB9IGZyb20gJy4vaG9va3MvY3JlYXRlQ29udGV4dEFuZEhvb2snO1xuXG5jb25zdCBbQ2xlcmtJbnN0YW5jZUNvbnRleHQsIHVzZUNsZXJrSW5zdGFuY2VDb250ZXh0XSA9IGNyZWF0ZUNvbnRleHRBbmRIb29rPExvYWRlZENsZXJrPignQ2xlcmtJbnN0YW5jZUNvbnRleHQnKTtcbmNvbnN0IFtVc2VyQ29udGV4dCwgdXNlVXNlckNvbnRleHRdID0gY3JlYXRlQ29udGV4dEFuZEhvb2s8VXNlclJlc291cmNlIHwgbnVsbCB8IHVuZGVmaW5lZD4oJ1VzZXJDb250ZXh0Jyk7XG5jb25zdCBbQ2xpZW50Q29udGV4dCwgdXNlQ2xpZW50Q29udGV4dF0gPSBjcmVhdGVDb250ZXh0QW5kSG9vazxDbGllbnRSZXNvdXJjZSB8IG51bGwgfCB1bmRlZmluZWQ+KCdDbGllbnRDb250ZXh0Jyk7XG5jb25zdCBbU2Vzc2lvbkNvbnRleHQsIHVzZVNlc3Npb25Db250ZXh0XSA9IGNyZWF0ZUNvbnRleHRBbmRIb29rPEFjdGl2ZVNlc3Npb25SZXNvdXJjZSB8IG51bGwgfCB1bmRlZmluZWQ+KFxuICAnU2Vzc2lvbkNvbnRleHQnLFxuKTtcblxuY29uc3QgT3B0aW9uc0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PENsZXJrT3B0aW9ucz4oe30pO1xuXG5mdW5jdGlvbiB1c2VPcHRpb25zQ29udGV4dCgpOiBDbGVya09wdGlvbnMge1xuICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChPcHRpb25zQ29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZU9wdGlvbnMgbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBPcHRpb25zQ29udGV4dCcpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuXG50eXBlIE9yZ2FuaXphdGlvbkNvbnRleHRQcm9wcyA9IHtcbiAgb3JnYW5pemF0aW9uOiBPcmdhbml6YXRpb25SZXNvdXJjZSB8IG51bGwgfCB1bmRlZmluZWQ7XG59O1xuY29uc3QgW09yZ2FuaXphdGlvbkNvbnRleHRJbnRlcm5hbCwgdXNlT3JnYW5pemF0aW9uQ29udGV4dF0gPSBjcmVhdGVDb250ZXh0QW5kSG9vazx7XG4gIG9yZ2FuaXphdGlvbjogT3JnYW5pemF0aW9uUmVzb3VyY2UgfCBudWxsIHwgdW5kZWZpbmVkO1xufT4oJ09yZ2FuaXphdGlvbkNvbnRleHQnKTtcblxuY29uc3QgT3JnYW5pemF0aW9uUHJvdmlkZXIgPSAoe1xuICBjaGlsZHJlbixcbiAgb3JnYW5pemF0aW9uLFxuICBzd3JDb25maWcsXG59OiBQcm9wc1dpdGhDaGlsZHJlbjxcbiAgT3JnYW5pemF0aW9uQ29udGV4dFByb3BzICYge1xuICAgIC8vIEV4cG9ydGluZyBpbmZlcnJlZCB0eXBlcyAgZGlyZWN0bHkgZnJvbSBTV1Igd2lsbCByZXN1bHQgaW4gZXJyb3Igd2hpbGUgYnVpbGRpbmcgZGVjbGFyYXRpb25zXG4gICAgc3dyQ29uZmlnPzogYW55O1xuICB9XG4+KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFNXUkNvbmZpZyB2YWx1ZT17c3dyQ29uZmlnfT5cbiAgICAgIDxPcmdhbml6YXRpb25Db250ZXh0SW50ZXJuYWwuUHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICB2YWx1ZTogeyBvcmdhbml6YXRpb24gfSxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9Pcmdhbml6YXRpb25Db250ZXh0SW50ZXJuYWwuUHJvdmlkZXI+XG4gICAgPC9TV1JDb25maWc+XG4gICk7XG59O1xuXG5mdW5jdGlvbiB1c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyKGRpc3BsYXlOYW1lT3JGbjogc3RyaW5nIHwgKCgpID0+IHZvaWQpKTogdm9pZCB7XG4gIGNvbnN0IGN0eCA9IFJlYWN0LnVzZUNvbnRleHQoQ2xlcmtJbnN0YW5jZUNvbnRleHQpO1xuXG4gIGlmICghY3R4KSB7XG4gICAgaWYgKHR5cGVvZiBkaXNwbGF5TmFtZU9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRpc3BsYXlOYW1lT3JGbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGAke2Rpc3BsYXlOYW1lT3JGbn0gY2FuIG9ubHkgYmUgdXNlZCB3aXRoaW4gdGhlIDxDbGVya1Byb3ZpZGVyIC8+IGNvbXBvbmVudC5cblxuUG9zc2libGUgZml4ZXM6XG4xLiBFbnN1cmUgdGhhdCB0aGUgPENsZXJrUHJvdmlkZXIgLz4gaXMgY29ycmVjdGx5IHdyYXBwaW5nIHlvdXIgYXBwbGljYXRpb24gd2hlcmUgdGhpcyBjb21wb25lbnQgaXMgdXNlZC5cbjIuIENoZWNrIGZvciBtdWx0aXBsZSB2ZXJzaW9ucyBvZiB0aGUgXFxgQGNsZXJrL3NoYXJlZFxcYCBwYWNrYWdlIGluIHlvdXIgcHJvamVjdC4gVXNlIGEgdG9vbCBsaWtlIFxcYG5wbSBscyBAY2xlcmsvc2hhcmVkXFxgIHRvIGlkZW50aWZ5IG11bHRpcGxlIHZlcnNpb25zLCBhbmQgdXBkYXRlIHlvdXIgZGVwZW5kZW5jaWVzIHRvIG9ubHkgcmVseSBvbiBvbmUuXG5cbkxlYXJuIG1vcmU6IGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvY29tcG9uZW50cy9jbGVyay1wcm92aWRlcmAudHJpbSgpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgQ2xpZW50Q29udGV4dCxcbiAgdXNlQ2xpZW50Q29udGV4dCxcbiAgT3JnYW5pemF0aW9uUHJvdmlkZXIsXG4gIHVzZU9yZ2FuaXphdGlvbkNvbnRleHQsXG4gIFVzZXJDb250ZXh0LFxuICBPcHRpb25zQ29udGV4dCxcbiAgdXNlT3B0aW9uc0NvbnRleHQsXG4gIHVzZVVzZXJDb250ZXh0LFxuICBTZXNzaW9uQ29udGV4dCxcbiAgdXNlU2Vzc2lvbkNvbnRleHQsXG4gIENsZXJrSW5zdGFuY2VDb250ZXh0LFxuICB1c2VDbGVya0luc3RhbmNlQ29udGV4dCxcbiAgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlcixcbn07XG4iLCIndXNlIGNsaWVudCc7XG5cbmV4cG9ydCAqIGZyb20gJ3N3cic7XG5cbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlU1dSIH0gZnJvbSAnc3dyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlU1dSSW5maW5pdGUgfSBmcm9tICdzd3IvaW5maW5pdGUnO1xuIiwiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgdXNlU1dSLCB1c2VTV1JJbmZpbml0ZSB9IGZyb20gJy4uL2NsZXJrLXN3cic7XG5pbXBvcnQgdHlwZSB7XG4gIENhY2hlU2V0dGVyLFxuICBQYWdlc09ySW5maW5pdGVDb25maWcsXG4gIFBhZ2VzT3JJbmZpbml0ZU9wdGlvbnMsXG4gIFBhZ2luYXRlZFJlc291cmNlcyxcbiAgVmFsdWVPclNldHRlcixcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG5mdW5jdGlvbiBnZXREaWZmZXJlbnRLZXlzKG9iajE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBvYmoyOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3Qga2V5c1NldCA9IG5ldyBTZXQoT2JqZWN0LmtleXMob2JqMikpO1xuICBjb25zdCBkaWZmZXJlbnRLZXlzT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGZvciAoY29uc3Qga2V5MSBvZiBPYmplY3Qua2V5cyhvYmoxKSkge1xuICAgIGlmICgha2V5c1NldC5oYXMoa2V5MSkpIHtcbiAgICAgIGRpZmZlcmVudEtleXNPYmplY3Rba2V5MV0gPSBvYmoxW2tleTFdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkaWZmZXJlbnRLZXlzT2JqZWN0O1xufVxuXG5leHBvcnQgY29uc3QgdXNlV2l0aFNhZmVWYWx1ZXMgPSA8VCBleHRlbmRzIFBhZ2VzT3JJbmZpbml0ZU9wdGlvbnM+KHBhcmFtczogVCB8IHRydWUgfCB1bmRlZmluZWQsIGRlZmF1bHRWYWx1ZXM6IFQpID0+IHtcbiAgY29uc3Qgc2hvdWxkVXNlRGVmYXVsdHMgPSB0eXBlb2YgcGFyYW1zID09PSAnYm9vbGVhbicgJiYgcGFyYW1zO1xuXG4gIC8vIENhY2hlIGluaXRpYWxQYWdlIGFuZCBpbml0aWFsUGFnZVNpemUgdW50aWwgdW5tb3VudFxuICBjb25zdCBpbml0aWFsUGFnZVJlZiA9IHVzZVJlZihcbiAgICBzaG91bGRVc2VEZWZhdWx0cyA/IGRlZmF1bHRWYWx1ZXMuaW5pdGlhbFBhZ2UgOiAocGFyYW1zPy5pbml0aWFsUGFnZSA/PyBkZWZhdWx0VmFsdWVzLmluaXRpYWxQYWdlKSxcbiAgKTtcbiAgY29uc3QgcGFnZVNpemVSZWYgPSB1c2VSZWYoc2hvdWxkVXNlRGVmYXVsdHMgPyBkZWZhdWx0VmFsdWVzLnBhZ2VTaXplIDogKHBhcmFtcz8ucGFnZVNpemUgPz8gZGVmYXVsdFZhbHVlcy5wYWdlU2l6ZSkpO1xuXG4gIGNvbnN0IG5ld09iajogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoZGVmYXVsdFZhbHVlcykpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbmV3T2JqW2tleV0gPSBzaG91bGRVc2VEZWZhdWx0cyA/IGRlZmF1bHRWYWx1ZXNba2V5XSA6IChwYXJhbXM/LltrZXldID8/IGRlZmF1bHRWYWx1ZXNba2V5XSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC4uLm5ld09iaixcbiAgICBpbml0aWFsUGFnZTogaW5pdGlhbFBhZ2VSZWYuY3VycmVudCxcbiAgICBwYWdlU2l6ZTogcGFnZVNpemVSZWYuY3VycmVudCxcbiAgfSBhcyBUO1xufTtcblxuY29uc3QgY2FjaGluZ1NXUk9wdGlvbnMgPSB7XG4gIGRlZHVwaW5nSW50ZXJ2YWw6IDEwMDAgKiA2MCxcbiAgZm9jdXNUaHJvdHRsZUludGVydmFsOiAxMDAwICogNjAgKiAyLFxufSBzYXRpc2ZpZXMgUGFyYW1ldGVyczx0eXBlb2YgdXNlU1dSPlsyXTtcblxudHlwZSBBcnJheVR5cGU8RGF0YUFycmF5PiA9IERhdGFBcnJheSBleHRlbmRzIEFycmF5PGluZmVyIEVsZW1lbnRUeXBlPiA/IEVsZW1lbnRUeXBlIDogbmV2ZXI7XG50eXBlIEV4dHJhY3REYXRhPFR5cGU+ID0gVHlwZSBleHRlbmRzIHsgZGF0YTogaW5mZXIgRGF0YSB9ID8gQXJyYXlUeXBlPERhdGE+IDogVHlwZTtcblxudHlwZSBVc2VQYWdlc09ySW5maW5pdGUgPSA8XG4gIFBhcmFtcyBleHRlbmRzIFBhZ2VzT3JJbmZpbml0ZU9wdGlvbnMsXG4gIEZldGNoZXJSZXR1cm5EYXRhIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PixcbiAgQ2FjaGVLZXlzID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIFRDb25maWcgZXh0ZW5kcyBQYWdlc09ySW5maW5pdGVDb25maWcgPSBQYWdlc09ySW5maW5pdGVDb25maWcsXG4+KFxuICAvKipcbiAgICogVGhlIHBhcmFtZXRlcnMgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZldGNoZXJcbiAgICovXG4gIHBhcmFtczogUGFyYW1zLFxuICAvKipcbiAgICogQSBQcm9taXNlIHJldHVybmluZyBmdW5jdGlvbiB0byBmZXRjaCB5b3VyIGRhdGFcbiAgICovXG4gIGZldGNoZXI6ICgocDogUGFyYW1zKSA9PiBGZXRjaGVyUmV0dXJuRGF0YSB8IFByb21pc2U8RmV0Y2hlclJldHVybkRhdGE+KSB8IHVuZGVmaW5lZCxcbiAgLyoqXG4gICAqIEludGVybmFsIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGhvb2tcbiAgICovXG4gIGNvbmZpZzogVENvbmZpZyxcbiAgY2FjaGVLZXlzOiBDYWNoZUtleXMsXG4pID0+IFBhZ2luYXRlZFJlc291cmNlczxFeHRyYWN0RGF0YTxGZXRjaGVyUmV0dXJuRGF0YT4sIFRDb25maWdbJ2luZmluaXRlJ10+O1xuXG5leHBvcnQgY29uc3QgdXNlUGFnZXNPckluZmluaXRlOiBVc2VQYWdlc09ySW5maW5pdGUgPSAocGFyYW1zLCBmZXRjaGVyLCBjb25maWcsIGNhY2hlS2V5cykgPT4ge1xuICBjb25zdCBbcGFnaW5hdGVkUGFnZSwgc2V0UGFnaW5hdGVkUGFnZV0gPSB1c2VTdGF0ZShwYXJhbXMuaW5pdGlhbFBhZ2UgPz8gMSk7XG5cbiAgLy8gQ2FjaGUgaW5pdGlhbFBhZ2UgYW5kIGluaXRpYWxQYWdlU2l6ZSB1bnRpbCB1bm1vdW50XG4gIGNvbnN0IGluaXRpYWxQYWdlUmVmID0gdXNlUmVmKHBhcmFtcy5pbml0aWFsUGFnZSA/PyAxKTtcbiAgY29uc3QgcGFnZVNpemVSZWYgPSB1c2VSZWYocGFyYW1zLnBhZ2VTaXplID8/IDEwKTtcblxuICBjb25zdCBlbmFibGVkID0gY29uZmlnLmVuYWJsZWQgPz8gdHJ1ZTtcbiAgY29uc3QgdHJpZ2dlckluZmluaXRlID0gY29uZmlnLmluZmluaXRlID8/IGZhbHNlO1xuICBjb25zdCBrZWVwUHJldmlvdXNEYXRhID0gY29uZmlnLmtlZXBQcmV2aW91c0RhdGEgPz8gZmFsc2U7XG5cbiAgY29uc3QgcGFnZXNDYWNoZUtleSA9IHtcbiAgICAuLi5jYWNoZUtleXMsXG4gICAgLi4ucGFyYW1zLFxuICAgIGluaXRpYWxQYWdlOiBwYWdpbmF0ZWRQYWdlLFxuICAgIHBhZ2VTaXplOiBwYWdlU2l6ZVJlZi5jdXJyZW50LFxuICB9O1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiBzd3JEYXRhLFxuICAgIGlzVmFsaWRhdGluZzogc3dySXNWYWxpZGF0aW5nLFxuICAgIGlzTG9hZGluZzogc3dySXNMb2FkaW5nLFxuICAgIGVycm9yOiBzd3JFcnJvcixcbiAgICBtdXRhdGU6IHN3ck11dGF0ZSxcbiAgfSA9IHVzZVNXUihcbiAgICAhdHJpZ2dlckluZmluaXRlICYmICEhZmV0Y2hlciAmJiBlbmFibGVkID8gcGFnZXNDYWNoZUtleSA6IG51bGwsXG4gICAgY2FjaGVLZXlQYXJhbXMgPT4ge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY29uc3QgcmVxdWVzdFBhcmFtcyA9IGdldERpZmZlcmVudEtleXMoY2FjaGVLZXlQYXJhbXMsIGNhY2hlS2V5cyk7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZXR1cm4gZmV0Y2hlcj8uKHJlcXVlc3RQYXJhbXMpO1xuICAgIH0sXG4gICAgeyBrZWVwUHJldmlvdXNEYXRhLCAuLi5jYWNoaW5nU1dST3B0aW9ucyB9LFxuICApO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiBzd3JJbmZpbml0ZURhdGEsXG4gICAgaXNMb2FkaW5nOiBzd3JJbmZpbml0ZUlzTG9hZGluZyxcbiAgICBpc1ZhbGlkYXRpbmc6IHN3ckluZmluaXRlSXNWYWxpZGF0aW5nLFxuICAgIGVycm9yOiBzd3JJbmZpbml0ZUVycm9yLFxuICAgIHNpemUsXG4gICAgc2V0U2l6ZSxcbiAgICBtdXRhdGU6IHN3ckluZmluaXRlTXV0YXRlLFxuICB9ID0gdXNlU1dSSW5maW5pdGUoXG4gICAgcGFnZUluZGV4ID0+IHtcbiAgICAgIGlmICghdHJpZ2dlckluZmluaXRlIHx8ICFlbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIC4uLmNhY2hlS2V5cyxcbiAgICAgICAgaW5pdGlhbFBhZ2U6IGluaXRpYWxQYWdlUmVmLmN1cnJlbnQgKyBwYWdlSW5kZXgsXG4gICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZVJlZi5jdXJyZW50LFxuICAgICAgfTtcbiAgICB9LFxuICAgIGNhY2hlS2V5UGFyYW1zID0+IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNvbnN0IHJlcXVlc3RQYXJhbXMgPSBnZXREaWZmZXJlbnRLZXlzKGNhY2hlS2V5UGFyYW1zLCBjYWNoZUtleXMpO1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgcmV0dXJuIGZldGNoZXI/LihyZXF1ZXN0UGFyYW1zKTtcbiAgICB9LFxuICAgIGNhY2hpbmdTV1JPcHRpb25zLFxuICApO1xuXG4gIGNvbnN0IHBhZ2UgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodHJpZ2dlckluZmluaXRlKSB7XG4gICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhZ2luYXRlZFBhZ2U7XG4gIH0sIFt0cmlnZ2VySW5maW5pdGUsIHNpemUsIHBhZ2luYXRlZFBhZ2VdKTtcblxuICBjb25zdCBmZXRjaFBhZ2U6IFZhbHVlT3JTZXR0ZXI8bnVtYmVyPiA9IHVzZUNhbGxiYWNrKFxuICAgIG51bWJlck9yZ0ZuID0+IHtcbiAgICAgIGlmICh0cmlnZ2VySW5maW5pdGUpIHtcbiAgICAgICAgdm9pZCBzZXRTaXplKG51bWJlck9yZ0ZuKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFBhZ2luYXRlZFBhZ2UobnVtYmVyT3JnRm4pO1xuICAgIH0sXG4gICAgW3NldFNpemVdLFxuICApO1xuXG4gIGNvbnN0IGRhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodHJpZ2dlckluZmluaXRlKSB7XG4gICAgICByZXR1cm4gc3dySW5maW5pdGVEYXRhPy5tYXAoYSA9PiBhPy5kYXRhKS5mbGF0KCkgPz8gW107XG4gICAgfVxuICAgIHJldHVybiBzd3JEYXRhPy5kYXRhID8/IFtdO1xuICB9LCBbdHJpZ2dlckluZmluaXRlLCBzd3JEYXRhLCBzd3JJbmZpbml0ZURhdGFdKTtcblxuICBjb25zdCBjb3VudCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICh0cmlnZ2VySW5maW5pdGUpIHtcbiAgICAgIHJldHVybiBzd3JJbmZpbml0ZURhdGE/Lltzd3JJbmZpbml0ZURhdGE/Lmxlbmd0aCAtIDFdPy50b3RhbF9jb3VudCB8fCAwO1xuICAgIH1cbiAgICByZXR1cm4gc3dyRGF0YT8udG90YWxfY291bnQgPz8gMDtcbiAgfSwgW3RyaWdnZXJJbmZpbml0ZSwgc3dyRGF0YSwgc3dySW5maW5pdGVEYXRhXSk7XG5cbiAgY29uc3QgaXNMb2FkaW5nID0gdHJpZ2dlckluZmluaXRlID8gc3dySW5maW5pdGVJc0xvYWRpbmcgOiBzd3JJc0xvYWRpbmc7XG4gIGNvbnN0IGlzRmV0Y2hpbmcgPSB0cmlnZ2VySW5maW5pdGUgPyBzd3JJbmZpbml0ZUlzVmFsaWRhdGluZyA6IHN3cklzVmFsaWRhdGluZztcbiAgY29uc3QgZXJyb3IgPSAodHJpZ2dlckluZmluaXRlID8gc3dySW5maW5pdGVFcnJvciA6IHN3ckVycm9yKSA/PyBudWxsO1xuICBjb25zdCBpc0Vycm9yID0gISFlcnJvcjtcbiAgLyoqXG4gICAqIEhlbHBlcnNcbiAgICovXG4gIGNvbnN0IGZldGNoTmV4dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBmZXRjaFBhZ2UobiA9PiBNYXRoLm1heCgwLCBuICsgMSkpO1xuICB9LCBbZmV0Y2hQYWdlXSk7XG5cbiAgY29uc3QgZmV0Y2hQcmV2aW91cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBmZXRjaFBhZ2UobiA9PiBNYXRoLm1heCgwLCBuIC0gMSkpO1xuICB9LCBbZmV0Y2hQYWdlXSk7XG5cbiAgY29uc3Qgb2Zmc2V0Q291bnQgPSAoaW5pdGlhbFBhZ2VSZWYuY3VycmVudCAtIDEpICogcGFnZVNpemVSZWYuY3VycmVudDtcblxuICBjb25zdCBwYWdlQ291bnQgPSBNYXRoLmNlaWwoKGNvdW50IC0gb2Zmc2V0Q291bnQpIC8gcGFnZVNpemVSZWYuY3VycmVudCk7XG4gIGNvbnN0IGhhc05leHRQYWdlID0gY291bnQgLSBvZmZzZXRDb3VudCAqIHBhZ2VTaXplUmVmLmN1cnJlbnQgPiBwYWdlICogcGFnZVNpemVSZWYuY3VycmVudDtcbiAgY29uc3QgaGFzUHJldmlvdXNQYWdlID0gKHBhZ2UgLSAxKSAqIHBhZ2VTaXplUmVmLmN1cnJlbnQgPiBvZmZzZXRDb3VudCAqIHBhZ2VTaXplUmVmLmN1cnJlbnQ7XG5cbiAgY29uc3Qgc2V0RGF0YTogQ2FjaGVTZXR0ZXIgPSB0cmlnZ2VySW5maW5pdGVcbiAgICA/IHZhbHVlID0+XG4gICAgICAgIHN3ckluZmluaXRlTXV0YXRlKHZhbHVlLCB7XG4gICAgICAgICAgcmV2YWxpZGF0ZTogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgOiB2YWx1ZSA9PlxuICAgICAgICBzd3JNdXRhdGUodmFsdWUsIHtcbiAgICAgICAgICByZXZhbGlkYXRlOiBmYWxzZSxcbiAgICAgICAgfSk7XG5cbiAgY29uc3QgcmV2YWxpZGF0ZSA9IHRyaWdnZXJJbmZpbml0ZSA/ICgpID0+IHN3ckluZmluaXRlTXV0YXRlKCkgOiAoKSA9PiBzd3JNdXRhdGUoKTtcblxuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgY291bnQsXG4gICAgZXJyb3IsXG4gICAgaXNMb2FkaW5nLFxuICAgIGlzRmV0Y2hpbmcsXG4gICAgaXNFcnJvcixcbiAgICBwYWdlLFxuICAgIHBhZ2VDb3VudCxcbiAgICBmZXRjaFBhZ2UsXG4gICAgZmV0Y2hOZXh0LFxuICAgIGZldGNoUHJldmlvdXMsXG4gICAgaGFzTmV4dFBhZ2UsXG4gICAgaGFzUHJldmlvdXNQYWdlLFxuICAgIC8vIExldCB0aGUgaG9vayByZXR1cm4gdHlwZSBkZWZpbmUgdGhpcyB0eXBlXG4gICAgcmV2YWxpZGF0ZTogcmV2YWxpZGF0ZSBhcyBhbnksXG4gICAgLy8gTGV0IHRoZSBob29rIHJldHVybiB0eXBlIGRlZmluZSB0aGlzIHR5cGVcbiAgICBzZXREYXRhOiBzZXREYXRhIGFzIGFueSxcbiAgfTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG4gIENsZXJrUGFnaW5hdGVkUmVzcG9uc2UsXG4gIEdldERvbWFpbnNQYXJhbXMsXG4gIEdldEludml0YXRpb25zUGFyYW1zLFxuICBHZXRNZW1iZXJzaGlwUmVxdWVzdFBhcmFtcyxcbiAgR2V0TWVtYmVyc1BhcmFtcyxcbiAgT3JnYW5pemF0aW9uRG9tYWluUmVzb3VyY2UsXG4gIE9yZ2FuaXphdGlvbkludml0YXRpb25SZXNvdXJjZSxcbiAgT3JnYW5pemF0aW9uTWVtYmVyc2hpcFJlcXVlc3RSZXNvdXJjZSxcbiAgT3JnYW5pemF0aW9uTWVtYmVyc2hpcFJlc291cmNlLFxuICBPcmdhbml6YXRpb25SZXNvdXJjZSxcbn0gZnJvbSAnQGNsZXJrL3R5cGVzJztcblxuaW1wb3J0IHsgZ2V0Q3VycmVudE9yZ2FuaXphdGlvbk1lbWJlcnNoaXAgfSBmcm9tICcuLi8uLi9vcmdhbml6YXRpb24nO1xuaW1wb3J0IHsgZXZlbnRNZXRob2RDYWxsZWQgfSBmcm9tICcuLi8uLi90ZWxlbWV0cnkvZXZlbnRzL21ldGhvZC1jYWxsZWQnO1xuaW1wb3J0IHtcbiAgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlcixcbiAgdXNlQ2xlcmtJbnN0YW5jZUNvbnRleHQsXG4gIHVzZU9yZ2FuaXphdGlvbkNvbnRleHQsXG4gIHVzZVNlc3Npb25Db250ZXh0LFxufSBmcm9tICcuLi9jb250ZXh0cyc7XG5pbXBvcnQgdHlwZSB7IFBhZ2luYXRlZEhvb2tDb25maWcsIFBhZ2luYXRlZFJlc291cmNlcywgUGFnaW5hdGVkUmVzb3VyY2VzV2l0aERlZmF1bHQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyB1c2VQYWdlc09ySW5maW5pdGUsIHVzZVdpdGhTYWZlVmFsdWVzIH0gZnJvbSAnLi91c2VQYWdlc09ySW5maW5pdGUnO1xuXG50eXBlIFVzZU9yZ2FuaXphdGlvblBhcmFtcyA9IHtcbiAgLyoqXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIGFsbCBkZWZhdWx0IHByb3BlcnRpZXMgd2lsbCBiZSB1c2VkLiBPdGhlcndpc2UsIGFjY2VwdHMgYW4gb2JqZWN0IHdpdGggYW4gb3B0aW9uYWwgYGVucm9sbG1lbnRNb2RlYCBwcm9wZXJ0eSBvZiB0eXBlIFtgT3JnYW5pemF0aW9uRW5yb2xsbWVudE1vZGVgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvcmVhY3QvdXNlLW9yZ2FuaXphdGlvbiNvcmdhbml6YXRpb24tZW5yb2xsbWVudC1tb2RlKSBhbmQgYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGRlc2NyaWJlZCBpbiBbU2hhcmVkIHByb3BlcnRpZXNdKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvcmVmZXJlbmNlcy9yZWFjdC91c2Utb3JnYW5pemF0aW9uI3NoYXJlZC1wcm9wZXJ0aWVzKS5cbiAgICovXG4gIGRvbWFpbnM/OiB0cnVlIHwgUGFnaW5hdGVkSG9va0NvbmZpZzxHZXREb21haW5zUGFyYW1zPjtcbiAgLyoqXG4gICAqIElmIHNldCB0byBgdHJ1ZWAsIGFsbCBkZWZhdWx0IHByb3BlcnRpZXMgd2lsbCBiZSB1c2VkLiBPdGhlcndpc2UsIGFjY2VwdHMgYW4gb2JqZWN0IHdpdGggYW4gb3B0aW9uYWwgYHN0YXR1c2AgcHJvcGVydHkgb2YgdHlwZSBbYE9yZ2FuaXphdGlvbkludml0YXRpb25TdGF0dXNgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvcmVhY3QvdXNlLW9yZ2FuaXphdGlvbiNvcmdhbml6YXRpb24taW52aXRhdGlvbi1zdGF0dXMpIGFuZCBhbnkgb2YgdGhlIHByb3BlcnRpZXMgZGVzY3JpYmVkIGluIFtTaGFyZWQgcHJvcGVydGllc10oaHR0cHM6Ly9jbGVyay5jb20vZG9jcy9yZWZlcmVuY2VzL3JlYWN0L3VzZS1vcmdhbml6YXRpb24jc2hhcmVkLXByb3BlcnRpZXMpLlxuICAgKi9cbiAgbWVtYmVyc2hpcFJlcXVlc3RzPzogdHJ1ZSB8IFBhZ2luYXRlZEhvb2tDb25maWc8R2V0TWVtYmVyc2hpcFJlcXVlc3RQYXJhbXM+O1xuICAvKipcbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgYWxsIGRlZmF1bHQgcHJvcGVydGllcyB3aWxsIGJlIHVzZWQuIE90aGVyd2lzZSwgYWNjZXB0cyBhbiBvYmplY3Qgd2l0aCBhbiBvcHRpb25hbCBgcm9sZWAgcHJvcGVydHkgb2YgdHlwZSBbYE9yZ2FuaXphdGlvbkN1c3RvbVJvbGVLZXlbXWBdKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvcmVmZXJlbmNlcy9yZWFjdC91c2Utb3JnYW5pemF0aW9uI29yZ2FuaXphdGlvbi1jdXN0b21lLXJvbGUta2V5KSBhbmQgYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGRlc2NyaWJlZCBpbiBbU2hhcmVkIHByb3BlcnRpZXNdKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvcmVmZXJlbmNlcy9yZWFjdC91c2Utb3JnYW5pemF0aW9uI3NoYXJlZC1wcm9wZXJ0aWVzKS5cbiAgICovXG4gIG1lbWJlcnNoaXBzPzogdHJ1ZSB8IFBhZ2luYXRlZEhvb2tDb25maWc8R2V0TWVtYmVyc1BhcmFtcz47XG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBhbGwgZGVmYXVsdCBwcm9wZXJ0aWVzIHdpbGwgYmUgdXNlZC4gT3RoZXJ3aXNlLCBhY2NlcHRzIGFuIG9iamVjdCB3aXRoIGFuIG9wdGlvbmFsIGBzdGF0dXNgIHByb3BlcnR5IG9mIHR5cGUgW2BPcmdhbml6YXRpb25JbnZpdGF0aW9uU3RhdHVzYF0oaHR0cHM6Ly9jbGVyay5jb20vZG9jcy9yZWZlcmVuY2VzL3JlYWN0L3VzZS1vcmdhbml6YXRpb24jb3JnYW5pemF0aW9uLWludml0YXRpb24tc3RhdHVzKSBhbmQgYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGRlc2NyaWJlZCBpbiBbU2hhcmVkIHByb3BlcnRpZXNdKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvcmVmZXJlbmNlcy9yZWFjdC91c2Utb3JnYW5pemF0aW9uI3NoYXJlZC1wcm9wZXJ0aWVzKS5cbiAgICovXG4gIGludml0YXRpb25zPzogdHJ1ZSB8IFBhZ2luYXRlZEhvb2tDb25maWc8R2V0SW52aXRhdGlvbnNQYXJhbXM+O1xufTtcblxudHlwZSBVc2VPcmdhbml6YXRpb24gPSA8VCBleHRlbmRzIFVzZU9yZ2FuaXphdGlvblBhcmFtcz4oXG4gIHBhcmFtcz86IFQsXG4pID0+XG4gIHwge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBDbGVyayBoYXMgY29tcGxldGVkIGluaXRpYWxpemF0aW9uLiBJbml0aWFsbHkgYGZhbHNlYCwgYmVjb21lcyBgdHJ1ZWAgb25jZSBDbGVyayBsb2Fkcy5cbiAgICAgICAqL1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBvcmdhbml6YXRpb24uXG4gICAgICAgKi9cbiAgICAgIG9yZ2FuaXphdGlvbjogdW5kZWZpbmVkO1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY3VycmVudCBvcmdhbml6YXRpb24gbWVtYmVyc2hpcC5cbiAgICAgICAqL1xuICAgICAgbWVtYmVyc2hpcDogdW5kZWZpbmVkO1xuICAgICAgLyoqXG4gICAgICAgKiBJbmNsdWRlcyBhIHBhZ2luYXRlZCBsaXN0IG9mIHRoZSBvcmdhbml6YXRpb24ncyBkb21haW5zLlxuICAgICAgICovXG4gICAgICBkb21haW5zOiBQYWdpbmF0ZWRSZXNvdXJjZXNXaXRoRGVmYXVsdDxPcmdhbml6YXRpb25Eb21haW5SZXNvdXJjZT47XG4gICAgICAvKipcbiAgICAgICAqIEluY2x1ZGVzIGEgcGFnaW5hdGVkIGxpc3Qgb2YgdGhlIG9yZ2FuaXphdGlvbidzIG1lbWJlcnNoaXAgcmVxdWVzdHMuXG4gICAgICAgKi9cbiAgICAgIG1lbWJlcnNoaXBSZXF1ZXN0czogUGFnaW5hdGVkUmVzb3VyY2VzV2l0aERlZmF1bHQ8T3JnYW5pemF0aW9uTWVtYmVyc2hpcFJlcXVlc3RSZXNvdXJjZT47XG4gICAgICAvKipcbiAgICAgICAqIEluY2x1ZGVzIGEgcGFnaW5hdGVkIGxpc3Qgb2YgdGhlIG9yZ2FuaXphdGlvbidzIG1lbWJlcnNoaXBzLlxuICAgICAgICovXG4gICAgICBtZW1iZXJzaGlwczogUGFnaW5hdGVkUmVzb3VyY2VzV2l0aERlZmF1bHQ8T3JnYW5pemF0aW9uTWVtYmVyc2hpcFJlc291cmNlPjtcbiAgICAgIC8qKlxuICAgICAgICogSW5jbHVkZXMgYSBwYWdpbmF0ZWQgbGlzdCBvZiB0aGUgb3JnYW5pemF0aW9uJ3MgaW52aXRhdGlvbnMuXG4gICAgICAgKi9cbiAgICAgIGludml0YXRpb25zOiBQYWdpbmF0ZWRSZXNvdXJjZXNXaXRoRGVmYXVsdDxPcmdhbml6YXRpb25JbnZpdGF0aW9uUmVzb3VyY2U+O1xuICAgIH1cbiAgfCB7XG4gICAgICAvKipcbiAgICAgICAqIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyB3aGV0aGVyIENsZXJrIGhhcyBjb21wbGV0ZWQgaW5pdGlhbGl6YXRpb24uIEluaXRpYWxseSBgZmFsc2VgLCBiZWNvbWVzIGB0cnVlYCBvbmNlIENsZXJrIGxvYWRzLlxuICAgICAgICovXG4gICAgICBpc0xvYWRlZDogdHJ1ZTtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgb3JnYW5pemF0aW9uLlxuICAgICAgICovXG4gICAgICBvcmdhbml6YXRpb246IE9yZ2FuaXphdGlvblJlc291cmNlO1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY3VycmVudCBvcmdhbml6YXRpb24gbWVtYmVyc2hpcC5cbiAgICAgICAqL1xuICAgICAgbWVtYmVyc2hpcDogdW5kZWZpbmVkO1xuICAgICAgLyoqXG4gICAgICAgKiBJbmNsdWRlcyBhIHBhZ2luYXRlZCBsaXN0IG9mIHRoZSBvcmdhbml6YXRpb24ncyBkb21haW5zLlxuICAgICAgICovXG4gICAgICBkb21haW5zOiBQYWdpbmF0ZWRSZXNvdXJjZXNXaXRoRGVmYXVsdDxPcmdhbml6YXRpb25Eb21haW5SZXNvdXJjZT47XG4gICAgICAvKipcbiAgICAgICAqIEluY2x1ZGVzIGEgcGFnaW5hdGVkIGxpc3Qgb2YgdGhlIG9yZ2FuaXphdGlvbidzIG1lbWJlcnNoaXAgcmVxdWVzdHMuXG4gICAgICAgKi9cbiAgICAgIG1lbWJlcnNoaXBSZXF1ZXN0czogUGFnaW5hdGVkUmVzb3VyY2VzV2l0aERlZmF1bHQ8T3JnYW5pemF0aW9uTWVtYmVyc2hpcFJlcXVlc3RSZXNvdXJjZT47XG4gICAgICAvKipcbiAgICAgICAqIEluY2x1ZGVzIGEgcGFnaW5hdGVkIGxpc3Qgb2YgdGhlIG9yZ2FuaXphdGlvbidzIG1lbWJlcnNoaXBzLlxuICAgICAgICovXG4gICAgICBtZW1iZXJzaGlwczogUGFnaW5hdGVkUmVzb3VyY2VzV2l0aERlZmF1bHQ8T3JnYW5pemF0aW9uTWVtYmVyc2hpcFJlc291cmNlPjtcbiAgICAgIC8qKlxuICAgICAgICogSW5jbHVkZXMgYSBwYWdpbmF0ZWQgbGlzdCBvZiB0aGUgb3JnYW5pemF0aW9uJ3MgaW52aXRhdGlvbnMuXG4gICAgICAgKi9cbiAgICAgIGludml0YXRpb25zOiBQYWdpbmF0ZWRSZXNvdXJjZXNXaXRoRGVmYXVsdDxPcmdhbml6YXRpb25JbnZpdGF0aW9uUmVzb3VyY2U+O1xuICAgIH1cbiAgfCB7XG4gICAgICAvKipcbiAgICAgICAqIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyB3aGV0aGVyIENsZXJrIGhhcyBjb21wbGV0ZWQgaW5pdGlhbGl6YXRpb24uIEluaXRpYWxseSBgZmFsc2VgLCBiZWNvbWVzIGB0cnVlYCBvbmNlIENsZXJrIGxvYWRzLlxuICAgICAgICovXG4gICAgICBpc0xvYWRlZDogYm9vbGVhbjtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgb3JnYW5pemF0aW9uLlxuICAgICAgICovXG4gICAgICBvcmdhbml6YXRpb246IE9yZ2FuaXphdGlvblJlc291cmNlIHwgbnVsbDtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGN1cnJlbnQgb3JnYW5pemF0aW9uIG1lbWJlcnNoaXAuXG4gICAgICAgKi9cbiAgICAgIG1lbWJlcnNoaXA6IE9yZ2FuaXphdGlvbk1lbWJlcnNoaXBSZXNvdXJjZSB8IG51bGwgfCB1bmRlZmluZWQ7XG4gICAgICAvKipcbiAgICAgICAqIEluY2x1ZGVzIGEgcGFnaW5hdGVkIGxpc3Qgb2YgdGhlIG9yZ2FuaXphdGlvbidzIGRvbWFpbnMuXG4gICAgICAgKi9cbiAgICAgIGRvbWFpbnM6IFBhZ2luYXRlZFJlc291cmNlczxcbiAgICAgICAgT3JnYW5pemF0aW9uRG9tYWluUmVzb3VyY2UsXG4gICAgICAgIFRbJ21lbWJlcnNoaXBSZXF1ZXN0cyddIGV4dGVuZHMgeyBpbmZpbml0ZTogdHJ1ZSB9ID8gdHJ1ZSA6IGZhbHNlXG4gICAgICA+IHwgbnVsbDtcbiAgICAgIC8qKlxuICAgICAgICogSW5jbHVkZXMgYSBwYWdpbmF0ZWQgbGlzdCBvZiB0aGUgb3JnYW5pemF0aW9uJ3MgbWVtYmVyc2hpcCByZXF1ZXN0cy5cbiAgICAgICAqL1xuICAgICAgbWVtYmVyc2hpcFJlcXVlc3RzOiBQYWdpbmF0ZWRSZXNvdXJjZXM8XG4gICAgICAgIE9yZ2FuaXphdGlvbk1lbWJlcnNoaXBSZXF1ZXN0UmVzb3VyY2UsXG4gICAgICAgIFRbJ21lbWJlcnNoaXBSZXF1ZXN0cyddIGV4dGVuZHMgeyBpbmZpbml0ZTogdHJ1ZSB9ID8gdHJ1ZSA6IGZhbHNlXG4gICAgICA+IHwgbnVsbDtcbiAgICAgIC8qKlxuICAgICAgICogSW5jbHVkZXMgYSBwYWdpbmF0ZWQgbGlzdCBvZiB0aGUgb3JnYW5pemF0aW9uJ3MgbWVtYmVyc2hpcHMuXG4gICAgICAgKi9cbiAgICAgIG1lbWJlcnNoaXBzOiBQYWdpbmF0ZWRSZXNvdXJjZXM8XG4gICAgICAgIE9yZ2FuaXphdGlvbk1lbWJlcnNoaXBSZXNvdXJjZSxcbiAgICAgICAgVFsnbWVtYmVyc2hpcHMnXSBleHRlbmRzIHsgaW5maW5pdGU6IHRydWUgfSA/IHRydWUgOiBmYWxzZVxuICAgICAgPiB8IG51bGw7XG4gICAgICAvKipcbiAgICAgICAqIEluY2x1ZGVzIGEgcGFnaW5hdGVkIGxpc3Qgb2YgdGhlIG9yZ2FuaXphdGlvbidzIGludml0YXRpb25zLlxuICAgICAgICovXG4gICAgICBpbnZpdGF0aW9uczogUGFnaW5hdGVkUmVzb3VyY2VzPFxuICAgICAgICBPcmdhbml6YXRpb25JbnZpdGF0aW9uUmVzb3VyY2UsXG4gICAgICAgIFRbJ2ludml0YXRpb25zJ10gZXh0ZW5kcyB7IGluZmluaXRlOiB0cnVlIH0gPyB0cnVlIDogZmFsc2VcbiAgICAgID4gfCBudWxsO1xuICAgIH07XG5cbmNvbnN0IHVuZGVmaW5lZFBhZ2luYXRlZFJlc291cmNlID0ge1xuICBkYXRhOiB1bmRlZmluZWQsXG4gIGNvdW50OiB1bmRlZmluZWQsXG4gIGVycm9yOiB1bmRlZmluZWQsXG4gIGlzTG9hZGluZzogZmFsc2UsXG4gIGlzRmV0Y2hpbmc6IGZhbHNlLFxuICBpc0Vycm9yOiBmYWxzZSxcbiAgcGFnZTogdW5kZWZpbmVkLFxuICBwYWdlQ291bnQ6IHVuZGVmaW5lZCxcbiAgZmV0Y2hQYWdlOiB1bmRlZmluZWQsXG4gIGZldGNoTmV4dDogdW5kZWZpbmVkLFxuICBmZXRjaFByZXZpb3VzOiB1bmRlZmluZWQsXG4gIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgaGFzUHJldmlvdXNQYWdlOiBmYWxzZSxcbiAgcmV2YWxpZGF0ZTogdW5kZWZpbmVkLFxuICBzZXREYXRhOiB1bmRlZmluZWQsXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIFRoZSBgdXNlT3JnYW5pemF0aW9uKClgIGhvb2sgcmV0cmlldmVzIGF0dHJpYnV0ZXMgb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgb3JnYW5pemF0aW9uLlxuICovXG5leHBvcnQgY29uc3QgdXNlT3JnYW5pemF0aW9uOiBVc2VPcmdhbml6YXRpb24gPSBwYXJhbXMgPT4ge1xuICBjb25zdCB7XG4gICAgZG9tYWluczogZG9tYWluTGlzdFBhcmFtcyxcbiAgICBtZW1iZXJzaGlwUmVxdWVzdHM6IG1lbWJlcnNoaXBSZXF1ZXN0c0xpc3RQYXJhbXMsXG4gICAgbWVtYmVyc2hpcHM6IG1lbWJlcnNMaXN0UGFyYW1zLFxuICAgIGludml0YXRpb25zOiBpbnZpdGF0aW9uc0xpc3RQYXJhbXMsXG4gIH0gPSBwYXJhbXMgfHwge307XG5cbiAgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlcigndXNlT3JnYW5pemF0aW9uJyk7XG5cbiAgY29uc3QgeyBvcmdhbml6YXRpb24gfSA9IHVzZU9yZ2FuaXphdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qgc2Vzc2lvbiA9IHVzZVNlc3Npb25Db250ZXh0KCk7XG5cbiAgY29uc3QgZG9tYWluU2FmZVZhbHVlcyA9IHVzZVdpdGhTYWZlVmFsdWVzKGRvbWFpbkxpc3RQYXJhbXMsIHtcbiAgICBpbml0aWFsUGFnZTogMSxcbiAgICBwYWdlU2l6ZTogMTAsXG4gICAga2VlcFByZXZpb3VzRGF0YTogZmFsc2UsXG4gICAgaW5maW5pdGU6IGZhbHNlLFxuICAgIGVucm9sbG1lbnRNb2RlOiB1bmRlZmluZWQsXG4gIH0pO1xuXG4gIGNvbnN0IG1lbWJlcnNoaXBSZXF1ZXN0U2FmZVZhbHVlcyA9IHVzZVdpdGhTYWZlVmFsdWVzKG1lbWJlcnNoaXBSZXF1ZXN0c0xpc3RQYXJhbXMsIHtcbiAgICBpbml0aWFsUGFnZTogMSxcbiAgICBwYWdlU2l6ZTogMTAsXG4gICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAga2VlcFByZXZpb3VzRGF0YTogZmFsc2UsXG4gICAgaW5maW5pdGU6IGZhbHNlLFxuICB9KTtcblxuICBjb25zdCBtZW1iZXJzU2FmZVZhbHVlcyA9IHVzZVdpdGhTYWZlVmFsdWVzKG1lbWJlcnNMaXN0UGFyYW1zLCB7XG4gICAgaW5pdGlhbFBhZ2U6IDEsXG4gICAgcGFnZVNpemU6IDEwLFxuICAgIHJvbGU6IHVuZGVmaW5lZCxcbiAgICBrZWVwUHJldmlvdXNEYXRhOiBmYWxzZSxcbiAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgcXVlcnk6IHVuZGVmaW5lZCxcbiAgfSk7XG5cbiAgY29uc3QgaW52aXRhdGlvbnNTYWZlVmFsdWVzID0gdXNlV2l0aFNhZmVWYWx1ZXMoaW52aXRhdGlvbnNMaXN0UGFyYW1zLCB7XG4gICAgaW5pdGlhbFBhZ2U6IDEsXG4gICAgcGFnZVNpemU6IDEwLFxuICAgIHN0YXR1czogWydwZW5kaW5nJ10sXG4gICAga2VlcFByZXZpb3VzRGF0YTogZmFsc2UsXG4gICAgaW5maW5pdGU6IGZhbHNlLFxuICB9KTtcblxuICBjb25zdCBjbGVyayA9IHVzZUNsZXJrSW5zdGFuY2VDb250ZXh0KCk7XG5cbiAgY2xlcmsudGVsZW1ldHJ5Py5yZWNvcmQoZXZlbnRNZXRob2RDYWxsZWQoJ3VzZU9yZ2FuaXphdGlvbicpKTtcblxuICBjb25zdCBkb21haW5QYXJhbXMgPVxuICAgIHR5cGVvZiBkb21haW5MaXN0UGFyYW1zID09PSAndW5kZWZpbmVkJ1xuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDoge1xuICAgICAgICAgIGluaXRpYWxQYWdlOiBkb21haW5TYWZlVmFsdWVzLmluaXRpYWxQYWdlLFxuICAgICAgICAgIHBhZ2VTaXplOiBkb21haW5TYWZlVmFsdWVzLnBhZ2VTaXplLFxuICAgICAgICAgIGVucm9sbG1lbnRNb2RlOiBkb21haW5TYWZlVmFsdWVzLmVucm9sbG1lbnRNb2RlLFxuICAgICAgICB9O1xuXG4gIGNvbnN0IG1lbWJlcnNoaXBSZXF1ZXN0UGFyYW1zID1cbiAgICB0eXBlb2YgbWVtYmVyc2hpcFJlcXVlc3RzTGlzdFBhcmFtcyA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHtcbiAgICAgICAgICBpbml0aWFsUGFnZTogbWVtYmVyc2hpcFJlcXVlc3RTYWZlVmFsdWVzLmluaXRpYWxQYWdlLFxuICAgICAgICAgIHBhZ2VTaXplOiBtZW1iZXJzaGlwUmVxdWVzdFNhZmVWYWx1ZXMucGFnZVNpemUsXG4gICAgICAgICAgc3RhdHVzOiBtZW1iZXJzaGlwUmVxdWVzdFNhZmVWYWx1ZXMuc3RhdHVzLFxuICAgICAgICB9O1xuXG4gIGNvbnN0IG1lbWJlcnNQYXJhbXMgPVxuICAgIHR5cGVvZiBtZW1iZXJzTGlzdFBhcmFtcyA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHtcbiAgICAgICAgICBpbml0aWFsUGFnZTogbWVtYmVyc1NhZmVWYWx1ZXMuaW5pdGlhbFBhZ2UsXG4gICAgICAgICAgcGFnZVNpemU6IG1lbWJlcnNTYWZlVmFsdWVzLnBhZ2VTaXplLFxuICAgICAgICAgIHJvbGU6IG1lbWJlcnNTYWZlVmFsdWVzLnJvbGUsXG4gICAgICAgICAgcXVlcnk6IG1lbWJlcnNTYWZlVmFsdWVzLnF1ZXJ5LFxuICAgICAgICB9O1xuXG4gIGNvbnN0IGludml0YXRpb25zUGFyYW1zID1cbiAgICB0eXBlb2YgaW52aXRhdGlvbnNMaXN0UGFyYW1zID09PSAndW5kZWZpbmVkJ1xuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDoge1xuICAgICAgICAgIGluaXRpYWxQYWdlOiBpbnZpdGF0aW9uc1NhZmVWYWx1ZXMuaW5pdGlhbFBhZ2UsXG4gICAgICAgICAgcGFnZVNpemU6IGludml0YXRpb25zU2FmZVZhbHVlcy5wYWdlU2l6ZSxcbiAgICAgICAgICBzdGF0dXM6IGludml0YXRpb25zU2FmZVZhbHVlcy5zdGF0dXMsXG4gICAgICAgIH07XG5cbiAgY29uc3QgZG9tYWlucyA9IHVzZVBhZ2VzT3JJbmZpbml0ZTxHZXREb21haW5zUGFyYW1zLCBDbGVya1BhZ2luYXRlZFJlc3BvbnNlPE9yZ2FuaXphdGlvbkRvbWFpblJlc291cmNlPj4oXG4gICAge1xuICAgICAgLi4uZG9tYWluUGFyYW1zLFxuICAgIH0sXG4gICAgb3JnYW5pemF0aW9uPy5nZXREb21haW5zLFxuICAgIHtcbiAgICAgIGtlZXBQcmV2aW91c0RhdGE6IGRvbWFpblNhZmVWYWx1ZXMua2VlcFByZXZpb3VzRGF0YSxcbiAgICAgIGluZmluaXRlOiBkb21haW5TYWZlVmFsdWVzLmluZmluaXRlLFxuICAgICAgZW5hYmxlZDogISFkb21haW5QYXJhbXMsXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnZG9tYWlucycsXG4gICAgICBvcmdhbml6YXRpb25JZDogb3JnYW5pemF0aW9uPy5pZCxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1lbWJlcnNoaXBSZXF1ZXN0cyA9IHVzZVBhZ2VzT3JJbmZpbml0ZTxcbiAgICBHZXRNZW1iZXJzaGlwUmVxdWVzdFBhcmFtcyxcbiAgICBDbGVya1BhZ2luYXRlZFJlc3BvbnNlPE9yZ2FuaXphdGlvbk1lbWJlcnNoaXBSZXF1ZXN0UmVzb3VyY2U+XG4gID4oXG4gICAge1xuICAgICAgLi4ubWVtYmVyc2hpcFJlcXVlc3RQYXJhbXMsXG4gICAgfSxcbiAgICBvcmdhbml6YXRpb24/LmdldE1lbWJlcnNoaXBSZXF1ZXN0cyxcbiAgICB7XG4gICAgICBrZWVwUHJldmlvdXNEYXRhOiBtZW1iZXJzaGlwUmVxdWVzdFNhZmVWYWx1ZXMua2VlcFByZXZpb3VzRGF0YSxcbiAgICAgIGluZmluaXRlOiBtZW1iZXJzaGlwUmVxdWVzdFNhZmVWYWx1ZXMuaW5maW5pdGUsXG4gICAgICBlbmFibGVkOiAhIW1lbWJlcnNoaXBSZXF1ZXN0UGFyYW1zLFxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ21lbWJlcnNoaXBSZXF1ZXN0cycsXG4gICAgICBvcmdhbml6YXRpb25JZDogb3JnYW5pemF0aW9uPy5pZCxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1lbWJlcnNoaXBzID0gdXNlUGFnZXNPckluZmluaXRlPEdldE1lbWJlcnNQYXJhbXMsIENsZXJrUGFnaW5hdGVkUmVzcG9uc2U8T3JnYW5pemF0aW9uTWVtYmVyc2hpcFJlc291cmNlPj4oXG4gICAgbWVtYmVyc1BhcmFtcyB8fCB7fSxcbiAgICBvcmdhbml6YXRpb24/LmdldE1lbWJlcnNoaXBzLFxuICAgIHtcbiAgICAgIGtlZXBQcmV2aW91c0RhdGE6IG1lbWJlcnNTYWZlVmFsdWVzLmtlZXBQcmV2aW91c0RhdGEsXG4gICAgICBpbmZpbml0ZTogbWVtYmVyc1NhZmVWYWx1ZXMuaW5maW5pdGUsXG4gICAgICBlbmFibGVkOiAhIW1lbWJlcnNQYXJhbXMsXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbWVtYmVycycsXG4gICAgICBvcmdhbml6YXRpb25JZDogb3JnYW5pemF0aW9uPy5pZCxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IGludml0YXRpb25zID0gdXNlUGFnZXNPckluZmluaXRlPEdldEludml0YXRpb25zUGFyYW1zLCBDbGVya1BhZ2luYXRlZFJlc3BvbnNlPE9yZ2FuaXphdGlvbkludml0YXRpb25SZXNvdXJjZT4+KFxuICAgIHtcbiAgICAgIC4uLmludml0YXRpb25zUGFyYW1zLFxuICAgIH0sXG4gICAgb3JnYW5pemF0aW9uPy5nZXRJbnZpdGF0aW9ucyxcbiAgICB7XG4gICAgICBrZWVwUHJldmlvdXNEYXRhOiBpbnZpdGF0aW9uc1NhZmVWYWx1ZXMua2VlcFByZXZpb3VzRGF0YSxcbiAgICAgIGluZmluaXRlOiBpbnZpdGF0aW9uc1NhZmVWYWx1ZXMuaW5maW5pdGUsXG4gICAgICBlbmFibGVkOiAhIWludml0YXRpb25zUGFyYW1zLFxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ2ludml0YXRpb25zJyxcbiAgICAgIG9yZ2FuaXphdGlvbklkOiBvcmdhbml6YXRpb24/LmlkLFxuICAgIH0sXG4gICk7XG5cbiAgaWYgKG9yZ2FuaXphdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIG9yZ2FuaXphdGlvbjogdW5kZWZpbmVkLFxuICAgICAgbWVtYmVyc2hpcDogdW5kZWZpbmVkLFxuICAgICAgZG9tYWluczogdW5kZWZpbmVkUGFnaW5hdGVkUmVzb3VyY2UsXG4gICAgICBtZW1iZXJzaGlwUmVxdWVzdHM6IHVuZGVmaW5lZFBhZ2luYXRlZFJlc291cmNlLFxuICAgICAgbWVtYmVyc2hpcHM6IHVuZGVmaW5lZFBhZ2luYXRlZFJlc291cmNlLFxuICAgICAgaW52aXRhdGlvbnM6IHVuZGVmaW5lZFBhZ2luYXRlZFJlc291cmNlLFxuICAgIH07XG4gIH1cblxuICBpZiAob3JnYW5pemF0aW9uID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgb3JnYW5pemF0aW9uOiBudWxsLFxuICAgICAgbWVtYmVyc2hpcDogbnVsbCxcbiAgICAgIGRvbWFpbnM6IG51bGwsXG4gICAgICBtZW1iZXJzaGlwUmVxdWVzdHM6IG51bGwsXG4gICAgICBtZW1iZXJzaGlwczogbnVsbCxcbiAgICAgIGludml0YXRpb25zOiBudWxsLFxuICAgIH07XG4gIH1cblxuICAvKiogSW4gU1NSIGNvbnRleHQgd2UgaW5jbHVkZSBvbmx5IHRoZSBvcmdhbml6YXRpb24gb2JqZWN0IHdoZW4gbG9hZE9yZyBpcyBzZXQgdG8gdHJ1ZS4gKi9cbiAgaWYgKCFjbGVyay5sb2FkZWQgJiYgb3JnYW5pemF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgb3JnYW5pemF0aW9uLFxuICAgICAgbWVtYmVyc2hpcDogdW5kZWZpbmVkLFxuICAgICAgZG9tYWluczogdW5kZWZpbmVkUGFnaW5hdGVkUmVzb3VyY2UsXG4gICAgICBtZW1iZXJzaGlwUmVxdWVzdHM6IHVuZGVmaW5lZFBhZ2luYXRlZFJlc291cmNlLFxuICAgICAgbWVtYmVyc2hpcHM6IHVuZGVmaW5lZFBhZ2luYXRlZFJlc291cmNlLFxuICAgICAgaW52aXRhdGlvbnM6IHVuZGVmaW5lZFBhZ2luYXRlZFJlc291cmNlLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlzTG9hZGVkOiBjbGVyay5sb2FkZWQsXG4gICAgb3JnYW5pemF0aW9uLFxuICAgIG1lbWJlcnNoaXA6IGdldEN1cnJlbnRPcmdhbml6YXRpb25NZW1iZXJzaGlwKHNlc3Npb24hLnVzZXIub3JnYW5pemF0aW9uTWVtYmVyc2hpcHMsIG9yZ2FuaXphdGlvbi5pZCksIC8vIHlvdXIgbWVtYmVyc2hpcCBpbiB0aGUgY3VycmVudCBvcmdcbiAgICBkb21haW5zLFxuICAgIG1lbWJlcnNoaXBSZXF1ZXN0cyxcbiAgICBtZW1iZXJzaGlwcyxcbiAgICBpbnZpdGF0aW9ucyxcbiAgfTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG4gIENsZXJrUGFnaW5hdGVkUmVzcG9uc2UsXG4gIENyZWF0ZU9yZ2FuaXphdGlvblBhcmFtcyxcbiAgR2V0VXNlck9yZ2FuaXphdGlvbkludml0YXRpb25zUGFyYW1zLFxuICBHZXRVc2VyT3JnYW5pemF0aW9uTWVtYmVyc2hpcFBhcmFtcyxcbiAgR2V0VXNlck9yZ2FuaXphdGlvblN1Z2dlc3Rpb25zUGFyYW1zLFxuICBPcmdhbml6YXRpb25NZW1iZXJzaGlwUmVzb3VyY2UsXG4gIE9yZ2FuaXphdGlvblJlc291cmNlLFxuICBPcmdhbml6YXRpb25TdWdnZXN0aW9uUmVzb3VyY2UsXG4gIFNldEFjdGl2ZSxcbiAgVXNlck9yZ2FuaXphdGlvbkludml0YXRpb25SZXNvdXJjZSxcbn0gZnJvbSAnQGNsZXJrL3R5cGVzJztcblxuaW1wb3J0IHsgZXZlbnRNZXRob2RDYWxsZWQgfSBmcm9tICcuLi8uLi90ZWxlbWV0cnkvZXZlbnRzL21ldGhvZC1jYWxsZWQnO1xuaW1wb3J0IHsgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlciwgdXNlQ2xlcmtJbnN0YW5jZUNvbnRleHQsIHVzZVVzZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMnO1xuaW1wb3J0IHR5cGUgeyBQYWdpbmF0ZWRIb29rQ29uZmlnLCBQYWdpbmF0ZWRSZXNvdXJjZXMsIFBhZ2luYXRlZFJlc291cmNlc1dpdGhEZWZhdWx0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgdXNlUGFnZXNPckluZmluaXRlLCB1c2VXaXRoU2FmZVZhbHVlcyB9IGZyb20gJy4vdXNlUGFnZXNPckluZmluaXRlJztcblxudHlwZSBVc2VPcmdhbml6YXRpb25MaXN0UGFyYW1zID0ge1xuICAvKipcbiAgICogYHRydWVgIG9yIGFuIG9iamVjdCB3aXRoIGFueSBvZiB0aGUgcHJvcGVydGllcyBkZXNjcmliZWQgaW4gW1NoYXJlZCBwcm9wZXJ0aWVzXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvcmVhY3QvdXNlLW9yZ2FuaXphdGlvbi1saXN0I3NoYXJlZC1wcm9wZXJ0aWVzKS4gSWYgc2V0IHRvIGB0cnVlYCwgYWxsIGRlZmF1bHQgcHJvcGVydGllcyB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICB1c2VyTWVtYmVyc2hpcHM/OiB0cnVlIHwgUGFnaW5hdGVkSG9va0NvbmZpZzxHZXRVc2VyT3JnYW5pemF0aW9uTWVtYmVyc2hpcFBhcmFtcz47XG4gIC8qKlxuICAgKiBgdHJ1ZWAgb3IgYW4gb2JqZWN0IHdpdGggW2BzdGF0dXM6IE9yZ2FuaXphdGlvbkludml0YXRpb25TdGF0dXNgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvcmVhY3QvdXNlLW9yZ2FuaXphdGlvbi1saXN0I29yZ2FuaXphdGlvbi1pbnZpdGF0aW9uLXN0YXR1cykgb3IgYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGRlc2NyaWJlZCBpbiBbU2hhcmVkIHByb3BlcnRpZXNdKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvcmVmZXJlbmNlcy9yZWFjdC91c2Utb3JnYW5pemF0aW9uLWxpc3Qjc2hhcmVkLXByb3BlcnRpZXMpLiBJZiBzZXQgdG8gYHRydWVgLCBhbGwgZGVmYXVsdCBwcm9wZXJ0aWVzIHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIHVzZXJJbnZpdGF0aW9ucz86IHRydWUgfCBQYWdpbmF0ZWRIb29rQ29uZmlnPEdldFVzZXJPcmdhbml6YXRpb25JbnZpdGF0aW9uc1BhcmFtcz47XG4gIC8qKlxuICAgKiBgdHJ1ZWAgb3IgYW4gb2JqZWN0IHdpdGggW2BzdGF0dXM6IE9yZ2FuaXphdGlvblN1Z2dlc3Rpb25zU3RhdHVzIHwgT3JnYW5pemF0aW9uU3VnZ2VzdGlvblN0YXR1c1tdYF0oaHR0cHM6Ly9jbGVyay5jb20vZG9jcy9yZWZlcmVuY2VzL3JlYWN0L3VzZS1vcmdhbml6YXRpb24tbGlzdCNvcmdhbml6YXRpb24tc3VnZ2VzdGlvbi1zdGF0dXMpIG9yIGFueSBvZiB0aGUgcHJvcGVydGllcyBkZXNjcmliZWQgaW4gW1NoYXJlZCBwcm9wZXJ0aWVzXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvcmVhY3QvdXNlLW9yZ2FuaXphdGlvbi1saXN0I3NoYXJlZC1wcm9wZXJ0aWVzKS4gSWYgc2V0IHRvIGB0cnVlYCwgYWxsIGRlZmF1bHQgcHJvcGVydGllcyB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICB1c2VyU3VnZ2VzdGlvbnM/OiB0cnVlIHwgUGFnaW5hdGVkSG9va0NvbmZpZzxHZXRVc2VyT3JnYW5pemF0aW9uU3VnZ2VzdGlvbnNQYXJhbXM+O1xufTtcblxuY29uc3QgdW5kZWZpbmVkUGFnaW5hdGVkUmVzb3VyY2UgPSB7XG4gIGRhdGE6IHVuZGVmaW5lZCxcbiAgY291bnQ6IHVuZGVmaW5lZCxcbiAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgaXNGZXRjaGluZzogZmFsc2UsXG4gIGlzRXJyb3I6IGZhbHNlLFxuICBwYWdlOiB1bmRlZmluZWQsXG4gIHBhZ2VDb3VudDogdW5kZWZpbmVkLFxuICBmZXRjaFBhZ2U6IHVuZGVmaW5lZCxcbiAgZmV0Y2hOZXh0OiB1bmRlZmluZWQsXG4gIGZldGNoUHJldmlvdXM6IHVuZGVmaW5lZCxcbiAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICBoYXNQcmV2aW91c1BhZ2U6IGZhbHNlLFxuICByZXZhbGlkYXRlOiB1bmRlZmluZWQsXG4gIHNldERhdGE6IHVuZGVmaW5lZCxcbn0gYXMgY29uc3Q7XG5cbnR5cGUgVXNlT3JnYW5pemF0aW9uTGlzdCA9IDxUIGV4dGVuZHMgVXNlT3JnYW5pemF0aW9uTGlzdFBhcmFtcz4oXG4gIHBhcmFtcz86IFQsXG4pID0+XG4gIHwge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBDbGVyayBoYXMgY29tcGxldGVkIGluaXRpYWxpemF0aW9uLiBJbml0aWFsbHkgYGZhbHNlYCwgYmVjb21lcyBgdHJ1ZWAgb25jZSBDbGVyayBsb2Fkcy5cbiAgICAgICAqL1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGBQcm9taXNlYCB3aGljaCByZXNvbHZlcyB0byB0aGUgbmV3bHkgY3JlYXRlZCBgT3JnYW5pemF0aW9uYC5cbiAgICAgICAqL1xuICAgICAgY3JlYXRlT3JnYW5pemF0aW9uOiB1bmRlZmluZWQ7XG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBzZXRzIHRoZSBhY3RpdmUgc2Vzc2lvbiBhbmQvb3Igb3JnYW5pemF0aW9uLlxuICAgICAgICovXG4gICAgICBzZXRBY3RpdmU6IHVuZGVmaW5lZDtcbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBgUGFnaW5hdGVkUmVzb3VyY2VzYCB3aGljaCBpbmNsdWRlcyBhIGxpc3Qgb2YgdGhlIHVzZXIncyBvcmdhbml6YXRpb24gbWVtYmVyc2hpcHMuXG4gICAgICAgKi9cbiAgICAgIHVzZXJNZW1iZXJzaGlwczogUGFnaW5hdGVkUmVzb3VyY2VzV2l0aERlZmF1bHQ8T3JnYW5pemF0aW9uTWVtYmVyc2hpcFJlc291cmNlPjtcbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBgUGFnaW5hdGVkUmVzb3VyY2VzYCB3aGljaCBpbmNsdWRlcyBhIGxpc3Qgb2YgdGhlIHVzZXIncyBvcmdhbml6YXRpb24gaW52aXRhdGlvbnMuXG4gICAgICAgKi9cbiAgICAgIHVzZXJJbnZpdGF0aW9uczogUGFnaW5hdGVkUmVzb3VyY2VzV2l0aERlZmF1bHQ8VXNlck9yZ2FuaXphdGlvbkludml0YXRpb25SZXNvdXJjZT47XG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYFBhZ2luYXRlZFJlc291cmNlc2Agd2hpY2ggaW5jbHVkZXMgYSBsaXN0IG9mIHN1Z2dlc3Rpb25zIGZvciBvcmdhbml6YXRpb25zIHRoYXQgdGhlIHVzZXIgY2FuIGpvaW4uXG4gICAgICAgKi9cbiAgICAgIHVzZXJTdWdnZXN0aW9uczogUGFnaW5hdGVkUmVzb3VyY2VzV2l0aERlZmF1bHQ8T3JnYW5pemF0aW9uU3VnZ2VzdGlvblJlc291cmNlPjtcbiAgICB9XG4gIHwge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBDbGVyayBoYXMgY29tcGxldGVkIGluaXRpYWxpemF0aW9uLiBJbml0aWFsbHkgYGZhbHNlYCwgYmVjb21lcyBgdHJ1ZWAgb25jZSBDbGVyayBsb2Fkcy5cbiAgICAgICAqL1xuICAgICAgaXNMb2FkZWQ6IGJvb2xlYW47XG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgYFByb21pc2VgIHdoaWNoIHJlc29sdmVzIHRvIHRoZSBuZXdseSBjcmVhdGVkIGBPcmdhbml6YXRpb25gLlxuICAgICAgICovXG4gICAgICBjcmVhdGVPcmdhbml6YXRpb246IChwYXJhbXM6IENyZWF0ZU9yZ2FuaXphdGlvblBhcmFtcykgPT4gUHJvbWlzZTxPcmdhbml6YXRpb25SZXNvdXJjZT47XG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBzZXRzIHRoZSBhY3RpdmUgc2Vzc2lvbiBhbmQvb3Igb3JnYW5pemF0aW9uLlxuICAgICAgICovXG4gICAgICBzZXRBY3RpdmU6IFNldEFjdGl2ZTtcbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBgUGFnaW5hdGVkUmVzb3VyY2VzYCB3aGljaCBpbmNsdWRlcyBhIGxpc3Qgb2YgdGhlIHVzZXIncyBvcmdhbml6YXRpb24gbWVtYmVyc2hpcHMuXG4gICAgICAgKi9cbiAgICAgIHVzZXJNZW1iZXJzaGlwczogUGFnaW5hdGVkUmVzb3VyY2VzPFxuICAgICAgICBPcmdhbml6YXRpb25NZW1iZXJzaGlwUmVzb3VyY2UsXG4gICAgICAgIFRbJ3VzZXJNZW1iZXJzaGlwcyddIGV4dGVuZHMgeyBpbmZpbml0ZTogdHJ1ZSB9ID8gdHJ1ZSA6IGZhbHNlXG4gICAgICA+O1xuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGBQYWdpbmF0ZWRSZXNvdXJjZXNgIHdoaWNoIGluY2x1ZGVzIGEgbGlzdCBvZiB0aGUgdXNlcidzIG9yZ2FuaXphdGlvbiBpbnZpdGF0aW9ucy5cbiAgICAgICAqL1xuICAgICAgdXNlckludml0YXRpb25zOiBQYWdpbmF0ZWRSZXNvdXJjZXM8XG4gICAgICAgIFVzZXJPcmdhbml6YXRpb25JbnZpdGF0aW9uUmVzb3VyY2UsXG4gICAgICAgIFRbJ3VzZXJJbnZpdGF0aW9ucyddIGV4dGVuZHMgeyBpbmZpbml0ZTogdHJ1ZSB9ID8gdHJ1ZSA6IGZhbHNlXG4gICAgICA+O1xuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGBQYWdpbmF0ZWRSZXNvdXJjZXNgIHdoaWNoIGluY2x1ZGVzIGEgbGlzdCBvZiBzdWdnZXN0aW9ucyBmb3Igb3JnYW5pemF0aW9ucyB0aGF0IHRoZSB1c2VyIGNhbiBqb2luLlxuICAgICAgICovXG4gICAgICB1c2VyU3VnZ2VzdGlvbnM6IFBhZ2luYXRlZFJlc291cmNlczxcbiAgICAgICAgT3JnYW5pemF0aW9uU3VnZ2VzdGlvblJlc291cmNlLFxuICAgICAgICBUWyd1c2VyU3VnZ2VzdGlvbnMnXSBleHRlbmRzIHsgaW5maW5pdGU6IHRydWUgfSA/IHRydWUgOiBmYWxzZVxuICAgICAgPjtcbiAgICB9O1xuXG4vKipcbiAqIFRoZSBgdXNlT3JnYW5pemF0aW9uTGlzdCgpYCBob29rIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgY3VycmVudCB1c2VyJ3Mgb3JnYW5pemF0aW9uIG1lbWJlcnNoaXBzLCBpbnZpdGF0aW9ucywgYW5kIHN1Z2dlc3Rpb25zLiBJdCBhbHNvIGluY2x1ZGVzIG1ldGhvZHMgZm9yIGNyZWF0aW5nIG5ldyBvcmdhbml6YXRpb25zIGFuZCBtYW5hZ2luZyB0aGUgYWN0aXZlIG9yZ2FuaXphdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZU9yZ2FuaXphdGlvbkxpc3Q6IFVzZU9yZ2FuaXphdGlvbkxpc3QgPSBwYXJhbXMgPT4ge1xuICBjb25zdCB7IHVzZXJNZW1iZXJzaGlwcywgdXNlckludml0YXRpb25zLCB1c2VyU3VnZ2VzdGlvbnMgfSA9IHBhcmFtcyB8fCB7fTtcblxuICB1c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyKCd1c2VPcmdhbml6YXRpb25MaXN0Jyk7XG5cbiAgY29uc3QgdXNlck1lbWJlcnNoaXBzU2FmZVZhbHVlcyA9IHVzZVdpdGhTYWZlVmFsdWVzKHVzZXJNZW1iZXJzaGlwcywge1xuICAgIGluaXRpYWxQYWdlOiAxLFxuICAgIHBhZ2VTaXplOiAxMCxcbiAgICBrZWVwUHJldmlvdXNEYXRhOiBmYWxzZSxcbiAgICBpbmZpbml0ZTogZmFsc2UsXG4gIH0pO1xuXG4gIGNvbnN0IHVzZXJJbnZpdGF0aW9uc1NhZmVWYWx1ZXMgPSB1c2VXaXRoU2FmZVZhbHVlcyh1c2VySW52aXRhdGlvbnMsIHtcbiAgICBpbml0aWFsUGFnZTogMSxcbiAgICBwYWdlU2l6ZTogMTAsXG4gICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAga2VlcFByZXZpb3VzRGF0YTogZmFsc2UsXG4gICAgaW5maW5pdGU6IGZhbHNlLFxuICB9KTtcblxuICBjb25zdCB1c2VyU3VnZ2VzdGlvbnNTYWZlVmFsdWVzID0gdXNlV2l0aFNhZmVWYWx1ZXModXNlclN1Z2dlc3Rpb25zLCB7XG4gICAgaW5pdGlhbFBhZ2U6IDEsXG4gICAgcGFnZVNpemU6IDEwLFxuICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgIGtlZXBQcmV2aW91c0RhdGE6IGZhbHNlLFxuICAgIGluZmluaXRlOiBmYWxzZSxcbiAgfSk7XG5cbiAgY29uc3QgY2xlcmsgPSB1c2VDbGVya0luc3RhbmNlQ29udGV4dCgpO1xuICBjb25zdCB1c2VyID0gdXNlVXNlckNvbnRleHQoKTtcblxuICBjbGVyay50ZWxlbWV0cnk/LnJlY29yZChldmVudE1ldGhvZENhbGxlZCgndXNlT3JnYW5pemF0aW9uTGlzdCcpKTtcblxuICBjb25zdCB1c2VyTWVtYmVyc2hpcHNQYXJhbXMgPVxuICAgIHR5cGVvZiB1c2VyTWVtYmVyc2hpcHMgPT09ICd1bmRlZmluZWQnXG4gICAgICA/IHVuZGVmaW5lZFxuICAgICAgOiB7XG4gICAgICAgICAgaW5pdGlhbFBhZ2U6IHVzZXJNZW1iZXJzaGlwc1NhZmVWYWx1ZXMuaW5pdGlhbFBhZ2UsXG4gICAgICAgICAgcGFnZVNpemU6IHVzZXJNZW1iZXJzaGlwc1NhZmVWYWx1ZXMucGFnZVNpemUsXG4gICAgICAgIH07XG5cbiAgY29uc3QgdXNlckludml0YXRpb25zUGFyYW1zID1cbiAgICB0eXBlb2YgdXNlckludml0YXRpb25zID09PSAndW5kZWZpbmVkJ1xuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDoge1xuICAgICAgICAgIGluaXRpYWxQYWdlOiB1c2VySW52aXRhdGlvbnNTYWZlVmFsdWVzLmluaXRpYWxQYWdlLFxuICAgICAgICAgIHBhZ2VTaXplOiB1c2VySW52aXRhdGlvbnNTYWZlVmFsdWVzLnBhZ2VTaXplLFxuICAgICAgICAgIHN0YXR1czogdXNlckludml0YXRpb25zU2FmZVZhbHVlcy5zdGF0dXMsXG4gICAgICAgIH07XG5cbiAgY29uc3QgdXNlclN1Z2dlc3Rpb25zUGFyYW1zID1cbiAgICB0eXBlb2YgdXNlclN1Z2dlc3Rpb25zID09PSAndW5kZWZpbmVkJ1xuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDoge1xuICAgICAgICAgIGluaXRpYWxQYWdlOiB1c2VyU3VnZ2VzdGlvbnNTYWZlVmFsdWVzLmluaXRpYWxQYWdlLFxuICAgICAgICAgIHBhZ2VTaXplOiB1c2VyU3VnZ2VzdGlvbnNTYWZlVmFsdWVzLnBhZ2VTaXplLFxuICAgICAgICAgIHN0YXR1czogdXNlclN1Z2dlc3Rpb25zU2FmZVZhbHVlcy5zdGF0dXMsXG4gICAgICAgIH07XG5cbiAgY29uc3QgaXNDbGVya0xvYWRlZCA9ICEhKGNsZXJrLmxvYWRlZCAmJiB1c2VyKTtcblxuICBjb25zdCBtZW1iZXJzaGlwcyA9IHVzZVBhZ2VzT3JJbmZpbml0ZTxcbiAgICBHZXRVc2VyT3JnYW5pemF0aW9uTWVtYmVyc2hpcFBhcmFtcyxcbiAgICBDbGVya1BhZ2luYXRlZFJlc3BvbnNlPE9yZ2FuaXphdGlvbk1lbWJlcnNoaXBSZXNvdXJjZT5cbiAgPihcbiAgICB1c2VyTWVtYmVyc2hpcHNQYXJhbXMgfHwge30sXG4gICAgdXNlcj8uZ2V0T3JnYW5pemF0aW9uTWVtYmVyc2hpcHMsXG4gICAge1xuICAgICAga2VlcFByZXZpb3VzRGF0YTogdXNlck1lbWJlcnNoaXBzU2FmZVZhbHVlcy5rZWVwUHJldmlvdXNEYXRhLFxuICAgICAgaW5maW5pdGU6IHVzZXJNZW1iZXJzaGlwc1NhZmVWYWx1ZXMuaW5maW5pdGUsXG4gICAgICBlbmFibGVkOiAhIXVzZXJNZW1iZXJzaGlwc1BhcmFtcyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd1c2VyTWVtYmVyc2hpcHMnLFxuICAgICAgdXNlcklkOiB1c2VyPy5pZCxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IGludml0YXRpb25zID0gdXNlUGFnZXNPckluZmluaXRlPFxuICAgIEdldFVzZXJPcmdhbml6YXRpb25JbnZpdGF0aW9uc1BhcmFtcyxcbiAgICBDbGVya1BhZ2luYXRlZFJlc3BvbnNlPFVzZXJPcmdhbml6YXRpb25JbnZpdGF0aW9uUmVzb3VyY2U+XG4gID4oXG4gICAge1xuICAgICAgLi4udXNlckludml0YXRpb25zUGFyYW1zLFxuICAgIH0sXG4gICAgdXNlcj8uZ2V0T3JnYW5pemF0aW9uSW52aXRhdGlvbnMsXG4gICAge1xuICAgICAga2VlcFByZXZpb3VzRGF0YTogdXNlckludml0YXRpb25zU2FmZVZhbHVlcy5rZWVwUHJldmlvdXNEYXRhLFxuICAgICAgaW5maW5pdGU6IHVzZXJJbnZpdGF0aW9uc1NhZmVWYWx1ZXMuaW5maW5pdGUsXG4gICAgICBlbmFibGVkOiAhIXVzZXJJbnZpdGF0aW9uc1BhcmFtcyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd1c2VySW52aXRhdGlvbnMnLFxuICAgICAgdXNlcklkOiB1c2VyPy5pZCxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IHN1Z2dlc3Rpb25zID0gdXNlUGFnZXNPckluZmluaXRlPFxuICAgIEdldFVzZXJPcmdhbml6YXRpb25TdWdnZXN0aW9uc1BhcmFtcyxcbiAgICBDbGVya1BhZ2luYXRlZFJlc3BvbnNlPE9yZ2FuaXphdGlvblN1Z2dlc3Rpb25SZXNvdXJjZT5cbiAgPihcbiAgICB7XG4gICAgICAuLi51c2VyU3VnZ2VzdGlvbnNQYXJhbXMsXG4gICAgfSxcbiAgICB1c2VyPy5nZXRPcmdhbml6YXRpb25TdWdnZXN0aW9ucyxcbiAgICB7XG4gICAgICBrZWVwUHJldmlvdXNEYXRhOiB1c2VyU3VnZ2VzdGlvbnNTYWZlVmFsdWVzLmtlZXBQcmV2aW91c0RhdGEsXG4gICAgICBpbmZpbml0ZTogdXNlclN1Z2dlc3Rpb25zU2FmZVZhbHVlcy5pbmZpbml0ZSxcbiAgICAgIGVuYWJsZWQ6ICEhdXNlclN1Z2dlc3Rpb25zUGFyYW1zLFxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3VzZXJTdWdnZXN0aW9ucycsXG4gICAgICB1c2VySWQ6IHVzZXI/LmlkLFxuICAgIH0sXG4gICk7XG5cbiAgLy8gVE9ETzogUHJvcGVybHkgY2hlY2sgZm9yIFNTUiB1c2VyIHZhbHVlc1xuICBpZiAoIWlzQ2xlcmtMb2FkZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgY3JlYXRlT3JnYW5pemF0aW9uOiB1bmRlZmluZWQsXG4gICAgICBzZXRBY3RpdmU6IHVuZGVmaW5lZCxcbiAgICAgIHVzZXJNZW1iZXJzaGlwczogdW5kZWZpbmVkUGFnaW5hdGVkUmVzb3VyY2UsXG4gICAgICB1c2VySW52aXRhdGlvbnM6IHVuZGVmaW5lZFBhZ2luYXRlZFJlc291cmNlLFxuICAgICAgdXNlclN1Z2dlc3Rpb25zOiB1bmRlZmluZWRQYWdpbmF0ZWRSZXNvdXJjZSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc0xvYWRlZDogaXNDbGVya0xvYWRlZCxcbiAgICBzZXRBY3RpdmU6IGNsZXJrLnNldEFjdGl2ZSxcbiAgICBjcmVhdGVPcmdhbml6YXRpb246IGNsZXJrLmNyZWF0ZU9yZ2FuaXphdGlvbixcbiAgICB1c2VyTWVtYmVyc2hpcHM6IG1lbWJlcnNoaXBzLFxuICAgIHVzZXJJbnZpdGF0aW9uczogaW52aXRhdGlvbnMsXG4gICAgdXNlclN1Z2dlc3Rpb25zOiBzdWdnZXN0aW9ucyxcbiAgfTtcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgY29uc3QgdXNlU2FmZUxheW91dEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0O1xuIiwiaW1wb3J0IHR5cGUgeyBVc2VTZXNzaW9uUmV0dXJuIH0gZnJvbSAnQGNsZXJrL3R5cGVzJztcblxuaW1wb3J0IHsgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlciwgdXNlU2Vzc2lvbkNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0cyc7XG5cbnR5cGUgVXNlU2Vzc2lvbiA9ICgpID0+IFVzZVNlc3Npb25SZXR1cm47XG5cbi8qKlxuICogVGhlIGB1c2VTZXNzaW9uKClgIGhvb2sgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBjdXJyZW50IHVzZXIncyBbYFNlc3Npb25gXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9zZXNzaW9uKSBvYmplY3QsIGFzIHdlbGwgYXMgaGVscGVycyBmb3Igc2V0dGluZyB0aGUgYWN0aXZlIHNlc3Npb24uXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBBY2Nlc3MgdGhlIGBTZXNzaW9uYCBvYmplY3RcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgdXNlcyB0aGUgYHVzZVNlc3Npb24oKWAgaG9vayB0byBhY2Nlc3MgdGhlIGBTZXNzaW9uYCBvYmplY3QsIHdoaWNoIGhhcyB0aGUgYGxhc3RBY3RpdmVBdGAgcHJvcGVydHkuIFRoZSBgbGFzdEFjdGl2ZUF0YCBwcm9wZXJ0eSBpcyBhIGBEYXRlYCBvYmplY3QgdXNlZCB0byBzaG93IHRoZSB0aW1lIHRoZSBzZXNzaW9uIHdhcyBsYXN0IGFjdGl2ZS5cbiAqXG4gKiBgYGB0c3gge3sgZmlsZW5hbWU6ICdzcmMvSG9tZS50c3gnIH19XG4gKiBpbXBvcnQgeyB1c2VTZXNzaW9uIH0gZnJvbSAnQGNsZXJrL2NsZXJrLXJlYWN0J1xuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gKiAgIGNvbnN0IHsgaXNMb2FkZWQsIHNlc3Npb24sIGlzU2lnbmVkSW4gfSA9IHVzZVNlc3Npb24oKVxuICpcbiAqICAgaWYgKCFpc0xvYWRlZCkge1xuICogICAgIC8vIEhhbmRsZSBsb2FkaW5nIHN0YXRlXG4gKiAgICAgcmV0dXJuIG51bGxcbiAqICAgfVxuICogICBpZiAoIWlzU2lnbmVkSW4pIHtcbiAqICAgICAvLyBIYW5kbGUgc2lnbmVkIG91dCBzdGF0ZVxuICogICAgIHJldHVybiBudWxsXG4gKiAgIH1cbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxwPlRoaXMgc2Vzc2lvbiBoYXMgYmVlbiBhY3RpdmUgc2luY2Uge3Nlc3Npb24ubGFzdEFjdGl2ZUF0LnRvTG9jYWxlU3RyaW5nKCl9PC9wPlxuICogICAgIDwvZGl2PlxuICogICApXG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVNlc3Npb246IFVzZVNlc3Npb24gPSAoKSA9PiB7XG4gIHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIoJ3VzZVNlc3Npb24nKTtcblxuICBjb25zdCBzZXNzaW9uID0gdXNlU2Vzc2lvbkNvbnRleHQoKTtcblxuICBpZiAoc2Vzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHsgaXNMb2FkZWQ6IGZhbHNlLCBpc1NpZ25lZEluOiB1bmRlZmluZWQsIHNlc3Npb246IHVuZGVmaW5lZCB9O1xuICB9XG5cbiAgaWYgKHNlc3Npb24gPT09IG51bGwpIHtcbiAgICByZXR1cm4geyBpc0xvYWRlZDogdHJ1ZSwgaXNTaWduZWRJbjogZmFsc2UsIHNlc3Npb246IG51bGwgfTtcbiAgfVxuXG4gIHJldHVybiB7IGlzTG9hZGVkOiB0cnVlLCBpc1NpZ25lZEluOiB0cnVlLCBzZXNzaW9uIH07XG59O1xuIiwiaW1wb3J0IHR5cGUgeyBVc2VTZXNzaW9uTGlzdFJldHVybiB9IGZyb20gJ0BjbGVyay90eXBlcyc7XG5cbmltcG9ydCB7IHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIsIHVzZUNsZXJrSW5zdGFuY2VDb250ZXh0LCB1c2VDbGllbnRDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMnO1xuXG4vKipcbiAqIFRoZSBgdXNlU2Vzc2lvbkxpc3QoKWAgaG9vayByZXR1cm5zIGFuIGFycmF5IG9mIFtgU2Vzc2lvbmBdKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvcmVmZXJlbmNlcy9qYXZhc2NyaXB0L3Nlc3Npb24pIG9iamVjdHMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCBvbiB0aGUgY2xpZW50IGRldmljZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEdldCBhIGxpc3Qgb2Ygc2Vzc2lvbnNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgdXNlcyBgdXNlU2Vzc2lvbkxpc3QoKWAgdG8gZ2V0IGEgbGlzdCBvZiBzZXNzaW9ucyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkIG9uIHRoZSBjbGllbnQgZGV2aWNlLiBUaGUgYHNlc3Npb25zYCBwcm9wZXJ0eSBpcyB1c2VkIHRvIHNob3cgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUgdXNlciBoYXMgdmlzaXRlZCB0aGUgcGFnZS5cbiAqXG4gKiBgYGB0c3gge3sgZmlsZW5hbWU6ICdzcmMvSG9tZS50c3gnIH19XG4gKiBpbXBvcnQgeyB1c2VTZXNzaW9uTGlzdCB9IGZyb20gJ0BjbGVyay9jbGVyay1yZWFjdCdcbiAqXG4gKiBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICogICBjb25zdCB7IGlzTG9hZGVkLCBzZXNzaW9ucyB9ID0gdXNlU2Vzc2lvbkxpc3QoKVxuICpcbiAqICAgaWYgKCFpc0xvYWRlZCkge1xuICogICAgIC8vIEhhbmRsZSBsb2FkaW5nIHN0YXRlXG4gKiAgICAgcmV0dXJuIG51bGxcbiAqICAgfVxuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHA+V2VsY29tZSBiYWNrLiBZb3UndmUgYmVlbiBoZXJlIHtzZXNzaW9ucy5sZW5ndGh9IHRpbWVzIGJlZm9yZS48L3A+XG4gKiAgICAgPC9kaXY+XG4gKiAgIClcbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgdXNlU2Vzc2lvbkxpc3QgPSAoKTogVXNlU2Vzc2lvbkxpc3RSZXR1cm4gPT4ge1xuICB1c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyKCd1c2VTZXNzaW9uTGlzdCcpO1xuXG4gIGNvbnN0IGlzb21vcnBoaWNDbGVyayA9IHVzZUNsZXJrSW5zdGFuY2VDb250ZXh0KCk7XG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudENvbnRleHQoKTtcblxuICBpZiAoIWNsaWVudCkge1xuICAgIHJldHVybiB7IGlzTG9hZGVkOiBmYWxzZSwgc2Vzc2lvbnM6IHVuZGVmaW5lZCwgc2V0QWN0aXZlOiB1bmRlZmluZWQgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgc2Vzc2lvbnM6IGNsaWVudC5zZXNzaW9ucyxcbiAgICBzZXRBY3RpdmU6IGlzb21vcnBoaWNDbGVyay5zZXRBY3RpdmUsXG4gIH07XG59O1xuIiwiaW1wb3J0IHR5cGUgeyBVc2VVc2VyUmV0dXJuIH0gZnJvbSAnQGNsZXJrL3R5cGVzJztcblxuaW1wb3J0IHsgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlciwgdXNlVXNlckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0cyc7XG5cbi8qKlxuICogVGhlIGB1c2VVc2VyKClgIGhvb2sgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBjdXJyZW50IHVzZXIncyBbYFVzZXJgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC91c2VyL3VzZXIpIG9iamVjdCwgd2hpY2ggY29udGFpbnMgYWxsIHRoZSBkYXRhIGZvciBhIHNpbmdsZSB1c2VyIGluIHlvdXIgYXBwbGljYXRpb24gYW5kIHByb3ZpZGVzIG1ldGhvZHMgdG8gbWFuYWdlIHRoZWlyIGFjY291bnQuIFRoaXMgaG9vayBhbHNvIGFsbG93cyB5b3UgdG8gY2hlY2sgaWYgdGhlIHVzZXIgaXMgc2lnbmVkIGluIGFuZCBpZiBDbGVyayBoYXMgbG9hZGVkIGFuZCBpbml0aWFsaXplZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEdldCB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHVzZXMgdGhlIGB1c2VVc2VyKClgIGhvb2sgdG8gYWNjZXNzIHRoZSBbYFVzZXJgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC91c2VyL3VzZXIpIG9iamVjdCwgd2hpY2ggY29udGFpbnMgdGhlIGN1cnJlbnQgdXNlcidzIGRhdGEgc3VjaCBhcyB0aGVpciBmdWxsIG5hbWUuIFRoZSBgaXNMb2FkZWRgIGFuZCBgaXNTaWduZWRJbmAgcHJvcGVydGllcyBhcmUgdXNlZCB0byBoYW5kbGUgdGhlIGxvYWRpbmcgc3RhdGUgYW5kIHRvIGNoZWNrIGlmIHRoZSB1c2VyIGlzIHNpZ25lZCBpbiwgcmVzcGVjdGl2ZWx5LlxuICpcbiAqIGBgYHRzeCB7eyBmaWxlbmFtZTogJ3NyYy9FeGFtcGxlLnRzeCcgfX1cbiAqIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEV4YW1wbGUoKSB7XG4gKiAgIGNvbnN0IHsgaXNTaWduZWRJbiwgdXNlciwgaXNMb2FkZWQgfSA9IHVzZVVzZXIoKVxuICpcbiAqICAgaWYgKCFpc0xvYWRlZCkge1xuICogICAgIHJldHVybiA8ZGl2PkxvYWRpbmcuLi48L2Rpdj5cbiAqICAgfVxuICpcbiAqICAgaWYgKCFpc1NpZ25lZEluKSB7XG4gKiAgICAgcmV0dXJuIDxkaXY+U2lnbiBpbiB0byB2aWV3IHRoaXMgcGFnZTwvZGl2PlxuICogICB9XG4gKlxuICogICByZXR1cm4gPGRpdj5IZWxsbyB7dXNlci5maXJzdE5hbWV9ITwvZGl2PlxuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBVcGRhdGUgdXNlciBkYXRhXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHVzZXMgdGhlIGB1c2VVc2VyKClgIGhvb2sgdG8gYWNjZXNzIHRoZSBbYFVzZXJgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC91c2VyL3VzZXIpIG9iamVjdCwgd2hpY2ggY2FsbHMgdGhlIFtgdXBkYXRlKClgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC91c2VyL3VzZXIjdXBkYXRlKSBtZXRob2QgdG8gdXBkYXRlIHRoZSBjdXJyZW50IHVzZXIncyBpbmZvcm1hdGlvbi5cbiAqXG4gKiBgYGB0c3gge3sgZmlsZW5hbWU6ICdzcmMvSG9tZS50c3gnIH19XG4gKiBpbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnQGNsZXJrL2NsZXJrLXJlYWN0J1xuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gKiAgIGNvbnN0IHsgaXNMb2FkZWQsIHVzZXIgfSA9IHVzZVVzZXIoKVxuICpcbiAqICAgaWYgKCFpc0xvYWRlZCkge1xuICogICAgIC8vIEhhbmRsZSBsb2FkaW5nIHN0YXRlXG4gKiAgICAgcmV0dXJuIG51bGxcbiAqICAgfVxuICpcbiAqICAgaWYgKCF1c2VyKSByZXR1cm4gbnVsbFxuICpcbiAqICAgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jICgpID0+IHtcbiAqICAgICBhd2FpdCB1c2VyLnVwZGF0ZSh7XG4gKiAgICAgICBmaXJzdE5hbWU6ICdKb2huJyxcbiAqICAgICAgIGxhc3ROYW1lOiAnRG9lJyxcbiAqICAgICB9KVxuICogICB9XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDw+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3VwZGF0ZVVzZXJ9PlVwZGF0ZSB5b3VyIG5hbWU8L2J1dHRvbj5cbiAqICAgICAgIDxwPnVzZXIuZmlyc3ROYW1lOiB7dXNlcj8uZmlyc3ROYW1lfTwvcD5cbiAqICAgICAgIDxwPnVzZXIubGFzdE5hbWU6IHt1c2VyPy5sYXN0TmFtZX08L3A+XG4gKiAgICAgPC8+XG4gKiAgIClcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgUmVsb2FkIHVzZXIgZGF0YVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSB1c2VzIHRoZSBgdXNlVXNlcigpYCBob29rIHRvIGFjY2VzcyB0aGUgW2BVc2VyYF0oaHR0cHM6Ly9jbGVyay5jb20vZG9jcy9yZWZlcmVuY2VzL2phdmFzY3JpcHQvdXNlci91c2VyKSBvYmplY3QsIHdoaWNoIGNhbGxzIHRoZSBbYHJlbG9hZCgpYF0oaHR0cHM6Ly9jbGVyay5jb20vZG9jcy9yZWZlcmVuY2VzL2phdmFzY3JpcHQvdXNlci91c2VyI3JlbG9hZCkgbWV0aG9kIHRvIGdldCB0aGUgbGF0ZXN0IHVzZXIncyBpbmZvcm1hdGlvbi5cbiAqXG4gKiBgYGB0c3gge3sgZmlsZW5hbWU6ICdzcmMvSG9tZS50c3gnIH19XG4gKiBpbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnQGNsZXJrL2NsZXJrLXJlYWN0J1xuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gKiAgIGNvbnN0IHsgaXNMb2FkZWQsIHVzZXIgfSA9IHVzZVVzZXIoKVxuICpcbiAqICAgaWYgKCFpc0xvYWRlZCkge1xuICogICAgIC8vIEhhbmRsZSBsb2FkaW5nIHN0YXRlXG4gKiAgICAgcmV0dXJuIG51bGxcbiAqICAgfVxuICpcbiAqICAgaWYgKCF1c2VyKSByZXR1cm4gbnVsbFxuICpcbiAqICAgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jICgpID0+IHtcbiAqICAgICAvLyBVcGRhdGUgZGF0YSB2aWEgYW4gQVBJIGVuZHBvaW50XG4gKiAgICAgY29uc3QgdXBkYXRlTWV0YWRhdGEgPSBhd2FpdCBmZXRjaCgnL2FwaS91cGRhdGVNZXRhZGF0YScpXG4gKlxuICogICAgIC8vIENoZWNrIGlmIHRoZSB1cGRhdGUgd2FzIHN1Y2Nlc3NmdWxcbiAqICAgICBpZiAodXBkYXRlTWV0YWRhdGEubWVzc2FnZSAhPT0gJ3N1Y2Nlc3MnKSB7XG4gKiAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHVwZGF0aW5nJylcbiAqICAgICB9XG4gKlxuICogICAgIC8vIElmIHRoZSB1cGRhdGUgd2FzIHN1Y2Nlc3NmdWwsIHJlbG9hZCB0aGUgdXNlciBkYXRhXG4gKiAgICAgYXdhaXQgdXNlci5yZWxvYWQoKVxuICogICB9XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDw+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3VwZGF0ZVVzZXJ9PlVwZGF0ZSB5b3VyIG1ldGFkYXRhPC9idXR0b24+XG4gKiAgICAgICA8cD51c2VyIHJvbGU6IHt1c2VyPy5wdWJsaWNNZXRhZGF0YS5yb2xlfTwvcD5cbiAqICAgICA8Lz5cbiAqICAgKVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VVc2VyKCk6IFVzZVVzZXJSZXR1cm4ge1xuICB1c2VBc3NlcnRXcmFwcGVkQnlDbGVya1Byb3ZpZGVyKCd1c2VVc2VyJyk7XG5cbiAgY29uc3QgdXNlciA9IHVzZVVzZXJDb250ZXh0KCk7XG5cbiAgaWYgKHVzZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB7IGlzTG9hZGVkOiBmYWxzZSwgaXNTaWduZWRJbjogdW5kZWZpbmVkLCB1c2VyOiB1bmRlZmluZWQgfTtcbiAgfVxuXG4gIGlmICh1c2VyID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgaXNMb2FkZWQ6IHRydWUsIGlzU2lnbmVkSW46IGZhbHNlLCB1c2VyOiBudWxsIH07XG4gIH1cblxuICByZXR1cm4geyBpc0xvYWRlZDogdHJ1ZSwgaXNTaWduZWRJbjogdHJ1ZSwgdXNlciB9O1xufVxuIiwiaW1wb3J0IHR5cGUgeyBMb2FkZWRDbGVyayB9IGZyb20gJ0BjbGVyay90eXBlcyc7XG5cbmltcG9ydCB7IHVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIsIHVzZUNsZXJrSW5zdGFuY2VDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMnO1xuXG4vKipcbiAqIFRoZSBgdXNlQ2xlcmsoKWAgaG9vayBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIFtgQ2xlcmtgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9jbGVyay9jbGVyaykgb2JqZWN0LCBhbGxvd2luZyB5b3UgdG8gYnVpbGQgYWx0ZXJuYXRpdmVzIHRvIGFueSBDbGVyayBDb21wb25lbnQuXG4gKlxuICogQHdhcm5pbmdcbiAqIFRoaXMgY29tcG9zYWJsZSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBhZHZhbmNlZCB1c2UgY2FzZXMsIHN1Y2ggYXMgYnVpbGRpbmcgYSBjb21wbGV0ZWx5IGN1c3RvbSBPQXV0aCBmbG93IG9yIGFzIGFuIGVzY2FwZSBoYXRjaCB0byBhY2Nlc3MgdG8gdGhlIGBDbGVya2Agb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIFRoZSBgQ2xlcmtgIG9iamVjdCwgd2hpY2ggaW5jbHVkZXMgYWxsIHRoZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGxpc3RlZCBpbiB0aGUgW2BDbGVya2AgcmVmZXJlbmNlXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9jbGVyay9jbGVyaykuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgdXNlcyB0aGUgYHVzZUNsZXJrKClgIGhvb2sgdG8gYWNjZXNzIHRoZSBgY2xlcmtgIG9iamVjdC4gVGhlIGBjbGVya2Agb2JqZWN0IGlzIHVzZWQgdG8gY2FsbCB0aGUgW2BvcGVuU2lnbkluKClgXShodHRwczovL2NsZXJrLmNvbS9kb2NzL3JlZmVyZW5jZXMvamF2YXNjcmlwdC9jbGVyay9jbGVyayNzaWduLWluKSBtZXRob2QgdG8gb3BlbiB0aGUgc2lnbi1pbiBtb2RhbC5cbiAqXG4gKiBgYGB0c3gge3sgZmlsZW5hbWU6ICdzcmMvSG9tZS50c3gnIH19XG4gKiBpbXBvcnQgeyB1c2VDbGVyayB9IGZyb20gJ0BjbGVyay9jbGVyay1yZWFjdCdcbiAqXG4gKiBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICogICBjb25zdCBjbGVyayA9IHVzZUNsZXJrKClcbiAqXG4gKiAgIHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGNsZXJrLm9wZW5TaWduSW4oe30pfT5TaWduIGluPC9idXR0b24+XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUNsZXJrID0gKCk6IExvYWRlZENsZXJrID0+IHtcbiAgdXNlQXNzZXJ0V3JhcHBlZEJ5Q2xlcmtQcm92aWRlcigndXNlQ2xlcmsnKTtcbiAgcmV0dXJuIHVzZUNsZXJrSW5zdGFuY2VDb250ZXh0KCk7XG59O1xuIiwiaW1wb3J0IHsgZGVxdWFsIGFzIGRlZXBFcXVhbCB9IGZyb20gJ2RlcXVhbCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG50eXBlIFVzZU1lbW9GYWN0b3J5PFQ+ID0gKCkgPT4gVDtcbnR5cGUgVXNlTWVtb0RlcGVuZGVuY3lBcnJheSA9IEV4Y2x1ZGU8UGFyYW1ldGVyczx0eXBlb2YgUmVhY3QudXNlTWVtbz5bMV0sICd1bmRlZmluZWQnPjtcbnR5cGUgVXNlRGVlcEVxdWFsTWVtbyA9IDxUPihmYWN0b3J5OiBVc2VNZW1vRmFjdG9yeTxUPiwgZGVwZW5kZW5jeUFycmF5OiBVc2VNZW1vRGVwZW5kZW5jeUFycmF5KSA9PiBUO1xuXG5jb25zdCB1c2VEZWVwRXF1YWxNZW1vaXplID0gPFQ+KHZhbHVlOiBUKSA9PiB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZjxUPih2YWx1ZSk7XG4gIGlmICghZGVlcEVxdWFsKHZhbHVlLCByZWYuY3VycmVudCkpIHtcbiAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+IHJlZi5jdXJyZW50LCBbcmVmLmN1cnJlbnRdKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VEZWVwRXF1YWxNZW1vOiBVc2VEZWVwRXF1YWxNZW1vID0gKGZhY3RvcnksIGRlcGVuZGVuY3lBcnJheSkgPT4ge1xuICByZXR1cm4gUmVhY3QudXNlTWVtbyhmYWN0b3J5LCB1c2VEZWVwRXF1YWxNZW1vaXplKGRlcGVuZGVuY3lBcnJheSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRGVlcGx5RXF1YWwgPSBkZWVwRXF1YWw7XG4iLCJpbXBvcnQgdHlwZSB7IENsZXJrIH0gZnJvbSAnQGNsZXJrL3R5cGVzJztcbmltcG9ydCB7IHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgdmFsaWRhdGVSZXZlcmlmaWNhdGlvbkNvbmZpZyB9IGZyb20gJy4uLy4uL2F1dGhvcml6YXRpb24nO1xuaW1wb3J0IHsgaXNSZXZlcmlmaWNhdGlvbkhpbnQsIHJldmVyaWZpY2F0aW9uRXJyb3IgfSBmcm9tICcuLi8uLi9hdXRob3JpemF0aW9uLWVycm9ycyc7XG5pbXBvcnQgeyBDbGVya1J1bnRpbWVFcnJvciwgaXNDbGVya0FQSVJlc3BvbnNlRXJyb3IsIGlzQ2xlcmtSdW50aW1lRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvcic7XG5pbXBvcnQgeyBjcmVhdGVEZWZlcnJlZFByb21pc2UgfSBmcm9tICcuLi8uLi91dGlscy9jcmVhdGVEZWZlcnJlZFByb21pc2UnO1xuaW1wb3J0IHsgdXNlQ2xlcmsgfSBmcm9tICcuL3VzZUNsZXJrJztcbmltcG9ydCB7IHVzZVNhZmVMYXlvdXRFZmZlY3QgfSBmcm9tICcuL3VzZVNhZmVMYXlvdXRFZmZlY3QnO1xuXG5jb25zdCBDTEVSS19BUElfUkVWRVJJRklDQVRJT05fRVJST1JfQ09ERSA9ICdzZXNzaW9uX3JldmVyaWZpY2F0aW9uX3JlcXVpcmVkJztcblxuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZVJlc3VsdDxUPihyZXN1bHQ6IFByb21pc2U8VD4gfCBUKTogUHJvbWlzZTxUIHwgUmV0dXJuVHlwZTx0eXBlb2YgcmV2ZXJpZmljYXRpb25FcnJvcj4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByID0gYXdhaXQgcmVzdWx0O1xuICAgIGlmIChyIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBUcmVhdCBmYXBpIGFzc3VyYW5jZSBhcyBhbiBhc3N1cmFuY2UgaGludFxuICAgIGlmIChpc0NsZXJrQVBJUmVzcG9uc2VFcnJvcihlKSAmJiBlLmVycm9ycy5maW5kKCh7IGNvZGUgfSkgPT4gY29kZSA9PT0gQ0xFUktfQVBJX1JFVkVSSUZJQ0FUSU9OX0VSUk9SX0NPREUpKSB7XG4gICAgICByZXR1cm4gcmV2ZXJpZmljYXRpb25FcnJvcigpO1xuICAgIH1cblxuICAgIC8vIHJldGhyb3dcbiAgICB0aHJvdyBlO1xuICB9XG59XG5cbnR5cGUgRXhjbHVkZUNsZXJrRXJyb3I8VCwgUD4gPSBUIGV4dGVuZHMgeyBjbGVya19lcnJvcjogYW55IH0gPyAoUCBleHRlbmRzIHsgdGhyb3dPbkNhbmNlbDogdHJ1ZSB9ID8gbmV2ZXIgOiBudWxsKSA6IFQ7XG5cbi8qKlxuICogVGhlIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0LlxuICovXG50eXBlIFVzZVJldmVyaWZpY2F0aW9uT3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIEEgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBpbnZva2VkIHdoZW4gdGhlIHVzZXIgY2FuY2VscyB0aGUgcmV2ZXJpZmljYXRpb24gcHJvY2Vzcy5cbiAgICovXG4gIG9uQ2FuY2VsPzogKCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYW4gZXJyb3Igc2hvdWxkIHRocm93IHdoZW4gdGhlIHVzZXIgY2FuY2VscyB0aGUgcmV2ZXJpZmljYXRpb24gcHJvY2Vzcy4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgICovXG4gIHRocm93T25DYW5jZWw/OiBib29sZWFuO1xufTtcblxudHlwZSBDcmVhdGVSZXZlcmlmaWNhdGlvbkhhbmRsZXJQYXJhbXMgPSBVc2VSZXZlcmlmaWNhdGlvbk9wdGlvbnMgJiB7XG4gIG9wZW5VSUNvbXBvbmVudDogQ2xlcmtbJ19faW50ZXJuYWxfb3BlblJldmVyaWZpY2F0aW9uJ107XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVSZXZlcmlmaWNhdGlvbkhhbmRsZXIocGFyYW1zOiBDcmVhdGVSZXZlcmlmaWNhdGlvbkhhbmRsZXJQYXJhbXMpIHtcbiAgZnVuY3Rpb24gYXNzZXJ0UmV2ZXJpZmljYXRpb248RmV0Y2hlciBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+IHwgdW5kZWZpbmVkPihcbiAgICBmZXRjaGVyOiBGZXRjaGVyLFxuICApOiAoXG4gICAgLi4uYXJnczogUGFyYW1ldGVyczxGZXRjaGVyPlxuICApID0+IFByb21pc2U8RXhjbHVkZUNsZXJrRXJyb3I8QXdhaXRlZDxSZXR1cm5UeXBlPEZldGNoZXI+PiwgUGFyYW1ldGVyczxGZXRjaGVyPlsxXT4+IHtcbiAgICByZXR1cm4gKGFzeW5jICguLi5hcmdzOiBQYXJhbWV0ZXJzPEZldGNoZXI+KSA9PiB7XG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcmVzb2x2ZVJlc3VsdChmZXRjaGVyKC4uLmFyZ3MpKTtcblxuICAgICAgaWYgKGlzUmV2ZXJpZmljYXRpb25IaW50KHJlc3VsdCkpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIHByb21pc2VcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHJlc29sdmVycyA9IGNyZWF0ZURlZmVycmVkUHJvbWlzZSgpO1xuXG4gICAgICAgIGNvbnN0IGlzVmFsaWRNZXRhZGF0YSA9IHZhbGlkYXRlUmV2ZXJpZmljYXRpb25Db25maWcocmVzdWx0LmNsZXJrX2Vycm9yLm1ldGFkYXRhPy5yZXZlcmlmaWNhdGlvbik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9uIHN1Y2Nlc3MgcmVzb2x2ZSB0aGUgcGVuZGluZyBwcm9taXNlXG4gICAgICAgICAqIE9uIGNhbmNlbCByZWplY3QgdGhlIHBlbmRpbmcgcHJvbWlzZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zLm9wZW5VSUNvbXBvbmVudD8uKHtcbiAgICAgICAgICBsZXZlbDogaXNWYWxpZE1ldGFkYXRhID8gaXNWYWxpZE1ldGFkYXRhKCkubGV2ZWwgOiB1bmRlZmluZWQsXG4gICAgICAgICAgYWZ0ZXJWZXJpZmljYXRpb24oKSB7XG4gICAgICAgICAgICByZXNvbHZlcnMucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFmdGVyVmVyaWZpY2F0aW9uQ2FuY2VsbGVkKCkge1xuICAgICAgICAgICAgcmVzb2x2ZXJzLnJlamVjdChcbiAgICAgICAgICAgICAgbmV3IENsZXJrUnVudGltZUVycm9yKCdVc2VyIGNhbmNlbGxlZCBhdHRlbXB0ZWQgdmVyaWZpY2F0aW9uJywge1xuICAgICAgICAgICAgICAgIGNvZGU6ICdyZXZlcmlmaWNhdGlvbl9jYW5jZWxsZWQnLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBXYWl0IHVudGlsIHRoZSBwcm9taXNlIGZyb20gYWJvdmUgaGF2ZSBiZWVuIHJlc29sdmVkIG9yIHJlamVjdGVkXG4gICAgICAgICAgICovXG4gICAgICAgICAgYXdhaXQgcmVzb2x2ZXJzLnByb21pc2U7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAocGFyYW1zLm9uQ2FuY2VsKSB7XG4gICAgICAgICAgICBwYXJhbXMub25DYW5jZWwoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNDbGVya1J1bnRpbWVFcnJvcihlKSAmJiBlLmNvZGUgPT09ICdyZXZlcmlmaWNhdGlvbl9jYW5jZWxsZWQnICYmIHBhcmFtcy50aHJvd09uQ2FuY2VsKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFmdGVyIHRoZSBwcm9taXNlIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSB0cnkgdGhlIG9yaWdpbmFsIHJlcXVlc3Qgb25lIG1vcmUgdGltZVxuICAgICAgICAgKi9cbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgcmVzb2x2ZVJlc3VsdChmZXRjaGVyKC4uLmFyZ3MpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KSBhcyBFeGNsdWRlQ2xlcmtFcnJvcjxBd2FpdGVkPFJldHVyblR5cGU8RmV0Y2hlcj4+LCBQYXJhbWV0ZXJzPEZldGNoZXI+WzFdPjtcbiAgfVxuXG4gIHJldHVybiBhc3NlcnRSZXZlcmlmaWNhdGlvbjtcbn1cblxudHlwZSBVc2VSZXZlcmlmaWNhdGlvblJlc3VsdDxcbiAgRmV0Y2hlciBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+IHwgdW5kZWZpbmVkLFxuICBPcHRpb25zIGV4dGVuZHMgVXNlUmV2ZXJpZmljYXRpb25PcHRpb25zLFxuPiA9IHJlYWRvbmx5IFsoLi4uYXJnczogUGFyYW1ldGVyczxGZXRjaGVyPikgPT4gUHJvbWlzZTxFeGNsdWRlQ2xlcmtFcnJvcjxBd2FpdGVkPFJldHVyblR5cGU8RmV0Y2hlcj4+LCBPcHRpb25zPj5dO1xuXG4vKipcbiAqIFRoZSBgdXNlUmV2ZXJpZmljYXRpb24oKWAgaG9vayBpcyB1c2VkIHRvIGhhbmRsZSBhIHNlc3Npb24ncyByZXZlcmlmaWNhdGlvbiBmbG93LiBJZiBhIHJlcXVlc3QgcmVxdWlyZXMgcmV2ZXJpZmljYXRpb24sIGEgbW9kYWwgd2lsbCBkaXNwbGF5LCBwcm9tcHRpbmcgdGhlIHVzZXIgdG8gdmVyaWZ5IHRoZWlyIGNyZWRlbnRpYWxzLiBVcG9uIHN1Y2Nlc3NmdWwgdmVyaWZpY2F0aW9uLCB0aGUgb3JpZ2luYWwgcmVxdWVzdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmV0cnkuXG4gKlxuICogQHdhcm5pbmdcbiAqXG4gKiBUaGlzIGZlYXR1cmUgaXMgY3VycmVudGx5IGluIHB1YmxpYyBiZXRhLiAqKkl0IGlzIG5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiB1c2UuKipcbiAqXG4gKiBEZXBlbmRpbmcgb24gdGhlIFNESyB5b3UncmUgdXNpbmcsIHRoaXMgZmVhdHVyZSByZXF1aXJlcyBgQGNsZXJrL25leHRqc0A2LjUuMGAgb3IgbGF0ZXIsIGBAY2xlcmsvY2xlcmstcmVhY3RANS4xNy4wYCBvciBsYXRlciwgYW5kIGBAY2xlcmsvY2xlcmstanNANS4zNS4wYCBvciBsYXRlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEhhbmRsZSBjYW5jZWxsYXRpb24gb2YgdGhlIHJldmVyaWZpY2F0aW9uIHByb2Nlc3NcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVtb25zdHJhdGVzIGhvdyB0byBoYW5kbGUgc2NlbmFyaW9zIHdoZXJlIGEgdXNlciBjYW5jZWxzIHRoZSByZXZlcmlmaWNhdGlvbiBmbG93LCBzdWNoIGFzIGNsb3NpbmcgdGhlIG1vZGFsLCB3aGljaCBtaWdodCByZXN1bHQgaW4gYG15RGF0YWAgYmVpbmcgYG51bGxgLlxuICpcbiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSwgYG15RmV0Y2hlcmAgd291bGQgYmUgYSBmdW5jdGlvbiBpbiB5b3VyIGJhY2tlbmQgdGhhdCBmZXRjaGVzIGRhdGEgZnJvbSB0aGUgcm91dGUgdGhhdCByZXF1aXJlcyByZXZlcmlmaWNhdGlvbi4gU2VlIHRoZSBbZ3VpZGUgb24gaG93IHRvIHJlcXVpcmUgcmV2ZXJpZmljYXRpb25dKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvZ3VpZGVzL3JldmVyaWZpY2F0aW9uKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBgYGB0c3gge3sgZmlsZW5hbWU6ICdzcmMvY29tcG9uZW50cy9NeUJ1dHRvbi50c3gnIH19XG4gKiBpbXBvcnQgeyB1c2VSZXZlcmlmaWNhdGlvbiB9IGZyb20gJ0BjbGVyay9yZWFjdCdcbiAqXG4gKiBleHBvcnQgZnVuY3Rpb24gTXlCdXR0b24oKSB7XG4gKiAgIGNvbnN0IFtlbmhhbmNlZEZldGNoZXJdID0gdXNlUmV2ZXJpZmljYXRpb24obXlGZXRjaGVyKVxuICpcbiAqICAgY29uc3QgaGFuZGxlQ2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gKiAgICAgY29uc3QgbXlEYXRhID0gYXdhaXQgZW5oYW5jZWRGZXRjaGVyKClcbiAqICAgICAvLyBJZiBgbXlEYXRhYCBpcyBudWxsLCB0aGUgdXNlciBjYW5jZWxlZCB0aGUgcmV2ZXJpZmljYXRpb24gcHJvY2Vzc1xuICogICAgIC8vIFlvdSBjYW4gY2hvb3NlIGhvdyB5b3VyIGFwcCByZXNwb25kcy4gVGhpcyBleGFtcGxlIHJldHVybnMgbnVsbC5cbiAqICAgICBpZiAoIW15RGF0YSkgcmV0dXJuXG4gKiAgIH1cbiAqXG4gKiAgIHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfT5VcGRhdGUgVXNlcjwvYnV0dG9uPlxuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBIYW5kbGUgYHRocm93T25DYW5jZWxgXG4gKlxuICogV2hlbiBgdGhyb3dPbkNhbmNlbGAgaXMgc2V0IHRvIGB0cnVlYCwgdGhlIGZldGNoZXIgd2lsbCB0aHJvdyBhIGBDbGVya1J1bnRpbWVFcnJvcmAgd2l0aCB0aGUgY29kZSBgXCJyZXZlcmlmaWNhdGlvbl9jYW5jZWxsZWRcImAgaWYgdGhlIHVzZXIgY2FuY2VscyB0aGUgcmV2ZXJpZmljYXRpb24gZmxvdyAoZm9yIGV4YW1wbGUsIGJ5IGNsb3NpbmcgdGhlIG1vZGFsKS4gVGhpcyBlcnJvciBjYW4gYmUgY2F1Z2h0IGFuZCBoYW5kbGVkIGFjY29yZGluZyB0byB5b3VyIGFwcCdzIG5lZWRzLiBGb3IgZXhhbXBsZSwgYnkgZGlzcGxheWluZyBhIHRvYXN0IG5vdGlmaWNhdGlvbiB0byB0aGUgdXNlciBvciBzaWxlbnRseSBpZ25vcmluZyB0aGUgY2FuY2VsbGF0aW9uLlxuICpcbiAqIEluIHRoaXMgZXhhbXBsZSwgYG15RmV0Y2hlcmAgd291bGQgYmUgYSBmdW5jdGlvbiBpbiB5b3VyIGJhY2tlbmQgdGhhdCBmZXRjaGVzIGRhdGEgZnJvbSB0aGUgcm91dGUgdGhhdCByZXF1aXJlcyByZXZlcmlmaWNhdGlvbi4gU2VlIHRoZSBbZ3VpZGUgb24gaG93IHRvIHJlcXVpcmUgcmV2ZXJpZmljYXRpb25dKGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvZ3VpZGVzL3JldmVyaWZpY2F0aW9uKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBgYGB0c3gge3sgZmlsZW5hbWU6ICdzcmMvY29tcG9uZW50cy9NeUJ1dHRvbi50c3gnIH19XG4gKiBpbXBvcnQgeyB1c2VSZXZlcmlmaWNhdGlvbiB9IGZyb20gJ0BjbGVyay9jbGVyay1yZWFjdCdcbiAqIGltcG9ydCB7IGlzQ2xlcmtSdW50aW1lRXJyb3IgfSBmcm9tICdAY2xlcmsvY2xlcmstcmVhY3QvZXJyb3JzJ1xuICpcbiAqIGV4cG9ydCBmdW5jdGlvbiBNeUJ1dHRvbigpIHtcbiAqICAgY29uc3QgW2VuaGFuY2VkRmV0Y2hlcl0gPSB1c2VSZXZlcmlmaWNhdGlvbihteUZldGNoZXIsIHsgdGhyb3dPbkNhbmNlbDogdHJ1ZSB9KVxuICpcbiAqICAgY29uc3QgaGFuZGxlQ2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gKiAgICAgdHJ5IHtcbiAqICAgICAgIGNvbnN0IG15RGF0YSA9IGF3YWl0IGVuaGFuY2VkRmV0Y2hlcigpXG4gKiAgICAgfSBjYXRjaCAoZSkge1xuICogICAgICAgLy8gSGFuZGxlIGlmIHVzZXIgY2FuY2VscyB0aGUgcmV2ZXJpZmljYXRpb24gcHJvY2Vzc1xuICogICAgICAgaWYgKGlzQ2xlcmtSdW50aW1lRXJyb3IoZSkgJiYgZS5jb2RlID09PSAncmV2ZXJpZmljYXRpb25fY2FuY2VsbGVkJykge1xuICogICAgICAgICBjb25zb2xlLmVycm9yKCdVc2VyIGNhbmNlbGxlZCByZXZlcmlmaWNhdGlvbicsIGUuY29kZSlcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiAgIH1cbiAqXG4gKiAgIHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfT5VcGRhdGUgdXNlcjwvYnV0dG9uPlxuICogfVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIHVzZVJldmVyaWZpY2F0aW9uPFxuICBGZXRjaGVyIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBQcm9taXNlPGFueT4gfCB1bmRlZmluZWQsXG4gIE9wdGlvbnMgZXh0ZW5kcyBVc2VSZXZlcmlmaWNhdGlvbk9wdGlvbnMsXG4+KGZldGNoZXI6IEZldGNoZXIsIG9wdGlvbnM/OiBPcHRpb25zKTogVXNlUmV2ZXJpZmljYXRpb25SZXN1bHQ8RmV0Y2hlciwgT3B0aW9ucz4ge1xuICBjb25zdCB7IF9faW50ZXJuYWxfb3BlblJldmVyaWZpY2F0aW9uIH0gPSB1c2VDbGVyaygpO1xuICBjb25zdCBmZXRjaGVyUmVmID0gdXNlUmVmKGZldGNoZXIpO1xuICBjb25zdCBvcHRpb25zUmVmID0gdXNlUmVmKG9wdGlvbnMpO1xuXG4gIGNvbnN0IGhhbmRsZVJldmVyaWZpY2F0aW9uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlciA9IGNyZWF0ZVJldmVyaWZpY2F0aW9uSGFuZGxlcih7XG4gICAgICBvcGVuVUlDb21wb25lbnQ6IF9faW50ZXJuYWxfb3BlblJldmVyaWZpY2F0aW9uLFxuICAgICAgLi4ub3B0aW9uc1JlZi5jdXJyZW50LFxuICAgIH0pKGZldGNoZXJSZWYuY3VycmVudCk7XG4gICAgcmV0dXJuIFtoYW5kbGVyXSBhcyBjb25zdDtcbiAgfSwgW19faW50ZXJuYWxfb3BlblJldmVyaWZpY2F0aW9uLCBmZXRjaGVyUmVmLmN1cnJlbnQsIG9wdGlvbnNSZWYuY3VycmVudF0pO1xuXG4gIC8vIEtlZXAgZmV0Y2hlciBhbmQgb3B0aW9ucyByZWYgaW4gc3luY1xuICB1c2VTYWZlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaGVyUmVmLmN1cnJlbnQgPSBmZXRjaGVyO1xuICAgIG9wdGlvbnNSZWYuY3VycmVudCA9IG9wdGlvbnM7XG4gIH0pO1xuXG4gIHJldHVybiBoYW5kbGVSZXZlcmlmaWNhdGlvbjtcbn1cblxuZXhwb3J0IHsgdXNlUmV2ZXJpZmljYXRpb24gfTtcbiIsImltcG9ydCB0eXBlIHtcbiAgQ2hlY2tBdXRob3JpemF0aW9uV2l0aEN1c3RvbVBlcm1pc3Npb25zLFxuICBPcmdhbml6YXRpb25DdXN0b21QZXJtaXNzaW9uS2V5LFxuICBPcmdhbml6YXRpb25DdXN0b21Sb2xlS2V5LFxuICBSZXZlcmlmaWNhdGlvbkNvbmZpZyxcbiAgU2Vzc2lvblZlcmlmaWNhdGlvbkxldmVsLFxuICBTZXNzaW9uVmVyaWZpY2F0aW9uVHlwZXMsXG59IGZyb20gJ0BjbGVyay90eXBlcyc7XG5cbnR5cGUgVHlwZXNUb0NvbmZpZyA9IFJlY29yZDxTZXNzaW9uVmVyaWZpY2F0aW9uVHlwZXMsIEV4Y2x1ZGU8UmV2ZXJpZmljYXRpb25Db25maWcsIFNlc3Npb25WZXJpZmljYXRpb25UeXBlcz4+O1xudHlwZSBBdXRob3JpemF0aW9uT3B0aW9ucyA9IHtcbiAgdXNlcklkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuICBvcmdJZDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgb3JnUm9sZTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgb3JnUGVybWlzc2lvbnM6IHN0cmluZ1tdIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgZmFjdG9yVmVyaWZpY2F0aW9uQWdlOiBbbnVtYmVyLCBudW1iZXJdIHwgbnVsbDtcbn07XG5cbnR5cGUgQ2hlY2tPcmdBdXRob3JpemF0aW9uID0gKFxuICBwYXJhbXM6IHsgcm9sZT86IE9yZ2FuaXphdGlvbkN1c3RvbVJvbGVLZXk7IHBlcm1pc3Npb24/OiBPcmdhbml6YXRpb25DdXN0b21QZXJtaXNzaW9uS2V5IH0sXG4gIHsgb3JnSWQsIG9yZ1JvbGUsIG9yZ1Blcm1pc3Npb25zIH06IEF1dGhvcml6YXRpb25PcHRpb25zLFxuKSA9PiBib29sZWFuIHwgbnVsbDtcblxudHlwZSBDaGVja1N0ZXBVcEF1dGhvcml6YXRpb24gPSAoXG4gIHBhcmFtczoge1xuICAgIHJldmVyaWZpY2F0aW9uPzogUmV2ZXJpZmljYXRpb25Db25maWc7XG4gIH0sXG4gIHsgZmFjdG9yVmVyaWZpY2F0aW9uQWdlIH06IEF1dGhvcml6YXRpb25PcHRpb25zLFxuKSA9PiBib29sZWFuIHwgbnVsbDtcblxuY29uc3QgVFlQRVNfVE9fT0JKRUNUUzogVHlwZXNUb0NvbmZpZyA9IHtcbiAgc3RyaWN0X21mYToge1xuICAgIGFmdGVyTWludXRlczogMTAsXG4gICAgbGV2ZWw6ICdtdWx0aV9mYWN0b3InLFxuICB9LFxuICBzdHJpY3Q6IHtcbiAgICBhZnRlck1pbnV0ZXM6IDEwLFxuICAgIGxldmVsOiAnc2Vjb25kX2ZhY3RvcicsXG4gIH0sXG4gIG1vZGVyYXRlOiB7XG4gICAgYWZ0ZXJNaW51dGVzOiA2MCxcbiAgICBsZXZlbDogJ3NlY29uZF9mYWN0b3InLFxuICB9LFxuICBsYXg6IHtcbiAgICBhZnRlck1pbnV0ZXM6IDFfNDQwLFxuICAgIGxldmVsOiAnc2Vjb25kX2ZhY3RvcicsXG4gIH0sXG59O1xuXG5jb25zdCBBTExPV0VEX0xFVkVMUyA9IG5ldyBTZXQ8U2Vzc2lvblZlcmlmaWNhdGlvbkxldmVsPihbJ2ZpcnN0X2ZhY3RvcicsICdzZWNvbmRfZmFjdG9yJywgJ211bHRpX2ZhY3RvciddKTtcblxuY29uc3QgQUxMT1dFRF9UWVBFUyA9IG5ldyBTZXQ8U2Vzc2lvblZlcmlmaWNhdGlvblR5cGVzPihbJ3N0cmljdF9tZmEnLCAnc3RyaWN0JywgJ21vZGVyYXRlJywgJ2xheCddKTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uc1xuY29uc3QgaXNWYWxpZE1heEFnZSA9IChtYXhBZ2U6IGFueSkgPT4gdHlwZW9mIG1heEFnZSA9PT0gJ251bWJlcicgJiYgbWF4QWdlID4gMDtcbmNvbnN0IGlzVmFsaWRMZXZlbCA9IChsZXZlbDogYW55KSA9PiBBTExPV0VEX0xFVkVMUy5oYXMobGV2ZWwpO1xuY29uc3QgaXNWYWxpZFZlcmlmaWNhdGlvblR5cGUgPSAodHlwZTogYW55KSA9PiBBTExPV0VEX1RZUEVTLmhhcyh0eXBlKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSB1c2VyIGhhcyB0aGUgcmVxdWlyZWQgb3JnYW5pemF0aW9uLWxldmVsIGF1dGhvcml6YXRpb24uXG4gKiBWZXJpZmllcyBpZiB0aGUgdXNlciBoYXMgdGhlIHNwZWNpZmllZCByb2xlIG9yIHBlcm1pc3Npb24gd2l0aGluIHRoZWlyIG9yZ2FuaXphdGlvbi5cbiAqIEByZXR1cm5zIG51bGwsIGlmIHVuYWJsZSB0byBkZXRlcm1pbmUgZHVlIHRvIG1pc3NpbmcgZGF0YSBvciB1bnNwZWNpZmllZCByb2xlL3Blcm1pc3Npb24uXG4gKi9cbmNvbnN0IGNoZWNrT3JnQXV0aG9yaXphdGlvbjogQ2hlY2tPcmdBdXRob3JpemF0aW9uID0gKHBhcmFtcywgb3B0aW9ucykgPT4ge1xuICBjb25zdCB7IG9yZ0lkLCBvcmdSb2xlLCBvcmdQZXJtaXNzaW9ucyB9ID0gb3B0aW9ucztcbiAgaWYgKCFwYXJhbXMucm9sZSAmJiAhcGFyYW1zLnBlcm1pc3Npb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIW9yZ0lkIHx8ICFvcmdSb2xlIHx8ICFvcmdQZXJtaXNzaW9ucykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5wZXJtaXNzaW9uKSB7XG4gICAgcmV0dXJuIG9yZ1Blcm1pc3Npb25zLmluY2x1ZGVzKHBhcmFtcy5wZXJtaXNzaW9uKTtcbiAgfVxuICBpZiAocGFyYW1zLnJvbGUpIHtcbiAgICByZXR1cm4gb3JnUm9sZSA9PT0gcGFyYW1zLnJvbGU7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCB2YWxpZGF0ZVJldmVyaWZpY2F0aW9uQ29uZmlnID0gKGNvbmZpZzogUmV2ZXJpZmljYXRpb25Db25maWcgfCB1bmRlZmluZWQgfCBudWxsKSA9PiB7XG4gIGlmICghY29uZmlnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgY29udmVydENvbmZpZ1RvT2JqZWN0ID0gKGNvbmZpZzogUmV2ZXJpZmljYXRpb25Db25maWcpID0+IHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBUWVBFU19UT19PQkpFQ1RTW2NvbmZpZ107XG4gICAgfVxuICAgIHJldHVybiBjb25maWc7XG4gIH07XG5cbiAgY29uc3QgaXNWYWxpZFN0cmluZ1ZhbHVlID0gdHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycgJiYgaXNWYWxpZFZlcmlmaWNhdGlvblR5cGUoY29uZmlnKTtcbiAgY29uc3QgaXNWYWxpZE9iamVjdFZhbHVlID1cbiAgICB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBpc1ZhbGlkTGV2ZWwoY29uZmlnLmxldmVsKSAmJiBpc1ZhbGlkTWF4QWdlKGNvbmZpZy5hZnRlck1pbnV0ZXMpO1xuXG4gIGlmIChpc1ZhbGlkU3RyaW5nVmFsdWUgfHwgaXNWYWxpZE9iamVjdFZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbnZlcnRDb25maWdUb09iamVjdC5iaW5kKG51bGwsIGNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIEV2YWx1YXRlcyBpZiB0aGUgdXNlciBtZWV0cyBzdGVwLXVwIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVtZW50cy5cbiAqIENvbXBhcmVzIHRoZSB1c2VyJ3MgZmFjdG9yIHZlcmlmaWNhdGlvbiBhZ2VzIGFnYWluc3QgdGhlIHNwZWNpZmllZCBtYXhBZ2UuXG4gKiBIYW5kbGVzIGRpZmZlcmVudCB2ZXJpZmljYXRpb24gbGV2ZWxzIChmaXJzdCBmYWN0b3IsIHNlY29uZCBmYWN0b3IsIG11bHRpLWZhY3RvcikuXG4gKiBAcmV0dXJucyBudWxsLCBpZiByZXF1aXJlbWVudHMgb3IgdmVyaWZpY2F0aW9uIGRhdGEgYXJlIG1pc3NpbmcuXG4gKi9cbmNvbnN0IGNoZWNrU3RlcFVwQXV0aG9yaXphdGlvbjogQ2hlY2tTdGVwVXBBdXRob3JpemF0aW9uID0gKHBhcmFtcywgeyBmYWN0b3JWZXJpZmljYXRpb25BZ2UgfSkgPT4ge1xuICBpZiAoIXBhcmFtcy5yZXZlcmlmaWNhdGlvbiB8fCAhZmFjdG9yVmVyaWZpY2F0aW9uQWdlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBpc1ZhbGlkUmV2ZXJpZmljYXRpb24gPSB2YWxpZGF0ZVJldmVyaWZpY2F0aW9uQ29uZmlnKHBhcmFtcy5yZXZlcmlmaWNhdGlvbik7XG4gIGlmICghaXNWYWxpZFJldmVyaWZpY2F0aW9uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCB7IGxldmVsLCBhZnRlck1pbnV0ZXMgfSA9IGlzVmFsaWRSZXZlcmlmaWNhdGlvbigpO1xuICBjb25zdCBbZmFjdG9yMUFnZSwgZmFjdG9yMkFnZV0gPSBmYWN0b3JWZXJpZmljYXRpb25BZ2U7XG5cbiAgLy8gLTEgaW5kaWNhdGVzIHRoZSBmYWN0b3IgZ3JvdXAgKDFmYSwyZmEpIGlzIG5vdCBlbmFibGVkXG4gIC8vIC0xIGZvciAxZmEgaXMgbm90IGEgdmFsaWQgc2NlbmFyaW8sIGJ1dCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB3ZSBoYW5kbGUgaXQgcHJvcGVybHlcbiAgY29uc3QgaXNWYWxpZEZhY3RvcjEgPSBmYWN0b3IxQWdlICE9PSAtMSA/IGFmdGVyTWludXRlcyA+IGZhY3RvcjFBZ2UgOiBudWxsO1xuICBjb25zdCBpc1ZhbGlkRmFjdG9yMiA9IGZhY3RvcjJBZ2UgIT09IC0xID8gYWZ0ZXJNaW51dGVzID4gZmFjdG9yMkFnZSA6IG51bGw7XG5cbiAgc3dpdGNoIChsZXZlbCkge1xuICAgIGNhc2UgJ2ZpcnN0X2ZhY3Rvcic6XG4gICAgICByZXR1cm4gaXNWYWxpZEZhY3RvcjE7XG4gICAgY2FzZSAnc2Vjb25kX2ZhY3Rvcic6XG4gICAgICByZXR1cm4gZmFjdG9yMkFnZSAhPT0gLTEgPyBpc1ZhbGlkRmFjdG9yMiA6IGlzVmFsaWRGYWN0b3IxO1xuICAgIGNhc2UgJ211bHRpX2ZhY3Rvcic6XG4gICAgICByZXR1cm4gZmFjdG9yMkFnZSA9PT0gLTEgPyBpc1ZhbGlkRmFjdG9yMSA6IGlzVmFsaWRGYWN0b3IxICYmIGlzVmFsaWRGYWN0b3IyO1xuICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBmb3IgY29tcHJlaGVuc2l2ZSB1c2VyIGF1dGhvcml6YXRpb24gY2hlY2tzLlxuICogQ29tYmluZXMgb3JnYW5pemF0aW9uLWxldmVsIGFuZCBzdGVwLXVwIGF1dGhlbnRpY2F0aW9uIGNoZWNrcy5cbiAqIFRoZSByZXR1cm5lZCBmdW5jdGlvbiBhdXRob3JpemVzIGlmIGJvdGggY2hlY2tzIHBhc3MsIG9yIGlmIGF0IGxlYXN0IG9uZSBwYXNzZXNcbiAqIHdoZW4gdGhlIG90aGVyIGlzIGluZGV0ZXJtaW5hdGUuIEZhaWxzIGlmIHVzZXJJZCBpcyBtaXNzaW5nLlxuICovXG5jb25zdCBjcmVhdGVDaGVja0F1dGhvcml6YXRpb24gPSAob3B0aW9uczogQXV0aG9yaXphdGlvbk9wdGlvbnMpOiBDaGVja0F1dGhvcml6YXRpb25XaXRoQ3VzdG9tUGVybWlzc2lvbnMgPT4ge1xuICByZXR1cm4gKHBhcmFtcyk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICghb3B0aW9ucy51c2VySWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBvcmdBdXRob3JpemF0aW9uID0gY2hlY2tPcmdBdXRob3JpemF0aW9uKHBhcmFtcywgb3B0aW9ucyk7XG4gICAgY29uc3Qgc3RlcFVwQXV0aG9yaXphdGlvbiA9IGNoZWNrU3RlcFVwQXV0aG9yaXphdGlvbihwYXJhbXMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKFtvcmdBdXRob3JpemF0aW9uLCBzdGVwVXBBdXRob3JpemF0aW9uXS5zb21lKGEgPT4gYSA9PT0gbnVsbCkpIHtcbiAgICAgIHJldHVybiBbb3JnQXV0aG9yaXphdGlvbiwgc3RlcFVwQXV0aG9yaXphdGlvbl0uc29tZShhID0+IGEgPT09IHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiBbb3JnQXV0aG9yaXphdGlvbiwgc3RlcFVwQXV0aG9yaXphdGlvbl0uZXZlcnkoYSA9PiBhID09PSB0cnVlKTtcbiAgfTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUNoZWNrQXV0aG9yaXphdGlvbiwgdmFsaWRhdGVSZXZlcmlmaWNhdGlvbkNvbmZpZyB9O1xuIiwiaW1wb3J0IHR5cGUgeyBSZXZlcmlmaWNhdGlvbkNvbmZpZyB9IGZyb20gJ0BjbGVyay90eXBlcyc7XG5cbnR5cGUgQ2xlcmtFcnJvcjxUPiA9IHtcbiAgY2xlcmtfZXJyb3I6IFQ7XG59O1xuXG5jb25zdCBSRVZFUklGSUNBVElPTl9SRUFTT04gPSAncmV2ZXJpZmljYXRpb24tZXJyb3InO1xuXG50eXBlIFJldmVyaWZpY2F0aW9uRXJyb3I8TSBleHRlbmRzIHsgbWV0YWRhdGE/OiBhbnkgfSA9IHsgbWV0YWRhdGE6IHVua25vd24gfT4gPSBDbGVya0Vycm9yPFxuICB7XG4gICAgdHlwZTogJ2ZvcmJpZGRlbic7XG4gICAgcmVhc29uOiB0eXBlb2YgUkVWRVJJRklDQVRJT05fUkVBU09OO1xuICB9ICYgTVxuPjtcblxuY29uc3QgcmV2ZXJpZmljYXRpb25FcnJvciA9IDxNQyBleHRlbmRzIFJldmVyaWZpY2F0aW9uQ29uZmlnPihcbiAgbWlzc2luZ0NvbmZpZz86IE1DLFxuKTogUmV2ZXJpZmljYXRpb25FcnJvcjx7XG4gIG1ldGFkYXRhPzoge1xuICAgIHJldmVyaWZpY2F0aW9uPzogTUM7XG4gIH07XG59PiA9PiAoe1xuICBjbGVya19lcnJvcjoge1xuICAgIHR5cGU6ICdmb3JiaWRkZW4nLFxuICAgIHJlYXNvbjogUkVWRVJJRklDQVRJT05fUkVBU09OLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICByZXZlcmlmaWNhdGlvbjogbWlzc2luZ0NvbmZpZyxcbiAgICB9LFxuICB9LFxufSk7XG5cbmNvbnN0IHJldmVyaWZpY2F0aW9uRXJyb3JSZXNwb25zZSA9ICguLi5hcmdzOiBQYXJhbWV0ZXJzPHR5cGVvZiByZXZlcmlmaWNhdGlvbkVycm9yPikgPT5cbiAgbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJldmVyaWZpY2F0aW9uRXJyb3IoLi4uYXJncykpLCB7XG4gICAgc3RhdHVzOiA0MDMsXG4gIH0pO1xuXG5jb25zdCBpc1JldmVyaWZpY2F0aW9uSGludCA9IChyZXN1bHQ6IGFueSk6IHJlc3VsdCBpcyBSZXR1cm5UeXBlPHR5cGVvZiByZXZlcmlmaWNhdGlvbkVycm9yPiA9PiB7XG4gIHJldHVybiAoXG4gICAgcmVzdWx0ICYmXG4gICAgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiZcbiAgICAnY2xlcmtfZXJyb3InIGluIHJlc3VsdCAmJlxuICAgIHJlc3VsdC5jbGVya19lcnJvcj8udHlwZSA9PT0gJ2ZvcmJpZGRlbicgJiZcbiAgICByZXN1bHQuY2xlcmtfZXJyb3I/LnJlYXNvbiA9PT0gUkVWRVJJRklDQVRJT05fUkVBU09OXG4gICk7XG59O1xuXG5leHBvcnQgeyByZXZlcmlmaWNhdGlvbkVycm9yLCByZXZlcmlmaWNhdGlvbkVycm9yUmVzcG9uc2UsIGlzUmV2ZXJpZmljYXRpb25IaW50IH07XG4iLCJpbXBvcnQgdHlwZSB7IENsZXJrQVBJRXJyb3IsIENsZXJrQVBJRXJyb3JKU09OIH0gZnJvbSAnQGNsZXJrL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5hdXRob3JpemVkRXJyb3IoZTogYW55KTogYm9vbGVhbiB7XG4gIGNvbnN0IHN0YXR1cyA9IGU/LnN0YXR1cztcbiAgY29uc3QgY29kZSA9IGU/LmVycm9ycz8uWzBdPy5jb2RlO1xuICByZXR1cm4gY29kZSA9PT0gJ2F1dGhlbnRpY2F0aW9uX2ludmFsaWQnICYmIHN0YXR1cyA9PT0gNDAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDYXB0Y2hhRXJyb3IoZTogQ2xlcmtBUElSZXNwb25zZUVycm9yKTogYm9vbGVhbiB7XG4gIHJldHVybiBbJ2NhcHRjaGFfaW52YWxpZCcsICdjYXB0Y2hhX25vdF9lbmFibGVkJywgJ2NhcHRjaGFfbWlzc2luZ190b2tlbiddLmluY2x1ZGVzKGUuZXJyb3JzWzBdLmNvZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXM0eHhFcnJvcihlOiBhbnkpOiBib29sZWFuIHtcbiAgY29uc3Qgc3RhdHVzID0gZT8uc3RhdHVzO1xuICByZXR1cm4gISFzdGF0dXMgJiYgc3RhdHVzID49IDQwMCAmJiBzdGF0dXMgPCA1MDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05ldHdvcmtFcnJvcihlOiBhbnkpOiBib29sZWFuIHtcbiAgLy8gVE9ETzogcmV2aXNlIGR1cmluZyBlcnJvciBoYW5kbGluZyBlcGljXG4gIGNvbnN0IG1lc3NhZ2UgPSAoYCR7ZS5tZXNzYWdlfSR7ZS5uYW1lfWAgfHwgJycpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnJyk7XG4gIHJldHVybiBtZXNzYWdlLmluY2x1ZGVzKCduZXR3b3JrZXJyb3InKTtcbn1cblxuaW50ZXJmYWNlIENsZXJrQVBJUmVzcG9uc2VPcHRpb25zIHtcbiAgZGF0YTogQ2xlcmtBUElFcnJvckpTT05bXTtcbiAgc3RhdHVzOiBudW1iZXI7XG4gIGNsZXJrVHJhY2VJZD86IHN0cmluZztcbn1cblxuLy8gRm9yIGEgY29tcHJlaGVuc2l2ZSBNZXRhbWFzayBlcnJvciBsaXN0LCBwbGVhc2Ugc2VlXG4vLyBodHRwczovL2RvY3MubWV0YW1hc2suaW8vZ3VpZGUvZXRoZXJldW0tcHJvdmlkZXIuaHRtbCNlcnJvcnNcbmV4cG9ydCBpbnRlcmZhY2UgTWV0YW1hc2tFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29kZTogNDAwMSB8IDMyNjAyIHwgMzI2MDM7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgZGF0YT86IHVua25vd247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0tub3duRXJyb3IoZXJyb3I6IGFueSk6IGVycm9yIGlzIENsZXJrQVBJUmVzcG9uc2VFcnJvciB8IENsZXJrUnVudGltZUVycm9yIHwgTWV0YW1hc2tFcnJvciB7XG4gIHJldHVybiBpc0NsZXJrQVBJUmVzcG9uc2VFcnJvcihlcnJvcikgfHwgaXNNZXRhbWFza0Vycm9yKGVycm9yKSB8fCBpc0NsZXJrUnVudGltZUVycm9yKGVycm9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2xlcmtBUElSZXNwb25zZUVycm9yKGVycjogYW55KTogZXJyIGlzIENsZXJrQVBJUmVzcG9uc2VFcnJvciB7XG4gIHJldHVybiAnY2xlcmtFcnJvcicgaW4gZXJyO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgZXJyb3Igb2JqZWN0IGlzIGFuIGluc3RhbmNlIG9mIENsZXJrUnVudGltZUVycm9yLlxuICpcbiAqIEBwYXJhbSB7YW55fSBlcnIgLSBUaGUgZXJyb3Igb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVycm9yIGlzIGEgQ2xlcmtSdW50aW1lRXJyb3IsIGZhbHNlIG90aGVyd2lzZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgZXJyb3IgPSBuZXcgQ2xlcmtSdW50aW1lRXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkJyk7XG4gKiBpZiAoaXNDbGVya1J1bnRpbWVFcnJvcihlcnJvcikpIHtcbiAqICAgLy8gSGFuZGxlIENsZXJrUnVudGltZUVycm9yXG4gKiAgIGNvbnNvbGUuZXJyb3IoJ0NsZXJrUnVudGltZUVycm9yOicsIGVycm9yLm1lc3NhZ2UpO1xuICogfSBlbHNlIHtcbiAqICAgLy8gSGFuZGxlIG90aGVyIGVycm9yc1xuICogICBjb25zb2xlLmVycm9yKCdPdGhlciBlcnJvcjonLCBlcnJvci5tZXNzYWdlKTtcbiAqIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2xlcmtSdW50aW1lRXJyb3IoZXJyOiBhbnkpOiBlcnIgaXMgQ2xlcmtSdW50aW1lRXJyb3Ige1xuICByZXR1cm4gJ2NsZXJrUnVudGltZUVycm9yJyBpbiBlcnI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01ldGFtYXNrRXJyb3IoZXJyOiBhbnkpOiBlcnIgaXMgTWV0YW1hc2tFcnJvciB7XG4gIHJldHVybiAnY29kZScgaW4gZXJyICYmIFs0MDAxLCAzMjYwMiwgMzI2MDNdLmluY2x1ZGVzKGVyci5jb2RlKSAmJiAnbWVzc2FnZScgaW4gZXJyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVc2VyTG9ja2VkRXJyb3IoZXJyOiBhbnkpIHtcbiAgcmV0dXJuIGlzQ2xlcmtBUElSZXNwb25zZUVycm9yKGVycikgJiYgZXJyLmVycm9ycz8uWzBdPy5jb2RlID09PSAndXNlcl9sb2NrZWQnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQYXNzd29yZFB3bmVkRXJyb3IoZXJyOiBhbnkpIHtcbiAgcmV0dXJuIGlzQ2xlcmtBUElSZXNwb25zZUVycm9yKGVycikgJiYgZXJyLmVycm9ycz8uWzBdPy5jb2RlID09PSAnZm9ybV9wYXNzd29yZF9wd25lZCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUVycm9ycyhkYXRhOiBDbGVya0FQSUVycm9ySlNPTltdID0gW10pOiBDbGVya0FQSUVycm9yW10ge1xuICByZXR1cm4gZGF0YS5sZW5ndGggPiAwID8gZGF0YS5tYXAocGFyc2VFcnJvcikgOiBbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRXJyb3IoZXJyb3I6IENsZXJrQVBJRXJyb3JKU09OKTogQ2xlcmtBUElFcnJvciB7XG4gIHJldHVybiB7XG4gICAgY29kZTogZXJyb3IuY29kZSxcbiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgIGxvbmdNZXNzYWdlOiBlcnJvci5sb25nX21lc3NhZ2UsXG4gICAgbWV0YToge1xuICAgICAgcGFyYW1OYW1lOiBlcnJvcj8ubWV0YT8ucGFyYW1fbmFtZSxcbiAgICAgIHNlc3Npb25JZDogZXJyb3I/Lm1ldGE/LnNlc3Npb25faWQsXG4gICAgICBlbWFpbEFkZHJlc3NlczogZXJyb3I/Lm1ldGE/LmVtYWlsX2FkZHJlc3NlcyxcbiAgICAgIGlkZW50aWZpZXJzOiBlcnJvcj8ubWV0YT8uaWRlbnRpZmllcnMsXG4gICAgICB6eGN2Ym46IGVycm9yPy5tZXRhPy56eGN2Ym4sXG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yVG9KU09OKGVycm9yOiBDbGVya0FQSUVycm9yIHwgbnVsbCk6IENsZXJrQVBJRXJyb3JKU09OIHtcbiAgcmV0dXJuIHtcbiAgICBjb2RlOiBlcnJvcj8uY29kZSB8fCAnJyxcbiAgICBtZXNzYWdlOiBlcnJvcj8ubWVzc2FnZSB8fCAnJyxcbiAgICBsb25nX21lc3NhZ2U6IGVycm9yPy5sb25nTWVzc2FnZSxcbiAgICBtZXRhOiB7XG4gICAgICBwYXJhbV9uYW1lOiBlcnJvcj8ubWV0YT8ucGFyYW1OYW1lLFxuICAgICAgc2Vzc2lvbl9pZDogZXJyb3I/Lm1ldGE/LnNlc3Npb25JZCxcbiAgICAgIGVtYWlsX2FkZHJlc3NlczogZXJyb3I/Lm1ldGE/LmVtYWlsQWRkcmVzc2VzLFxuICAgICAgaWRlbnRpZmllcnM6IGVycm9yPy5tZXRhPy5pZGVudGlmaWVycyxcbiAgICAgIHp4Y3ZibjogZXJyb3I/Lm1ldGE/Lnp4Y3ZibixcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgQ2xlcmtBUElSZXNwb25zZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjbGVya0Vycm9yOiB0cnVlO1xuXG4gIHN0YXR1czogbnVtYmVyO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGNsZXJrVHJhY2VJZD86IHN0cmluZztcblxuICBlcnJvcnM6IENsZXJrQVBJRXJyb3JbXTtcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHsgZGF0YSwgc3RhdHVzLCBjbGVya1RyYWNlSWQgfTogQ2xlcmtBUElSZXNwb25zZU9wdGlvbnMpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDbGVya0FQSVJlc3BvbnNlRXJyb3IucHJvdG90eXBlKTtcblxuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5jbGVya1RyYWNlSWQgPSBjbGVya1RyYWNlSWQ7XG4gICAgdGhpcy5jbGVya0Vycm9yID0gdHJ1ZTtcbiAgICB0aGlzLmVycm9ycyA9IHBhcnNlRXJyb3JzKGRhdGEpO1xuICB9XG5cbiAgcHVibGljIHRvU3RyaW5nID0gKCkgPT4ge1xuICAgIGxldCBtZXNzYWdlID0gYFske3RoaXMubmFtZX1dXFxuTWVzc2FnZToke3RoaXMubWVzc2FnZX1cXG5TdGF0dXM6JHt0aGlzLnN0YXR1c31cXG5TZXJpYWxpemVkIGVycm9yczogJHt0aGlzLmVycm9ycy5tYXAoXG4gICAgICBlID0+IEpTT04uc3RyaW5naWZ5KGUpLFxuICAgICl9YDtcblxuICAgIGlmICh0aGlzLmNsZXJrVHJhY2VJZCkge1xuICAgICAgbWVzc2FnZSArPSBgXFxuQ2xlcmsgVHJhY2UgSUQ6ICR7dGhpcy5jbGVya1RyYWNlSWR9YDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDdXN0b20gZXJyb3IgY2xhc3MgZm9yIHJlcHJlc2VudGluZyBDbGVyayBydW50aW1lIGVycm9ycy5cbiAqXG4gKiBAY2xhc3MgQ2xlcmtSdW50aW1lRXJyb3JcbiAqIEBleGFtcGxlXG4gKiAgIHRocm93IG5ldyBDbGVya1J1bnRpbWVFcnJvcignQW4gZXJyb3Igb2NjdXJyZWQnLCB7IGNvZGU6ICdwYXNzd29yZF9pbnZhbGlkJyB9KTtcbiAqL1xuZXhwb3J0IGNsYXNzIENsZXJrUnVudGltZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjbGVya1J1bnRpbWVFcnJvcjogdHJ1ZTtcblxuICAvKipcbiAgICogVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDbGVya1J1bnRpbWVFcnJvclxuICAgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBjb2RlIGlkZW50aWZ5aW5nIHRoZSBlcnJvciwgY2FuIGJlIHVzZWQgZm9yIGxvY2FsaXphdGlvbi5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsZXJrUnVudGltZUVycm9yXG4gICAqL1xuICBjb2RlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCB7IGNvZGUgfTogeyBjb2RlOiBzdHJpbmcgfSkge1xuICAgIGNvbnN0IHByZWZpeCA9ICfwn5SSIENsZXJrOic7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHByZWZpeC5yZXBsYWNlKCcgJywgJ1xcXFxzKicpLCAnaScpO1xuICAgIGNvbnN0IHNhbml0aXplZCA9IG1lc3NhZ2UucmVwbGFjZShyZWdleCwgJycpO1xuICAgIGNvbnN0IF9tZXNzYWdlID0gYCR7cHJlZml4fSAke3Nhbml0aXplZC50cmltKCl9XFxuXFxuKGNvZGU9XCIke2NvZGV9XCIpXFxuYDtcbiAgICBzdXBlcihfbWVzc2FnZSk7XG5cbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xlcmtSdW50aW1lRXJyb3IucHJvdG90eXBlKTtcblxuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgdGhpcy5tZXNzYWdlID0gX21lc3NhZ2U7XG4gICAgdGhpcy5jbGVya1J1bnRpbWVFcnJvciA9IHRydWU7XG4gICAgdGhpcy5uYW1lID0gJ0NsZXJrUnVudGltZUVycm9yJztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvci5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gQSBmb3JtYXR0ZWQgc3RyaW5nIHdpdGggdGhlIGVycm9yIG5hbWUgYW5kIG1lc3NhZ2UuXG4gICAqIEBtZW1iZXJvZiBDbGVya1J1bnRpbWVFcnJvclxuICAgKi9cbiAgcHVibGljIHRvU3RyaW5nID0gKCkgPT4ge1xuICAgIHJldHVybiBgWyR7dGhpcy5uYW1lfV1cXG5NZXNzYWdlOiR7dGhpcy5tZXNzYWdlfWA7XG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBFbWFpbExpbmtFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGNvZGU6IHN0cmluZykge1xuICAgIHN1cGVyKGNvZGUpO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgdGhpcy5uYW1lID0gJ0VtYWlsTGlua0Vycm9yJyBhcyBjb25zdDtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRW1haWxMaW5rRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFbWFpbExpbmtFcnJvcihlcnI6IEVycm9yKTogZXJyIGlzIEVtYWlsTGlua0Vycm9yIHtcbiAgcmV0dXJuIGVyci5uYW1lID09PSAnRW1haWxMaW5rRXJyb3InO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgRW1haWxMaW5rRXJyb3JDb2RlU3RhdHVzYCBpbnN0ZWFkLiovXG5leHBvcnQgY29uc3QgRW1haWxMaW5rRXJyb3JDb2RlID0ge1xuICBFeHBpcmVkOiAnZXhwaXJlZCcsXG4gIEZhaWxlZDogJ2ZhaWxlZCcsXG4gIENsaWVudE1pc21hdGNoOiAnY2xpZW50X21pc21hdGNoJyxcbn07XG5cbmV4cG9ydCBjb25zdCBFbWFpbExpbmtFcnJvckNvZGVTdGF0dXMgPSB7XG4gIEV4cGlyZWQ6ICdleHBpcmVkJyxcbiAgRmFpbGVkOiAnZmFpbGVkJyxcbiAgQ2xpZW50TWlzbWF0Y2g6ICdjbGllbnRfbWlzbWF0Y2gnLFxufSBhcyBjb25zdDtcblxuY29uc3QgRGVmYXVsdE1lc3NhZ2VzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIEludmFsaWRQcm94eVVybEVycm9yTWVzc2FnZTogYFRoZSBwcm94eVVybCBwYXNzZWQgdG8gQ2xlcmsgaXMgaW52YWxpZC4gVGhlIGV4cGVjdGVkIHZhbHVlIGZvciBwcm94eVVybCBpcyBhbiBhYnNvbHV0ZSBVUkwgb3IgYSByZWxhdGl2ZSBwYXRoIHdpdGggYSBsZWFkaW5nICcvJy4gKGtleT17e3VybH19KWAsXG4gIEludmFsaWRQdWJsaXNoYWJsZUtleUVycm9yTWVzc2FnZTogYFRoZSBwdWJsaXNoYWJsZUtleSBwYXNzZWQgdG8gQ2xlcmsgaXMgaW52YWxpZC4gWW91IGNhbiBnZXQgeW91ciBQdWJsaXNoYWJsZSBrZXkgYXQgaHR0cHM6Ly9kYXNoYm9hcmQuY2xlcmsuY29tL2xhc3QtYWN0aXZlP3BhdGg9YXBpLWtleXMuIChrZXk9e3trZXl9fSlgLFxuICBNaXNzaW5nUHVibGlzaGFibGVLZXlFcnJvck1lc3NhZ2U6IGBNaXNzaW5nIHB1Ymxpc2hhYmxlS2V5LiBZb3UgY2FuIGdldCB5b3VyIGtleSBhdCBodHRwczovL2Rhc2hib2FyZC5jbGVyay5jb20vbGFzdC1hY3RpdmU/cGF0aD1hcGkta2V5cy5gLFxuICBNaXNzaW5nU2VjcmV0S2V5RXJyb3JNZXNzYWdlOiBgTWlzc2luZyBzZWNyZXRLZXkuIFlvdSBjYW4gZ2V0IHlvdXIga2V5IGF0IGh0dHBzOi8vZGFzaGJvYXJkLmNsZXJrLmNvbS9sYXN0LWFjdGl2ZT9wYXRoPWFwaS1rZXlzLmAsXG4gIE1pc3NpbmdDbGVya1Byb3ZpZGVyOiBge3tzb3VyY2V9fSBjYW4gb25seSBiZSB1c2VkIHdpdGhpbiB0aGUgPENsZXJrUHJvdmlkZXIgLz4gY29tcG9uZW50LiBMZWFybiBtb3JlOiBodHRwczovL2NsZXJrLmNvbS9kb2NzL2NvbXBvbmVudHMvY2xlcmstcHJvdmlkZXJgLFxufSk7XG5cbnR5cGUgTWVzc2FnZUtleXMgPSBrZXlvZiB0eXBlb2YgRGVmYXVsdE1lc3NhZ2VzO1xuXG50eXBlIE1lc3NhZ2VzID0gUmVjb3JkPE1lc3NhZ2VLZXlzLCBzdHJpbmc+O1xuXG50eXBlIEN1c3RvbU1lc3NhZ2VzID0gUGFydGlhbDxNZXNzYWdlcz47XG5cbmV4cG9ydCB0eXBlIEVycm9yVGhyb3dlck9wdGlvbnMgPSB7XG4gIHBhY2thZ2VOYW1lOiBzdHJpbmc7XG4gIGN1c3RvbU1lc3NhZ2VzPzogQ3VzdG9tTWVzc2FnZXM7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yVGhyb3dlciB7XG4gIHNldFBhY2thZ2VOYW1lKG9wdGlvbnM6IEVycm9yVGhyb3dlck9wdGlvbnMpOiBFcnJvclRocm93ZXI7XG5cbiAgc2V0TWVzc2FnZXMob3B0aW9uczogRXJyb3JUaHJvd2VyT3B0aW9ucyk6IEVycm9yVGhyb3dlcjtcblxuICB0aHJvd0ludmFsaWRQdWJsaXNoYWJsZUtleUVycm9yKHBhcmFtczogeyBrZXk/OiBzdHJpbmcgfSk6IG5ldmVyO1xuXG4gIHRocm93SW52YWxpZFByb3h5VXJsKHBhcmFtczogeyB1cmw/OiBzdHJpbmcgfSk6IG5ldmVyO1xuXG4gIHRocm93TWlzc2luZ1B1Ymxpc2hhYmxlS2V5RXJyb3IoKTogbmV2ZXI7XG5cbiAgdGhyb3dNaXNzaW5nU2VjcmV0S2V5RXJyb3IoKTogbmV2ZXI7XG5cbiAgdGhyb3dNaXNzaW5nQ2xlcmtQcm92aWRlckVycm9yKHBhcmFtczogeyBzb3VyY2U/OiBzdHJpbmcgfSk6IG5ldmVyO1xuXG4gIHRocm93KG1lc3NhZ2U6IHN0cmluZyk6IG5ldmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRFcnJvclRocm93ZXIoeyBwYWNrYWdlTmFtZSwgY3VzdG9tTWVzc2FnZXMgfTogRXJyb3JUaHJvd2VyT3B0aW9ucyk6IEVycm9yVGhyb3dlciB7XG4gIGxldCBwa2cgPSBwYWNrYWdlTmFtZTtcblxuICBjb25zdCBtZXNzYWdlcyA9IHtcbiAgICAuLi5EZWZhdWx0TWVzc2FnZXMsXG4gICAgLi4uY3VzdG9tTWVzc2FnZXMsXG4gIH07XG5cbiAgZnVuY3Rpb24gYnVpbGRNZXNzYWdlKHJhd01lc3NhZ2U6IHN0cmluZywgcmVwbGFjZW1lbnRzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPikge1xuICAgIGlmICghcmVwbGFjZW1lbnRzKSB7XG4gICAgICByZXR1cm4gYCR7cGtnfTogJHtyYXdNZXNzYWdlfWA7XG4gICAgfVxuXG4gICAgbGV0IG1zZyA9IHJhd01lc3NhZ2U7XG4gICAgY29uc3QgbWF0Y2hlcyA9IHJhd01lc3NhZ2UubWF0Y2hBbGwoL3t7KFthLXpBLVowLTktX10rKX19L2cpO1xuXG4gICAgZm9yIChjb25zdCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICBjb25zdCByZXBsYWNlbWVudCA9IChyZXBsYWNlbWVudHNbbWF0Y2hbMV1dIHx8ICcnKS50b1N0cmluZygpO1xuICAgICAgbXNnID0gbXNnLnJlcGxhY2UoYHt7JHttYXRjaFsxXX19fWAsIHJlcGxhY2VtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7cGtnfTogJHttc2d9YDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2V0UGFja2FnZU5hbWUoeyBwYWNrYWdlTmFtZSB9OiBFcnJvclRocm93ZXJPcHRpb25zKTogRXJyb3JUaHJvd2VyIHtcbiAgICAgIGlmICh0eXBlb2YgcGFja2FnZU5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBrZyA9IHBhY2thZ2VOYW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHNldE1lc3NhZ2VzKHsgY3VzdG9tTWVzc2FnZXMgfTogRXJyb3JUaHJvd2VyT3B0aW9ucyk6IEVycm9yVGhyb3dlciB7XG4gICAgICBPYmplY3QuYXNzaWduKG1lc3NhZ2VzLCBjdXN0b21NZXNzYWdlcyB8fCB7fSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgdGhyb3dJbnZhbGlkUHVibGlzaGFibGVLZXlFcnJvcihwYXJhbXM6IHsga2V5Pzogc3RyaW5nIH0pOiBuZXZlciB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYnVpbGRNZXNzYWdlKG1lc3NhZ2VzLkludmFsaWRQdWJsaXNoYWJsZUtleUVycm9yTWVzc2FnZSwgcGFyYW1zKSk7XG4gICAgfSxcblxuICAgIHRocm93SW52YWxpZFByb3h5VXJsKHBhcmFtczogeyB1cmw/OiBzdHJpbmcgfSk6IG5ldmVyIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihidWlsZE1lc3NhZ2UobWVzc2FnZXMuSW52YWxpZFByb3h5VXJsRXJyb3JNZXNzYWdlLCBwYXJhbXMpKTtcbiAgICB9LFxuXG4gICAgdGhyb3dNaXNzaW5nUHVibGlzaGFibGVLZXlFcnJvcigpOiBuZXZlciB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYnVpbGRNZXNzYWdlKG1lc3NhZ2VzLk1pc3NpbmdQdWJsaXNoYWJsZUtleUVycm9yTWVzc2FnZSkpO1xuICAgIH0sXG5cbiAgICB0aHJvd01pc3NpbmdTZWNyZXRLZXlFcnJvcigpOiBuZXZlciB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYnVpbGRNZXNzYWdlKG1lc3NhZ2VzLk1pc3NpbmdTZWNyZXRLZXlFcnJvck1lc3NhZ2UpKTtcbiAgICB9LFxuXG4gICAgdGhyb3dNaXNzaW5nQ2xlcmtQcm92aWRlckVycm9yKHBhcmFtczogeyBzb3VyY2U/OiBzdHJpbmcgfSk6IG5ldmVyIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihidWlsZE1lc3NhZ2UobWVzc2FnZXMuTWlzc2luZ0NsZXJrUHJvdmlkZXIsIHBhcmFtcykpO1xuICAgIH0sXG5cbiAgICB0aHJvdyhtZXNzYWdlOiBzdHJpbmcpOiBuZXZlciB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYnVpbGRNZXNzYWdlKG1lc3NhZ2UpKTtcbiAgICB9LFxuICB9O1xufVxuXG50eXBlIENsZXJrV2ViQXV0aG5FcnJvckNvZGUgPVxuICAvLyBHZW5lcmljXG4gIHwgJ3Bhc3NrZXlfbm90X3N1cHBvcnRlZCdcbiAgfCAncGFzc2tleV9wYV9ub3Rfc3VwcG9ydGVkJ1xuICB8ICdwYXNza2V5X2ludmFsaWRfcnBJRF9vcl9kb21haW4nXG4gIHwgJ3Bhc3NrZXlfYWxyZWFkeV9leGlzdHMnXG4gIHwgJ3Bhc3NrZXlfb3BlcmF0aW9uX2Fib3J0ZWQnXG4gIC8vIFJldHJpZXZhbFxuICB8ICdwYXNza2V5X3JldHJpZXZhbF9jYW5jZWxsZWQnXG4gIHwgJ3Bhc3NrZXlfcmV0cmlldmFsX2ZhaWxlZCdcbiAgLy8gUmVnaXN0cmF0aW9uXG4gIHwgJ3Bhc3NrZXlfcmVnaXN0cmF0aW9uX2NhbmNlbGxlZCdcbiAgfCAncGFzc2tleV9yZWdpc3RyYXRpb25fZmFpbGVkJztcblxuZXhwb3J0IGNsYXNzIENsZXJrV2ViQXV0aG5FcnJvciBleHRlbmRzIENsZXJrUnVudGltZUVycm9yIHtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIGNvZGUgaWRlbnRpZnlpbmcgdGhlIGVycm9yLCBjYW4gYmUgdXNlZCBmb3IgbG9jYWxpemF0aW9uLlxuICAgKi9cbiAgY29kZTogQ2xlcmtXZWJBdXRobkVycm9yQ29kZTtcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHsgY29kZSB9OiB7IGNvZGU6IENsZXJrV2ViQXV0aG5FcnJvckNvZGUgfSkge1xuICAgIHN1cGVyKG1lc3NhZ2UsIHsgY29kZSB9KTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3Qgbm9vcCA9ICguLi5fYXJnczogYW55W10pOiB2b2lkID0+IHtcbiAgLy8gZG8gbm90aGluZy5cbn07XG4iLCJpbXBvcnQgeyBub29wIH0gZnJvbSAnLi9ub29wJztcblxudHlwZSBDYWxsYmFjayA9ICh2YWw/OiBhbnkpID0+IHZvaWQ7XG5cbi8qKlxuICogQ3JlYXRlIGEgcHJvbWlzZSB0aGF0IGNhbiBiZSByZXNvbHZlZCBvciByZWplY3RlZCBmcm9tXG4gKiBvdXRzaWRlIHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIGNhbGxiYWNrXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVEZWZlcnJlZFByb21pc2UgPSAoKSA9PiB7XG4gIGxldCByZXNvbHZlOiBDYWxsYmFjayA9IG5vb3A7XG4gIGxldCByZWplY3Q6IENhbGxiYWNrID0gbm9vcDtcbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIHJlc29sdmUgPSByZXM7XG4gICAgcmVqZWN0ID0gcmVqO1xuICB9KTtcbiAgcmV0dXJuIHsgcHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0IH07XG59O1xuIl0sIm5hbWVzIjpbInJlYWN0X2V4cG9ydHMiLCJfX2V4cG9ydCIsIkNsZXJrSW5zdGFuY2VDb250ZXh0IiwiQ2xpZW50Q29udGV4dCIsIk9wdGlvbnNDb250ZXh0IiwiT3JnYW5pemF0aW9uUHJvdmlkZXIiLCJTZXNzaW9uQ29udGV4dCIsIlVzZXJDb250ZXh0IiwiYXNzZXJ0Q29udGV4dEV4aXN0cyIsImNyZWF0ZUNvbnRleHRBbmRIb29rIiwiaXNEZWVwbHlFcXVhbCIsInVzZUFzc2VydFdyYXBwZWRCeUNsZXJrUHJvdmlkZXIiLCJ1c2VDbGVyayIsInVzZUNsZXJrSW5zdGFuY2VDb250ZXh0IiwidXNlQ2xpZW50Q29udGV4dCIsInVzZURlZXBFcXVhbE1lbW8iLCJ1c2VPcHRpb25zQ29udGV4dCIsInVzZU9yZ2FuaXphdGlvbiIsInVzZU9yZ2FuaXphdGlvbkNvbnRleHQiLCJ1c2VPcmdhbml6YXRpb25MaXN0IiwidXNlUmV2ZXJpZmljYXRpb24iLCJ1c2VTYWZlTGF5b3V0RWZmZWN0IiwidXNlU2Vzc2lvbiIsInVzZVNlc3Npb25Db250ZXh0IiwidXNlU2Vzc2lvbkxpc3QiLCJ1c2VVc2VyIiwidXNlVXNlckNvbnRleHQiLCJtb2R1bGUiLCJleHBvcnRzIiwiX190b0NvbW1vbkpTIiwiaW1wb3J0X3JlYWN0IiwiX190b0VTTSIsInJlcXVpcmUiLCJjb250ZXh0VmFsIiwibXNnT3JDdHgiLCJFcnJvciIsImRpc3BsYXlOYW1lIiwib3B0aW9ucyIsImFzc2VydEN0eEZuIiwiQ3R4IiwiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ3R4IiwiY3R4IiwidXNlQ29udGV4dCIsInZhbHVlIiwidXNlQ3R4V2l0aG91dEd1YXJhbnRlZSIsImdldEN1cnJlbnRPcmdhbml6YXRpb25NZW1iZXJzaGlwIiwib3JnYW5pemF0aW9uTWVtYmVyc2hpcHMiLCJvcmdhbml6YXRpb25JZCIsImZpbmQiLCJvcmdhbml6YXRpb25NZW1iZXJzaGlwIiwib3JnYW5pemF0aW9uIiwiaWQiLCJFVkVOVF9NRVRIT0RfQ0FMTEVEIiwiZXZlbnRNZXRob2RDYWxsZWQiLCJtZXRob2QiLCJwYXlsb2FkIiwiZXZlbnQiLCJjbGVya19zd3JfZXhwb3J0cyIsInVzZVNXUiIsImltcG9ydF9zd3IiLCJkZWZhdWx0IiwidXNlU1dSSW5maW5pdGUiLCJpbXBvcnRfaW5maW5pdGUiLCJfX3JlRXhwb3J0IiwiaW1wb3J0X3JlYWN0MiIsImNvbnRleHQiLCJPcmdhbml6YXRpb25Db250ZXh0SW50ZXJuYWwiLCJjaGlsZHJlbiIsInN3ckNvbmZpZyIsImNyZWF0ZUVsZW1lbnQiLCJTV1JDb25maWciLCJQcm92aWRlciIsImRpc3BsYXlOYW1lT3JGbiIsInRyaW0iLCJnZXREaWZmZXJlbnRLZXlzIiwib2JqMSIsIm9iajIiLCJrZXlzU2V0IiwiU2V0IiwiT2JqZWN0Iiwia2V5cyIsImRpZmZlcmVudEtleXNPYmplY3QiLCJrZXkxIiwiaGFzIiwidXNlV2l0aFNhZmVWYWx1ZXMiLCJwYXJhbXMiLCJkZWZhdWx0VmFsdWVzIiwic2hvdWxkVXNlRGVmYXVsdHMiLCJpbml0aWFsUGFnZVJlZiIsImltcG9ydF9yZWFjdDMiLCJ1c2VSZWYiLCJpbml0aWFsUGFnZSIsInBhZ2VTaXplUmVmIiwicGFnZVNpemUiLCJuZXdPYmoiLCJrZXkiLCJjdXJyZW50IiwiY2FjaGluZ1NXUk9wdGlvbnMiLCJkZWR1cGluZ0ludGVydmFsIiwiZm9jdXNUaHJvdHRsZUludGVydmFsIiwidXNlUGFnZXNPckluZmluaXRlIiwiZmV0Y2hlciIsImNvbmZpZyIsImNhY2hlS2V5cyIsInBhZ2luYXRlZFBhZ2UiLCJzZXRQYWdpbmF0ZWRQYWdlIiwidXNlU3RhdGUiLCJlbmFibGVkIiwidHJpZ2dlckluZmluaXRlIiwiaW5maW5pdGUiLCJrZWVwUHJldmlvdXNEYXRhIiwicGFnZXNDYWNoZUtleSIsImRhdGEiLCJzd3JEYXRhIiwiaXNWYWxpZGF0aW5nIiwic3dySXNWYWxpZGF0aW5nIiwiaXNMb2FkaW5nIiwic3dySXNMb2FkaW5nIiwiZXJyb3IiLCJzd3JFcnJvciIsIm11dGF0ZSIsInN3ck11dGF0ZSIsImNhY2hlS2V5UGFyYW1zIiwicmVxdWVzdFBhcmFtcyIsInN3ckluZmluaXRlRGF0YSIsInN3ckluZmluaXRlSXNMb2FkaW5nIiwic3dySW5maW5pdGVJc1ZhbGlkYXRpbmciLCJzd3JJbmZpbml0ZUVycm9yIiwic2l6ZSIsInNldFNpemUiLCJzd3JJbmZpbml0ZU11dGF0ZSIsInBhZ2VJbmRleCIsInBhZ2UiLCJ1c2VNZW1vIiwiZmV0Y2hQYWdlIiwidXNlQ2FsbGJhY2siLCJudW1iZXJPcmdGbiIsIm1hcCIsImEiLCJmbGF0IiwiY291bnQiLCJsZW5ndGgiLCJ0b3RhbF9jb3VudCIsImlzRmV0Y2hpbmciLCJpc0Vycm9yIiwiZmV0Y2hOZXh0IiwibiIsIk1hdGgiLCJtYXgiLCJmZXRjaFByZXZpb3VzIiwib2Zmc2V0Q291bnQiLCJwYWdlQ291bnQiLCJjZWlsIiwiaGFzTmV4dFBhZ2UiLCJoYXNQcmV2aW91c1BhZ2UiLCJzZXREYXRhIiwicmV2YWxpZGF0ZSIsInVuZGVmaW5lZFBhZ2luYXRlZFJlc291cmNlIiwiY2xlcmsiLCJkb21haW5zIiwiZG9tYWluTGlzdFBhcmFtcyIsIm1lbWJlcnNoaXBSZXF1ZXN0cyIsIm1lbWJlcnNoaXBSZXF1ZXN0c0xpc3RQYXJhbXMiLCJtZW1iZXJzaGlwcyIsIm1lbWJlcnNMaXN0UGFyYW1zIiwiaW52aXRhdGlvbnMiLCJpbnZpdGF0aW9uc0xpc3RQYXJhbXMiLCJzZXNzaW9uIiwiZG9tYWluU2FmZVZhbHVlcyIsImVucm9sbG1lbnRNb2RlIiwibWVtYmVyc2hpcFJlcXVlc3RTYWZlVmFsdWVzIiwic3RhdHVzIiwibWVtYmVyc1NhZmVWYWx1ZXMiLCJyb2xlIiwicXVlcnkiLCJpbnZpdGF0aW9uc1NhZmVWYWx1ZXMiLCJ0ZWxlbWV0cnkiLCJyZWNvcmQiLCJkb21haW5QYXJhbXMiLCJtZW1iZXJzaGlwUmVxdWVzdFBhcmFtcyIsIm1lbWJlcnNQYXJhbXMiLCJpbnZpdGF0aW9uc1BhcmFtcyIsImdldERvbWFpbnMiLCJ0eXBlIiwiZ2V0TWVtYmVyc2hpcFJlcXVlc3RzIiwiZ2V0TWVtYmVyc2hpcHMiLCJnZXRJbnZpdGF0aW9ucyIsImlzTG9hZGVkIiwibWVtYmVyc2hpcCIsImxvYWRlZCIsInVzZXIiLCJ1c2VyTWVtYmVyc2hpcHMiLCJ1c2VySW52aXRhdGlvbnMiLCJ1c2VyU3VnZ2VzdGlvbnMiLCJ1c2VyTWVtYmVyc2hpcHNTYWZlVmFsdWVzIiwidXNlckludml0YXRpb25zU2FmZVZhbHVlcyIsInVzZXJTdWdnZXN0aW9uc1NhZmVWYWx1ZXMiLCJ1c2VyTWVtYmVyc2hpcHNQYXJhbXMiLCJ1c2VySW52aXRhdGlvbnNQYXJhbXMiLCJ1c2VyU3VnZ2VzdGlvbnNQYXJhbXMiLCJpc0NsZXJrTG9hZGVkIiwiZ2V0T3JnYW5pemF0aW9uTWVtYmVyc2hpcHMiLCJ1c2VySWQiLCJnZXRPcmdhbml6YXRpb25JbnZpdGF0aW9ucyIsInN1Z2dlc3Rpb25zIiwiZ2V0T3JnYW5pemF0aW9uU3VnZ2VzdGlvbnMiLCJjcmVhdGVPcmdhbml6YXRpb24iLCJzZXRBY3RpdmUiLCJ3aW5kb3ciLCJpbXBvcnRfcmVhY3Q0IiwidXNlTGF5b3V0RWZmZWN0IiwidXNlRWZmZWN0IiwiaXNTaWduZWRJbiIsImlzb21vcnBoaWNDbGVyayIsImNsaWVudCIsInNlc3Npb25zIiwiaW1wb3J0X2RlcXVhbCIsInVzZURlZXBFcXVhbE1lbW9pemUiLCJyZWYiLCJpbXBvcnRfcmVhY3Q1IiwiZGVlcEVxdWFsIiwiZmFjdG9yeSIsImRlcGVuZGVuY3lBcnJheSIsIlRZUEVTX1RPX09CSkVDVFMiLCJzdHJpY3RfbWZhIiwiYWZ0ZXJNaW51dGVzIiwibGV2ZWwiLCJzdHJpY3QiLCJtb2RlcmF0ZSIsImxheCIsIkFMTE9XRURfTEVWRUxTIiwiQUxMT1dFRF9UWVBFUyIsImlzVmFsaWRNYXhBZ2UiLCJtYXhBZ2UiLCJpc1ZhbGlkTGV2ZWwiLCJpc1ZhbGlkVmVyaWZpY2F0aW9uVHlwZSIsInZhbGlkYXRlUmV2ZXJpZmljYXRpb25Db25maWciLCJjb252ZXJ0Q29uZmlnVG9PYmplY3QiLCJpc1ZhbGlkU3RyaW5nVmFsdWUiLCJpc1ZhbGlkT2JqZWN0VmFsdWUiLCJiaW5kIiwiUkVWRVJJRklDQVRJT05fUkVBU09OIiwicmV2ZXJpZmljYXRpb25FcnJvciIsIm1pc3NpbmdDb25maWciLCJjbGVya19lcnJvciIsInJlYXNvbiIsIm1ldGFkYXRhIiwicmV2ZXJpZmljYXRpb24iLCJpc1JldmVyaWZpY2F0aW9uSGludCIsInJlc3VsdCIsImlzQ2xlcmtBUElSZXNwb25zZUVycm9yIiwiZXJyIiwiaXNDbGVya1J1bnRpbWVFcnJvciIsIkNsZXJrUnVudGltZUVycm9yIiwiX0NsZXJrUnVudGltZUVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsInByZWZpeCIsInJlZ2V4IiwiUmVnRXhwIiwicmVwbGFjZSIsInNhbml0aXplZCIsIl9tZXNzYWdlIiwidG9TdHJpbmciLCJuYW1lIiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJjbGVya1J1bnRpbWVFcnJvciIsIkRlZmF1bHRNZXNzYWdlcyIsImZyZWV6ZSIsIkludmFsaWRQcm94eVVybEVycm9yTWVzc2FnZSIsIkludmFsaWRQdWJsaXNoYWJsZUtleUVycm9yTWVzc2FnZSIsIk1pc3NpbmdQdWJsaXNoYWJsZUtleUVycm9yTWVzc2FnZSIsIk1pc3NpbmdTZWNyZXRLZXlFcnJvck1lc3NhZ2UiLCJNaXNzaW5nQ2xlcmtQcm92aWRlciIsIm5vb3AiLCJfYXJncyIsImNyZWF0ZURlZmVycmVkUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlcyIsInJlaiIsIkNMRVJLX0FQSV9SRVZFUklGSUNBVElPTl9FUlJPUl9DT0RFIiwicmVzb2x2ZVJlc3VsdCIsInIiLCJSZXNwb25zZSIsImpzb24iLCJlIiwiZXJyb3JzIiwiY3JlYXRlUmV2ZXJpZmljYXRpb25IYW5kbGVyIiwiYXNzZXJ0UmV2ZXJpZmljYXRpb24iLCJhcmdzIiwicmVzb2x2ZXJzIiwiaXNWYWxpZE1ldGFkYXRhIiwib3BlblVJQ29tcG9uZW50IiwiYWZ0ZXJWZXJpZmljYXRpb24iLCJhZnRlclZlcmlmaWNhdGlvbkNhbmNlbGxlZCIsIm9uQ2FuY2VsIiwidGhyb3dPbkNhbmNlbCIsIl9faW50ZXJuYWxfb3BlblJldmVyaWZpY2F0aW9uIiwiZmV0Y2hlclJlZiIsImltcG9ydF9yZWFjdDYiLCJvcHRpb25zUmVmIiwiaGFuZGxlUmV2ZXJpZmljYXRpb24iLCJoYW5kbGVyIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUFBLGdCQUFBLENBQUE7QUFBQUMsU0FBQUQsZUFBQTtJQUFBRSxzQkFBQSxJQUFBQTtJQUFBQyxlQUFBLElBQUFBO0lBQUFDLGdCQUFBLElBQUFBO0lBQUFDLHNCQUFBLElBQUFBO0lBQUFDLGdCQUFBLElBQUFBO0lBQUFDLGFBQUEsSUFBQUE7SUFBQUMscUJBQUEsSUFBQUE7SUFBQUMsc0JBQUEsSUFBQUE7SUFBQUMsZUFBQSxJQUFBQTtJQUFBQyxpQ0FBQSxJQUFBQTtJQUFBQyxVQUFBLElBQUFBO0lBQUFDLHlCQUFBLElBQUFBO0lBQUFDLGtCQUFBLElBQUFBO0lBQUFDLGtCQUFBLElBQUFBO0lBQUFDLG1CQUFBLElBQUFBO0lBQUFDLGlCQUFBLElBQUFBO0lBQUFDLHdCQUFBLElBQUFBO0lBQUFDLHFCQUFBLElBQUFBO0lBQUFDLG1CQUFBLElBQUFBO0lBQUFDLHFCQUFBLElBQUFBO0lBQUFDLFlBQUEsSUFBQUE7SUFBQUMsbUJBQUEsSUFBQUE7SUFBQUMsZ0JBQUEs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