05acdb1fd2ab6cd6f27bf54920ac820e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useAddToWatchlistReset", {
    enumerable: true,
    get: function() {
        return useAddToWatchlistReset;
    }
});
const _react = require("react");
const _settings = require("@rp/common/settings");
const _userdataqueries = require("@rp/react/tanstack-api/user-data-queries");
const _reactquery = require("@tanstack/react-query");
const useAddToWatchlistReset = (expression, queryId)=>{
    const queryClient = (0, _reactquery.useQueryClient)();
    return (0, _react.useCallback)((watchlist)=>{
        const watchlistIds = expression ? (0, _userdataqueries.getExpressionIds)(expression) : [];
        if (watchlistIds.includes(watchlist.id)) {
            queryClient.resetQueries({
                queryKey: [
                    "query",
                    queryId
                ]
            });
            queryClient.resetQueries({
                queryKey: [
                    _settings.QUERY_KEY_FEATURE_FLAG,
                    "rpjson-document-matches"
                ]
            });
            queryClient.resetQueries({
                queryKey: [
                    "cqs-summary",
                    queryId
                ]
            });
        }
    }, [
        queryClient,
        queryId,
        expression
    ]);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NvbW1vbi9ob29rcy9zcmMvdXNlQWRkVG9XYXRjaGxpc3RSZXNldC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBXYXRjaGxpc3QgfSBmcm9tIFwiQHJwL2NvbW1vbi9hcGktdHlwZXNcIlxuaW1wb3J0IHsgUnBxbEZpbHRlciB9IGZyb20gXCJAcnAvY29tbW9uL2FwaS10eXBlc1wiXG5pbXBvcnQgeyBRVUVSWV9LRVlfRkVBVFVSRV9GTEFHIH0gZnJvbSBcIkBycC9jb21tb24vc2V0dGluZ3NcIlxuaW1wb3J0IHsgZ2V0RXhwcmVzc2lvbklkcyB9IGZyb20gXCJAcnAvcmVhY3QvdGFuc3RhY2stYXBpL3VzZXItZGF0YS1xdWVyaWVzXCJcbmltcG9ydCB7IHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSBcIkB0YW5zdGFjay9yZWFjdC1xdWVyeVwiXG5cbmNvbnN0IHVzZUFkZFRvV2F0Y2hsaXN0UmVzZXQgPSAoXG4gIGV4cHJlc3Npb246IFJwcWxGaWx0ZXIgfCB1bmRlZmluZWQsXG4gIHF1ZXJ5SWQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KClcbiAgcmV0dXJuIHVzZUNhbGxiYWNrKFxuICAgICh3YXRjaGxpc3Q6IFdhdGNobGlzdCkgPT4ge1xuICAgICAgY29uc3Qgd2F0Y2hsaXN0SWRzID0gZXhwcmVzc2lvbiA/IGdldEV4cHJlc3Npb25JZHMoZXhwcmVzc2lvbikgOiBbXVxuICAgICAgaWYgKHdhdGNobGlzdElkcy5pbmNsdWRlcyh3YXRjaGxpc3QuaWQpKSB7XG4gICAgICAgIHF1ZXJ5Q2xpZW50LnJlc2V0UXVlcmllcyh7XG4gICAgICAgICAgcXVlcnlLZXk6IFtcInF1ZXJ5XCIsIHF1ZXJ5SWRdLFxuICAgICAgICB9KVxuICAgICAgICBxdWVyeUNsaWVudC5yZXNldFF1ZXJpZXMoe1xuICAgICAgICAgIHF1ZXJ5S2V5OiBbUVVFUllfS0VZX0ZFQVRVUkVfRkxBRywgXCJycGpzb24tZG9jdW1lbnQtbWF0Y2hlc1wiXSxcbiAgICAgICAgfSlcbiAgICAgICAgcXVlcnlDbGllbnQucmVzZXRRdWVyaWVzKHtcbiAgICAgICAgICBxdWVyeUtleTogW1wiY3FzLXN1bW1hcnlcIiwgcXVlcnlJZF0sXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcbiAgICBbcXVlcnlDbGllbnQsIHF1ZXJ5SWQsIGV4cHJlc3Npb25dLFxuICApXG59XG5cbmV4cG9ydCB7IHVzZUFkZFRvV2F0Y2hsaXN0UmVzZXQgfVxuIl0sIm5hbWVzIjpbInVzZUFkZFRvV2F0Y2hsaXN0UmVzZXQiLCJleHByZXNzaW9uIiwicXVlcnlJZCIsInF1ZXJ5Q2xpZW50IiwidXNlUXVlcnlDbGllbnQiLCJ1c2VDYWxsYmFjayIsIndhdGNobGlzdCIsIndhdGNobGlzdElkcyIsImdldEV4cHJlc3Npb25JZHMiLCJpbmNsdWRlcyIsImlkIiwicmVzZXRRdWVyaWVzIiwicXVlcnlLZXkiLCJRVUVSWV9LRVlfRkVBVFVSRV9GTEFHIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBK0JTQTs7O2VBQUFBOzs7dUJBL0JtQjswQkFHVztpQ0FDTjs0QkFDRjtBQUUvQixNQUFNQSx5QkFBeUIsQ0FDN0JDLFlBQ0FDO0lBRUEsTUFBTUMsY0FBY0MsSUFBQUEsMEJBQWM7SUFDbEMsT0FBT0MsSUFBQUEsa0JBQVcsRUFDaEIsQ0FBQ0M7UUFDQyxNQUFNQyxlQUFlTixhQUFhTyxJQUFBQSxpQ0FBZ0IsRUFBQ1AsY0FBYyxFQUFFO1FBQ25FLElBQUlNLGFBQWFFLFFBQVEsQ0FBQ0gsVUFBVUksRUFBRSxHQUFHO1lBQ3ZDUCxZQUFZUSxZQUFZLENBQUM7Z0JBQ3ZCQyxVQUFVO29CQUFDO29CQUFTVjtpQkFBUTtZQUM5QjtZQUNBQyxZQUFZUSxZQUFZLENBQUM7Z0JBQ3ZCQyxVQUFVO29CQUFDQyxnQ0FBc0I7b0JBQUU7aUJBQTBCO1lBQy9EO1lBQ0FWLFlBQVlRLFlBQVksQ0FBQztnQkFDdkJDLFVBQVU7b0JBQUM7b0JBQWVWO2lCQUFRO1lBQ3BDO1FBQ0Y7SUFDRixHQUNBO1FBQUNDO1FBQWFEO1FBQVNEO0tBQVc7QUFFdEMifQ==