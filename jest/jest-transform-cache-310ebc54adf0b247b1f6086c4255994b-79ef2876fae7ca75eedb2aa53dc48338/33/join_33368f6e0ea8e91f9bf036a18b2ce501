2ff7e254ef70a00a64026fec99b2d059
/**
 * @typedef {import('./types.js').Join} Join
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "join", {
    enumerable: true,
    get: function() {
        return join;
    }
});
const _formatcodeasindented = require("./util/format-code-as-indented.js");
const _formatheadingassetext = require("./util/format-heading-as-setext.js");
const join = [
    joinDefaults
];
/** @type {Join} */ function joinDefaults(left, right, parent, state) {
    // Indented code after list or another indented code.
    if (right.type === 'code' && (0, _formatcodeasindented.formatCodeAsIndented)(right, state) && (left.type === 'list' || left.type === right.type && (0, _formatcodeasindented.formatCodeAsIndented)(left, state))) {
        return false;
    }
    // Join children of a list or an item.
    // In which case, `parent` has a `spread` field.
    if ('spread' in parent && typeof parent.spread === 'boolean') {
        if (left.type === 'paragraph' && // Two paragraphs.
        (left.type === right.type || right.type === 'definition' || // Paragraph followed by a setext heading.
        right.type === 'heading' && (0, _formatheadingassetext.formatHeadingAsSetext)(right, state))) {
            return;
        }
        return parent.spread ? 1 : 0;
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9tZGFzdC11dGlsLXRvLW1hcmtkb3duL2xpYi9qb2luLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi90eXBlcy5qcycpLkpvaW59IEpvaW5cbiAqL1xuXG5pbXBvcnQge2Zvcm1hdENvZGVBc0luZGVudGVkfSBmcm9tICcuL3V0aWwvZm9ybWF0LWNvZGUtYXMtaW5kZW50ZWQuanMnXG5pbXBvcnQge2Zvcm1hdEhlYWRpbmdBc1NldGV4dH0gZnJvbSAnLi91dGlsL2Zvcm1hdC1oZWFkaW5nLWFzLXNldGV4dC5qcydcblxuLyoqIEB0eXBlIHtBcnJheTxKb2luPn0gKi9cbmV4cG9ydCBjb25zdCBqb2luID0gW2pvaW5EZWZhdWx0c11cblxuLyoqIEB0eXBlIHtKb2lufSAqL1xuZnVuY3Rpb24gam9pbkRlZmF1bHRzKGxlZnQsIHJpZ2h0LCBwYXJlbnQsIHN0YXRlKSB7XG4gIC8vIEluZGVudGVkIGNvZGUgYWZ0ZXIgbGlzdCBvciBhbm90aGVyIGluZGVudGVkIGNvZGUuXG4gIGlmIChcbiAgICByaWdodC50eXBlID09PSAnY29kZScgJiZcbiAgICBmb3JtYXRDb2RlQXNJbmRlbnRlZChyaWdodCwgc3RhdGUpICYmXG4gICAgKGxlZnQudHlwZSA9PT0gJ2xpc3QnIHx8XG4gICAgICAobGVmdC50eXBlID09PSByaWdodC50eXBlICYmIGZvcm1hdENvZGVBc0luZGVudGVkKGxlZnQsIHN0YXRlKSkpXG4gICkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gSm9pbiBjaGlsZHJlbiBvZiBhIGxpc3Qgb3IgYW4gaXRlbS5cbiAgLy8gSW4gd2hpY2ggY2FzZSwgYHBhcmVudGAgaGFzIGEgYHNwcmVhZGAgZmllbGQuXG4gIGlmICgnc3ByZWFkJyBpbiBwYXJlbnQgJiYgdHlwZW9mIHBhcmVudC5zcHJlYWQgPT09ICdib29sZWFuJykge1xuICAgIGlmIChcbiAgICAgIGxlZnQudHlwZSA9PT0gJ3BhcmFncmFwaCcgJiZcbiAgICAgIC8vIFR3byBwYXJhZ3JhcGhzLlxuICAgICAgKGxlZnQudHlwZSA9PT0gcmlnaHQudHlwZSB8fFxuICAgICAgICByaWdodC50eXBlID09PSAnZGVmaW5pdGlvbicgfHxcbiAgICAgICAgLy8gUGFyYWdyYXBoIGZvbGxvd2VkIGJ5IGEgc2V0ZXh0IGhlYWRpbmcuXG4gICAgICAgIChyaWdodC50eXBlID09PSAnaGVhZGluZycgJiYgZm9ybWF0SGVhZGluZ0FzU2V0ZXh0KHJpZ2h0LCBzdGF0ZSkpKVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmVudC5zcHJlYWQgPyAxIDogMFxuICB9XG59XG4iXSwibmFtZXMiOlsiam9pbiIsImpvaW5EZWZhdWx0cyIsImxlZnQiLCJyaWdodCIsInBhcmVudCIsInN0YXRlIiwidHlwZSIsImZvcm1hdENvZGVBc0luZGVudGVkIiwic3ByZWFkIiwiZm9ybWF0SGVhZGluZ0FzU2V0ZXh0Il0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiQUFBQTs7Q0FFQzs7OzsrQkFNWUE7OztlQUFBQTs7O3NDQUpzQjt1Q0FDQztBQUc3QixNQUFNQSxPQUFPO0lBQUNDO0NBQWE7QUFFbEMsaUJBQWlCLEdBQ2pCLFNBQVNBLGFBQWFDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUVDLEtBQUs7SUFDOUMscURBQXFEO0lBQ3JELElBQ0VGLE1BQU1HLElBQUksS0FBSyxVQUNmQyxJQUFBQSwwQ0FBb0IsRUFBQ0osT0FBT0UsVUFDM0JILENBQUFBLEtBQUtJLElBQUksS0FBSyxVQUNaSixLQUFLSSxJQUFJLEtBQUtILE1BQU1HLElBQUksSUFBSUMsSUFBQUEsMENBQW9CLEVBQUNMLE1BQU1HLE1BQU0sR0FDaEU7UUFDQSxPQUFPO0lBQ1Q7SUFFQSxzQ0FBc0M7SUFDdEMsZ0RBQWdEO0lBQ2hELElBQUksWUFBWUQsVUFBVSxPQUFPQSxPQUFPSSxNQUFNLEtBQUssV0FBVztRQUM1RCxJQUNFTixLQUFLSSxJQUFJLEtBQUssZUFDZCxrQkFBa0I7UUFDakJKLENBQUFBLEtBQUtJLElBQUksS0FBS0gsTUFBTUcsSUFBSSxJQUN2QkgsTUFBTUcsSUFBSSxLQUFLLGdCQUNmLDBDQUEwQztRQUN6Q0gsTUFBTUcsSUFBSSxLQUFLLGFBQWFHLElBQUFBLDRDQUFxQixFQUFDTixPQUFPRSxNQUFNLEdBQ2xFO1lBQ0E7UUFDRjtRQUVBLE9BQU9ELE9BQU9JLE1BQU0sR0FBRyxJQUFJO0lBQzdCO0FBQ0YifQ==