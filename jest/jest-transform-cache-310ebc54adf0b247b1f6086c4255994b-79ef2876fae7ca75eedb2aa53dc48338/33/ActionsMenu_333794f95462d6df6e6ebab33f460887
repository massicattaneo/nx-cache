b579cc4545ae295b642156537cff8d50
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "ActionsMenu", {
    enumerable: true,
    get: function() {
        return ActionsMenu;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _hooks = require("@rp/react/web/common/hooks");
const _core = require("@rp/react/web/mui/core");
const _icons = require("@rp/react/web/mui/icons");
const _RPTooltip = require("../RPTooltip");
const NestedMenu = /*#__PURE__*/ (0, _react.forwardRef)(({ actions, item, open, handleClose, onActionClick, anchorEl, nested, anchorOrigin = {
    horizontal: "center",
    vertical: "bottom"
}, transformOrigin = {
    horizontal: "center",
    vertical: "top"
} }, ref)=>{
    const [selectedItem, setSelectedItem] = (0, _react.useState)(null);
    const { isMobile } = (0, _hooks.useDeviceInfo)();
    const nestedAnchor = isMobile ? {
        horizontal: "left",
        vertical: "top"
    } : {
        horizontal: "right",
        vertical: "top"
    };
    const nestedTransform = isMobile ? {
        horizontal: "right",
        vertical: "top"
    } : {
        horizontal: "left",
        vertical: "top"
    };
    (0, _react.useEffect)(()=>{
        return ()=>setSelectedItem(null);
    }, [
        open
    ]);
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Menu, {
        variant: "menu",
        onClick: (e)=>e.stopPropagation(),
        open: open,
        anchorEl: anchorEl,
        onClose: handleClose,
        sx: {
            "& .MuiList-root": {
                maxHeight: "80vh"
            },
            pointerEvents: nested ? "none" : undefined,
            mt: nested ? -1 : 0,
            ul: {
                backgroundColor: "elevation.dp06"
            }
        },
        ref: ref,
        anchorOrigin: nested ? nestedAnchor : anchorOrigin,
        transformOrigin: nested ? nestedTransform : transformOrigin,
        hideBackdrop: nested,
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Box, {
            sx: {
                pointerEvents: "auto"
            },
            children: actions.map((action)=>{
                const { id, label, icon, onClick, allowedAction, disabledAction, nestedActions, color } = action;
                if (allowedAction === null || allowedAction === void 0 ? void 0 : allowedAction(item)) return null;
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)(NestedMenuItem, {
                    onClick: (ev)=>{
                        setSelectedItem(label);
                        onClick(ev);
                        onActionClick === null || onActionClick === void 0 ? void 0 : onActionClick(action);
                    },
                    label: label,
                    nestedActions: nestedActions,
                    selected: label === selectedItem,
                    onMouseEnter: ()=>setSelectedItem(label),
                    handleClose: handleClose,
                    item: item,
                    disabled: disabledAction === null || disabledAction === void 0 ? void 0 : disabledAction(item),
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
                            sx: {
                                display: "flex",
                                gap: 1,
                                color
                            },
                            children: [
                                typeof icon === "function" ? icon(item) : icon,
                                " ",
                                typeof label === "function" ? label(item) : label
                            ]
                        }),
                        nestedActions !== undefined ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_icons.ArrowRight, {}) : null
                    ]
                }, id);
            })
        })
    });
});
const NestedMenuItem = ({ children, onClick, nestedActions, selected, onMouseEnter, handleClose, item, disabled })=>{
    const ref = (0, _react.useRef)(null);
    const openSubmenu = nestedActions !== undefined && selected;
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.MenuItem, {
                sx: {
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "center",
                    gap: 2,
                    minHeight: "32px",
                    py: 1,
                    backgroundColor: "elevation.dp06",
                    "& svg": {
                        color: "text.secondary"
                    }
                },
                onClick: ()=>{
                    !(nestedActions === null || nestedActions === void 0 ? void 0 : nestedActions.length) && handleClose();
                    onClick(item);
                },
                onMouseEnter: onMouseEnter,
                ref: ref,
                disabled: disabled,
                children: children
            }),
            nestedActions !== undefined ? /*#__PURE__*/ (0, _jsxruntime.jsx)(NestedMenu, {
                actions: nestedActions,
                item: item,
                open: openSubmenu,
                handleClose: handleClose,
                anchorEl: ref.current,
                nested: true
            }) : null
        ]
    });
};
const ActionsMenu = ({ open, setOpen, actions, item, anchorOrigin, transformOrigin, onActionClick, title = "More actions", sxIconButton, openColor = "primary.main" })=>{
    const [ref, setRef] = (0, _react.useState)(null);
    const handleClose = (0, _react.useCallback)(()=>{
        setOpen(false);
    }, [
        setOpen
    ]);
    (0, _hooks.useDisableIOSTouch)(open);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_RPTooltip.RPTooltip, {
                title: title,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.IconButton, {
                    sx: sxIconButton,
                    ref: setRef,
                    size: "small",
                    onClick: (e)=>{
                        e.stopPropagation();
                        setOpen(true);
                    },
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_icons.MoreVert, {
                        sx: {
                            color: open ? openColor : ""
                        }
                    })
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.ClickAwayListener, {
                onClickAway: handleClose,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(NestedMenu, {
                    open: open,
                    actions: actions,
                    anchorOrigin: anchorOrigin,
                    transformOrigin: transformOrigin,
                    item: item,
                    handleClose: handleClose,
                    anchorEl: ref,
                    onActionClick: onActionClick
                })
            })
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NvbW1vbi9iYXNlLWNvbXBvbmVudHMvc3JjL0FjdGlvbnNNZW51L0FjdGlvbnNNZW51LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKU1gsIGZvcndhcmRSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlRGV2aWNlSW5mbywgdXNlRGlzYWJsZUlPU1RvdWNoIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2hvb2tzXCJcbmltcG9ydCB7IEFjdGlvbnMgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vdHlwZXNcIlxuaW1wb3J0IHtcbiAgQm94LFxuICBDbGlja0F3YXlMaXN0ZW5lcixcbiAgSWNvbkJ1dHRvbixcbiAgTWVudSxcbiAgTWVudUl0ZW0sXG4gIE1lbnVQcm9wcyBhcyBNdWlNZW51UHJvcHMsXG4gIFN4UHJvcHMsXG59IGZyb20gXCJAcnAvcmVhY3Qvd2ViL211aS9jb3JlXCJcbmltcG9ydCB7IEFycm93UmlnaHQsIE1vcmVWZXJ0IH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvbXVpL2ljb25zXCJcbmltcG9ydCB7IFJQVG9vbHRpcCB9IGZyb20gXCIuLi9SUFRvb2x0aXBcIlxuXG50eXBlIFByb3BzPFRJdGVtID0gdW5rbm93bj4gPSB7XG4gIG9wZW46IGJvb2xlYW5cbiAgc2V0T3BlbjogKHN0YXRlOiBib29sZWFuKSA9PiB2b2lkXG4gIGFjdGlvbnM6IEFjdGlvbnM8VEl0ZW0+XG4gIGl0ZW06IFRJdGVtXG4gIGFuY2hvck9yaWdpbj86IE11aU1lbnVQcm9wc1tcImFuY2hvck9yaWdpblwiXVxuICB0cmFuc2Zvcm1PcmlnaW4/OiBNdWlNZW51UHJvcHNbXCJ0cmFuc2Zvcm1PcmlnaW5cIl1cbiAgb25BY3Rpb25DbGljaz86IChhY3Rpb246IEFjdGlvbnNbbnVtYmVyXSkgPT4gdm9pZFxuICB0aXRsZT86IHN0cmluZ1xuICBzeEljb25CdXR0b24/OiBTeFByb3BzXG4gIG9wZW5Db2xvcj86IHN0cmluZ1xufVxuXG50eXBlIE1lbnVQcm9wczxUSXRlbSA9IHVua25vd24+ID0gUGljazxcbiAgUHJvcHM8VEl0ZW0+LFxuICBcImFjdGlvbnNcIiB8IFwiaXRlbVwiIHwgXCJvcGVuXCIgfCBcImFuY2hvck9yaWdpblwiIHwgXCJ0cmFuc2Zvcm1PcmlnaW5cIiB8IFwib25BY3Rpb25DbGlja1wiXG4+ICYge1xuICBoYW5kbGVDbG9zZTogKCkgPT4gdm9pZFxuICBhbmNob3JFbDogRWxlbWVudCB8IG51bGxcbiAgbmVzdGVkPzogYm9vbGVhblxufVxudHlwZSBNZW51SXRlbVByb3BzPFRJdGVtPiA9IFBpY2s8QWN0aW9uc1tudW1iZXJdLCBcIm5lc3RlZEFjdGlvbnNcIiB8IFwib25DbGlja1wiIHwgXCJsYWJlbFwiPiAmIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxuICBzZWxlY3RlZDogYm9vbGVhblxuICBvbk1vdXNlRW50ZXI6ICgpID0+IHZvaWRcbiAgaGFuZGxlQ2xvc2U6ICgpID0+IHZvaWRcbiAgaXRlbTogVEl0ZW1cbiAgZGlzYWJsZWQ/OiBib29sZWFuXG59XG5cbmNvbnN0IE5lc3RlZE1lbnUgPSBmb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBNZW51UHJvcHM+KFxuICAoXG4gICAge1xuICAgICAgYWN0aW9ucyxcbiAgICAgIGl0ZW0sXG4gICAgICBvcGVuLFxuICAgICAgaGFuZGxlQ2xvc2UsXG4gICAgICBvbkFjdGlvbkNsaWNrLFxuICAgICAgYW5jaG9yRWwsXG4gICAgICBuZXN0ZWQsXG4gICAgICBhbmNob3JPcmlnaW4gPSB7IGhvcml6b250YWw6IFwiY2VudGVyXCIsIHZlcnRpY2FsOiBcImJvdHRvbVwiIH0sXG4gICAgICB0cmFuc2Zvcm1PcmlnaW4gPSB7IGhvcml6b250YWw6IFwiY2VudGVyXCIsIHZlcnRpY2FsOiBcInRvcFwiIH0sXG4gICAgfSxcbiAgICByZWYsXG4gICkgPT4ge1xuICAgIGNvbnN0IFtzZWxlY3RlZEl0ZW0sIHNldFNlbGVjdGVkSXRlbV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IHsgaXNNb2JpbGUgfSA9IHVzZURldmljZUluZm8oKVxuICAgIGNvbnN0IG5lc3RlZEFuY2hvciA9IGlzTW9iaWxlXG4gICAgICA/IHsgaG9yaXpvbnRhbDogXCJsZWZ0XCIgYXMgY29uc3QsIHZlcnRpY2FsOiBcInRvcFwiIGFzIGNvbnN0IH1cbiAgICAgIDogeyBob3Jpem9udGFsOiBcInJpZ2h0XCIgYXMgY29uc3QsIHZlcnRpY2FsOiBcInRvcFwiIGFzIGNvbnN0IH1cbiAgICBjb25zdCBuZXN0ZWRUcmFuc2Zvcm0gPSBpc01vYmlsZVxuICAgICAgPyB7IGhvcml6b250YWw6IFwicmlnaHRcIiBhcyBjb25zdCwgdmVydGljYWw6IFwidG9wXCIgYXMgY29uc3QgfVxuICAgICAgOiB7IGhvcml6b250YWw6IFwibGVmdFwiIGFzIGNvbnN0LCB2ZXJ0aWNhbDogXCJ0b3BcIiBhcyBjb25zdCB9XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHJldHVybiAoKSA9PiBzZXRTZWxlY3RlZEl0ZW0obnVsbClcbiAgICB9LCBbb3Blbl0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgPE1lbnVcbiAgICAgICAgdmFyaWFudD1cIm1lbnVcIlxuICAgICAgICBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgIG9wZW49e29wZW59XG4gICAgICAgIGFuY2hvckVsPXthbmNob3JFbH1cbiAgICAgICAgb25DbG9zZT17aGFuZGxlQ2xvc2V9XG4gICAgICAgIHN4PXt7XG4gICAgICAgICAgXCImIC5NdWlMaXN0LXJvb3RcIjogeyBtYXhIZWlnaHQ6IFwiODB2aFwiIH0sXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogbmVzdGVkID8gXCJub25lXCIgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbXQ6IG5lc3RlZCA/IC0xIDogMCxcbiAgICAgICAgICB1bDogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiZWxldmF0aW9uLmRwMDZcIiB9LFxuICAgICAgICB9fVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgYW5jaG9yT3JpZ2luPXtuZXN0ZWQgPyBuZXN0ZWRBbmNob3IgOiBhbmNob3JPcmlnaW59XG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbj17bmVzdGVkID8gbmVzdGVkVHJhbnNmb3JtIDogdHJhbnNmb3JtT3JpZ2lufVxuICAgICAgICBoaWRlQmFja2Ryb3A9e25lc3RlZH1cbiAgICAgID5cbiAgICAgICAgPEJveCBzeD17eyBwb2ludGVyRXZlbnRzOiBcImF1dG9cIiB9fT5cbiAgICAgICAgICB7YWN0aW9ucy5tYXAoYWN0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICBpY29uLFxuICAgICAgICAgICAgICBvbkNsaWNrLFxuICAgICAgICAgICAgICBhbGxvd2VkQWN0aW9uLFxuICAgICAgICAgICAgICBkaXNhYmxlZEFjdGlvbixcbiAgICAgICAgICAgICAgbmVzdGVkQWN0aW9ucyxcbiAgICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICB9ID0gYWN0aW9uXG4gICAgICAgICAgICBpZiAoYWxsb3dlZEFjdGlvbj8uKGl0ZW0pKSByZXR1cm4gbnVsbFxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPE5lc3RlZE1lbnVJdGVtXG4gICAgICAgICAgICAgICAga2V5PXtpZH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtldiA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEl0ZW0obGFiZWwpXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrKGV2KVxuICAgICAgICAgICAgICAgICAgb25BY3Rpb25DbGljaz8uKGFjdGlvbilcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgICAgICAgICAgICBuZXN0ZWRBY3Rpb25zPXtuZXN0ZWRBY3Rpb25zfVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkPXtsYWJlbCA9PT0gc2VsZWN0ZWRJdGVtfVxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gc2V0U2VsZWN0ZWRJdGVtKGxhYmVsKX1cbiAgICAgICAgICAgICAgICBoYW5kbGVDbG9zZT17aGFuZGxlQ2xvc2V9XG4gICAgICAgICAgICAgICAgaXRlbT17aXRlbX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWRBY3Rpb24/LihpdGVtKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxCb3ggc3g9e3sgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogMSwgY29sb3IgfX0+XG4gICAgICAgICAgICAgICAgICB7dHlwZW9mIGljb24gPT09IFwiZnVuY3Rpb25cIiA/IGljb24oaXRlbSkgOiBpY29ufXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgIHt0eXBlb2YgbGFiZWwgPT09IFwiZnVuY3Rpb25cIiA/IGxhYmVsKGl0ZW0pIDogbGFiZWx9XG4gICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAge25lc3RlZEFjdGlvbnMgIT09IHVuZGVmaW5lZCA/IDxBcnJvd1JpZ2h0IC8+IDogbnVsbH1cbiAgICAgICAgICAgICAgPC9OZXN0ZWRNZW51SXRlbT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9Cb3g+XG4gICAgICA8L01lbnU+XG4gICAgKVxuICB9LFxuKSBhcyA8VD4ocHJvcHM6IE1lbnVQcm9wczxUPiAmIHsgcmVmPzogUmVhY3QuUmVmPEhUTUxEaXZFbGVtZW50PiB9KSA9PiBKU1guRWxlbWVudFxuXG5jb25zdCBOZXN0ZWRNZW51SXRlbSA9IDxUSXRlbSw+KHtcbiAgY2hpbGRyZW4sXG4gIG9uQ2xpY2ssXG4gIG5lc3RlZEFjdGlvbnMsXG4gIHNlbGVjdGVkLFxuICBvbk1vdXNlRW50ZXIsXG4gIGhhbmRsZUNsb3NlLFxuICBpdGVtLFxuICBkaXNhYmxlZCxcbn06IE1lbnVJdGVtUHJvcHM8VEl0ZW0+KSA9PiB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZjxIVE1MTElFbGVtZW50PihudWxsKVxuICBjb25zdCBvcGVuU3VibWVudSA9IG5lc3RlZEFjdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBzZWxlY3RlZFxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TWVudUl0ZW1cbiAgICAgICAgc3g9e3tcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBnYXA6IDIsXG4gICAgICAgICAgbWluSGVpZ2h0OiBcIjMycHhcIixcbiAgICAgICAgICBweTogMSxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiZWxldmF0aW9uLmRwMDZcIixcbiAgICAgICAgICBcIiYgc3ZnXCI6IHsgY29sb3I6IFwidGV4dC5zZWNvbmRhcnlcIiB9LFxuICAgICAgICB9fVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgIW5lc3RlZEFjdGlvbnM/Lmxlbmd0aCAmJiBoYW5kbGVDbG9zZSgpXG4gICAgICAgICAgb25DbGljayhpdGVtKVxuICAgICAgICB9fVxuICAgICAgICBvbk1vdXNlRW50ZXI9e29uTW91c2VFbnRlcn1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgID5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9NZW51SXRlbT5cbiAgICAgIHtuZXN0ZWRBY3Rpb25zICE9PSB1bmRlZmluZWQgPyAoXG4gICAgICAgIDxOZXN0ZWRNZW51XG4gICAgICAgICAgYWN0aW9ucz17bmVzdGVkQWN0aW9uc31cbiAgICAgICAgICBpdGVtPXtpdGVtfVxuICAgICAgICAgIG9wZW49e29wZW5TdWJtZW51fVxuICAgICAgICAgIGhhbmRsZUNsb3NlPXtoYW5kbGVDbG9zZX1cbiAgICAgICAgICBhbmNob3JFbD17cmVmLmN1cnJlbnR9XG4gICAgICAgICAgbmVzdGVkXG4gICAgICAgIC8+XG4gICAgICApIDogbnVsbH1cbiAgICA8Lz5cbiAgKVxufVxuXG5jb25zdCBBY3Rpb25zTWVudSA9IDxUSXRlbSw+KHtcbiAgb3BlbixcbiAgc2V0T3BlbixcbiAgYWN0aW9ucyxcbiAgaXRlbSxcbiAgYW5jaG9yT3JpZ2luLFxuICB0cmFuc2Zvcm1PcmlnaW4sXG4gIG9uQWN0aW9uQ2xpY2ssXG4gIHRpdGxlID0gXCJNb3JlIGFjdGlvbnNcIixcbiAgc3hJY29uQnV0dG9uLFxuICBvcGVuQ29sb3IgPSBcInByaW1hcnkubWFpblwiLFxufTogUHJvcHM8VEl0ZW0+KSA9PiB7XG4gIGNvbnN0IFtyZWYsIHNldFJlZl0gPSB1c2VTdGF0ZTxIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldE9wZW4oZmFsc2UpXG4gIH0sIFtzZXRPcGVuXSlcblxuICB1c2VEaXNhYmxlSU9TVG91Y2gob3BlbilcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8UlBUb29sdGlwIHRpdGxlPXt0aXRsZX0+XG4gICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgc3g9e3N4SWNvbkJ1dHRvbn1cbiAgICAgICAgICByZWY9e3NldFJlZn1cbiAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgIG9uQ2xpY2s9e2UgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgICAgc2V0T3Blbih0cnVlKVxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8TW9yZVZlcnQgc3g9e3sgY29sb3I6IG9wZW4gPyBvcGVuQ29sb3IgOiBcIlwiIH19IC8+XG4gICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgIDwvUlBUb29sdGlwPlxuICAgICAgPENsaWNrQXdheUxpc3RlbmVyIG9uQ2xpY2tBd2F5PXtoYW5kbGVDbG9zZX0+XG4gICAgICAgIDxOZXN0ZWRNZW51XG4gICAgICAgICAgb3Blbj17b3Blbn1cbiAgICAgICAgICBhY3Rpb25zPXthY3Rpb25zfVxuICAgICAgICAgIGFuY2hvck9yaWdpbj17YW5jaG9yT3JpZ2lufVxuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbj17dHJhbnNmb3JtT3JpZ2lufVxuICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAgaGFuZGxlQ2xvc2U9e2hhbmRsZUNsb3NlfVxuICAgICAgICAgIGFuY2hvckVsPXtyZWZ9XG4gICAgICAgICAgb25BY3Rpb25DbGljaz17b25BY3Rpb25DbGlja31cbiAgICAgICAgLz5cbiAgICAgIDwvQ2xpY2tBd2F5TGlzdGVuZXI+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IHsgQWN0aW9uc01lbnUgfVxuIl0sIm5hbWVzIjpbIkFjdGlvbnNNZW51IiwiTmVzdGVkTWVudSIsImZvcndhcmRSZWYiLCJhY3Rpb25zIiwiaXRlbSIsIm9wZW4iLCJoYW5kbGVDbG9zZSIsIm9uQWN0aW9uQ2xpY2siLCJhbmNob3JFbCIsIm5lc3RlZCIsImFuY2hvck9yaWdpbiIsImhvcml6b250YWwiLCJ2ZXJ0aWNhbCIsInRyYW5zZm9ybU9yaWdpbiIsInJlZiIsInNlbGVjdGVkSXRlbSIsInNldFNlbGVjdGVkSXRlbSIsInVzZVN0YXRlIiwiaXNNb2JpbGUiLCJ1c2VEZXZpY2VJbmZvIiwibmVzdGVkQW5jaG9yIiwibmVzdGVkVHJhbnNmb3JtIiwidXNlRWZmZWN0IiwiTWVudSIsInZhcmlhbnQiLCJvbkNsaWNrIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIm9uQ2xvc2UiLCJzeCIsIm1heEhlaWdodCIsInBvaW50ZXJFdmVudHMiLCJ1bmRlZmluZWQiLCJtdCIsInVsIiwiYmFja2dyb3VuZENvbG9yIiwiaGlkZUJhY2tkcm9wIiwiQm94IiwibWFwIiwiYWN0aW9uIiwiaWQiLCJsYWJlbCIsImljb24iLCJhbGxvd2VkQWN0aW9uIiwiZGlzYWJsZWRBY3Rpb24iLCJuZXN0ZWRBY3Rpb25zIiwiY29sb3IiLCJOZXN0ZWRNZW51SXRlbSIsImV2Iiwic2VsZWN0ZWQiLCJvbk1vdXNlRW50ZXIiLCJkaXNhYmxlZCIsImRpc3BsYXkiLCJnYXAiLCJBcnJvd1JpZ2h0IiwiY2hpbGRyZW4iLCJ1c2VSZWYiLCJvcGVuU3VibWVudSIsIk1lbnVJdGVtIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwibWluSGVpZ2h0IiwicHkiLCJsZW5ndGgiLCJjdXJyZW50Iiwic2V0T3BlbiIsInRpdGxlIiwic3hJY29uQnV0dG9uIiwib3BlbkNvbG9yIiwic2V0UmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VEaXNhYmxlSU9TVG91Y2giLCJSUFRvb2x0aXAiLCJJY29uQnV0dG9uIiwic2l6ZSIsIk1vcmVWZXJ0IiwiQ2xpY2tBd2F5TGlzdGVuZXIiLCJvbkNsaWNrQXdheSJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7OytCQXdPU0E7OztlQUFBQTs7Ozt1QkF4T2lFO3VCQUN4QjtzQkFVM0M7dUJBQzhCOzJCQUNYO0FBZ0MxQixNQUFNQywyQkFBYUMsSUFBQUEsaUJBQVUsRUFDM0IsQ0FDRSxFQUNFQyxPQUFPLEVBQ1BDLElBQUksRUFDSkMsSUFBSSxFQUNKQyxXQUFX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