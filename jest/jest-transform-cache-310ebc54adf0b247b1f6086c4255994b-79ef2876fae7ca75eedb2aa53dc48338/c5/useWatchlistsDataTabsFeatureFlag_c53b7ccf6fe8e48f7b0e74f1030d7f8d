50a5573d72a5ab07879803e9f3b865cc
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    WATCHLISTS_DATA_TABS_LOCAL_STORAGE_KEY: function() {
        return WATCHLISTS_DATA_TABS_LOCAL_STORAGE_KEY;
    },
    useWatchlistsDataTabsFeatureFlag: function() {
        return useWatchlistsDataTabsFeatureFlag;
    }
});
const _react = require("react");
const _jotai = require("jotai");
const _utils = require("jotai/utils");
const _environment = require("@rp/common/environment");
const _financeDataTabTablesSchema = require("../financeDataTabTablesSchema");
const WATCHLISTS_DATA_TABS_LOCAL_STORAGE_KEY = "watchlists.activeDataTabs";
/**
 * Standard production tab set (16 tabs)
 * Includes "custom" which is controlled by LaunchDarkly feature flag webBeEnableCustomDataViewsWe
 * Excludes "smartGrid" which is available only in internal environment by default
 * All tabs listed here require "chat:pricing" entitlement for full feature access
 */ const active = [
    "custom",
    "pricing",
    "sentiment",
    "earningsSurprise",
    "analysts",
    "incomeStatement",
    "cashFlow",
    "balanceSheet",
    "valuation",
    "returns",
    "perShare",
    "liquidity",
    "margins",
    "capitalSpending",
    "operationalEfficiency",
    "incomeQuality"
];
/**
 * Environment-specific default tab configurations
 *
 * - internal (localhost): All possible tabs (financeDataTabTablesSchema.options) - includes smartGrid
 * - development/staging/production: Standard set (active array) - includes custom, excludes smartGrid by default
 *
 * Note: Individual users can still enable/disable tabs via localStorage overrides
 * Admin tools can also modify these defaults per environment
 */ const activeDefault = {
    internal: _financeDataTabTablesSchema.financeDataTabTablesSchema.options,
    development: active,
    staging: active,
    production: active
};
const atomFlags = (0, _utils.atomWithStorage)(WATCHLISTS_DATA_TABS_LOCAL_STORAGE_KEY, activeDefault[_environment.environment.name] || []);
/**
 * Hook for managing watchlist data tab feature flags
 *
 * @returns {[Array<List>, Function, Function]} Tuple containing:
 * - active: Current array of enabled tab names
 * - setActive: Function to update active tabs
 * - restoreDefaults: Function to reset to environment defaults
 *
 * Usage:
 * ```typescript
 * const [activeTabs, setActiveTabs, restoreDefaults] = useWatchlistsDataTabsFeatureFlag()
 *
 * // Check if a specific tab is enabled
 * const isPricingEnabled = activeTabs.includes("pricing")
 *
 * // Enable a new tab
 * setActiveTabs(prev => [...prev, "newTab"])
 *
 * // Reset to environment defaults
 * restoreDefaults()
 * ```
 *
 * Note: This hook only controls tab visibility. Access to tab data still requires
 * appropriate entitlements (e.g., "chat:pricing") which are validated server-side.
 */ function useWatchlistsDataTabsFeatureFlag() {
    const [active, setActive] = (0, _jotai.useAtom)(atomFlags);
    const restoreDefaults = (0, _react.useCallback)(()=>{
        setActive(activeDefault[_environment.environment.name] || []);
    }, [
        setActive
    ]);
    return [
        active,
        setActive,
        restoreDefaults
    ];
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL3dhdGNobGlzdHMvc3JjL2xpYi9ob29rcy91c2VXYXRjaGxpc3RzRGF0YVRhYnNGZWF0dXJlRmxhZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyB1c2VBdG9tIH0gZnJvbSBcImpvdGFpXCJcbmltcG9ydCB7IGF0b21XaXRoU3RvcmFnZSB9IGZyb20gXCJqb3RhaS91dGlsc1wiXG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiXG5pbXBvcnQgeyBlbnZpcm9ubWVudCB9IGZyb20gXCJAcnAvY29tbW9uL2Vudmlyb25tZW50XCJcbmltcG9ydCB7IENvbmZpZ0VudnMgfSBmcm9tIFwiQHJwL2NvbW1vbi9lbnZpcm9ubWVudC90eXBlc1wiXG5pbXBvcnQgeyBmaW5hbmNlRGF0YVRhYlRhYmxlc1NjaGVtYSB9IGZyb20gXCIuLi9maW5hbmNlRGF0YVRhYlRhYmxlc1NjaGVtYVwiXG5cbi8qKlxuICogV2F0Y2hsaXN0RGF0YVRhYnMgRmVhdHVyZSBGbGFnIFN5c3RlbVxuICpcbiAqIFRoaXMgbW9kdWxlIGNvbnRyb2xzIHdoaWNoIGZpbmFuY2lhbCBkYXRhIHRhYnMgYXJlIGF2YWlsYWJsZSB0byB1c2VycyB0aHJvdWdoIGEgY29tYmluYXRpb24gb2Y6XG4gKiAxLiBFbnZpcm9ubWVudC1zcGVjaWZpYyBkZWZhdWx0c1xuICogMi4gVXNlciBlbnRpdGxlbWVudHMgKGVzcGVjaWFsbHkgXCJjaGF0OnByaWNpbmdcIilcbiAqIDMuIExvY2FsIHN0b3JhZ2UgcGVyc2lzdGVuY2VcbiAqIDQuIEFkbWluIGNvbnRyb2xzXG4gKlxuICogIyMgRGVmYXVsdCBUYWIgQXZhaWxhYmlsaXR5XG4gKlxuICogQnkgZGVmYXVsdCwgZGlmZmVyZW50IGVudmlyb25tZW50cyBleHBvc2UgZGlmZmVyZW50IHNldHMgb2YgZGF0YSB0YWJzOlxuICpcbiAqIC0gKipJbnRlcm5hbCBFbnZpcm9ubWVudCoqOiBBbGwgMTcgdGFicyBhdmFpbGFibGUgKGluY2x1ZGVzIHNtYXJ0R3JpZClcbiAqIC0gKipQcm9kdWN0aW9uL1N0YWdpbmcvRGV2ZWxvcG1lbnQqKjogMTYgdGFicyBhdmFpbGFibGUgKGluY2x1ZGVzIGN1c3RvbSwgZXhjbHVkZXMgc21hcnRHcmlkIGJ5IGRlZmF1bHQpXG4gKlxuICogVGhlIGBhY3RpdmVgIGFycmF5IGJlbG93IGRlZmluZXMgdGhlIHN0YW5kYXJkIHByb2R1Y3Rpb24gc2V0IG9mIHRhYnMuXG4gKlxuICogIyMgRW50aXRsZW1lbnQgUmVxdWlyZW1lbnRzXG4gKlxuICogIyMjIFwiY2hhdDpwcmljaW5nXCIgRW50aXRsZW1lbnRcbiAqXG4gKiBVc2VycyBtdXN0IGhhdmUgdGhlIFwiY2hhdDpwcmljaW5nXCIgZW50aXRsZW1lbnQgdG8gYWNjZXNzIHByZW1pdW0gZmluYW5jaWFsIGRhdGEgdGFicy5cbiAqIFdpdGhvdXQgdGhpcyBlbnRpdGxlbWVudDpcbiAqXG4gKiAtIFVzZXJzIHNlZSA1IGVudGl0aWVzIGFuZCBhIHVubG9jayBiYW5uZXJzIGluc3RlYWQgb2YgZGF0YSBmb3IgcHJlbWl1bSB0YWJzXG4gKiAtIEZpbmFuY2lhbCBkYXRhIEFQSSByZXF1ZXN0cyBhcmUgTk9UIHlldCBibG9ja2VkIHNlcnZlci1zaWRlXG4gKiAtIEV4cG9ydCBmdW5jdGlvbmFsaXR5IGlzIHJlc3RyaWN0ZWRcbiAqIC0gQWR2YW5jZWQgbWV0cmljcyBhcmUgaGlkZGVuXG4gKlxuICogIyMjIFRhYiBBY2Nlc3MgTGV2ZWxzXG4gKlxuICogLSAqKkZyZWUgQWNjZXNzKio6IHByaWNpbmcgJiBzZW50aW1lbnRcbiAqIC0gKipQcmVtaXVtIEFjY2VzcyAocmVxdWlyZXMgXCJjaGF0OnByaWNpbmdcIikqKjogQWxsIGZpbmFuY2lhbCB0YWJzIHdpdGggZnVsbCBmZWF0dXJlc1xuICpcbiAqICMjIFVzYWdlIEludGVncmF0aW9uXG4gKlxuICogVGhpcyBob29rIGludGVncmF0ZXMgd2l0aDpcbiAqIC0gV2F0Y2hsaXN0RGF0YVRhYnNUb2dnbGVzIGNvbXBvbmVudCBmb3IgdGFiIHJlbmRlcmluZ1xuICogLSBFbnRpdGxlbWVudCBzeXN0ZW0gZm9yIGFjY2VzcyBjb250cm9sXG4gKiAtIEZlYXR1cmUgZmxhZyBhZG1pbiB0b29sc1xuICogLSBFbnZpcm9ubWVudCBjb25maWd1cmF0aW9uXG4gKi9cblxudHlwZSBMaXN0ID0gei5pbmZlcjx0eXBlb2YgZmluYW5jZURhdGFUYWJUYWJsZXNTY2hlbWE+XG5cbmNvbnN0IFdBVENITElTVFNfREFUQV9UQUJTX0xPQ0FMX1NUT1JBR0VfS0VZID0gXCJ3YXRjaGxpc3RzLmFjdGl2ZURhdGFUYWJzXCJcblxuLyoqXG4gKiBTdGFuZGFyZCBwcm9kdWN0aW9uIHRhYiBzZXQgKDE2IHRhYnMpXG4gKiBJbmNsdWRlcyBcImN1c3RvbVwiIHdoaWNoIGlzIGNvbnRyb2xsZWQgYnkgTGF1bmNoRGFya2x5IGZlYXR1cmUgZmxhZyB3ZWJCZUVuYWJsZUN1c3RvbURhdGFWaWV3c1dlXG4gKiBFeGNsdWRlcyBcInNtYXJ0R3JpZFwiIHdoaWNoIGlzIGF2YWlsYWJsZSBvbmx5IGluIGludGVybmFsIGVudmlyb25tZW50IGJ5IGRlZmF1bHRcbiAqIEFsbCB0YWJzIGxpc3RlZCBoZXJlIHJlcXVpcmUgXCJjaGF0OnByaWNpbmdcIiBlbnRpdGxlbWVudCBmb3IgZnVsbCBmZWF0dXJlIGFjY2Vzc1xuICovXG5jb25zdCBhY3RpdmUgPSBbXG4gIFwiY3VzdG9tXCIgYXMgY29uc3QsXG4gIFwicHJpY2luZ1wiIGFzIGNvbnN0LFxuICBcInNlbnRpbWVudFwiIGFzIGNvbnN0LFxuICBcImVhcm5pbmdzU3VycHJpc2VcIiBhcyBjb25zdCxcbiAgXCJhbmFseXN0c1wiIGFzIGNvbnN0LFxuICBcImluY29tZVN0YXRlbWVudFwiIGFzIGNvbnN0LFxuICBcImNhc2hGbG93XCIgYXMgY29uc3QsXG4gIFwiYmFsYW5jZVNoZWV0XCIgYXMgY29uc3QsXG4gIFwidmFsdWF0aW9uXCIgYXMgY29uc3QsXG4gIFwicmV0dXJuc1wiIGFzIGNvbnN0LFxuICBcInBlclNoYXJlXCIgYXMgY29uc3QsXG4gIFwibGlxdWlkaXR5XCIgYXMgY29uc3QsXG4gIFwibWFyZ2luc1wiIGFzIGNvbnN0LFxuICBcImNhcGl0YWxTcGVuZGluZ1wiIGFzIGNvbnN0LFxuICBcIm9wZXJhdGlvbmFsRWZmaWNpZW5jeVwiIGFzIGNvbnN0LFxuICBcImluY29tZVF1YWxpdHlcIiBhcyBjb25zdCxcbl1cblxuLyoqXG4gKiBFbnZpcm9ubWVudC1zcGVjaWZpYyBkZWZhdWx0IHRhYiBjb25maWd1cmF0aW9uc1xuICpcbiAqIC0gaW50ZXJuYWwgKGxvY2FsaG9zdCk6IEFsbCBwb3NzaWJsZSB0YWJzIChmaW5hbmNlRGF0YVRhYlRhYmxlc1NjaGVtYS5vcHRpb25zKSAtIGluY2x1ZGVzIHNtYXJ0R3JpZFxuICogLSBkZXZlbG9wbWVudC9zdGFnaW5nL3Byb2R1Y3Rpb246IFN0YW5kYXJkIHNldCAoYWN0aXZlIGFycmF5KSAtIGluY2x1ZGVzIGN1c3RvbSwgZXhjbHVkZXMgc21hcnRHcmlkIGJ5IGRlZmF1bHRcbiAqXG4gKiBOb3RlOiBJbmRpdmlkdWFsIHVzZXJzIGNhbiBzdGlsbCBlbmFibGUvZGlzYWJsZSB0YWJzIHZpYSBsb2NhbFN0b3JhZ2Ugb3ZlcnJpZGVzXG4gKiBBZG1pbiB0b29scyBjYW4gYWxzbyBtb2RpZnkgdGhlc2UgZGVmYXVsdHMgcGVyIGVudmlyb25tZW50XG4gKi9cbmNvbnN0IGFjdGl2ZURlZmF1bHQ6IFJlY29yZDxDb25maWdFbnZzLCBBcnJheTxMaXN0Pj4gPSB7XG4gIGludGVybmFsOiBmaW5hbmNlRGF0YVRhYlRhYmxlc1NjaGVtYS5vcHRpb25zLFxuICBkZXZlbG9wbWVudDogYWN0aXZlLFxuICBzdGFnaW5nOiBhY3RpdmUsXG4gIHByb2R1Y3Rpb246IGFjdGl2ZSxcbn1cblxuY29uc3QgYXRvbUZsYWdzID0gYXRvbVdpdGhTdG9yYWdlKFxuICBXQVRDSExJU1RTX0RBVEFfVEFCU19MT0NBTF9TVE9SQUdFX0tFWSxcbiAgYWN0aXZlRGVmYXVsdFtlbnZpcm9ubWVudC5uYW1lXSB8fCBbXSxcbilcblxuLyoqXG4gKiBIb29rIGZvciBtYW5hZ2luZyB3YXRjaGxpc3QgZGF0YSB0YWIgZmVhdHVyZSBmbGFnc1xuICpcbiAqIEByZXR1cm5zIHtbQXJyYXk8TGlzdD4sIEZ1bmN0aW9uLCBGdW5jdGlvbl19IFR1cGxlIGNvbnRhaW5pbmc6XG4gKiAtIGFjdGl2ZTogQ3VycmVudCBhcnJheSBvZiBlbmFibGVkIHRhYiBuYW1lc1xuICogLSBzZXRBY3RpdmU6IEZ1bmN0aW9uIHRvIHVwZGF0ZSBhY3RpdmUgdGFic1xuICogLSByZXN0b3JlRGVmYXVsdHM6IEZ1bmN0aW9uIHRvIHJlc2V0IHRvIGVudmlyb25tZW50IGRlZmF1bHRzXG4gKlxuICogVXNhZ2U6XG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBbYWN0aXZlVGFicywgc2V0QWN0aXZlVGFicywgcmVzdG9yZURlZmF1bHRzXSA9IHVzZVdhdGNobGlzdHNEYXRhVGFic0ZlYXR1cmVGbGFnKClcbiAqXG4gKiAvLyBDaGVjayBpZiBhIHNwZWNpZmljIHRhYiBpcyBlbmFibGVkXG4gKiBjb25zdCBpc1ByaWNpbmdFbmFibGVkID0gYWN0aXZlVGFicy5pbmNsdWRlcyhcInByaWNpbmdcIilcbiAqXG4gKiAvLyBFbmFibGUgYSBuZXcgdGFiXG4gKiBzZXRBY3RpdmVUYWJzKHByZXYgPT4gWy4uLnByZXYsIFwibmV3VGFiXCJdKVxuICpcbiAqIC8vIFJlc2V0IHRvIGVudmlyb25tZW50IGRlZmF1bHRzXG4gKiByZXN0b3JlRGVmYXVsdHMoKVxuICogYGBgXG4gKlxuICogTm90ZTogVGhpcyBob29rIG9ubHkgY29udHJvbHMgdGFiIHZpc2liaWxpdHkuIEFjY2VzcyB0byB0YWIgZGF0YSBzdGlsbCByZXF1aXJlc1xuICogYXBwcm9wcmlhdGUgZW50aXRsZW1lbnRzIChlLmcuLCBcImNoYXQ6cHJpY2luZ1wiKSB3aGljaCBhcmUgdmFsaWRhdGVkIHNlcnZlci1zaWRlLlxuICovXG5mdW5jdGlvbiB1c2VXYXRjaGxpc3RzRGF0YVRhYnNGZWF0dXJlRmxhZygpIHtcbiAgY29uc3QgW2FjdGl2ZSwgc2V0QWN0aXZlXSA9IHVzZUF0b20oYXRvbUZsYWdzKVxuICBjb25zdCByZXN0b3JlRGVmYXVsdHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0QWN0aXZlKGFjdGl2ZURlZmF1bHRbZW52aXJvbm1lbnQubmFtZV0gfHwgW10pXG4gIH0sIFtzZXRBY3RpdmVdKVxuICByZXR1cm4gW2FjdGl2ZSwgc2V0QWN0aXZlLCByZXN0b3JlRGVmYXVsdHNdIGFzIGNvbnN0XG59XG5cbmV4cG9ydCB7IHVzZVdhdGNobGlzdHNEYXRhVGFic0ZlYXR1cmVGbGFnLCBXQVRDSExJU1RTX0RBVEFfVEFCU19MT0NBTF9TVE9SQUdFX0tFWSB9XG4iXSwibmFtZXMiOlsiV0FUQ0hMSVNUU19EQVRBX1RBQlNfTE9DQUxfU1RPUkFHRV9LRVkiLCJ1c2VXYXRjaGxpc3RzRGF0YVRhYnNGZWF0dXJlRmxhZyIsImFjdGl2ZSIsImFjdGl2ZURlZmF1bHQiLCJpbnRlcm5hbCIsImZpbmFuY2VEYXRhVGFiVGFibGVzU2NoZW1hIiwib3B0aW9ucyIsImRldmVsb3BtZW50Iiwic3RhZ2luZyIsInByb2R1Y3Rpb24iLCJhdG9tRmxhZ3MiLCJhdG9tV2l0aFN0b3JhZ2UiLCJlbnZpcm9ubWVudCIsIm5hbWUiLCJzZXRBY3RpdmUiLCJ1c2VBdG9tIiwicmVzdG9yZURlZmF1bHRzIiwidXNlQ2FsbGJhY2siXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBdUkyQ0Esc0NBQXNDO2VBQXRDQTs7SUFBbENDLGdDQUFnQztlQUFoQ0E7Ozt1QkF2SW1CO3VCQUNKO3VCQUNROzZCQUVKOzRDQUVlO0FBZ0QzQyxNQUFNRCx5Q0FBeUM7QUFFL0M7Ozs7O0NBS0MsR0FDRCxNQUFNRSxTQUFTO0lBQ2I7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUVEOzs7Ozs7OztDQVFDLEdBQ0QsTUFBTUMsZ0JBQWlEO0lBQ3JEQyxVQUFVQyxzREFBMEIsQ0FBQ0MsT0FBTztJQUM1Q0MsYUFBYUw7SUFDYk0sU0FBU047SUFDVE8sWUFBWVA7QUFDZDtBQUVBLE1BQU1RLFlBQVlDLElBQUFBLHNCQUFlLEVBQy9CWCx3Q0FDQUcsYUFBYSxDQUFDUyx3QkFBVyxDQUFDQyxJQUFJLENBQUMsSUFBSSxFQUFFO0FBR3ZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0F3QkMsR0FDRCxTQUFTWjtJQUNQLE1BQU0sQ0FBQ0MsUUFBUVksVUFBVSxHQUFHQyxJQUFBQSxjQUFPLEVBQUNMO0lBQ3BDLE1BQU1NLGtCQUFrQkMsSUFBQUEsa0JBQVcsRUFBQztRQUNsQ0gsVUFBVVgsYUFBYSxDQUFDUyx3QkFBVyxDQUFDQyxJQUFJLENBQUMsSUFBSSxFQUFFO0lBQ2pELEdBQUc7UUFBQ0M7S0FBVTtJQUNkLE9BQU87UUFBQ1o7UUFBUVk7UUFBV0U7S0FBZ0I7QUFDN0MifQ==