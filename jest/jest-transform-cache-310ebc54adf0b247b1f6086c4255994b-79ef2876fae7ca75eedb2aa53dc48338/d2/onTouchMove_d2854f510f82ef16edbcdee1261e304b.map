{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/swiper/core/events/onTouchMove.js"],"sourcesContent":["import { getDocument } from 'ssr-window';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && event.pointerType === 'mouse') return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n    return;\n  }\n  const pointerIndex = data.evCache.findIndex(cachedEv => cachedEv.pointerId === e.pointerId);\n  if (pointerIndex >= 0) data.evCache[pointerIndex] = e;\n  const targetTouch = data.evCache.length > 1 ? data.evCache[0] : e;\n  const pageX = targetTouch.pageX;\n  const pageY = targetTouch.pageY;\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n  if (!swiper.allowTouchMove) {\n    if (!e.target.matches(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        prevX: swiper.touches.currentX,\n        prevY: swiper.touches.currentY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n    return;\n  }\n  if (params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n  if (document.activeElement) {\n    if (e.target === document.activeElement && e.target.matches(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n  if (data.isScrolling || swiper.zoom && swiper.params.zoom && swiper.params.zoom.enabled && data.evCache.length > 1) {\n    data.isTouched = false;\n    return;\n  }\n  if (!data.startMoving) {\n    return;\n  }\n  swiper.allowClick = false;\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  let touchesDiff = swiper.isHorizontal() ? touches.currentX - touches.previousX : touches.currentY - touches.previousY;\n  if (params.oneWayMovement) {\n    diff = Math.abs(diff) * (rtl ? 1 : -1);\n    touchesDiff = Math.abs(touchesDiff) * (rtl ? 1 : -1);\n  }\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) {\n    diff = -diff;\n    touchesDiff = -touchesDiff;\n  }\n  const prevTouchesDirection = swiper.touchesDirection;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  swiper.touchesDirection = touchesDiff > 0 ? 'prev' : 'next';\n  const isLoop = swiper.params.loop && !params.cssMode;\n  if (!data.isMoved) {\n    if (isLoop) {\n      swiper.loopFix({\n        direction: swiper.swipeDirection\n      });\n    }\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n    if (swiper.animating) {\n      const evt = new window.CustomEvent('transitionend', {\n        bubbles: true,\n        cancelable: true\n      });\n      swiper.wrapperEl.dispatchEvent(evt);\n    }\n    data.allowMomentumBounce = false;\n    // Grab Cursor\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n    swiper.emit('sliderFirstMove', e);\n  }\n  let loopFixed;\n  if (data.isMoved && prevTouchesDirection !== swiper.touchesDirection && isLoop && Math.abs(diff) >= 1) {\n    // need another loop fix\n    swiper.loopFix({\n      direction: swiper.swipeDirection,\n      setTranslate: true\n    });\n    loopFixed = true;\n  }\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n  if (diff > 0) {\n    if (isLoop && !loopFixed && data.currentTranslate > (params.centeredSlides ? swiper.minTranslate() - swiper.size / 2 : swiper.minTranslate())) {\n      swiper.loopFix({\n        direction: 'prev',\n        setTranslate: true,\n        activeSlideIndex: 0\n      });\n    }\n    if (data.currentTranslate > swiper.minTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n      }\n    }\n  } else if (diff < 0) {\n    if (isLoop && !loopFixed && data.currentTranslate < (params.centeredSlides ? swiper.maxTranslate() + swiper.size / 2 : swiper.maxTranslate())) {\n      swiper.loopFix({\n        direction: 'next',\n        setTranslate: true,\n        activeSlideIndex: swiper.slides.length - (params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(parseFloat(params.slidesPerView, 10)))\n      });\n    }\n    if (data.currentTranslate < swiper.maxTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n      }\n    }\n  }\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  }\n\n  // Directions locks\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  // Threshold\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n  if (!params.followFinger || params.cssMode) return;\n\n  // Update active index in free mode\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  }\n  // Update progress\n  swiper.updateProgress(data.currentTranslate);\n  // Update translate\n  swiper.setTranslate(data.currentTranslate);\n}"],"names":["onTouchMove","event","document","getDocument","swiper","data","touchEventsData","params","touches","rtlTranslate","rtl","enabled","simulateTouch","pointerType","e","originalEvent","isTouched","startMoving","isScrolling","emit","pointerIndex","evCache","findIndex","cachedEv","pointerId","targetTouch","length","pageX","pageY","preventedByNestedSwiper","startX","startY","allowTouchMove","target","matches","focusableElements","allowClick","Object","assign","prevX","currentX","prevY","currentY","touchStartTime","now","touchReleaseOnEdges","loop","isVertical","translate","maxTranslate","minTranslate","isMoved","activeElement","allowTouchCallbacks","targetTouches","diffX","diffY","threshold","Math","sqrt","touchAngle","isHorizontal","atan2","abs","PI","zoom","cssMode","cancelable","preventDefault","touchMoveStopPropagation","nested","stopPropagation","diff","touchesDiff","previousX","previousY","oneWayMovement","touchRatio","prevTouchesDirection","touchesDirection","swipeDirection","isLoop","loopFix","direction","startTranslate","getTranslate","setTransition","animating","evt","window","CustomEvent","bubbles","wrapperEl","dispatchEvent","allowMomentumBounce","grabCursor","allowSlideNext","allowSlidePrev","setGrabCursor","loopFixed","setTranslate","currentTranslate","disableParentSwiper","resistanceRatio","centeredSlides","size","activeSlideIndex","resistance","slides","slidesPerView","slidesPerViewDynamic","ceil","parseFloat","allowThresholdMove","followFinger","freeMode","watchSlidesProgress","updateActiveIndex","updateSlidesClasses","updateProgress"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}