{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/node_modules/swiper/core/update/updateActiveIndex.js"],"sourcesContent":["import { preload } from '../../shared/process-lazy-preloader.js';\nexport function getActiveIndexByTranslate(swiper) {\n  const {\n    slidesGrid,\n    params\n  } = swiper;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  let activeIndex;\n  for (let i = 0; i < slidesGrid.length; i += 1) {\n    if (typeof slidesGrid[i + 1] !== 'undefined') {\n      if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n        activeIndex = i;\n      } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n        activeIndex = i + 1;\n      }\n    } else if (translate >= slidesGrid[i]) {\n      activeIndex = i;\n    }\n  }\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n  }\n  return activeIndex;\n}\nexport default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n  const getVirtualRealIndex = aIndex => {\n    let realIndex = aIndex - swiper.virtual.slidesBefore;\n    if (realIndex < 0) {\n      realIndex = swiper.virtual.slides.length + realIndex;\n    }\n    if (realIndex >= swiper.virtual.slides.length) {\n      realIndex -= swiper.virtual.slides.length;\n    }\n    return realIndex;\n  };\n  if (typeof activeIndex === 'undefined') {\n    activeIndex = getActiveIndexByTranslate(swiper);\n  }\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n    if (swiper.params.loop && swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.realIndex = getVirtualRealIndex(activeIndex);\n    }\n    return;\n  }\n  // Get real index\n  let realIndex;\n  if (swiper.virtual && params.virtual.enabled && params.loop) {\n    realIndex = getVirtualRealIndex(activeIndex);\n  } else if (swiper.slides[activeIndex]) {\n    realIndex = parseInt(swiper.slides[activeIndex].getAttribute('data-swiper-slide-index') || activeIndex, 10);\n  } else {\n    realIndex = activeIndex;\n  }\n  Object.assign(swiper, {\n    previousSnapIndex,\n    snapIndex,\n    previousRealIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  if (swiper.initialized) {\n    preload(swiper);\n  }\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}"],"names":["updateActiveIndex","getActiveIndexByTranslate","swiper","slidesGrid","params","translate","rtlTranslate","activeIndex","i","length","normalizeSlideIndex","newActiveIndex","snapGrid","previousIndex","realIndex","previousRealIndex","snapIndex","previousSnapIndex","getVirtualRealIndex","aIndex","virtual","slidesBefore","slides","indexOf","skip","Math","min","slidesPerGroupSkip","floor","slidesPerGroup","emit","loop","enabled","parseInt","getAttribute","Object","assign","initialized","preload","runCallbacksOnInit"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}