{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/chat/src/lib/Chat/Chat/ChatResponse/ResponseActions.tsx"],"sourcesContent":["import { useState } from \"react\"\nimport { RPTooltip } from \"@rp/react/web/common/base-components\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { RunSearchIcon } from \"@rp/react/web/icons\"\nimport { Box, IconButton } from \"@rp/react/web/mui/core\"\nimport {\n  ContentCopy,\n  Done,\n  Replay,\n  ThumbDownAlt,\n  ThumbDownOffAlt,\n  ThumbUpAlt,\n  ThumbUpOffAlt,\n} from \"@rp/react/web/mui/icons\"\nimport { FeedbackChatHandler } from \"./ChatResponse\"\n\ntype Props = {\n  onCopy: (() => void) | null\n  onChatFeedback: FeedbackChatHandler | null\n  onRegenerate: (() => void) | null\n  onAuditToggle: ((newValue: boolean) => void) | null\n  isAuditActive?: boolean\n  interactionTimestamp: string\n  chatFeedback: Record<string, number>\n  variant: \"desktop\" | \"mobile\"\n}\nconst ResponseActions = ({\n  onCopy,\n  onRegenerate,\n  onAuditToggle,\n  onChatFeedback,\n  isAuditActive = false,\n  interactionTimestamp,\n  chatFeedback,\n  variant,\n}: Props) => {\n  const { isHoverDevice } = useDeviceInfo()\n  const [copied, setCopied] = useState(false)\n  const isMobile = variant === \"mobile\"\n  const handleCopy = () => {\n    setCopied(true)\n    onCopy?.()\n    setTimeout(() => setCopied(false), 2000)\n  }\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        ml: isMobile ? 2 : 7,\n        gap: 0.5,\n\n        \"& svg\": {\n          height: 20,\n          width: 20,\n          color: \"grey.300\",\n        },\n\n        \"& button:hover\": {\n          backgroundColor: isHoverDevice ? \"transparent\" : undefined,\n        },\n\n        \"& button:hover svg\": {\n          color: isHoverDevice ? \"text.primary\" : undefined,\n        },\n      }}\n    >\n      {onCopy ? (\n        <RPTooltip title={copied ? \"Copied\" : \"Copy\"} arrow={false} placement=\"top\">\n          <IconButton onClick={handleCopy} size=\"small\">\n            {copied ? <Done /> : <ContentCopy />}\n          </IconButton>\n        </RPTooltip>\n      ) : null}\n      {onRegenerate ? (\n        <RPTooltip title=\"Regenerate\" arrow={false} placement=\"top\">\n          <IconButton onClick={onRegenerate} size=\"small\">\n            <Replay />\n          </IconButton>\n        </RPTooltip>\n      ) : null}\n      {onChatFeedback ? (\n        <RPTooltip title={\"Good response\"} arrow={false} placement=\"top\">\n          <IconButton\n            onClick={() => onChatFeedback({ feedbackSentiment: 1, interactionTimestamp })}\n            size=\"small\"\n          >\n            {chatFeedback[interactionTimestamp] === 1 ? (\n              <ThumbUpAlt sx={theme => ({ fill: theme.palette.text.primary })} />\n            ) : (\n              <ThumbUpOffAlt />\n            )}\n          </IconButton>\n        </RPTooltip>\n      ) : null}\n      {onChatFeedback ? (\n        <RPTooltip title={\"Bad response\"} arrow={false} placement=\"top\">\n          <IconButton\n            onClick={() => onChatFeedback({ feedbackSentiment: -1, interactionTimestamp })}\n            size=\"small\"\n          >\n            {chatFeedback[interactionTimestamp] === -1 ? (\n              <ThumbDownAlt sx={theme => ({ fill: theme.palette.text.primary })} />\n            ) : (\n              <ThumbDownOffAlt />\n            )}\n          </IconButton>\n        </RPTooltip>\n      ) : null}\n      {onAuditToggle ? (\n        <RPTooltip\n          title={isAuditActive ? \"Hide Audit Trail\" : \"Show Audit Trail\"}\n          arrow={false}\n          placement=\"top\"\n          PopperProps={{ disablePortal: true, sx: { zIndex: 1 } }}\n        >\n          <IconButton\n            onClick={() => onAuditToggle(!isAuditActive)}\n            size=\"small\"\n            sx={{\n              backgroundColor: isAuditActive ? \"overlay.surface\" : undefined,\n              \"& svg\": {\n                color: isAuditActive ? \"text.primary\" : undefined,\n                width: 24,\n                height: 24,\n              },\n              \"&:hover\": {\n                backgroundColor: isAuditActive ? \"rgba(255, 255, 255, 0.08) !important\" : undefined,\n              },\n            }}\n          >\n            <RunSearchIcon />\n          </IconButton>\n        </RPTooltip>\n      ) : null}\n    </Box>\n  )\n}\n\nexport { ResponseActions }\n"],"names":["ResponseActions","onCopy","onRegenerate","onAuditToggle","onChatFeedback","isAuditActive","interactionTimestamp","chatFeedback","variant","isHoverDevice","useDeviceInfo","copied","setCopied","useState","isMobile","handleCopy","setTimeout","Box","sx","display","ml","gap","height","width","color","backgroundColor","undefined","RPTooltip","title","arrow","placement","IconButton","onClick","size","Done","ContentCopy","Replay","feedbackSentiment","ThumbUpAlt","theme","fill","palette","text","primary","ThumbUpOffAlt","ThumbDownAlt","ThumbDownOffAlt","PopperProps","disablePortal","zIndex","RunSearchIcon"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}