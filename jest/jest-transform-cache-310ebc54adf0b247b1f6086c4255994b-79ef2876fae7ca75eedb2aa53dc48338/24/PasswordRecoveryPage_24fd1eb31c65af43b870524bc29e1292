f00b79651a7df82aeeec54a9bbd85865
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "PasswordRecoveryPage", {
    enumerable: true,
    get: function() {
        return PasswordRecoveryPage;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _reactrouterdom = require("react-router-dom");
const _clerkreact = require("@clerk/clerk-react");
const _utils = require("@rp/common/utils");
const _hooks = require("@rp/react/common/hooks");
const _compositecomponents = require("@rp/react/web/common/composite-components");
const _providers = require("@rp/react/web/common/providers");
const _router = /*#__PURE__*/ _interop_require_wildcard(require("@rp/react/web/router"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const PasswordRecoveryPage = ()=>{
    const [searchParams, setSearchParams] = (0, _reactrouterdom.useSearchParams)();
    var _searchParams_get;
    const email = decodeURI((_searchParams_get = searchParams.get("email")) !== null && _searchParams_get !== void 0 ? _searchParams_get : "");
    const [submitDisabled, setSubmitDisabled] = (0, _react.useState)(email === "");
    // const formInAction = useRef(false)
    const navigate = (0, _reactrouterdom.useNavigate)();
    const { isSignedIn } = (0, _clerkreact.useAuth)();
    const { signIn, setActive } = (0, _clerkreact.useSignIn)();
    const { enqueueError } = (0, _providers.useSnackbar)();
    const [newPassword, setNewPassword] = (0, _react.useState)("");
    const [confirmPassword, setConfirmPassword] = (0, _react.useState)("");
    const passwordFormRef = (0, _react.useRef)(null);
    const { validation, resetValidationState } = (0, _hooks.useValidatePasswords)(newPassword, confirmPassword);
    const isValidated = Object.values(validation).every(Boolean);
    (0, _react.useEffect)(()=>{
        // Change the submit button state only when the password form is mounted
        if (passwordFormRef.current) {
            setSubmitDisabled(!isValidated);
        }
    }, [
        isValidated
    ]);
    const [showPassword, setShowPassword] = (0, _react.useState)(false);
    const handleClickShowPassword = ()=>setShowPassword((show)=>!show);
    const handleMouseDownPassword = (event)=>{
        event.preventDefault();
    };
    // ==============================
    // Mutations
    // ==============================
    const onError = (error)=>{
        enqueueError(error ? (0, _utils.displayError)(error) : "User account not found.", {
            anchorOrigin: {
                vertical: "bottom",
                horizontal: "center"
            }
        });
    };
    const { isSuccess, isPending, mutate } = (0, _hooks.useSendCode)(signIn, onError);
    const { mutate: mutateNewPassword, isPending: isPendingNewPassword } = (0, _hooks.useResetPassword)(signIn, setActive, onError);
    const isLoading = isPending || isPendingNewPassword;
    // ==============================
    // Handlers
    // ==============================
    // Send the user a reset code
    function create(e) {
        e.preventDefault();
        // formInAction.current = true
        const formData = new FormData(e.currentTarget);
        const email = formData.get("email");
        if (!email) {
            return;
        }
        setSearchParams();
        return mutate({
            strategy: "reset_password_email_code",
            identifier: email
        });
    }
    // Reset the user's password.
    async function reset(e) {
        e.preventDefault();
        // formInAction.current = true
        const formData = new FormData(e.currentTarget);
        const code = formData.get("code");
        const password = formData.get("new-password");
        if (!isValidated) {
            (0, _utils.displayError)("Password is not valid. Please check the password requirements.");
            return;
        }
        if (!code) {
            (0, _utils.displayError)("Please enter the reset code");
            return;
        }
        return mutateNewPassword({
            strategy: "reset_password_email_code",
            code,
            password
        });
    }
    // If the user is already signed in,
    // redirect them to the home page
    if (isSignedIn) {
        navigate(_router.HOME_ROUTE);
    }
    const title = isSuccess ? "New Password" : "Reset Your Password";
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.LoginContainer, {
        pageTitle: title,
        title: title,
        children: isSuccess ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.NewPasswordForm, {
            formRef: passwordFormRef,
            showPassword: showPassword,
            validation: validation,
            isLoading: isLoading,
            isSubmitDisabled: submitDisabled,
            onInvalid: (event)=>{
                event.preventDefault();
                enqueueError("Enter code.");
            },
            onSubmit: reset,
            handleShowHidePassword: handleClickShowPassword,
            handleBackToLogin: ()=>navigate(_router.LOGIN_ROUTE),
            handleMouseDownPassword: handleMouseDownPassword,
            onNewPasswordChange: (e)=>{
                setNewPassword(e.target.value);
            },
            onConfirmPasswordChange: (e)=>{
                setConfirmPassword(e.target.value);
            }
        }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.ForgotPasswordForm, {
            defaultValue: email,
            onChange: (e)=>{
                setSubmitDisabled(!e.currentTarget.checkValidity());
            },
            onSubmit: (e)=>{
                setSubmitDisabled(true);
                resetValidationState();
                setNewPassword("");
                setConfirmPassword("");
                create(e);
            },
            isLoading: isLoading,
            submitDisabled: submitDisabled,
            handleBackButton: ()=>navigate(_router.LOGIN_ROUTE)
        })
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2FwcHMvY2xpZW50LXdlYi9zcmMvYXBwL3BhZ2VzL1Bhc3N3b3JkUmVjb3ZlcnkvUGFzc3dvcmRSZWNvdmVyeVBhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlTmF2aWdhdGUsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCJcbmltcG9ydCB7IHVzZUF1dGgsIHVzZVNpZ25JbiB9IGZyb20gXCJAY2xlcmsvY2xlcmstcmVhY3RcIlxuaW1wb3J0IHsgZGlzcGxheUVycm9yIH0gZnJvbSBcIkBycC9jb21tb24vdXRpbHNcIlxuaW1wb3J0IHsgdXNlUmVzZXRQYXNzd29yZCwgdXNlU2VuZENvZGUsIHVzZVZhbGlkYXRlUGFzc3dvcmRzIH0gZnJvbSBcIkBycC9yZWFjdC9jb21tb24vaG9va3NcIlxuaW1wb3J0IHtcbiAgRm9yZ290UGFzc3dvcmRGb3JtLFxuICBMb2dpbkNvbnRhaW5lcixcbiAgTmV3UGFzc3dvcmRGb3JtLFxufSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vY29tcG9zaXRlLWNvbXBvbmVudHNcIlxuaW1wb3J0IHsgdXNlU25hY2tiYXIgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vcHJvdmlkZXJzXCJcbmltcG9ydCAqIGFzIFVSTFMgZnJvbSBcIkBycC9yZWFjdC93ZWIvcm91dGVyXCJcblxuY29uc3QgUGFzc3dvcmRSZWNvdmVyeVBhZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IFtzZWFyY2hQYXJhbXMsIHNldFNlYXJjaFBhcmFtc10gPSB1c2VTZWFyY2hQYXJhbXMoKVxuXG4gIGNvbnN0IGVtYWlsID0gZGVjb2RlVVJJKHNlYXJjaFBhcmFtcy5nZXQoXCJlbWFpbFwiKSA/PyBcIlwiKVxuICBjb25zdCBbc3VibWl0RGlzYWJsZWQsIHNldFN1Ym1pdERpc2FibGVkXSA9IHVzZVN0YXRlKGVtYWlsID09PSBcIlwiKVxuXG4gIC8vIGNvbnN0IGZvcm1JbkFjdGlvbiA9IHVzZVJlZihmYWxzZSlcblxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKClcbiAgY29uc3QgeyBpc1NpZ25lZEluIH0gPSB1c2VBdXRoKClcbiAgY29uc3QgeyBzaWduSW4sIHNldEFjdGl2ZSB9ID0gdXNlU2lnbkluKClcbiAgY29uc3QgeyBlbnF1ZXVlRXJyb3IgfSA9IHVzZVNuYWNrYmFyKClcblxuICBjb25zdCBbbmV3UGFzc3dvcmQsIHNldE5ld1Bhc3N3b3JkXSA9IHVzZVN0YXRlKFwiXCIpXG4gIGNvbnN0IFtjb25maXJtUGFzc3dvcmQsIHNldENvbmZpcm1QYXNzd29yZF0gPSB1c2VTdGF0ZShcIlwiKVxuXG4gIGNvbnN0IHBhc3N3b3JkRm9ybVJlZiA9IHVzZVJlZjxIVE1MRm9ybUVsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3QgeyB2YWxpZGF0aW9uLCByZXNldFZhbGlkYXRpb25TdGF0ZSB9ID0gdXNlVmFsaWRhdGVQYXNzd29yZHMobmV3UGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZClcblxuICBjb25zdCBpc1ZhbGlkYXRlZCA9IE9iamVjdC52YWx1ZXModmFsaWRhdGlvbikuZXZlcnkoQm9vbGVhbilcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENoYW5nZSB0aGUgc3VibWl0IGJ1dHRvbiBzdGF0ZSBvbmx5IHdoZW4gdGhlIHBhc3N3b3JkIGZvcm0gaXMgbW91bnRlZFxuICAgIGlmIChwYXNzd29yZEZvcm1SZWYuY3VycmVudCkge1xuICAgICAgc2V0U3VibWl0RGlzYWJsZWQoIWlzVmFsaWRhdGVkKVxuICAgIH1cbiAgfSwgW2lzVmFsaWRhdGVkXSlcblxuICBjb25zdCBbc2hvd1Bhc3N3b3JkLCBzZXRTaG93UGFzc3dvcmRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IGhhbmRsZUNsaWNrU2hvd1Bhc3N3b3JkID0gKCkgPT4gc2V0U2hvd1Bhc3N3b3JkKHNob3cgPT4gIXNob3cpXG4gIGNvbnN0IGhhbmRsZU1vdXNlRG93blBhc3N3b3JkID0gKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBNdXRhdGlvbnNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgY29uc3Qgb25FcnJvciA9IChlcnJvcj86IEVycm9yKSA9PiB7XG4gICAgZW5xdWV1ZUVycm9yKGVycm9yID8gZGlzcGxheUVycm9yKGVycm9yKSA6IFwiVXNlciBhY2NvdW50IG5vdCBmb3VuZC5cIiwge1xuICAgICAgYW5jaG9yT3JpZ2luOiB7IHZlcnRpY2FsOiBcImJvdHRvbVwiLCBob3Jpem9udGFsOiBcImNlbnRlclwiIH0sXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IHsgaXNTdWNjZXNzLCBpc1BlbmRpbmcsIG11dGF0ZSB9ID0gdXNlU2VuZENvZGUoc2lnbkluLCBvbkVycm9yKVxuXG4gIGNvbnN0IHsgbXV0YXRlOiBtdXRhdGVOZXdQYXNzd29yZCwgaXNQZW5kaW5nOiBpc1BlbmRpbmdOZXdQYXNzd29yZCB9ID0gdXNlUmVzZXRQYXNzd29yZChcbiAgICBzaWduSW4sXG4gICAgc2V0QWN0aXZlLFxuICAgIG9uRXJyb3IsXG4gIClcblxuICBjb25zdCBpc0xvYWRpbmcgPSBpc1BlbmRpbmcgfHwgaXNQZW5kaW5nTmV3UGFzc3dvcmRcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSGFuZGxlcnNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLy8gU2VuZCB0aGUgdXNlciBhIHJlc2V0IGNvZGVcbiAgZnVuY3Rpb24gY3JlYXRlKGU6IFJlYWN0LkZvcm1FdmVudDxIVE1MRm9ybUVsZW1lbnQ+KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgLy8gZm9ybUluQWN0aW9uLmN1cnJlbnQgPSB0cnVlXG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShlLmN1cnJlbnRUYXJnZXQpXG4gICAgY29uc3QgZW1haWwgPSBmb3JtRGF0YS5nZXQoXCJlbWFpbFwiKSBhcyBzdHJpbmcgfCB1bmRlZmluZWRcblxuICAgIGlmICghZW1haWwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldFNlYXJjaFBhcmFtcygpXG5cbiAgICByZXR1cm4gbXV0YXRlKHtcbiAgICAgIHN0cmF0ZWd5OiBcInJlc2V0X3Bhc3N3b3JkX2VtYWlsX2NvZGVcIixcbiAgICAgIGlkZW50aWZpZXI6IGVtYWlsLFxuICAgIH0pXG4gIH1cblxuICAvLyBSZXNldCB0aGUgdXNlcidzIHBhc3N3b3JkLlxuICBhc3luYyBmdW5jdGlvbiByZXNldChlOiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEZvcm1FbGVtZW50Pikge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIC8vIGZvcm1JbkFjdGlvbi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZS5jdXJyZW50VGFyZ2V0KVxuICAgIGNvbnN0IGNvZGUgPSBmb3JtRGF0YS5nZXQoXCJjb2RlXCIpIGFzIHN0cmluZyB8IHVuZGVmaW5lZFxuICAgIGNvbnN0IHBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KFwibmV3LXBhc3N3b3JkXCIpIGFzIHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gICAgaWYgKCFpc1ZhbGlkYXRlZCkge1xuICAgICAgZGlzcGxheUVycm9yKFwiUGFzc3dvcmQgaXMgbm90IHZhbGlkLiBQbGVhc2UgY2hlY2sgdGhlIHBhc3N3b3JkIHJlcXVpcmVtZW50cy5cIilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghY29kZSkge1xuICAgICAgZGlzcGxheUVycm9yKFwiUGxlYXNlIGVudGVyIHRoZSByZXNldCBjb2RlXCIpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICByZXR1cm4gbXV0YXRlTmV3UGFzc3dvcmQoe1xuICAgICAgc3RyYXRlZ3k6IFwicmVzZXRfcGFzc3dvcmRfZW1haWxfY29kZVwiLFxuICAgICAgY29kZSxcbiAgICAgIHBhc3N3b3JkLFxuICAgIH0pXG4gIH1cblxuICAvLyBJZiB0aGUgdXNlciBpcyBhbHJlYWR5IHNpZ25lZCBpbixcbiAgLy8gcmVkaXJlY3QgdGhlbSB0byB0aGUgaG9tZSBwYWdlXG4gIGlmIChpc1NpZ25lZEluKSB7XG4gICAgbmF2aWdhdGUoVVJMUy5IT01FX1JPVVRFKVxuICB9XG5cbiAgY29uc3QgdGl0bGUgPSBpc1N1Y2Nlc3MgPyBcIk5ldyBQYXNzd29yZFwiIDogXCJSZXNldCBZb3VyIFBhc3N3b3JkXCJcblxuICByZXR1cm4gKFxuICAgIDxMb2dpbkNvbnRhaW5lciBwYWdlVGl0bGU9e3RpdGxlfSB0aXRsZT17dGl0bGV9PlxuICAgICAge2lzU3VjY2VzcyA/IChcbiAgICAgICAgPE5ld1Bhc3N3b3JkRm9ybVxuICAgICAgICAgIGZvcm1SZWY9e3Bhc3N3b3JkRm9ybVJlZn1cbiAgICAgICAgICBzaG93UGFzc3dvcmQ9e3Nob3dQYXNzd29yZH1cbiAgICAgICAgICB2YWxpZGF0aW9uPXt2YWxpZGF0aW9ufVxuICAgICAgICAgIGlzTG9hZGluZz17aXNMb2FkaW5nfVxuICAgICAgICAgIGlzU3VibWl0RGlzYWJsZWQ9e3N1Ym1pdERpc2FibGVkfVxuICAgICAgICAgIG9uSW52YWxpZD17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgZW5xdWV1ZUVycm9yKFwiRW50ZXIgY29kZS5cIilcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uU3VibWl0PXtyZXNldH1cbiAgICAgICAgICBoYW5kbGVTaG93SGlkZVBhc3N3b3JkPXtoYW5kbGVDbGlja1Nob3dQYXNzd29yZH1cbiAgICAgICAgICBoYW5kbGVCYWNrVG9Mb2dpbj17KCkgPT4gbmF2aWdhdGUoVVJMUy5MT0dJTl9ST1VURSl9XG4gICAgICAgICAgaGFuZGxlTW91c2VEb3duUGFzc3dvcmQ9e2hhbmRsZU1vdXNlRG93blBhc3N3b3JkfVxuICAgICAgICAgIG9uTmV3UGFzc3dvcmRDaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgc2V0TmV3UGFzc3dvcmQoZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkNvbmZpcm1QYXNzd29yZENoYW5nZT17ZSA9PiB7XG4gICAgICAgICAgICBzZXRDb25maXJtUGFzc3dvcmQoZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICkgOiAoXG4gICAgICAgIDxGb3Jnb3RQYXNzd29yZEZvcm1cbiAgICAgICAgICBkZWZhdWx0VmFsdWU9e2VtYWlsfVxuICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcbiAgICAgICAgICAgIHNldFN1Ym1pdERpc2FibGVkKCFlLmN1cnJlbnRUYXJnZXQuY2hlY2tWYWxpZGl0eSgpKVxuICAgICAgICAgIH19XG4gICAgICAgICAgb25TdWJtaXQ9e2UgPT4ge1xuICAgICAgICAgICAgc2V0U3VibWl0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICAgIHJlc2V0VmFsaWRhdGlvblN0YXRlKClcbiAgICAgICAgICAgIHNldE5ld1Bhc3N3b3JkKFwiXCIpXG4gICAgICAgICAgICBzZXRDb25maXJtUGFzc3dvcmQoXCJcIilcbiAgICAgICAgICAgIGNyZWF0ZShlKVxuICAgICAgICAgIH19XG4gICAgICAgICAgaXNMb2FkaW5nPXtpc0xvYWRpbmd9XG4gICAgICAgICAgc3VibWl0RGlzYWJsZWQ9e3N1Ym1pdERpc2FibGVkfVxuICAgICAgICAgIGhhbmRsZUJhY2tCdXR0b249eygpID0+IG5hdmlnYXRlKFVSTFMuTE9HSU5fUk9VVEUpfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L0xvZ2luQ29udGFpbmVyPlxuICApXG59XG5cbmV4cG9ydCB7IFBhc3N3b3JkUmVjb3ZlcnlQYWdlIH1cbiJdLCJuYW1lcyI6WyJQYXNzd29yZFJlY292ZXJ5UGFnZSIsInNlYXJjaFBhcmFtcyIsInNldFNlYXJjaFBhcmFtcyIsInVzZVNlYXJjaFBhcmFtcyIsImVtYWlsIiwiZGVjb2RlVVJJIiwiZ2V0Iiwic3VibWl0RGlzYWJsZWQiLCJzZXRTdWJtaXREaXNhYmxlZCIsInVzZVN0YXRlIiwibmF2aWdhdGUiLCJ1c2VOYXZpZ2F0ZSIsImlzU2lnbmVkSW4iLCJ1c2VBdXRoIiwic2lnbkluIiwic2V0QWN0aXZlIiwidXNlU2lnbkluIiwiZW5xdWV1ZUVycm9yIiwidXNlU25hY2tiYXIiLCJuZXdQYXNzd29yZCIsInNldE5ld1Bhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwic2V0Q29uZmlybVBhc3N3b3JkIiwicGFzc3dvcmRGb3JtUmVmIiwidXNlUmVmIiwidmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvblN0YXRlIiwidXNlVmFsaWRhdGVQYXNzd29yZHMiLCJpc1ZhbGlkYXRlZCIsIk9iamVjdCIsInZhbHVlcyIsImV2ZXJ5IiwiQm9vbGVhbiIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJzaG93UGFzc3dvcmQiLCJzZXRTaG93UGFzc3dvcmQiLCJoYW5kbGVDbGlja1Nob3dQYXNzd29yZCIsInNob3ciLCJoYW5kbGVNb3VzZURvd25QYXNzd29yZCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvbkVycm9yIiwiZXJyb3IiLCJkaXNwbGF5RXJyb3IiLCJhbmNob3JPcmlnaW4iLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiLCJpc1N1Y2Nlc3MiLCJpc1BlbmRpbmciLCJtdXRhdGUiLCJ1c2VTZW5kQ29kZSIsIm11dGF0ZU5ld1Bhc3N3b3JkIiwiaXNQZW5kaW5nTmV3UGFzc3dvcmQiLCJ1c2VSZXNldFBhc3N3b3JkIiwiaXNMb2FkaW5nIiwiY3JlYXRlIiwiZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJjdXJyZW50VGFyZ2V0Iiwic3RyYXRlZ3kiLCJpZGVudGlmaWVyIiwicmVzZXQiLCJjb2RlIiwicGFzc3dvcmQiLCJVUkxTIiwiSE9NRV9ST1VURSIsInRpdGxlIiwiTG9naW5Db250YWluZXIiLCJwYWdlVGl0bGUiLCJOZXdQYXNzd29yZEZvcm0iLCJmb3JtUmVmIiwiaXNTdWJtaXREaXNhYmxlZCIsIm9uSW52YWxpZCIsIm9uU3VibWl0IiwiaGFuZGxlU2hvd0hpZGVQYXNzd29yZCIsImhhbmRsZUJhY2tUb0xvZ2luIiwiTE9HSU5fUk9VVEUiLCJvbk5ld1Bhc3N3b3JkQ2hhbmdlIiwidGFyZ2V0IiwidmFsdWUiLCJvbkNvbmZpcm1QYXNzd29yZENoYW5nZSIsIkZvcmdvdFBhc3N3b3JkRm9ybSIsImRlZmF1bHRWYWx1ZSIsIm9uQ2hhbmdlIiwiY2hlY2tWYWxpZGl0eSIsImhhbmRsZUJhY2tCdXR0b24iXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkE0S1NBOzs7ZUFBQUE7Ozs7K0RBNUswQztnQ0FDTjs0QkFDVjt1QkFDTjt1QkFDdUM7cUNBSzdEOzJCQUNxQjtnRUFDTjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXRCLE1BQU1BLHVCQUF1QjtJQUMzQixNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHQyxJQUFBQSwrQkFBZTtRQUUvQkY7SUFBeEIsTUFBTUcsUUFBUUMsVUFBVUosQ0FBQUEsb0JBQUFBLGFBQWFLLEdBQUcsQ0FBQyxzQkFBakJMLCtCQUFBQSxvQkFBNkI7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