{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/VerticalScrollStepper/VerticalScrollStepper.tsx"],"sourcesContent":["import { PropsWithChildren, ReactNode, useEffect } from \"react\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { VerticalScrollStepperWrapper } from \"./VerticalScrollStepperWrapper\"\nimport {\n  VERTICAL_SCROLL_HEADER_CLASS_NAME,\n  VERTICAL_SCROLL_STEP_CLASS_NAME,\n} from \"./verticalScrollStepperConstants\"\n\ntype VerticalScrollStepperProps = PropsWithChildren<{\n  title: string\n  steps: number\n  activeStep: number\n  onStepChange?: (step: number) => void\n  nextDisabled?: boolean\n  isNextLoading?: boolean\n  handleComplete?: () => void\n  completeButtonText?: string | ReactNode\n  offsetTop?: number\n  stepLabel?: string\n  disableAutoScroll?: boolean\n  withKeyboardShortcuts?: boolean\n}>\n\nconst VerticalScrollStepper = (props: VerticalScrollStepperProps) => {\n  const { isMobile } = useDeviceInfo()\n  const { activeStep, offsetTop = 0, steps } = props\n\n  useEffect(() => {\n    const header = document.getElementsByClassName(VERTICAL_SCROLL_HEADER_CLASS_NAME)[0]\n    const all = document.getElementsByClassName(VERTICAL_SCROLL_STEP_CLASS_NAME)\n    const yOffset = -(header?.getBoundingClientRect().height ?? 60)\n    const last = all[all.length - 1]\n    if (last === undefined) return\n    last.classList.add(\"visible\")\n    setTimeout(() => {\n      const top = last.getBoundingClientRect().top + window.scrollY - offsetTop + yOffset\n      if (!props.disableAutoScroll) window.scrollTo({ top, behavior: \"smooth\" })\n    })\n  }, [activeStep, offsetTop, props.disableAutoScroll, isMobile, steps])\n\n  return <VerticalScrollStepperWrapper {...props} />\n}\n\nexport { VerticalScrollStepper }\nexport type { VerticalScrollStepperProps }\n"],"names":["VerticalScrollStepper","props","isMobile","useDeviceInfo","activeStep","offsetTop","steps","useEffect","header","document","getElementsByClassName","VERTICAL_SCROLL_HEADER_CLASS_NAME","all","VERTICAL_SCROLL_STEP_CLASS_NAME","yOffset","getBoundingClientRect","height","last","length","undefined","classList","add","setTimeout","top","window","scrollY","disableAutoScroll","scrollTo","behavior","VerticalScrollStepperWrapper"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA2CSA;;;eAAAA;;;;uBA3C+C;uBAC1B;8CACe;gDAItC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBP,MAAMA,wBAAwB,CAACC;IAC7B,MAAM,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,oBAAa;IAClC,MAAM,EAAEC,UAAU,EAAEC,YAAY,CAAC,EAAEC,KAAK,EAAE,GAAGL;IAE7CM,IAAAA,gBAAS,EAAC;QACR,MAAMC,SAASC,SAASC,sBAAsB,CAACC,iEAAiC,CAAC,CAAC,EAAE;QACpF,MAAMC,MAAMH,SAASC,sBAAsB,CAACG,+DAA+B;YACzDL;QAAlB,MAAMM,UAAU,CAAEN,CAAAA,CAAAA,uCAAAA,mBAAAA,6BAAAA,OAAQO,qBAAqB,GAAGC,MAAM,cAAtCR,kDAAAA,uCAA0C,EAAC;QAC7D,MAAMS,OAAOL,GAAG,CAACA,IAAIM,MAAM,GAAG,EAAE;QAChC,IAAID,SAASE,WAAW;QACxBF,KAAKG,SAAS,CAACC,GAAG,CAAC;QACnBC,WAAW;YACT,MAAMC,MAAMN,KAAKF,qBAAqB,GAAGQ,GAAG,GAAGC,OAAOC,OAAO,GAAGpB,YAAYS;YAC5E,IAAI,CAACb,MAAMyB,iBAAiB,EAAEF,OAAOG,QAAQ,CAAC;gBAAEJ;gBAAKK,UAAU;YAAS;QAC1E;IACF,GAAG;QAACxB;QAAYC;QAAWJ,MAAMyB,iBAAiB;QAAExB;QAAUI;KAAM;IAEpE,qBAAO,qBAACuB,0DAA4B,qBAAK5B;AAC3C"}