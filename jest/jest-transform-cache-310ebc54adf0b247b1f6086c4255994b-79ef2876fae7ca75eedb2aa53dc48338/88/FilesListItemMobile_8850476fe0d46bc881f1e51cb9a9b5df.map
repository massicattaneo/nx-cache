{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/components/Hub/Files/FilesList/FilesListItemMobile.tsx"],"sourcesContent":["import { Dispatch, SetStateAction } from \"react\"\nimport Highlighter from \"react-highlight-words\"\nimport { FileRowType, formatTime } from \"@rp/common/utils\"\nimport { ShareIcon } from \"@rp/react/web/common/base-components\"\nimport { EllipsisTooltip } from \"@rp/react/web/common/composite-components\"\nimport { FileIcon } from \"@rp/react/web/icons\"\nimport { Box, Checkbox, IconButton, Typography, capitalize, useTheme } from \"@rp/react/web/mui/core\"\nimport { Warning } from \"@rp/react/web/mui/icons\"\nimport { SelectedFile } from \"../Files\"\n\ntype Props = {\n  item: FileRowType\n  selected: Array<SelectedFile>\n  setSelected: Dispatch<SetStateAction<Array<SelectedFile>>>\n  missingMetaData: boolean\n  filterTerm: string\n  showCompanyIcon?: boolean\n  shared?: boolean\n  ownerName: string | undefined\n}\n\nfunction getFileInfo(missingMetaData: boolean, item: FileRowType) {\n  if (missingMetaData) return capitalize(item.status)\n  if (item.status === \"failed\") return \"\"\n  return formatTime(item.date)\n}\n\ntype MobileIconProps = {\n  item: FileRowType\n  checked: boolean\n}\n\nconst MobileIcon = ({ item, checked }: MobileIconProps) => {\n  if (item.status === \"failed\" && !checked) {\n    return <Warning color=\"error\" />\n  }\n  if (checked) {\n    return <Checkbox sx={{ px: 0 }} checked={true} />\n  }\n  return <FileIcon extension={item.type} />\n}\n\nconst FilesListItemMobile = ({\n  item,\n  selected,\n  setSelected,\n  missingMetaData,\n  filterTerm,\n  showCompanyIcon,\n  shared,\n  ownerName,\n}: Props) => {\n  const theme = useTheme()\n  const checked = !!selected.find(i => i.id === item.id)\n  const disabled = missingMetaData || item.status === \"failed\"\n  return (\n    <Box sx={{ display: \"flex\", alignItems: \"center\", width: \"100%\" }}>\n      <IconButton\n        sx={\n          missingMetaData\n            ? {\n                \"& svg > path:first-of-type\": { fill: \"rgba(255,255,255,0.3)\" },\n                \"& svg > path:nth-of-type(2)\": { fill: \"rgba(255,255,255,0.5)\" },\n              }\n            : {}\n        }\n        onClick={ev => {\n          ev.stopPropagation()\n          if (disabled) return\n          setSelected(prev =>\n            checked\n              ? prev.filter(i => i.id !== item.id)\n              : [...prev, { id: item.id, shared: shared ?? false }],\n          )\n        }}\n      >\n        <MobileIcon item={item} checked={checked} />\n      </IconButton>\n      <Box sx={{ width: \"calc(100% - 35px)\" }}>\n        <Box sx={{ width: \"100%\", display: \"flex\", alignItems: \"center\" }}>\n          <EllipsisTooltip\n            tooltipText={item.name}\n            typographyProps={{\n              fontSize: 14,\n              fontWeight: 700,\n              color: disabled ? \"text.disabled\" : \"text.primary\",\n            }}\n          >\n            <Highlighter\n              autoEscape\n              highlightStyle={{ color: theme.palette.primary.light }}\n              highlightTag=\"span\"\n              searchWords={[filterTerm]}\n              textToHighlight={item.name}\n            />\n          </EllipsisTooltip>\n          {showCompanyIcon && !shared ? <ShareIcon shared sx={{ mx: 1 }} /> : null}\n        </Box>\n        <Typography\n          sx={{\n            fontSize: 12,\n            color: \"text.disabled\",\n            whiteSpace: \"nowrap\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n          }}\n        >\n          {getFileInfo(missingMetaData, item)} {shared && ownerName ? `Â· ${ownerName}` : \"\"}\n        </Typography>\n      </Box>\n    </Box>\n  )\n}\n\nexport { FilesListItemMobile }\n"],"names":["FilesListItemMobile","getFileInfo","missingMetaData","item","capitalize","status","formatTime","date","MobileIcon","checked","Warning","color","Checkbox","sx","px","FileIcon","extension","type","selected","setSelected","filterTerm","showCompanyIcon","shared","ownerName","theme","useTheme","find","i","id","disabled","Box","display","alignItems","width","IconButton","fill","onClick","ev","stopPropagation","prev","filter","EllipsisTooltip","tooltipText","name","typographyProps","fontSize","fontWeight","Highlighter","autoEscape","highlightStyle","palette","primary","light","highlightTag","searchWords","textToHighlight","ShareIcon","mx","Typography","whiteSpace","overflow","textOverflow"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}