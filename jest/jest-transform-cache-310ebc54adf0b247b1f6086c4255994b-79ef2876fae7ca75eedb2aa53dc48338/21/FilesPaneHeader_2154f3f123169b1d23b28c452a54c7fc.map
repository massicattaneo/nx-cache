{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/apps/client-web/src/app/pages/Files/FilesV2/components/FilesPane/FilesPaneHeader/FilesPaneHeader.tsx"],"sourcesContent":["import React from \"react\"\nimport { useCallback } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useSearchParams } from \"react-router-dom\"\nimport { FILES_FEATURE_NAME } from \"@rp/common/settings\"\nimport { useAccount } from \"@rp/react/common/providers\"\nimport { HeaderSearchBar } from \"@rp/react/web/common/layout\"\nimport { Box } from \"@rp/react/web/mui/core\"\nimport { SelectedFile } from \"../../../../../../components/Hub/Files/Files\"\nimport { UploadFileButton } from \"../../UploadFilesButton\"\n\ntype FilesPaneHeaderProps = {\n  selectedFiles: Array<SelectedFile>\n  filterTerm: string\n  disableUpload: boolean\n  planComparisonHandleOpen: (newValue: string) => void\n}\n\nconst FilesPaneHeader = ({\n  filterTerm,\n  disableUpload,\n  planComparisonHandleOpen,\n}: FilesPaneHeaderProps) => {\n  const [_, setSearchParams] = useSearchParams()\n\n  const { hasEntitlement } = useAccount()\n\n  const { t } = useTranslation()\n  const findFilesPlaceholder = t(\"filePage.findFilesPlaceholder\")\n\n  const onFileUpload = () => {\n    if (disableUpload) {\n      planComparisonHandleOpen(FILES_FEATURE_NAME)\n    }\n    window.scrollTo({ top: 0, behavior: \"smooth\" })\n  }\n\n  const setFilterTerm = useCallback(\n    (term: string) => {\n      setSearchParams(\n        (prev: URLSearchParams & { find?: string }) => {\n          const { find: _, ...rest } = prev\n          return term.length ? { ...rest, find: term } : rest\n        },\n        { replace: true },\n      )\n    },\n    [setSearchParams],\n  )\n\n  const headerItems: Array<React.ReactElement> = []\n  if (hasEntitlement(\"file:upload\")) {\n    headerItems.push(\n      <UploadFileButton\n        key=\"upload-file-button\"\n        onSuccess={onFileUpload}\n        disableUpload={disableUpload}\n      />,\n    )\n  }\n\n  return (\n    <Box\n      sx={{\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        pt: 2,\n        width: \"100%\",\n      }}\n    >\n      <HeaderSearchBar\n        key=\"header-search-bar\"\n        filterTerm={filterTerm}\n        onChange={value => setFilterTerm(value)}\n        placeholder={findFilesPlaceholder}\n        maxWidth={500}\n      />\n\n      <UploadFileButton key=\"upload-file-button\" onSuccess={onFileUpload} disableUpload={false} />\n    </Box>\n  )\n}\n\nexport { FilesPaneHeader }\n"],"names":["FilesPaneHeader","filterTerm","disableUpload","planComparisonHandleOpen","_","setSearchParams","useSearchParams","hasEntitlement","useAccount","t","useTranslation","findFilesPlaceholder","onFileUpload","FILES_FEATURE_NAME","window","scrollTo","top","behavior","setFilterTerm","useCallback","term","prev","find","rest","length","replace","headerItems","push","UploadFileButton","onSuccess","Box","sx","display","alignItems","justifyContent","pt","width","HeaderSearchBar","onChange","value","placeholder","maxWidth"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAoFSA;;;eAAAA;;;;+DApFS;8BAEa;gCACC;0BACG;2BACR;wBACK;sBACZ;mCAEa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASjC,MAAMA,kBAAkB,CAAC,EACvBC,UAAU,EACVC,aAAa,EACbC,wBAAwB,EACH;IACrB,MAAM,CAACC,GAAGC,gBAAgB,GAAGC,IAAAA,+BAAe;IAE5C,MAAM,EAAEC,cAAc,EAAE,GAAGC,IAAAA,qBAAU;IAErC,MAAM,EAAEC,CAAC,EAAE,GAAGC,IAAAA,4BAAc;IAC5B,MAAMC,uBAAuBF,EAAE;IAE/B,MAAMG,eAAe;QACnB,IAAIV,eAAe;YACjBC,yBAAyBU,4BAAkB;QAC7C;QACAC,OAAOC,QAAQ,CAAC;YAAEC,KAAK;YAAGC,UAAU;QAAS;IAC/C;IAEA,MAAMC,gBAAgBC,IAAAA,kBAAW,EAC/B,CAACC;QACCf,gBACE,CAACgB;YACC,MAAM,EAAEC,MAAMlB,CAAC,EAAW,GAAGiB,MAATE,kCAASF;gBAArBC;;YACR,OAAOF,KAAKI,MAAM,GAAG,wCAAKD;gBAAMD,MAAMF;iBAASG;QACjD,GACA;YAAEE,SAAS;QAAK;IAEpB,GACA;QAACpB;KAAgB;IAGnB,MAAMqB,cAAyC,EAAE;IACjD,IAAInB,eAAe,gBAAgB;QACjCmB,YAAYC,IAAI,eACd,qBAACC,mCAAgB;YAEfC,WAAWjB;YACXV,eAAeA;WAFX;IAKV;IAEA,qBACE,sBAAC4B,SAAG;QACFC,IAAI;YACFC,SAAS;YACTC,YAAY;YACZC,gBAAgB;YAChBC,IAAI;YACJC,OAAO;QACT;;0BAEA,qBAACC,uBAAe;gBAEdpC,YAAYA;gBACZqC,UAAUC,CAAAA,QAASrB,cAAcqB;gBACjCC,aAAa7B;gBACb8B,UAAU;eAJN;0BAON,qBAACb,mCAAgB;gBAA0BC,WAAWjB;gBAAcV,eAAe;eAA7D;;;AAG5B"}