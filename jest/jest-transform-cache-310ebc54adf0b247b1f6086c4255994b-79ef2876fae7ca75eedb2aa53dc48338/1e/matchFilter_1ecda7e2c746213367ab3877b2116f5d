ae76aadf5e97df0dc8905e653552f0a6
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "matchFilter", {
    enumerable: true,
    get: function() {
        return matchFilter;
    }
});
const _apitypes = require("@rp/common/api-types");
const _typeguards = require("../type-guards");
const matchFilter = (item, operation)=>{
    return (filter)=>{
        if ((0, _typeguards.isEntityItem)(item) && (0, _apitypes.isRpqlFlatArrayFilter)(filter)) {
            var _filter_metadata;
            return ((_filter_metadata = filter.metadata) === null || _filter_metadata === void 0 ? void 0 : _filter_metadata.subType) === item.entityType && filter.operation === operation;
        }
        if ((0, _typeguards.isTopicItem)(item) && (0, _apitypes.isRpqlFlatArrayFilter)(filter)) {
            return filter.type === "rp_topic" && filter.operation === operation;
        }
        if ((0, _typeguards.isLanguageItem)(item) && (0, _apitypes.isRpqlFlatArrayFilter)(filter)) {
            return filter.type === "language" && filter.operation === operation;
        }
        if ((0, _typeguards.isSourceItem)(item) && (0, _apitypes.isRpqlFlatArrayFilter)(filter)) {
            return filter.type === "source" && filter.operation === operation;
        }
        if ((0, _typeguards.isKeywordItem)(item) && (0, _apitypes.isRpqlFlatArrayFilter)(filter)) {
            return filter.type === "keyword" && filter.operation === operation;
        }
        if ((0, _typeguards.isMacroSearchItem)(item) && (0, _apitypes.isRpqlFlatMatchFilter)(filter)) {
            return filter.type === item.type // && filter.operation === operation
            ;
        }
        return false;
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2Nxcy1xdWVyeS1jb250ZXh0L3NyYy9saWIvbWF0Y2gtZmlsdGVyL21hdGNoRmlsdGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzUnBxbEZsYXRBcnJheUZpbHRlciwgaXNScHFsRmxhdE1hdGNoRmlsdGVyIH0gZnJvbSBcIkBycC9jb21tb24vYXBpLXR5cGVzXCJcbmltcG9ydCB7IFJwcWxGbGF0RmlsdGVyIH0gZnJvbSBcIkBycC9jb21tb24vYXBpLXR5cGVzXCJcbmltcG9ydCB7IEZpbHRlckl0ZW0gfSBmcm9tIFwiQHJwL3JlYWN0L3RhbnN0YWNrLWFwaS9jcXMtcXVlcnktY29udGV4dFwiXG5pbXBvcnQge1xuICBpc0VudGl0eUl0ZW0sXG4gIGlzS2V5d29yZEl0ZW0sXG4gIGlzTGFuZ3VhZ2VJdGVtLFxuICBpc01hY3JvU2VhcmNoSXRlbSxcbiAgaXNTb3VyY2VJdGVtLFxuICBpc1RvcGljSXRlbSxcbn0gZnJvbSBcIi4uL3R5cGUtZ3VhcmRzXCJcblxuY29uc3QgbWF0Y2hGaWx0ZXIgPSAoaXRlbTogRmlsdGVySXRlbSwgb3BlcmF0aW9uOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIChmaWx0ZXI6IFJwcWxGbGF0RmlsdGVyKSA9PiB7XG4gICAgaWYgKGlzRW50aXR5SXRlbShpdGVtKSAmJiBpc1JwcWxGbGF0QXJyYXlGaWx0ZXIoZmlsdGVyKSkge1xuICAgICAgcmV0dXJuIGZpbHRlci5tZXRhZGF0YT8uc3ViVHlwZSA9PT0gaXRlbS5lbnRpdHlUeXBlICYmIGZpbHRlci5vcGVyYXRpb24gPT09IG9wZXJhdGlvblxuICAgIH1cblxuICAgIGlmIChpc1RvcGljSXRlbShpdGVtKSAmJiBpc1JwcWxGbGF0QXJyYXlGaWx0ZXIoZmlsdGVyKSkge1xuICAgICAgcmV0dXJuIGZpbHRlci50eXBlID09PSBcInJwX3RvcGljXCIgJiYgZmlsdGVyLm9wZXJhdGlvbiA9PT0gb3BlcmF0aW9uXG4gICAgfVxuXG4gICAgaWYgKGlzTGFuZ3VhZ2VJdGVtKGl0ZW0pICYmIGlzUnBxbEZsYXRBcnJheUZpbHRlcihmaWx0ZXIpKSB7XG4gICAgICByZXR1cm4gZmlsdGVyLnR5cGUgPT09IFwibGFuZ3VhZ2VcIiAmJiBmaWx0ZXIub3BlcmF0aW9uID09PSBvcGVyYXRpb25cbiAgICB9XG5cbiAgICBpZiAoaXNTb3VyY2VJdGVtKGl0ZW0pICYmIGlzUnBxbEZsYXRBcnJheUZpbHRlcihmaWx0ZXIpKSB7XG4gICAgICByZXR1cm4gZmlsdGVyLnR5cGUgPT09IFwic291cmNlXCIgJiYgZmlsdGVyLm9wZXJhdGlvbiA9PT0gb3BlcmF0aW9uXG4gICAgfVxuXG4gICAgaWYgKGlzS2V5d29yZEl0ZW0oaXRlbSkgJiYgaXNScHFsRmxhdEFycmF5RmlsdGVyKGZpbHRlcikpIHtcbiAgICAgIHJldHVybiBmaWx0ZXIudHlwZSA9PT0gXCJrZXl3b3JkXCIgJiYgZmlsdGVyLm9wZXJhdGlvbiA9PT0gb3BlcmF0aW9uXG4gICAgfVxuXG4gICAgaWYgKGlzTWFjcm9TZWFyY2hJdGVtKGl0ZW0pICYmIGlzUnBxbEZsYXRNYXRjaEZpbHRlcihmaWx0ZXIpKSB7XG4gICAgICByZXR1cm4gZmlsdGVyLnR5cGUgPT09IGl0ZW0udHlwZSAvLyAmJiBmaWx0ZXIub3BlcmF0aW9uID09PSBvcGVyYXRpb25cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5leHBvcnQgeyBtYXRjaEZpbHRlciB9XG4iXSwibmFtZXMiOlsibWF0Y2hGaWx0ZXIiLCJpdGVtIiwib3BlcmF0aW9uIiwiZmlsdGVyIiwiaXNFbnRpdHlJdGVtIiwiaXNScHFsRmxhdEFycmF5RmlsdGVyIiwibWV0YWRhdGEiLCJzdWJUeXBlIiwiZW50aXR5VHlwZSIsImlzVG9waWNJdGVtIiwidHlwZSIsImlzTGFuZ3VhZ2VJdGVtIiwiaXNTb3VyY2VJdGVtIiwiaXNLZXl3b3JkSXRlbSIsImlzTWFjcm9TZWFyY2hJdGVtIiwiaXNScHFsRmxhdE1hdGNoRmlsdGVyIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkEwQ1NBOzs7ZUFBQUE7OzswQkExQ29EOzRCQVV0RDtBQUVQLE1BQU1BLGNBQWMsQ0FBQ0MsTUFBa0JDO0lBQ3JDLE9BQU8sQ0FBQ0M7UUFDTixJQUFJQyxJQUFBQSx3QkFBWSxFQUFDSCxTQUFTSSxJQUFBQSwrQkFBcUIsRUFBQ0YsU0FBUztnQkFDaERBO1lBQVAsT0FBT0EsRUFBQUEsbUJBQUFBLE9BQU9HLFFBQVEsY0FBZkgsdUNBQUFBLGlCQUFpQkksT0FBTyxNQUFLTixLQUFLTyxVQUFVLElBQUlMLE9BQU9ELFNBQVMsS0FBS0E7UUFDOUU7UUFFQSxJQUFJTyxJQUFBQSx1QkFBVyxFQUFDUixTQUFTSSxJQUFBQSwrQkFBcUIsRUFBQ0YsU0FBUztZQUN0RCxPQUFPQSxPQUFPTyxJQUFJLEtBQUssY0FBY1AsT0FBT0QsU0FBUyxLQUFLQTtRQUM1RDtRQUVBLElBQUlTLElBQUFBLDBCQUFjLEVBQUNWLFNBQVNJLElBQUFBLCtCQUFxQixFQUFDRixTQUFTO1lBQ3pELE9BQU9BLE9BQU9PLElBQUksS0FBSyxjQUFjUCxPQUFPRCxTQUFTLEtBQUtBO1FBQzVEO1FBRUEsSUFBSVUsSUFBQUEsd0JBQVksRUFBQ1gsU0FBU0ksSUFBQUEsK0JBQXFCLEVBQUNGLFNBQVM7WUFDdkQsT0FBT0EsT0FBT08sSUFBSSxLQUFLLFlBQVlQLE9BQU9ELFNBQVMsS0FBS0E7UUFDMUQ7UUFFQSxJQUFJVyxJQUFBQSx5QkFBYSxFQUFDWixTQUFTSSxJQUFBQSwrQkFBcUIsRUFBQ0YsU0FBUztZQUN4RCxPQUFPQSxPQUFPTyxJQUFJLEtBQUssYUFBYVAsT0FBT0QsU0FBUyxLQUFLQTtRQUMzRDtRQUVBLElBQUlZLElBQUFBLDZCQUFpQixFQUFDYixTQUFTYyxJQUFBQSwrQkFBcUIsRUFBQ1osU0FBUztZQUM1RCxPQUFPQSxPQUFPTyxJQUFJLEtBQUtULEtBQUtTLElBQUksQ0FBQyxvQ0FBb0M7O1FBQ3ZFO1FBRUEsT0FBTztJQUNUO0FBQ0YifQ==