bad8356f8a1e69e21312b83e1cfe0945
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "getChunksFromAudit", {
    enumerable: true,
    get: function() {
        return getChunksFromAudit;
    }
});
const getChunksFromAudit = (documentId, audit)=>{
    const relatedChunks = audit.flatMap((question)=>question.results).filter((result)=>result.type === "CQS").flatMap((result)=>result.values).filter((story)=>story.id === documentId).flatMap((story)=>story.chunks);
    const chunkMap = new Map();
    for (const chunk of relatedChunks){
        chunkMap.set(chunk.cnum, chunk);
    }
    return [
        ...chunkMap.values()
    ];
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NoYXQvc3JjL2xpYi9DaGF0L0NoYXQvQ2hhdFJlc3BvbnNlL2dldENodW5rc0Zyb21BdWRpdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDcXNDaHVua1N0b3J5IH0gZnJvbSBcIkBycC9jb21tb24vYXBpLXR5cGVzXCJcbmltcG9ydCB7IFN0b3JlZEF1ZGl0VHJhY2UgfSBmcm9tIFwiQHJwL3JlYWN0L3RhbnN0YWNrLWFwaS9jaGF0XCJcbmltcG9ydCB7IExsbUNxc1RyYWNlIH0gZnJvbSBcIkBycC9yZWFjdC90YW5zdGFjay1hcGkvbGxtLXN1bW1hcnlcIlxuXG50eXBlIENodW5rID0gQ3FzQ2h1bmtTdG9yeVtcImNodW5rc1wiXVtudW1iZXJdXG5cbmNvbnN0IGdldENodW5rc0Zyb21BdWRpdCA9IChkb2N1bWVudElkOiBzdHJpbmcsIGF1ZGl0OiBBcnJheTxTdG9yZWRBdWRpdFRyYWNlPikgPT4ge1xuICBjb25zdCByZWxhdGVkQ2h1bmtzID0gYXVkaXRcbiAgICAuZmxhdE1hcChxdWVzdGlvbiA9PiBxdWVzdGlvbi5yZXN1bHRzKVxuICAgIC5maWx0ZXIoKHJlc3VsdCk6IHJlc3VsdCBpcyBMbG1DcXNUcmFjZSA9PiByZXN1bHQudHlwZSA9PT0gXCJDUVNcIilcbiAgICAuZmxhdE1hcChyZXN1bHQgPT4gcmVzdWx0LnZhbHVlcylcbiAgICAuZmlsdGVyKHN0b3J5ID0+IHN0b3J5LmlkID09PSBkb2N1bWVudElkKVxuICAgIC5mbGF0TWFwKHN0b3J5ID0+IHN0b3J5LmNodW5rcylcblxuICBjb25zdCBjaHVua01hcCA9IG5ldyBNYXA8bnVtYmVyLCBDaHVuaz4oKVxuICBmb3IgKGNvbnN0IGNodW5rIG9mIHJlbGF0ZWRDaHVua3MpIHtcbiAgICBjaHVua01hcC5zZXQoY2h1bmsuY251bSwgY2h1bmspXG4gIH1cblxuICByZXR1cm4gWy4uLmNodW5rTWFwLnZhbHVlcygpXVxufVxuXG5leHBvcnQgeyBnZXRDaHVua3NGcm9tQXVkaXQgfVxuIl0sIm5hbWVzIjpbImdldENodW5rc0Zyb21BdWRpdCIsImRvY3VtZW50SWQiLCJhdWRpdCIsInJlbGF0ZWRDaHVua3MiLCJmbGF0TWFwIiwicXVlc3Rpb24iLCJyZXN1bHRzIiwiZmlsdGVyIiwicmVzdWx0IiwidHlwZSIsInZhbHVlcyIsInN0b3J5IiwiaWQiLCJjaHVua3MiLCJjaHVua01hcCIsIk1hcCIsImNodW5rIiwic2V0IiwiY251bSJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7OytCQXNCU0E7OztlQUFBQTs7O0FBaEJULE1BQU1BLHFCQUFxQixDQUFDQyxZQUFvQkM7SUFDOUMsTUFBTUMsZ0JBQWdCRCxNQUNuQkUsT0FBTyxDQUFDQyxDQUFBQSxXQUFZQSxTQUFTQyxPQUFPLEVBQ3BDQyxNQUFNLENBQUMsQ0FBQ0MsU0FBa0NBLE9BQU9DLElBQUksS0FBSyxPQUMxREwsT0FBTyxDQUFDSSxDQUFBQSxTQUFVQSxPQUFPRSxNQUFNLEVBQy9CSCxNQUFNLENBQUNJLENBQUFBLFFBQVNBLE1BQU1DLEVBQUUsS0FBS1gsWUFDN0JHLE9BQU8sQ0FBQ08sQ0FBQUEsUUFBU0EsTUFBTUUsTUFBTTtJQUVoQyxNQUFNQyxXQUFXLElBQUlDO0lBQ3JCLEtBQUssTUFBTUMsU0FBU2IsY0FBZTtRQUNqQ1csU0FBU0csR0FBRyxDQUFDRCxNQUFNRSxJQUFJLEVBQUVGO0lBQzNCO0lBRUEsT0FBTztXQUFJRixTQUFTSixNQUFNO0tBQUc7QUFDL0IifQ==