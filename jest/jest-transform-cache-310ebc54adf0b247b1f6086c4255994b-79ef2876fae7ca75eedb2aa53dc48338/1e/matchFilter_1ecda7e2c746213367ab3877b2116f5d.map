{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/cqs-query-context/src/lib/match-filter/matchFilter.ts"],"sourcesContent":["import { isRpqlFlatArrayFilter, isRpqlFlatMatchFilter } from \"@rp/common/api-types\"\nimport { RpqlFlatFilter } from \"@rp/common/api-types\"\nimport { FilterItem } from \"@rp/react/tanstack-api/cqs-query-context\"\nimport {\n  isEntityItem,\n  isKeywordItem,\n  isLanguageItem,\n  isMacroSearchItem,\n  isSourceItem,\n  isTopicItem,\n} from \"../type-guards\"\n\nconst matchFilter = (item: FilterItem, operation: string) => {\n  return (filter: RpqlFlatFilter) => {\n    if (isEntityItem(item) && isRpqlFlatArrayFilter(filter)) {\n      return filter.metadata?.subType === item.entityType && filter.operation === operation\n    }\n\n    if (isTopicItem(item) && isRpqlFlatArrayFilter(filter)) {\n      return filter.type === \"rp_topic\" && filter.operation === operation\n    }\n\n    if (isLanguageItem(item) && isRpqlFlatArrayFilter(filter)) {\n      return filter.type === \"language\" && filter.operation === operation\n    }\n\n    if (isSourceItem(item) && isRpqlFlatArrayFilter(filter)) {\n      return filter.type === \"source\" && filter.operation === operation\n    }\n\n    if (isKeywordItem(item) && isRpqlFlatArrayFilter(filter)) {\n      return filter.type === \"keyword\" && filter.operation === operation\n    }\n\n    if (isMacroSearchItem(item) && isRpqlFlatMatchFilter(filter)) {\n      return filter.type === item.type // && filter.operation === operation\n    }\n\n    return false\n  }\n}\n\nexport { matchFilter }\n"],"names":["matchFilter","item","operation","filter","isEntityItem","isRpqlFlatArrayFilter","metadata","subType","entityType","isTopicItem","type","isLanguageItem","isSourceItem","isKeywordItem","isMacroSearchItem","isRpqlFlatMatchFilter"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA0CSA;;;eAAAA;;;0BA1CoD;4BAUtD;AAEP,MAAMA,cAAc,CAACC,MAAkBC;IACrC,OAAO,CAACC;QACN,IAAIC,IAAAA,wBAAY,EAACH,SAASI,IAAAA,+BAAqB,EAACF,SAAS;gBAChDA;YAAP,OAAOA,EAAAA,mBAAAA,OAAOG,QAAQ,cAAfH,uCAAAA,iBAAiBI,OAAO,MAAKN,KAAKO,UAAU,IAAIL,OAAOD,SAAS,KAAKA;QAC9E;QAEA,IAAIO,IAAAA,uBAAW,EAACR,SAASI,IAAAA,+BAAqB,EAACF,SAAS;YACtD,OAAOA,OAAOO,IAAI,KAAK,cAAcP,OAAOD,SAAS,KAAKA;QAC5D;QAEA,IAAIS,IAAAA,0BAAc,EAACV,SAASI,IAAAA,+BAAqB,EAACF,SAAS;YACzD,OAAOA,OAAOO,IAAI,KAAK,cAAcP,OAAOD,SAAS,KAAKA;QAC5D;QAEA,IAAIU,IAAAA,wBAAY,EAACX,SAASI,IAAAA,+BAAqB,EAACF,SAAS;YACvD,OAAOA,OAAOO,IAAI,KAAK,YAAYP,OAAOD,SAAS,KAAKA;QAC1D;QAEA,IAAIW,IAAAA,yBAAa,EAACZ,SAASI,IAAAA,+BAAqB,EAACF,SAAS;YACxD,OAAOA,OAAOO,IAAI,KAAK,aAAaP,OAAOD,SAAS,KAAKA;QAC3D;QAEA,IAAIY,IAAAA,6BAAiB,EAACb,SAASc,IAAAA,+BAAqB,EAACZ,SAAS;YAC5D,OAAOA,OAAOO,IAAI,KAAKT,KAAKS,IAAI,CAAC,oCAAoC;;QACvE;QAEA,OAAO;IACT;AACF"}