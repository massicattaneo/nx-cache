{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/common/source-selector/src/hooks/useContentCategoriesList.ts"],"sourcesContent":["import { useEffect, useMemo } from \"react\"\nimport { ContentCategory, useInfiniteContentCategories } from \"@rp/react/tanstack-api/content\"\nimport { useSnackbar } from \"@rp/react/web/common/providers\"\nimport { getAllContentCategoriesFromResponsePages } from \"../utils/getAllContentCategoriesFromResponsePages\"\n\ntype UseContentCategoriesListState = {\n  isLoadingContentCategories: boolean\n  allContentCategories: Array<ContentCategory>\n  isFetchingNextPage: boolean\n  hasNextPage: boolean\n  fetchNextPage: () => void\n  hasError: boolean\n}\n\nfunction useContentCategoriesList(): UseContentCategoriesListState {\n  const { data, isLoading, isFetchingNextPage, hasNextPage, fetchNextPage, isError } =\n    useInfiniteContentCategories()\n  const { enqueueError } = useSnackbar()\n\n  useEffect(() => {\n    if (isError) {\n      enqueueError(\"There was an error while loading categories\")\n    }\n  }, [enqueueError, isError])\n\n  const allContentCategories: Array<ContentCategory> = useMemo(\n    () =>\n      getAllContentCategoriesFromResponsePages({\n        pages: data?.pages,\n      }),\n    [data?.pages],\n  )\n\n  return {\n    isLoadingContentCategories: isLoading,\n    allContentCategories,\n    isFetchingNextPage,\n    hasNextPage,\n    fetchNextPage,\n    hasError: isError,\n  }\n}\n\nexport { useContentCategoriesList }\nexport type { UseContentCategoriesListState }\n"],"names":["useContentCategoriesList","data","isLoading","isFetchingNextPage","hasNextPage","fetchNextPage","isError","useInfiniteContentCategories","enqueueError","useSnackbar","useEffect","allContentCategories","useMemo","getAllContentCategoriesFromResponsePages","pages","isLoadingContentCategories","hasError"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA2CSA;;;eAAAA;;;uBA3C0B;yBAC2B;2BAClC;0DAC6B;AAWzD,SAASA;IACP,MAAM,EAAEC,IAAI,EAAEC,SAAS,EAAEC,kBAAkB,EAAEC,WAAW,EAAEC,aAAa,EAAEC,OAAO,EAAE,GAChFC,IAAAA,qCAA4B;IAC9B,MAAM,EAAEC,YAAY,EAAE,GAAGC,IAAAA,sBAAW;IAEpCC,IAAAA,gBAAS,EAAC;QACR,IAAIJ,SAAS;YACXE,aAAa;QACf;IACF,GAAG;QAACA;QAAcF;KAAQ;IAE1B,MAAMK,uBAA+CC,IAAAA,cAAO,EAC1D,IACEC,IAAAA,kFAAwC,EAAC;YACvCC,KAAK,EAAEb,iBAAAA,2BAAAA,KAAMa,KAAK;QACpB,IACF;QAACb,iBAAAA,2BAAAA,KAAMa,KAAK;KAAC;IAGf,OAAO;QACLC,4BAA4Bb;QAC5BS;QACAR;QACAC;QACAC;QACAW,UAAUV;IACZ;AACF"}