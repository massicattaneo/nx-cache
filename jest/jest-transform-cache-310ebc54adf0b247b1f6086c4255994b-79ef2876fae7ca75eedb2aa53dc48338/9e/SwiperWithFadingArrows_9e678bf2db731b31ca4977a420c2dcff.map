{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/Swiper/SwiperWithFadingArrows.tsx"],"sourcesContent":["import { PropsWithChildren, forwardRef, useState } from \"react\"\nimport { Navigation } from \"swiper\"\nimport { Swiper, SwiperProps, SwiperRef } from \"swiper/react\"\nimport { useDeviceInfo } from \"@rp/react/web/common/hooks\"\nimport { Box, Fade, SxProps, alpha, styled, useTheme } from \"@rp/react/web/mui/core\"\nimport { ChevronLeft, ChevronRight } from \"@rp/react/web/mui/icons\"\n\nconst ArrowWrapper = styled(Box, {\n  name: \"ArrowWrapper\",\n  shouldForwardProp: prop =>\n    prop !== \"direction\" &&\n    prop !== \"hideArrow\" &&\n    prop !== \"height\" &&\n    prop !== \"bgColor\" &&\n    prop !== \"top\",\n})<{\n  direction: \"left\" | \"right\"\n  hideArrow?: boolean\n  height: number\n  bgColor?: string\n  top?: number\n}>(({ direction, height, bgColor = \"#121212\", top }) => {\n  const isLeftArrow = direction === \"left\"\n  return {\n    display: \"inline-flex\",\n    height,\n    position: \"absolute\",\n    left: isLeftArrow ? 0 : \"initial\",\n    right: isLeftArrow ? \"initial\" : 0,\n    zIndex: 2,\n    top,\n    [`&::${isLeftArrow ? \"after\" : \"before\"}`]: {\n      content: \"''\",\n      background: `linear-gradient(${\n        direction === \"left\" ? \"90deg\" : \"-90deg\"\n      }, ${bgColor} 0%, ${alpha(bgColor, 0)} 100%)`,\n      width: \"30px\",\n      height,\n      display: \"inline-block\",\n      pointerEvents: \"none\",\n    },\n  }\n})\n\nconst SwiperWithArrowsWrapper = styled(Box, {\n  name: \"SwiperWithArrowsWrapper\",\n})(({ theme }) => {\n  const { isMobile } = useDeviceInfo()\n  return {\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& .swiper\": { marginLeft: \"initial\" },\n    \"& svg\": { cursor: \"pointer\" },\n    \"& .swiper-slide\": { width: \"auto\" },\n    \"& .swiper-slide:nth-of-type(1)\": { marginLeft: isMobile ? theme.spacing(2) : undefined },\n    \"& .swiper-slide:last-of-type\": { marginRight: isMobile ? theme.spacing(2) : undefined },\n  }\n})\n\ntype Props = PropsWithChildren &\n  SwiperProps & {\n    height?: number\n    bgColor?: string\n    sx?: SxProps\n    top?: number\n  }\n\nconst SwiperWithFadingArrows = forwardRef<SwiperRef | null, Props>(\n  ({ sx, height = 30, bgColor, children, top, ...rest }, ref) => {\n    const [prevRef, setPrevRef] = useState<HTMLButtonElement | null>(null)\n    const [nextRef, setNextRef] = useState<HTMLButtonElement | null>(null)\n    const { isMobile } = useDeviceInfo()\n    const [status, setStatus] = useState({ isBeginning: true, isEnd: false })\n    const hideNavigation = (status.isBeginning && status.isEnd) || !isMobile\n    const hideLeftArrow = !status.isBeginning\n    const hideRightArrow = status.isEnd\n    const theme = useTheme()\n    const backgroundColor = bgColor ?? theme.palette.surface.background\n\n    return (\n      <SwiperWithArrowsWrapper sx={sx}>\n        <Fade in={hideLeftArrow && hideNavigation}>\n          <ArrowWrapper\n            onClick={ev => ev.stopPropagation()}\n            className=\"swiper-arrow-wrapper\"\n            bgColor={backgroundColor}\n            ref={setPrevRef}\n            direction=\"left\"\n            height={height}\n            hideArrow={hideLeftArrow}\n            top={top}\n          >\n            <ChevronLeft\n              sx={{\n                backgroundColor: backgroundColor,\n                height,\n              }}\n            />\n          </ArrowWrapper>\n        </Fade>\n        <Swiper\n          ref={ref}\n          onAfterInit={swiper => {\n            setTimeout(() => {\n              setStatus({ isBeginning: swiper.isBeginning, isEnd: swiper.isEnd })\n            }, 100)\n          }}\n          onResize={swiper => {\n            setStatus({ isBeginning: swiper.isBeginning, isEnd: swiper.isEnd })\n          }}\n          onUpdate={swiper => {\n            setStatus({ isBeginning: swiper.isBeginning, isEnd: swiper.isEnd })\n          }}\n          onSliderMove={swiper => {\n            setStatus({ isBeginning: swiper.isBeginning, isEnd: swiper.isEnd })\n          }}\n          onSlideNextTransitionEnd={swiper => {\n            setStatus({ isBeginning: swiper.isBeginning, isEnd: swiper.isEnd })\n          }}\n          onSlideResetTransitionEnd={swiper => {\n            setStatus({ isBeginning: swiper.isBeginning, isEnd: swiper.isEnd })\n          }}\n          onSlidePrevTransitionEnd={swiper =>\n            setStatus({ isBeginning: swiper.isBeginning, isEnd: swiper.isEnd })\n          }\n          modules={[Navigation]}\n          slidesPerView={\"auto\"}\n          navigation={{\n            enabled: hideNavigation,\n            prevEl: prevRef,\n            nextEl: nextRef,\n          }}\n          {...rest}\n          data-testid={\"SourceSlider\"}\n        >\n          {children}\n        </Swiper>\n        <Fade in={!hideRightArrow && hideNavigation}>\n          <ArrowWrapper\n            onClick={ev => ev.stopPropagation()}\n            className=\"swiper-arrow-wrapper\"\n            bgColor={backgroundColor}\n            ref={setNextRef}\n            height={height}\n            direction=\"right\"\n            hideArrow={hideRightArrow}\n            top={top}\n          >\n            <ChevronRight\n              sx={{\n                backgroundColor,\n                height,\n              }}\n            />\n          </ArrowWrapper>\n        </Fade>\n      </SwiperWithArrowsWrapper>\n    )\n  },\n)\n\nexport { SwiperWithFadingArrows }\n"],"names":["SwiperWithFadingArrows","ArrowWrapper","styled","Box","name","shouldForwardProp","prop","direction","height","bgColor","top","isLeftArrow","display","position","left","right","zIndex","content","background","alpha","width","pointerEvents","SwiperWithArrowsWrapper","theme","isMobile","useDeviceInfo","alignItems","marginLeft","cursor","spacing","undefined","marginRight","forwardRef","ref","sx","children","rest","prevRef","setPrevRef","useState","nextRef","setNextRef","status","setStatus","isBeginning","isEnd","hideNavigation","hideLeftArrow","hideRightArrow","useTheme","backgroundColor","palette","surface","Fade","in","onClick","ev","stopPropagation","className","hideArrow","ChevronLeft","Swiper","onAfterInit","swiper","setTimeout","onResize","onUpdate","onSliderMove","onSlideNextTransitionEnd","onSlideResetTransitionEnd","onSlidePrevTransitionEnd","modules","Navigation","slidesPerView","navigation","enabled","prevEl","nextEl","data-testid","ChevronRight"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}