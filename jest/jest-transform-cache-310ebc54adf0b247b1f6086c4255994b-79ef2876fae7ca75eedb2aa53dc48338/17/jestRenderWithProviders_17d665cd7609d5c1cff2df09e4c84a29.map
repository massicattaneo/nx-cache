{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/tools/src/jestRenderWithProviders.tsx"],"sourcesContent":["import { ReactElement, ReactNode } from \"react\"\nimport { MemoryRouter } from \"react-router-dom\"\nimport { useUser } from \"@clerk/clerk-react\"\nimport { jest } from \"@jest/globals\"\nimport { UseUserQuotas } from \"@rp/react/common/hooks\"\nimport { AccountProvider } from \"@rp/react/common/providers\"\nimport { ApplicationProviders, ProviderComposer } from \"@rp/react/web/common/providers\"\nimport { RenderOptions, render } from \"@testing-library/react\"\n\nexport const useUserQuotasMock = jest.fn<UseUserQuotas>()\n\nuseUserQuotasMock.mockReturnValue({\n  data: {\n    userQuota: {\n      searchMaxSaved: 0,\n      searchMaxShared: 0,\n      searchMaxFollowed: 0,\n      searchMaxScheduled: 0,\n      watchlistMaxShared: 0,\n      watchlistMaxCreated: 0,\n    },\n    userConsumed: {\n      searchSaved: 0,\n      searchShared: 0,\n      searchFollowed: 0,\n      watchlistsShared: 0,\n      watchlistsCreated: 0,\n    },\n    organizationQuota: {},\n    organizationConsumed: {\n      searchExecuted: 0,\n      contextualUnitsIndexed: 0,\n    },\n    subscriptionRenewalDate: new Date(),\n    featureAccessPolicies: [],\n    contentAccessPolicies: [],\n    subscriptionStatus: \"TRIAL\",\n    entitlements: {},\n  },\n  isLoading: false,\n} as unknown as ReturnType<UseUserQuotas>)\n\nconst ContextWrapper = ({ children }: { children: ReactNode }) => (\n  <ProviderComposer>\n    <MemoryRouter>\n      <AccountProvider\n        useUser={useUser}\n        useUserQuotas={useUserQuotasMock}\n        LoadingComponent={<div>Loading...</div>}\n        flagsStatus={{}}\n      >\n        <ApplicationProviders>{children}</ApplicationProviders>\n      </AccountProvider>\n    </MemoryRouter>\n  </ProviderComposer>\n)\n\nconst ContextWithoutRouterWrapper = ({ children }: { children: ReactNode }) => (\n  <ProviderComposer>\n    <AccountProvider\n      useUser={useUser}\n      useUserQuotas={useUserQuotasMock}\n      LoadingComponent={<div>Loading...</div>}\n      flagsStatus={{}}\n    >\n      <ApplicationProviders>{children}</ApplicationProviders>\n    </AccountProvider>\n  </ProviderComposer>\n)\n\nconst renderWithProviders = (ui: ReactElement, options?: RenderOptions, includeRouter = true) =>\n  render(ui, {\n    ...options,\n    wrapper: includeRouter ? ContextWrapper : ContextWithoutRouterWrapper,\n  })\n\nexport { renderWithProviders }\n"],"names":["renderWithProviders","useUserQuotasMock","jest","fn","mockReturnValue","data","userQuota","searchMaxSaved","searchMaxShared","searchMaxFollowed","searchMaxScheduled","watchlistMaxShared","watchlistMaxCreated","userConsumed","searchSaved","searchShared","searchFollowed","watchlistsShared","watchlistsCreated","organizationQuota","organizationConsumed","searchExecuted","contextualUnitsIndexed","subscriptionRenewalDate","Date","featureAccessPolicies","contentAccessPolicies","subscriptionStatus","entitlements","isLoading","ContextWrapper","children","ProviderComposer","MemoryRouter","AccountProvider","useUser","useUserQuotas","LoadingComponent","div","flagsStatus","ApplicationProviders","ContextWithoutRouterWrapper","ui","options","includeRouter","render","wrapper"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IA4ESA,mBAAmB;eAAnBA;;IAnEIC,iBAAiB;eAAjBA;;;;gCARgB;4BACL;yBACH;2BAEW;4BACuB;uBACjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE/B,MAAMA,oBAAoBC,aAAI,CAACC,EAAE;AAExCF,kBAAkBG,eAAe,CAAC;IAChCC,MAAM;QACJC,WAAW;YACTC,gBAAgB;YAChBC,iBAAiB;YACjBC,mBAAmB;YACnBC,oBAAoB;YACpBC,oBAAoB;YACpBC,qBAAqB;QACvB;QACAC,cAAc;YACZC,aAAa;YACbC,cAAc;YACdC,gBAAgB;YAChBC,kBAAkB;YAClBC,mBAAmB;QACrB;QACAC,mBAAmB,CAAC;QACpBC,sBAAsB;YACpBC,gBAAgB;YAChBC,wBAAwB;QAC1B;QACAC,yBAAyB,IAAIC;QAC7BC,uBAAuB,EAAE;QACzBC,uBAAuB,EAAE;QACzBC,oBAAoB;QACpBC,cAAc,CAAC;IACjB;IACAC,WAAW;AACb;AAEA,MAAMC,iBAAiB,CAAC,EAAEC,QAAQ,EAA2B,iBAC3D,qBAACC,4BAAgB;kBACf,cAAA,qBAACC,4BAAY;sBACX,cAAA,qBAACC,0BAAe;gBACdC,SAASA,mBAAO;gBAChBC,eAAenC;gBACfoC,gCAAkB,qBAACC;8BAAI;;gBACvBC,aAAa,CAAC;0BAEd,cAAA,qBAACC,gCAAoB;8BAAET;;;;;AAM/B,MAAMU,8BAA8B,CAAC,EAAEV,QAAQ,EAA2B,iBACxE,qBAACC,4BAAgB;kBACf,cAAA,qBAACE,0BAAe;YACdC,SAASA,mBAAO;YAChBC,eAAenC;YACfoC,gCAAkB,qBAACC;0BAAI;;YACvBC,aAAa,CAAC;sBAEd,cAAA,qBAACC,gCAAoB;0BAAET;;;;AAK7B,MAAM/B,sBAAsB,CAAC0C,IAAkBC,SAAyBC,gBAAgB,IAAI,GAC1FC,IAAAA,aAAM,EAACH,IAAI,wCACNC;QACHG,SAASF,gBAAgBd,iBAAiBW"}