{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/common/composite-components/src/TermsAndPolicies/CustomHeading.tsx"],"sourcesContent":["// This file is based on: https://github.com/imcuttle/remark-heading-id/blob/master/index.js\nimport React from \"react\"\nimport { Components } from \"react-markdown\"\n\ntype ComponentType = Components[\"h1\"]\n\nconst getContentAndId = (nodeText: string) => {\n  let headingText = nodeText.replace(/ +$/, \"\")\n  const headingIdMatch = headingText.match(/ {#([^]+?)}$/)\n\n  if (headingIdMatch) {\n    headingText = headingText.substring(0, headingIdMatch.index)\n  }\n\n  return {\n    headingText,\n    headingId: headingIdMatch ? headingIdMatch[1] : undefined,\n  }\n}\n\nconst CustomHeading: ComponentType = ({ node, ...rest }) => {\n  const lastNode = node?.children[node?.children.length - 1]\n  const { headingText, headingId } = getContentAndId(\n    lastNode?.type === \"text\" ? lastNode.value : \"\",\n  )\n\n  if (!node) return null\n\n  return React.createElement(node.tagName, { ...rest, children: headingText, id: headingId })\n}\n\nexport { CustomHeading }\n"],"names":["CustomHeading","getContentAndId","nodeText","headingText","replace","headingIdMatch","match","substring","index","headingId","undefined","node","rest","lastNode","children","length","type","value","React","createElement","tagName","id"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA,4FAA4F;;;;;+BA+BnFA;;;eAAAA;;;8DA9BS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKlB,MAAMC,kBAAkB,CAACC;IACvB,IAAIC,cAAcD,SAASE,OAAO,CAAC,OAAO;IAC1C,MAAMC,iBAAiBF,YAAYG,KAAK,CAAC;IAEzC,IAAID,gBAAgB;QAClBF,cAAcA,YAAYI,SAAS,CAAC,GAAGF,eAAeG,KAAK;IAC7D;IAEA,OAAO;QACLL;QACAM,WAAWJ,iBAAiBA,cAAc,CAAC,EAAE,GAAGK;IAClD;AACF;AAEA,MAAMV,gBAA+B;QAAC,EAAEW,IAAI,EAAW,WAANC;QAATD;;IACtC,MAAME,WAAWF,iBAAAA,2BAAAA,KAAMG,QAAQ,CAACH,CAAAA,iBAAAA,2BAAAA,KAAMG,QAAQ,CAACC,MAAM,IAAG,EAAE;IAC1D,MAAM,EAAEZ,WAAW,EAAEM,SAAS,EAAE,GAAGR,gBACjCY,CAAAA,qBAAAA,+BAAAA,SAAUG,IAAI,MAAK,SAASH,SAASI,KAAK,GAAG;IAG/C,IAAI,CAACN,MAAM,OAAO;IAElB,qBAAOO,cAAK,CAACC,aAAa,CAACR,KAAKS,OAAO,EAAE,wCAAKR;QAAME,UAAUX;QAAakB,IAAIZ;;AACjF"}