36b1aef316a63fec55ed5f6bc4f1da84
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "StoryCard", {
    enumerable: true,
    get: function() {
        return StoryCard;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _apitypes = require("@rp/common/api-types");
const _utils = require("@rp/common/utils");
const _compositecomponents = require("@rp/react/web/common/composite-components");
const _documentviewer = require("@rp/react/web/common/document-viewer");
const _hooks = require("@rp/react/web/common/hooks");
const _providers = require("@rp/react/web/common/providers");
const _utils1 = require("@rp/react/web/common/vendors/utils");
const _cqsutils = require("@rp/react/web/cqs-utils");
const _core = require("@rp/react/web/mui/core");
const _icons = require("@rp/react/web/mui/icons");
const _rpjson = require("@rp/react/web/rpjson");
const _StoryCardstyles = require("../StoryCard.styles");
const _scrollToStoryTop = require("../scrollToStoryTop");
const _useDisplaySentence = require("./useDisplaySentence");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}
const StoryCard = ({ story, index, query, documentQuery, keywords = [], showCluster = false, toggleShowCluster, isFeedbackMode = false, isClusteredStory, parentId, parentIndex, hideRating, queryId })=>{
    const { isMobile } = (0, _hooks.useDeviceInfo)();
    const [{ document: documentId }, setHashParams] = (0, _hooks.useHashParams)();
    const { id, hd, sentences, documentScope, srcName = "Unknown Source", ts, language = "English", contentType, srcKey } = story;
    const isCluster = (0, _apitypes.isClusterStory)(story);
    const cluster = isCluster ? story.cluster : [];
    const isPrivate = documentScope === "files";
    const onShowLess = (0, _react.useCallback)(()=>(0, _scrollToStoryTop.scrollToStoryTop)(undefined, id), [
        id
    ]);
    const { setDocumentData } = (0, _providers.useDocumentViewerData)();
    const { redirectToContent } = (0, _hooks.useExternalLinkUrl)(id);
    const relevantSentenceId = (0, _cqsutils.getRelevantSentenceId)(story);
    const { displaySentence, isLoading } = (0, _useDisplaySentence.useDisplaySentence)(sentences, id);
    const { pnum, snum, entities: sentenceEntities = [] } = displaySentence;
    const { entities: headlineSentences = [] } = sentences[0].pnum === 0 ? sentences[0] : {};
    const gtmData = {
        documentId: parentId !== null && parentId !== void 0 ? parentId : id,
        index: parentIndex !== null && parentIndex !== void 0 ? parentIndex : index,
        clusterDocumentId: isClusteredStory ? id : undefined,
        clusterIndex: isClusteredStory ? index : undefined,
        sentenceId: `${id}-${pnum}-${snum}`,
        queryId
    };
    const handleClick = (event)=>{
        event.stopPropagation();
        _utils1.tagManagerEvents.storyCard(_object_spread({
            action: "click"
        }, gtmData));
        if (story.url && story.rpProviderId === "MRVR") {
            redirectToContent(story.url, sentences[0].text);
            return;
        }
        setDocumentData({
            documentId: id,
            documentScope,
            language,
            query: documentQuery,
            queryId
        });
        isPrivate ? setHashParams({
            document: id,
            private: "true"
        }) : setHashParams({
            document: id
        });
    };
    const handleMouseEnter = ()=>{
        _utils1.tagManagerEvents.storyCard(_object_spread({
            action: "hover"
        }, gtmData));
    };
    const handleToggleCluster = (event)=>{
        event.stopPropagation();
        toggleShowCluster === null || toggleShowCluster === void 0 ? void 0 : toggleShowCluster(id);
        _utils1.tagManagerEvents.storyCard(_object_spread({
            action: "open-cluster"
        }, gtmData));
    };
    const debounceHandleMouseEnter = (0, _core.debounce)(handleMouseEnter, 500);
    // Change color visited document
    const isVisited = (0, _hooks.useVisitedDocument)(id);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        style: {
            paddingBottom: "8px"
        },
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_StoryCardstyles.StoryCardStyled, {
                className: _StoryCardstyles.classes.storyCardRoot,
                onClick: handleClick,
                onMouseEnter: debounceHandleMouseEnter,
                showCluster: showCluster,
                isVisited: isVisited,
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Box, {
                    sx: {
                        width: 1
                    },
                    id: isCluster ? (0, _scrollToStoryTop.storyId)(id) : undefined,
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_StoryCardstyles.StoryCardHeader, {
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: _StoryCardstyles.classes.headlineContainer,
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.EllipsisTooltip, {
                                    disabled: !!documentId,
                                    tooltipText: hd,
                                    tooltipStyles: {
                                        maxWidth: 350
                                    },
                                    typographyProps: {
                                        style: {
                                            whiteSpace: isMobile ? undefined : "nowrap"
                                        }
                                    },
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Link, {
                                        variant: "body2",
                                        "data-testid": `story-headLine-${id}`,
                                        children: !isPrivate ? hd : (0, _utils.removeFileExtension)(hd)
                                    })
                                })
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_StoryCardstyles.StoryCardHeaderInfo, {
                            "data-testid": `story-headerInfo-${id}`,
                            children: [
                                documentScope !== undefined ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.DocumentIcon, {
                                    contentType: contentType,
                                    documentScope: documentScope,
                                    text: !isPrivate ? srcName : null,
                                    srcKey: srcKey
                                }) : null,
                                isFeedbackMode && (story === null || story === void 0 ? void 0 : story.sourceRank) ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_core.Typography, {
                                    sx: {
                                        fontSize: "12px",
                                        mr: "3px",
                                        color: "primary.main"
                                    },
                                    component: "span",
                                    children: [
                                        "(",
                                        story.sourceRank,
                                        ")"
                                    ]
                                }) : null,
                                cluster.length ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Link, {
                                    component: "button",
                                    onClick: handleToggleCluster,
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_compositecomponents.StoryCardDate, {
                                        sx: {
                                            color: "primary.light",
                                            display: "block"
                                        },
                                        children: [
                                            "+",
                                            cluster.length,
                                            " more"
                                        ]
                                    })
                                }) : null,
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_documentviewer.DateAndTranslatedInfo, {
                                    language: isMobile && cluster.length ? undefined : language,
                                    timestamp: ts
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            children: [
                                !!pnum && pnum !== 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)(_StoryCardstyles.StoryCardStory, {
                                    "data-testid": `story-text-${id}`,
                                    children: isLoading ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Skeleton, {
                                                width: "100%",
                                                height: 16
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Skeleton, {
                                                width: "50%",
                                                height: 16
                                            })
                                        ]
                                    }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_rpjson.RpJsonContentBlockDisplay, {
                                        finds: (0, _utils.getRegExpKeywords)(keywords),
                                        block: displaySentence,
                                        markupDetections: true
                                    })
                                }),
                                isFeedbackMode && /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.StoryCardRanking, {
                                    documentId: story.id,
                                    headlineEntities: headlineSentences,
                                    hideRating: hideRating,
                                    parentIndex: parentIndex,
                                    resultIndex: index,
                                    sentenceEntities: pnum === 0 ? [] : sentenceEntities,
                                    sentenceId: relevantSentenceId
                                })
                            ]
                        })
                    ]
                })
            }),
            showCluster ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_StoryCardstyles.RelatedDocumentButton, {
                onClick: ()=>toggleShowCluster === null || toggleShowCluster === void 0 ? void 0 : toggleShowCluster(id),
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Typography, {
                        fontSize: 14,
                        children: "Related documents"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_icons.ExpandLess, {})
                ]
            }) : null,
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_core.Collapse, {
                in: showCluster,
                id: isCluster ? (0, _scrollToStoryTop.transitionId)(id) : undefined,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_StoryCardstyles.StoryCardClusterStyled, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_compositecomponents.ShowMoreList, {
                        items: cluster,
                        paginate: 3,
                        showNextItemsNum: true,
                        onShowLess: onShowLess,
                        renderItem: (clust, idx)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(StoryCard, {
                                query: query,
                                story: clust,
                                index: idx,
                                keywords: keywords,
                                documentQuery: documentQuery,
                                isClusteredStory: true,
                                parentId: id,
                                parentIndex: index,
                                isFeedbackMode: isFeedbackMode,
                                hideRating: true
                            }, clust.id)
                    })
                })
            })
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL2NvbW1vbi9yZXN1bHRzLXN0b3J5LWNhcmQvc3JjL1N0b3J5Q2FyZC9TdG9yeUNhcmQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vdXNlRXZlbnQsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7XG4gIENxc0NsdXN0ZXJTdW1tYXJ5U3RvcnksXG4gIENxc1NlYXJjaFF1ZXJ5LFxuICBDcXNTdG9yeSxcbiAgaXNDbHVzdGVyU3RvcnksXG59IGZyb20gXCJAcnAvY29tbW9uL2FwaS10eXBlc1wiXG5pbXBvcnQgeyBnZXRSZWdFeHBLZXl3b3JkcyB9IGZyb20gXCJAcnAvY29tbW9uL3V0aWxzXCJcbmltcG9ydCB7IHJlbW92ZUZpbGVFeHRlbnNpb24gfSBmcm9tIFwiQHJwL2NvbW1vbi91dGlsc1wiXG5pbXBvcnQgeyBEb2N1bWVudEljb24gfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vY29tcG9zaXRlLWNvbXBvbmVudHNcIlxuaW1wb3J0IHsgU3RvcnlDYXJkRGF0ZSB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi9jb21wb3NpdGUtY29tcG9uZW50c1wiXG5pbXBvcnQgeyBTdG9yeUNhcmRSYW5raW5nIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2NvbXBvc2l0ZS1jb21wb25lbnRzXCJcbmltcG9ydCB7IEVsbGlwc2lzVG9vbHRpcCwgU2hvd01vcmVMaXN0IH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2NvbXBvc2l0ZS1jb21wb25lbnRzXCJcbmltcG9ydCB7IERhdGVBbmRUcmFuc2xhdGVkSW5mbyB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi9kb2N1bWVudC12aWV3ZXJcIlxuaW1wb3J0IHsgdXNlRXh0ZXJuYWxMaW5rVXJsLCB1c2VIYXNoUGFyYW1zIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2hvb2tzXCJcbmltcG9ydCB7IHVzZURldmljZUluZm8gfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9jb21tb24vaG9va3NcIlxuaW1wb3J0IHsgdXNlVmlzaXRlZERvY3VtZW50IH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvY29tbW9uL2hvb2tzXCJcbmltcG9ydCB7IHVzZURvY3VtZW50Vmlld2VyRGF0YSB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi9wcm92aWRlcnNcIlxuaW1wb3J0IHsgdGFnTWFuYWdlckV2ZW50cyB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2NvbW1vbi92ZW5kb3JzL3V0aWxzXCJcbmltcG9ydCB7IGdldFJlbGV2YW50U2VudGVuY2VJZCB9IGZyb20gXCJAcnAvcmVhY3Qvd2ViL2Nxcy11dGlsc1wiXG5pbXBvcnQgeyBCb3gsIENvbGxhcHNlLCBMaW5rLCBTa2VsZXRvbiwgVHlwb2dyYXBoeSwgZGVib3VuY2UgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9tdWkvY29yZVwiXG5pbXBvcnQgeyBFeHBhbmRMZXNzIH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvbXVpL2ljb25zXCJcbmltcG9ydCB7IFJwSnNvbkNvbnRlbnRCbG9ja0Rpc3BsYXkgfSBmcm9tIFwiQHJwL3JlYWN0L3dlYi9ycGpzb25cIlxuaW1wb3J0IHtcbiAgUmVsYXRlZERvY3VtZW50QnV0dG9uLFxuICBTdG9yeUNhcmRDbHVzdGVyU3R5bGVkLFxuICBTdG9yeUNhcmRIZWFkZXIsXG4gIFN0b3J5Q2FyZEhlYWRlckluZm8sXG4gIFN0b3J5Q2FyZFN0b3J5LFxuICBTdG9yeUNhcmRTdHlsZWQsXG4gIGNsYXNzZXMsXG59IGZyb20gXCIuLi9TdG9yeUNhcmQuc3R5bGVzXCJcbmltcG9ydCB7IHNjcm9sbFRvU3RvcnlUb3AsIHN0b3J5SWQsIHRyYW5zaXRpb25JZCB9IGZyb20gXCIuLi9zY3JvbGxUb1N0b3J5VG9wXCJcbmltcG9ydCB7IHVzZURpc3BsYXlTZW50ZW5jZSB9IGZyb20gXCIuL3VzZURpc3BsYXlTZW50ZW5jZVwiXG5cbmV4cG9ydCB0eXBlIEFjdGlvbkJ1dHRvblByb3BzID0ge1xuICBzdG9yeTogQ3FzU3RvcnkgfCBDcXNDbHVzdGVyU3VtbWFyeVN0b3J5XG59XG5cbmV4cG9ydCB0eXBlIFN0b3J5Q2FyZFR5cGVzID0ge1xuICBzdG9yeTogQ3FzU3RvcnkgfCBDcXNDbHVzdGVyU3VtbWFyeVN0b3J5XG4gIGluZGV4OiBudW1iZXJcbiAgcXVlcnk/OiBDcXNTZWFyY2hRdWVyeVxuICBrZXl3b3Jkcz86IEFycmF5PHN0cmluZz5cbiAgZG9jdW1lbnRRdWVyeT86IENxc1NlYXJjaFF1ZXJ5XG4gIHNob3dDbHVzdGVyPzogYm9vbGVhblxuICB0b2dnbGVTaG93Q2x1c3Rlcj86IChpZDogc3RyaW5nKSA9PiB2b2lkXG4gIGlzRmVlZGJhY2tNb2RlPzogYm9vbGVhblxuICBpc0NsdXN0ZXJlZFN0b3J5PzogYm9vbGVhblxuICBwYXJlbnRJZD86IHN0cmluZ1xuICBwYXJlbnRJbmRleD86IG51bWJlclxuICBoaWRlUmF0aW5nPzogYm9vbGVhblxuICBxdWVyeUlkPzogc3RyaW5nXG59XG5cbmNvbnN0IFN0b3J5Q2FyZCA9ICh7XG4gIHN0b3J5LFxuICBpbmRleCxcbiAgcXVlcnksXG4gIGRvY3VtZW50UXVlcnksXG4gIGtleXdvcmRzID0gW10sXG4gIHNob3dDbHVzdGVyID0gZmFsc2UsXG4gIHRvZ2dsZVNob3dDbHVzdGVyLFxuICBpc0ZlZWRiYWNrTW9kZSA9IGZhbHNlLFxuICBpc0NsdXN0ZXJlZFN0b3J5LFxuICBwYXJlbnRJZCxcbiAgcGFyZW50SW5kZXgsXG4gIGhpZGVSYXRpbmcsXG4gIHF1ZXJ5SWQsXG59OiBTdG9yeUNhcmRUeXBlcykgPT4ge1xuICBjb25zdCB7IGlzTW9iaWxlIH0gPSB1c2VEZXZpY2VJbmZvKClcbiAgY29uc3QgW3sgZG9jdW1lbnQ6IGRvY3VtZW50SWQgfSwgc2V0SGFzaFBhcmFtc10gPSB1c2VIYXNoUGFyYW1zKClcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGhkLFxuICAgIHNlbnRlbmNlcyxcbiAgICBkb2N1bWVudFNjb3BlLFxuICAgIHNyY05hbWUgPSBcIlVua25vd24gU291cmNlXCIsXG4gICAgdHMsXG4gICAgbGFuZ3VhZ2UgPSBcIkVuZ2xpc2hcIixcbiAgICBjb250ZW50VHlwZSxcbiAgICBzcmNLZXksXG4gIH0gPSBzdG9yeVxuICBjb25zdCBpc0NsdXN0ZXIgPSBpc0NsdXN0ZXJTdG9yeShzdG9yeSlcbiAgY29uc3QgY2x1c3RlciA9IGlzQ2x1c3RlciA/IHN0b3J5LmNsdXN0ZXIgOiBbXVxuICBjb25zdCBpc1ByaXZhdGUgPSBkb2N1bWVudFNjb3BlID09PSBcImZpbGVzXCJcbiAgY29uc3Qgb25TaG93TGVzcyA9IHVzZUNhbGxiYWNrKCgpID0+IHNjcm9sbFRvU3RvcnlUb3AodW5kZWZpbmVkLCBpZCksIFtpZF0pXG4gIGNvbnN0IHsgc2V0RG9jdW1lbnREYXRhIH0gPSB1c2VEb2N1bWVudFZpZXdlckRhdGEoKVxuXG4gIGNvbnN0IHsgcmVkaXJlY3RUb0NvbnRlbnQgfSA9IHVzZUV4dGVybmFsTGlua1VybChpZClcbiAgY29uc3QgcmVsZXZhbnRTZW50ZW5jZUlkID0gZ2V0UmVsZXZhbnRTZW50ZW5jZUlkKHN0b3J5KVxuICBjb25zdCB7IGRpc3BsYXlTZW50ZW5jZSwgaXNMb2FkaW5nIH0gPSB1c2VEaXNwbGF5U2VudGVuY2Uoc2VudGVuY2VzLCBpZClcbiAgY29uc3QgeyBwbnVtLCBzbnVtLCBlbnRpdGllczogc2VudGVuY2VFbnRpdGllcyA9IFtdIH0gPSBkaXNwbGF5U2VudGVuY2VcbiAgY29uc3QgeyBlbnRpdGllczogaGVhZGxpbmVTZW50ZW5jZXMgPSBbXSB9ID0gc2VudGVuY2VzWzBdLnBudW0gPT09IDAgPyBzZW50ZW5jZXNbMF0gOiB7fVxuXG4gIGNvbnN0IGd0bURhdGEgPSB7XG4gICAgZG9jdW1lbnRJZDogcGFyZW50SWQgPz8gaWQsXG4gICAgaW5kZXg6IHBhcmVudEluZGV4ID8/IGluZGV4LFxuXG4gICAgY2x1c3RlckRvY3VtZW50SWQ6IGlzQ2x1c3RlcmVkU3RvcnkgPyBpZCA6IHVuZGVmaW5lZCxcbiAgICBjbHVzdGVySW5kZXg6IGlzQ2x1c3RlcmVkU3RvcnkgPyBpbmRleCA6IHVuZGVmaW5lZCxcblxuICAgIHNlbnRlbmNlSWQ6IGAke2lkfS0ke3BudW19LSR7c251bX1gLFxuICAgIHF1ZXJ5SWQsXG4gIH1cblxuICBjb25zdCBoYW5kbGVDbGljayA9IChldmVudDogTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgdGFnTWFuYWdlckV2ZW50cy5zdG9yeUNhcmQoe1xuICAgICAgYWN0aW9uOiBcImNsaWNrXCIsXG4gICAgICAuLi5ndG1EYXRhLFxuICAgIH0pXG5cbiAgICBpZiAoc3RvcnkudXJsICYmIHN0b3J5LnJwUHJvdmlkZXJJZCA9PT0gXCJNUlZSXCIpIHtcbiAgICAgIHJlZGlyZWN0VG9Db250ZW50KHN0b3J5LnVybCwgc2VudGVuY2VzWzBdLnRleHQpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzZXREb2N1bWVudERhdGEoe1xuICAgICAgZG9jdW1lbnRJZDogaWQsXG4gICAgICBkb2N1bWVudFNjb3BlLFxuICAgICAgbGFuZ3VhZ2UsXG4gICAgICBxdWVyeTogZG9jdW1lbnRRdWVyeSxcbiAgICAgIHF1ZXJ5SWQsXG4gICAgfSlcblxuICAgIGlzUHJpdmF0ZSA/IHNldEhhc2hQYXJhbXMoeyBkb2N1bWVudDogaWQsIHByaXZhdGU6IFwidHJ1ZVwiIH0pIDogc2V0SGFzaFBhcmFtcyh7IGRvY3VtZW50OiBpZCB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTW91c2VFbnRlciA9ICgpID0+IHtcbiAgICB0YWdNYW5hZ2VyRXZlbnRzLnN0b3J5Q2FyZCh7XG4gICAgICBhY3Rpb246IFwiaG92ZXJcIixcbiAgICAgIC4uLmd0bURhdGEsXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUNsdXN0ZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIHRvZ2dsZVNob3dDbHVzdGVyPy4oaWQpXG5cbiAgICB0YWdNYW5hZ2VyRXZlbnRzLnN0b3J5Q2FyZCh7XG4gICAgICBhY3Rpb246IFwib3Blbi1jbHVzdGVyXCIsXG4gICAgICAuLi5ndG1EYXRhLFxuICAgIH0pXG4gIH1cblxuICBjb25zdCBkZWJvdW5jZUhhbmRsZU1vdXNlRW50ZXIgPSBkZWJvdW5jZShoYW5kbGVNb3VzZUVudGVyLCA1MDApXG5cbiAgLy8gQ2hhbmdlIGNvbG9yIHZpc2l0ZWQgZG9jdW1lbnRcbiAgY29uc3QgaXNWaXNpdGVkID0gdXNlVmlzaXRlZERvY3VtZW50KGlkKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nQm90dG9tOiBcIjhweFwiIH19PlxuICAgICAgPFN0b3J5Q2FyZFN0eWxlZFxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuc3RvcnlDYXJkUm9vdH1cbiAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XG4gICAgICAgIG9uTW91c2VFbnRlcj17ZGVib3VuY2VIYW5kbGVNb3VzZUVudGVyfVxuICAgICAgICBzaG93Q2x1c3Rlcj17c2hvd0NsdXN0ZXJ9XG4gICAgICAgIGlzVmlzaXRlZD17aXNWaXNpdGVkfVxuICAgICAgPlxuICAgICAgICA8Qm94IHN4PXt7IHdpZHRoOiAxIH19IGlkPXtpc0NsdXN0ZXIgPyBzdG9yeUlkKGlkKSA6IHVuZGVmaW5lZH0+XG4gICAgICAgICAgPFN0b3J5Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5oZWFkbGluZUNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgIDxFbGxpcHNpc1Rvb2x0aXBcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ISFkb2N1bWVudElkfVxuICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0PXtoZH1cbiAgICAgICAgICAgICAgICB0b29sdGlwU3R5bGVzPXt7IG1heFdpZHRoOiAzNTAgfX1cbiAgICAgICAgICAgICAgICB0eXBvZ3JhcGh5UHJvcHM9e3tcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6IGlzTW9iaWxlID8gdW5kZWZpbmVkIDogXCJub3dyYXBcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMaW5rIHZhcmlhbnQ9XCJib2R5MlwiIGRhdGEtdGVzdGlkPXtgc3RvcnktaGVhZExpbmUtJHtpZH1gfT5cbiAgICAgICAgICAgICAgICAgIHshaXNQcml2YXRlID8gaGQgOiByZW1vdmVGaWxlRXh0ZW5zaW9uKGhkKX1cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvRWxsaXBzaXNUb29sdGlwPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvU3RvcnlDYXJkSGVhZGVyPlxuICAgICAgICAgIDxTdG9yeUNhcmRIZWFkZXJJbmZvIGRhdGEtdGVzdGlkPXtgc3RvcnktaGVhZGVySW5mby0ke2lkfWB9PlxuICAgICAgICAgICAge2RvY3VtZW50U2NvcGUgIT09IHVuZGVmaW5lZCA/IChcbiAgICAgICAgICAgICAgPERvY3VtZW50SWNvblxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlPXtjb250ZW50VHlwZX1cbiAgICAgICAgICAgICAgICBkb2N1bWVudFNjb3BlPXtkb2N1bWVudFNjb3BlfVxuICAgICAgICAgICAgICAgIHRleHQ9eyFpc1ByaXZhdGUgPyBzcmNOYW1lIDogbnVsbH1cbiAgICAgICAgICAgICAgICBzcmNLZXk9e3NyY0tleX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAge2lzRmVlZGJhY2tNb2RlICYmIHN0b3J5Py5zb3VyY2VSYW5rID8gKFxuICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxuICAgICAgICAgICAgICAgIHN4PXt7IGZvbnRTaXplOiBcIjEycHhcIiwgbXI6IFwiM3B4XCIsIGNvbG9yOiBcInByaW1hcnkubWFpblwiIH19XG4gICAgICAgICAgICAgICAgY29tcG9uZW50PVwic3BhblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAoe3N0b3J5LnNvdXJjZVJhbmt9KVxuICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIHtjbHVzdGVyLmxlbmd0aCA/IChcbiAgICAgICAgICAgICAgPExpbmsgY29tcG9uZW50PVwiYnV0dG9uXCIgb25DbGljaz17aGFuZGxlVG9nZ2xlQ2x1c3Rlcn0+XG4gICAgICAgICAgICAgICAgPFN0b3J5Q2FyZERhdGUgc3g9e3sgY29sb3I6IFwicHJpbWFyeS5saWdodFwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfX0+XG4gICAgICAgICAgICAgICAgICAre2NsdXN0ZXIubGVuZ3RofSBtb3JlXG4gICAgICAgICAgICAgICAgPC9TdG9yeUNhcmREYXRlPlxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDxEYXRlQW5kVHJhbnNsYXRlZEluZm9cbiAgICAgICAgICAgICAgbGFuZ3VhZ2U9e2lzTW9iaWxlICYmIGNsdXN0ZXIubGVuZ3RoID8gdW5kZWZpbmVkIDogbGFuZ3VhZ2V9XG4gICAgICAgICAgICAgIHRpbWVzdGFtcD17dHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvU3RvcnlDYXJkSGVhZGVySW5mbz5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgeyEhcG51bSAmJiBwbnVtICE9PSAwICYmIChcbiAgICAgICAgICAgICAgPFN0b3J5Q2FyZFN0b3J5IGRhdGEtdGVzdGlkPXtgc3RvcnktdGV4dC0ke2lkfWB9PlxuICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24gd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIHdpZHRoPVwiNTAlXCIgaGVpZ2h0PXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8UnBKc29uQ29udGVudEJsb2NrRGlzcGxheVxuICAgICAgICAgICAgICAgICAgICBmaW5kcz17Z2V0UmVnRXhwS2V5d29yZHMoa2V5d29yZHMpfVxuICAgICAgICAgICAgICAgICAgICBibG9jaz17ZGlzcGxheVNlbnRlbmNlfVxuICAgICAgICAgICAgICAgICAgICBtYXJrdXBEZXRlY3Rpb25zXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvU3RvcnlDYXJkU3Rvcnk+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2lzRmVlZGJhY2tNb2RlICYmIChcbiAgICAgICAgICAgICAgPFN0b3J5Q2FyZFJhbmtpbmdcbiAgICAgICAgICAgICAgICBkb2N1bWVudElkPXtzdG9yeS5pZH1cbiAgICAgICAgICAgICAgICBoZWFkbGluZUVudGl0aWVzPXtoZWFkbGluZVNlbnRlbmNlc31cbiAgICAgICAgICAgICAgICBoaWRlUmF0aW5nPXtoaWRlUmF0aW5nfVxuICAgICAgICAgICAgICAgIHBhcmVudEluZGV4PXtwYXJlbnRJbmRleH1cbiAgICAgICAgICAgICAgICByZXN1bHRJbmRleD17aW5kZXh9XG4gICAgICAgICAgICAgICAgc2VudGVuY2VFbnRpdGllcz17cG51bSA9PT0gMCA/IFtdIDogc2VudGVuY2VFbnRpdGllc31cbiAgICAgICAgICAgICAgICBzZW50ZW5jZUlkPXtyZWxldmFudFNlbnRlbmNlSWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0JveD5cbiAgICAgIDwvU3RvcnlDYXJkU3R5bGVkPlxuICAgICAge3Nob3dDbHVzdGVyID8gKFxuICAgICAgICA8UmVsYXRlZERvY3VtZW50QnV0dG9uIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVNob3dDbHVzdGVyPy4oaWQpfT5cbiAgICAgICAgICA8VHlwb2dyYXBoeSBmb250U2l6ZT17MTR9PlJlbGF0ZWQgZG9jdW1lbnRzPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgIDxFeHBhbmRMZXNzIC8+XG4gICAgICAgIDwvUmVsYXRlZERvY3VtZW50QnV0dG9uPlxuICAgICAgKSA6IG51bGx9XG4gICAgICA8Q29sbGFwc2UgaW49e3Nob3dDbHVzdGVyfSBpZD17aXNDbHVzdGVyID8gdHJhbnNpdGlvbklkKGlkKSA6IHVuZGVmaW5lZH0+XG4gICAgICAgIDxTdG9yeUNhcmRDbHVzdGVyU3R5bGVkPlxuICAgICAgICAgIDxTaG93TW9yZUxpc3RcbiAgICAgICAgICAgIGl0ZW1zPXtjbHVzdGVyfVxuICAgICAgICAgICAgcGFnaW5hdGU9ezN9XG4gICAgICAgICAgICBzaG93TmV4dEl0ZW1zTnVtXG4gICAgICAgICAgICBvblNob3dMZXNzPXtvblNob3dMZXNzfVxuICAgICAgICAgICAgcmVuZGVySXRlbT17KGNsdXN0LCBpZHgpID0+IChcbiAgICAgICAgICAgICAgPFN0b3J5Q2FyZFxuICAgICAgICAgICAgICAgIHF1ZXJ5PXtxdWVyeX1cbiAgICAgICAgICAgICAgICBrZXk9e2NsdXN0LmlkfVxuICAgICAgICAgICAgICAgIHN0b3J5PXtjbHVzdH1cbiAgICAgICAgICAgICAgICBpbmRleD17aWR4fVxuICAgICAgICAgICAgICAgIGtleXdvcmRzPXtrZXl3b3Jkc31cbiAgICAgICAgICAgICAgICBkb2N1bWVudFF1ZXJ5PXtkb2N1bWVudFF1ZXJ5fVxuICAgICAgICAgICAgICAgIGlzQ2x1c3RlcmVkU3RvcnlcbiAgICAgICAgICAgICAgICBwYXJlbnRJZD17aWR9XG4gICAgICAgICAgICAgICAgcGFyZW50SW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgICAgIGlzRmVlZGJhY2tNb2RlPXtpc0ZlZWRiYWNrTW9kZX1cbiAgICAgICAgICAgICAgICBoaWRlUmF0aW5nXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU3RvcnlDYXJkQ2x1c3RlclN0eWxlZD5cbiAgICAgIDwvQ29sbGFwc2U+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IHsgU3RvcnlDYXJkIH1cbiJdLCJuYW1lcyI6WyJTdG9yeUNhcmQiLCJzdG9yeSIsImluZGV4IiwicXVlcnkiLCJkb2N1bWVudFF1ZXJ5Iiwia2V5d29yZHMiLCJzaG93Q2x1c3RlciIsInRvZ2dsZVNob3dDbHVzdGVyIiwiaXNGZWVkYmFja01vZGUiLCJpc0NsdXN0ZXJlZFN0b3J5IiwicGFyZW50SWQiLCJwYXJlbnRJbmRleCIsImhpZGVSYXRpbmciLCJxdWVyeUlkIiwiaXNNb2JpbGUiLCJ1c2VEZXZpY2VJbmZvIiwiZG9jdW1lbnQiLCJkb2N1bWVudElkIiwic2V0SGFzaFBhcmFtcyIsInVzZUhhc2hQYXJhbXMiLCJpZCIsImhkIiwic2VudGVuY2VzIiwiZG9jdW1lbnRTY29wZSIsInNyY05hbWUiLCJ0cyIsImxhbmd1YWdlIiwiY29udGVudFR5cGUiLCJzcmNLZXkiLCJpc0NsdXN0ZXIiLCJpc0NsdXN0ZXJTdG9yeSIsImNsdXN0ZXIiLCJpc1ByaXZhdGUiLCJvblNob3dMZXNzIiwidXNlQ2FsbGJhY2siLCJzY3JvbGxUb1N0b3J5VG9wIiwidW5kZWZpbmVkIiwic2V0RG9jdW1lbnREYXRhIiwidXNlRG9jdW1lbnRWaWV3ZXJEYXRhIiwicmVkaXJlY3RUb0NvbnRlbnQiLCJ1c2VFeHRlcm5hbExpbmtVcmwiLCJyZWxldmFudFNlbnRlbmNlSWQiLCJnZXRSZWxldmFudFNlbnRlbmNlSWQiLCJkaXNwbGF5U2VudGVuY2UiLCJpc0xvYWRpbmciLCJ1c2VEaXNwbGF5U2VudGVuY2UiLCJwbnVtIiwic251bSIsImVudGl0aWVzIiwic2VudGVuY2VFbnRpdGllcyIsImhlYWRsaW5lU2VudGVuY2VzIiwiZ3RtRGF0YSIsImNsdXN0ZXJEb2N1bWVudElkIiwiY2x1c3RlckluZGV4Iiwic2VudGVuY2VJZCIsImhhbmRsZUNsaWNrIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJ0YWdNYW5hZ2VyRXZlbnRzIiwic3RvcnlDYXJkIiwiYWN0aW9uIiwidXJsIiwicnBQcm92aWRlcklkIiwidGV4dCIsInByaXZhdGUiLCJoYW5kbGVNb3VzZUVudGVyIiwiaGFuZGxlVG9nZ2xlQ2x1c3RlciIsImRlYm91bmNlSGFuZGxlTW91c2VFbnRlciIsImRlYm91bmNlIiwiaXNWaXNpdGVkIiwidXNlVmlzaXRlZERvY3VtZW50IiwiZGl2Iiwic3R5bGUiLCJwYWRkaW5nQm90dG9tIiwiU3RvcnlDYXJkU3R5bGVkIiwiY2xhc3NOYW1lIiwiY2xhc3NlcyIsInN0b3J5Q2FyZFJvb3QiLCJvbkNsaWNrIiwib25Nb3VzZUVudGVyIiwiQm94Iiwic3giLCJ3aWR0aCIsInN0b3J5SWQiLCJTdG9yeUNhcmRIZWFkZXIiLCJzcGFuIiwiaGVhZGxpbmVDb250YWluZXIiLCJFbGxpcHNpc1Rvb2x0aXAiLCJkaXNhYmxlZCIsInRvb2x0aXBUZXh0IiwidG9vbHRpcFN0eWxlcyIsIm1heFdpZHRoIiwidHlwb2dyYXBoeVByb3BzIiwid2hpdGVTcGFjZSIsIkxpbmsiLCJ2YXJpYW50IiwiZGF0YS10ZXN0aWQiLCJyZW1vdmVGaWxlRXh0ZW5zaW9uIiwiU3RvcnlDYXJkSGVhZGVySW5mbyIsIkRvY3VtZW50SWNvbiIsInNvdXJjZVJhbmsiLCJUeXBvZ3JhcGh5IiwiZm9udFNpemUiLCJtciIsImNvbG9yIiwiY29tcG9uZW50IiwibGVuZ3RoIiwiU3RvcnlDYXJkRGF0ZSIsImRpc3BsYXkiLCJEYXRlQW5kVHJhbnNsYXRlZEluZm8iLCJ0aW1lc3RhbXAiLCJTdG9yeUNhcmRTdG9yeSIsIlNrZWxldG9uIiwiaGVpZ2h0IiwiUnBKc29uQ29udGVudEJsb2NrRGlzcGxheSIsImZpbmRzIiwiZ2V0UmVnRXhwS2V5d29yZHMiLCJibG9jayIsIm1hcmt1cERldGVjdGlvbnMiLCJTdG9yeUNhcmRSYW5raW5nIiwiaGVhZGxpbmVFbnRpdGllcyIsInJlc3VsdEluZGV4IiwiUmVsYXRlZERvY3VtZW50QnV0dG9uIiwiRXhwYW5kTGVzcyIsIkNvbGxhcHNlIiwiaW4iLCJ0cmFuc2l0aW9uSWQiLCJTdG9yeUNhcmRDbHVzdGVyU3R5bGVkIiwiU2hvd01vcmVMaXN0IiwiaXRlbXMiLCJwYWdpbmF0ZSIsInNob3dOZXh0SXRlbXNOdW0iLCJyZW5kZXJJdGVtIiwiY2x1c3QiLCJpZHgiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBb1JTQTs7O2VBQUFBOzs7O3VCQXBSK0I7MEJBTWpDO3VCQUMyQjtxQ0FFTDtnQ0FJUzt1QkFDWTsyQkFHWjt3QkFDTDswQkFDSztzQkFDOEI7dUJBQ3pDO3dCQUNlO2lDQVNuQztrQ0FDaUQ7b0NBQ3JCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNCbkMsTUFBTUEsWUFBWSxDQUFDLEVBQ2pCQyxLQUFLLEVBQ0xDLEtBQUssRUFDTEMsS0FBSyxFQUNMQyxhQUFhLEVBQ2JDLFdBQVcsRUFBRSxFQUNiQyxjQUFj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