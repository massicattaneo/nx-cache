72b32ac8a9d87d6e561913a3ade3c1f1
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useInfiniteContentPackages", {
    enumerable: true,
    get: function() {
        return useInfiniteContentPackages;
    }
});
const _reactquery = require("@tanstack/react-query");
const _contentconstants = require("../content.constants");
const _getContentPackages = require("../services/getContentPackages");
const _contentPackagesQueryKeys = require("../utils/contentPackagesQueryKeys");
function useInfiniteContentPackages() {
    return (0, _reactquery.useInfiniteQuery)({
        queryKey: _contentPackagesQueryKeys.contentPackagesQueryKeys.paginated(),
        queryFn: (params)=>(0, _getContentPackages.getContentPackages)({
                offset: params.pageParam,
                pageCount: _contentconstants.CONTENT_PACKAGES_INFINITE_PAGE_SIZE
            }),
        staleTime: 60 * 1000,
        refetchOnWindowFocus: false,
        initialPageParam: 0,
        placeholderData: _reactquery.keepPreviousData,
        getNextPageParam: (lastPage, _allPages, lastPageParam)=>{
            if (lastPage.results.length < _contentconstants.CONTENT_PACKAGES_INFINITE_PAGE_SIZE) return undefined;
            return lastPageParam + 1;
        }
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3QvdGFuc3RhY2stYXBpL2NvbnRlbnQvc3JjL2hvb2tzL3VzZUluZmluaXRlQ29udGVudFBhY2thZ2VzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGtlZXBQcmV2aW91c0RhdGEsIHVzZUluZmluaXRlUXVlcnkgfSBmcm9tIFwiQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5XCJcbmltcG9ydCB7IENPTlRFTlRfUEFDS0FHRVNfSU5GSU5JVEVfUEFHRV9TSVpFIH0gZnJvbSBcIi4uL2NvbnRlbnQuY29uc3RhbnRzXCJcbmltcG9ydCB7IGdldENvbnRlbnRQYWNrYWdlcyB9IGZyb20gXCIuLi9zZXJ2aWNlcy9nZXRDb250ZW50UGFja2FnZXNcIlxuaW1wb3J0IHsgY29udGVudFBhY2thZ2VzUXVlcnlLZXlzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnRlbnRQYWNrYWdlc1F1ZXJ5S2V5c1wiXG5cbmZ1bmN0aW9uIHVzZUluZmluaXRlQ29udGVudFBhY2thZ2VzKCkge1xuICByZXR1cm4gdXNlSW5maW5pdGVRdWVyeSh7XG4gICAgcXVlcnlLZXk6IGNvbnRlbnRQYWNrYWdlc1F1ZXJ5S2V5cy5wYWdpbmF0ZWQoKSxcbiAgICBxdWVyeUZuOiBwYXJhbXMgPT5cbiAgICAgIGdldENvbnRlbnRQYWNrYWdlcyh7XG4gICAgICAgIG9mZnNldDogcGFyYW1zLnBhZ2VQYXJhbSxcbiAgICAgICAgcGFnZUNvdW50OiBDT05URU5UX1BBQ0tBR0VTX0lORklOSVRFX1BBR0VfU0laRSxcbiAgICAgIH0pLFxuICAgIHN0YWxlVGltZTogNjAgKiAxMDAwLFxuICAgIHJlZmV0Y2hPbldpbmRvd0ZvY3VzOiBmYWxzZSxcbiAgICBpbml0aWFsUGFnZVBhcmFtOiAwLFxuICAgIHBsYWNlaG9sZGVyRGF0YToga2VlcFByZXZpb3VzRGF0YSxcbiAgICBnZXROZXh0UGFnZVBhcmFtOiAobGFzdFBhZ2UsIF9hbGxQYWdlcywgbGFzdFBhZ2VQYXJhbSkgPT4ge1xuICAgICAgaWYgKGxhc3RQYWdlLnJlc3VsdHMubGVuZ3RoIDwgQ09OVEVOVF9QQUNLQUdFU19JTkZJTklURV9QQUdFX1NJWkUpIHJldHVybiB1bmRlZmluZWRcbiAgICAgIHJldHVybiBsYXN0UGFnZVBhcmFtICsgMVxuICAgIH0sXG4gIH0pXG59XG5cbmV4cG9ydCB7IHVzZUluZmluaXRlQ29udGVudFBhY2thZ2VzIH1cbiJdLCJuYW1lcyI6WyJ1c2VJbmZpbml0ZUNvbnRlbnRQYWNrYWdlcyIsInVzZUluZmluaXRlUXVlcnkiLCJxdWVyeUtleSIsImNvbnRlbnRQYWNrYWdlc1F1ZXJ5S2V5cyIsInBhZ2luYXRlZCIsInF1ZXJ5Rm4iLCJwYXJhbXMiLCJnZXRDb250ZW50UGFja2FnZXMiLCJvZmZzZXQiLCJwYWdlUGFyYW0iLCJwYWdlQ291bnQiLCJDT05URU5UX1BBQ0tBR0VTX0lORklOSVRFX1BBR0VfU0laRSIsInN0YWxlVGltZSIsInJlZmV0Y2hPbldpbmRvd0ZvY3VzIiwiaW5pdGlhbFBhZ2VQYXJhbSIsInBsYWNlaG9sZGVyRGF0YSIsImtlZXBQcmV2aW91c0RhdGEiLCJnZXROZXh0UGFnZVBhcmFtIiwibGFzdFBhZ2UiLCJfYWxsUGFnZXMiLCJsYXN0UGFnZVBhcmFtIiwicmVzdWx0cyIsImxlbmd0aCIsInVuZGVmaW5lZCJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiI7Ozs7K0JBd0JTQTs7O2VBQUFBOzs7NEJBeEIwQztrQ0FDQztvQ0FDakI7MENBQ007QUFFekMsU0FBU0E7SUFDUCxPQUFPQyxJQUFBQSw0QkFBZ0IsRUFBQztRQUN0QkMsVUFBVUMsa0RBQXdCLENBQUNDLFNBQVM7UUFDNUNDLFNBQVNDLENBQUFBLFNBQ1BDLElBQUFBLHNDQUFrQixFQUFDO2dCQUNqQkMsUUFBUUYsT0FBT0csU0FBUztnQkFDeEJDLFdBQVdDLHFEQUFtQztZQUNoRDtRQUNGQyxXQUFXLEtBQUs7UUFDaEJDLHNCQUFzQjtRQUN0QkMsa0JBQWtCO1FBQ2xCQyxpQkFBaUJDLDRCQUFnQjtRQUNqQ0Msa0JBQWtCLENBQUNDLFVBQVVDLFdBQVdDO1lBQ3RDLElBQUlGLFNBQVNHLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHWCxxREFBbUMsRUFBRSxPQUFPWTtZQUMxRSxPQUFPSCxnQkFBZ0I7UUFDekI7SUFDRjtBQUNGIn0=