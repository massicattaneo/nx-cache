{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/tanstack-api/content/src/hooks/useInfiniteContentPackages.ts"],"sourcesContent":["import { keepPreviousData, useInfiniteQuery } from \"@tanstack/react-query\"\nimport { CONTENT_PACKAGES_INFINITE_PAGE_SIZE } from \"../content.constants\"\nimport { getContentPackages } from \"../services/getContentPackages\"\nimport { contentPackagesQueryKeys } from \"../utils/contentPackagesQueryKeys\"\n\nfunction useInfiniteContentPackages() {\n  return useInfiniteQuery({\n    queryKey: contentPackagesQueryKeys.paginated(),\n    queryFn: params =>\n      getContentPackages({\n        offset: params.pageParam,\n        pageCount: CONTENT_PACKAGES_INFINITE_PAGE_SIZE,\n      }),\n    staleTime: 60 * 1000,\n    refetchOnWindowFocus: false,\n    initialPageParam: 0,\n    placeholderData: keepPreviousData,\n    getNextPageParam: (lastPage, _allPages, lastPageParam) => {\n      if (lastPage.results.length < CONTENT_PACKAGES_INFINITE_PAGE_SIZE) return undefined\n      return lastPageParam + 1\n    },\n  })\n}\n\nexport { useInfiniteContentPackages }\n"],"names":["useInfiniteContentPackages","useInfiniteQuery","queryKey","contentPackagesQueryKeys","paginated","queryFn","params","getContentPackages","offset","pageParam","pageCount","CONTENT_PACKAGES_INFINITE_PAGE_SIZE","staleTime","refetchOnWindowFocus","initialPageParam","placeholderData","keepPreviousData","getNextPageParam","lastPage","_allPages","lastPageParam","results","length","undefined"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAwBSA;;;eAAAA;;;4BAxB0C;kCACC;oCACjB;0CACM;AAEzC,SAASA;IACP,OAAOC,IAAAA,4BAAgB,EAAC;QACtBC,UAAUC,kDAAwB,CAACC,SAAS;QAC5CC,SAASC,CAAAA,SACPC,IAAAA,sCAAkB,EAAC;gBACjBC,QAAQF,OAAOG,SAAS;gBACxBC,WAAWC,qDAAmC;YAChD;QACFC,WAAW,KAAK;QAChBC,sBAAsB;QACtBC,kBAAkB;QAClBC,iBAAiBC,4BAAgB;QACjCC,kBAAkB,CAACC,UAAUC,WAAWC;YACtC,IAAIF,SAASG,OAAO,CAACC,MAAM,GAAGX,qDAAmC,EAAE,OAAOY;YAC1E,OAAOH,gBAAgB;QACzB;IACF;AACF"}