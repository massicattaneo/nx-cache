{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/web/watchlists/src/lib/WatchlistDataTabs/tables/sentiment.tsx"],"sourcesContent":["import { format } from \"date-fns\"\nimport { isDefined } from \"@rp/common/utils\"\nimport { SentimentSatisfiedAlt } from \"@rp/react/web/mui/icons\"\nimport \"@tanstack/react-table\"\nimport { companySentiment } from \"../endpoints/companySentiment\"\nimport { genericTable } from \"../genericTable\"\n\nconst sentiment = genericTable({\n  tableName: \"sentiment\",\n  tableLabel: \"Sentiment\",\n  tableIcon: <SentimentSatisfiedAlt />,\n  defaultVisible: [\n    { endpoint: \"companySentiment\", columnKey: \"dailySentiment\" },\n    { endpoint: \"companySentiment\", columnKey: \"sentimentPressure\" },\n    { endpoint: \"companySentiment\", columnKey: \"abnormalMediaAttention\" },\n  ],\n  columns: [\n    companySentiment.dailySentiment(\"sentiment\"),\n    companySentiment.sentimentPressure(\"sentiment\"),\n    companySentiment.abnormalMediaAttention(\"sentiment\"),\n  ],\n  headerInfo: (entityIds, data) => {\n    const ep = entityIds\n      .map(entity => data[entity.key].companySentiment?.data?.date)\n      .filter(isDefined)\n      .map(date => new Date(date).getTime())\n\n    if (ep.length === 0) return null\n\n    return {\n      text: `Sentiment data as of ${format(\n        new Date(Math.max(...ep)),\n        \"MMMM dd, yyyy\",\n      )} at 00:35 UTC`,\n    }\n  },\n})\n\nexport { sentiment }\n"],"names":["sentiment","genericTable","tableName","tableLabel","tableIcon","SentimentSatisfiedAlt","defaultVisible","endpoint","columnKey","columns","companySentiment","dailySentiment","sentimentPressure","abnormalMediaAttention","headerInfo","entityIds","data","ep","map","entity","key","date","filter","isDefined","Date","getTime","length","text","format","Math","max"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAsCSA;;;eAAAA;;;;yBAtCc;uBACG;uBACY;QAC/B;kCAC0B;8BACJ;AAE7B,MAAMA,YAAYC,IAAAA,0BAAY,EAAC;IAC7BC,WAAW;IACXC,YAAY;IACZC,yBAAW,qBAACC,4BAAqB;IACjCC,gBAAgB;QACd;YAAEC,UAAU;YAAoBC,WAAW;QAAiB;QAC5D;YAAED,UAAU;YAAoBC,WAAW;QAAoB;QAC/D;YAAED,UAAU;YAAoBC,WAAW;QAAyB;KACrE;IACDC,SAAS;QACPC,kCAAgB,CAACC,cAAc,CAAC;QAChCD,kCAAgB,CAACE,iBAAiB,CAAC;QACnCF,kCAAgB,CAACG,sBAAsB,CAAC;KACzC;IACDC,YAAY,CAACC,WAAWC;QACtB,MAAMC,KAAKF,UACRG,GAAG,CAACC,CAAAA;gBAAUH,wCAAAA;oBAAAA,oCAAAA,IAAI,CAACG,OAAOC,GAAG,CAAC,CAACV,gBAAgB,cAAjCM,yDAAAA,yCAAAA,kCAAmCA,IAAI,cAAvCA,6DAAAA,uCAAyCK,IAAI;WAC3DC,MAAM,CAACC,gBAAS,EAChBL,GAAG,CAACG,CAAAA,OAAQ,IAAIG,KAAKH,MAAMI,OAAO;QAErC,IAAIR,GAAGS,MAAM,KAAK,GAAG,OAAO;QAE5B,OAAO;YACLC,MAAM,CAAC,qBAAqB,EAAEC,IAAAA,eAAM,EAClC,IAAIJ,KAAKK,KAAKC,GAAG,IAAIb,MACrB,iBACA,aAAa,CAAC;QAClB;IACF;AACF"}