808a730e788ae4db02417216d4300159
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "sentiment", {
    enumerable: true,
    get: function() {
        return sentiment;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _datefns = require("date-fns");
const _utils = require("@rp/common/utils");
const _icons = require("@rp/react/web/mui/icons");
require("@tanstack/react-table");
const _companySentiment = require("../endpoints/companySentiment");
const _genericTable = require("../genericTable");
const sentiment = (0, _genericTable.genericTable)({
    tableName: "sentiment",
    tableLabel: "Sentiment",
    tableIcon: /*#__PURE__*/ (0, _jsxruntime.jsx)(_icons.SentimentSatisfiedAlt, {}),
    defaultVisible: [
        {
            endpoint: "companySentiment",
            columnKey: "dailySentiment"
        },
        {
            endpoint: "companySentiment",
            columnKey: "sentimentPressure"
        },
        {
            endpoint: "companySentiment",
            columnKey: "abnormalMediaAttention"
        }
    ],
    columns: [
        _companySentiment.companySentiment.dailySentiment("sentiment"),
        _companySentiment.companySentiment.sentimentPressure("sentiment"),
        _companySentiment.companySentiment.abnormalMediaAttention("sentiment")
    ],
    headerInfo: (entityIds, data)=>{
        const ep = entityIds.map((entity)=>{
            var _data_entity_key_companySentiment_data, _data_entity_key_companySentiment;
            return (_data_entity_key_companySentiment = data[entity.key].companySentiment) === null || _data_entity_key_companySentiment === void 0 ? void 0 : (_data_entity_key_companySentiment_data = _data_entity_key_companySentiment.data) === null || _data_entity_key_companySentiment_data === void 0 ? void 0 : _data_entity_key_companySentiment_data.date;
        }).filter(_utils.isDefined).map((date)=>new Date(date).getTime());
        if (ep.length === 0) return null;
        return {
            text: `Sentiment data as of ${(0, _datefns.format)(new Date(Math.max(...ep)), "MMMM dd, yyyy")} at 00:35 UTC`
        };
    }
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tY2F0dGFuZW8vd29ya3NwYWNlL2Zyb250ZW5kL2xpYnMvcmVhY3Qvd2ViL3dhdGNobGlzdHMvc3JjL2xpYi9XYXRjaGxpc3REYXRhVGFicy90YWJsZXMvc2VudGltZW50LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXQgfSBmcm9tIFwiZGF0ZS1mbnNcIlxuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSBcIkBycC9jb21tb24vdXRpbHNcIlxuaW1wb3J0IHsgU2VudGltZW50U2F0aXNmaWVkQWx0IH0gZnJvbSBcIkBycC9yZWFjdC93ZWIvbXVpL2ljb25zXCJcbmltcG9ydCBcIkB0YW5zdGFjay9yZWFjdC10YWJsZVwiXG5pbXBvcnQgeyBjb21wYW55U2VudGltZW50IH0gZnJvbSBcIi4uL2VuZHBvaW50cy9jb21wYW55U2VudGltZW50XCJcbmltcG9ydCB7IGdlbmVyaWNUYWJsZSB9IGZyb20gXCIuLi9nZW5lcmljVGFibGVcIlxuXG5jb25zdCBzZW50aW1lbnQgPSBnZW5lcmljVGFibGUoe1xuICB0YWJsZU5hbWU6IFwic2VudGltZW50XCIsXG4gIHRhYmxlTGFiZWw6IFwiU2VudGltZW50XCIsXG4gIHRhYmxlSWNvbjogPFNlbnRpbWVudFNhdGlzZmllZEFsdCAvPixcbiAgZGVmYXVsdFZpc2libGU6IFtcbiAgICB7IGVuZHBvaW50OiBcImNvbXBhbnlTZW50aW1lbnRcIiwgY29sdW1uS2V5OiBcImRhaWx5U2VudGltZW50XCIgfSxcbiAgICB7IGVuZHBvaW50OiBcImNvbXBhbnlTZW50aW1lbnRcIiwgY29sdW1uS2V5OiBcInNlbnRpbWVudFByZXNzdXJlXCIgfSxcbiAgICB7IGVuZHBvaW50OiBcImNvbXBhbnlTZW50aW1lbnRcIiwgY29sdW1uS2V5OiBcImFibm9ybWFsTWVkaWFBdHRlbnRpb25cIiB9LFxuICBdLFxuICBjb2x1bW5zOiBbXG4gICAgY29tcGFueVNlbnRpbWVudC5kYWlseVNlbnRpbWVudChcInNlbnRpbWVudFwiKSxcbiAgICBjb21wYW55U2VudGltZW50LnNlbnRpbWVudFByZXNzdXJlKFwic2VudGltZW50XCIpLFxuICAgIGNvbXBhbnlTZW50aW1lbnQuYWJub3JtYWxNZWRpYUF0dGVudGlvbihcInNlbnRpbWVudFwiKSxcbiAgXSxcbiAgaGVhZGVySW5mbzogKGVudGl0eUlkcywgZGF0YSkgPT4ge1xuICAgIGNvbnN0IGVwID0gZW50aXR5SWRzXG4gICAgICAubWFwKGVudGl0eSA9PiBkYXRhW2VudGl0eS5rZXldLmNvbXBhbnlTZW50aW1lbnQ/LmRhdGE/LmRhdGUpXG4gICAgICAuZmlsdGVyKGlzRGVmaW5lZClcbiAgICAgIC5tYXAoZGF0ZSA9PiBuZXcgRGF0ZShkYXRlKS5nZXRUaW1lKCkpXG5cbiAgICBpZiAoZXAubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IGBTZW50aW1lbnQgZGF0YSBhcyBvZiAke2Zvcm1hdChcbiAgICAgICAgbmV3IERhdGUoTWF0aC5tYXgoLi4uZXApKSxcbiAgICAgICAgXCJNTU1NIGRkLCB5eXl5XCIsXG4gICAgICApfSBhdCAwMDozNSBVVENgLFxuICAgIH1cbiAgfSxcbn0pXG5cbmV4cG9ydCB7IHNlbnRpbWVudCB9XG4iXSwibmFtZXMiOlsic2VudGltZW50IiwiZ2VuZXJpY1RhYmxlIiwidGFibGVOYW1lIiwidGFibGVMYWJlbCIsInRhYmxlSWNvbiIsIlNlbnRpbWVudFNhdGlzZmllZEFsdCIsImRlZmF1bHRWaXNpYmxlIiwiZW5kcG9pbnQiLCJjb2x1bW5LZXkiLCJjb2x1bW5zIiwiY29tcGFueVNlbnRpbWVudCIsImRhaWx5U2VudGltZW50Iiwic2VudGltZW50UHJlc3N1cmUiLCJhYm5vcm1hbE1lZGlhQXR0ZW50aW9uIiwiaGVhZGVySW5mbyIsImVudGl0eUlkcyIsImRhdGEiLCJlcCIsIm1hcCIsImVudGl0eSIsImtleSIsImRhdGUiLCJmaWx0ZXIiLCJpc0RlZmluZWQiLCJEYXRlIiwiZ2V0VGltZSIsImxlbmd0aCIsInRleHQiLCJmb3JtYXQiLCJNYXRoIiwibWF4Il0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiOzs7OytCQXNDU0E7OztlQUFBQTs7Ozt5QkF0Q2M7dUJBQ0c7dUJBQ1k7UUFDL0I7a0NBQzBCOzhCQUNKO0FBRTdCLE1BQU1BLFlBQVlDLElBQUFBLDBCQUFZLEVBQUM7SUFDN0JDLFdBQVc7SUFDWEMsWUFBWTtJQUNaQyx5QkFBVyxxQkFBQ0MsNEJBQXFCO0lBQ2pDQyxnQkFBZ0I7UUFDZDtZQUFFQyxVQUFVO1lBQW9CQyxXQUFXO1FBQWlCO1FBQzVEO1lBQUVELFVBQVU7WUFBb0JDLFdBQVc7UUFBb0I7UUFDL0Q7WUFBRUQsVUFBVTtZQUFvQkMsV0FBVztRQUF5QjtLQUNyRTtJQUNEQyxTQUFTO1FBQ1BDLGtDQUFnQixDQUFDQyxjQUFjLENBQUM7UUFDaENELGtDQUFnQixDQUFDRSxpQkFBaUIsQ0FBQztRQUNuQ0Ysa0NBQWdCLENBQUNHLHNCQUFzQixDQUFDO0tBQ3pDO0lBQ0RDLFlBQVksQ0FBQ0MsV0FBV0M7UUFDdEIsTUFBTUMsS0FBS0YsVUFDUkcsR0FBRyxDQUFDQyxDQUFBQTtnQkFBVUgsd0NBQUFBO29CQUFBQSxvQ0FBQUEsSUFBSSxDQUFDRyxPQUFPQyxHQUFHLENBQUMsQ0FBQ1YsZ0JBQWdCLGNBQWpDTSx5REFBQUEseUNBQUFBLGtDQUFtQ0EsSUFBSSxjQUF2Q0EsNkRBQUFBLHVDQUF5Q0ssSUFBSTtXQUMzREMsTUFBTSxDQUFDQyxnQkFBUyxFQUNoQkwsR0FBRyxDQUFDRyxDQUFBQSxPQUFRLElBQUlHLEtBQUtILE1BQU1JLE9BQU87UUFFckMsSUFBSVIsR0FBR1MsTUFBTSxLQUFLLEdBQUcsT0FBTztRQUU1QixPQUFPO1lBQ0xDLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRUMsSUFBQUEsZUFBTSxFQUNsQyxJQUFJSixLQUFLSyxLQUFLQyxHQUFHLElBQUliLE1BQ3JCLGlCQUNBLGFBQWEsQ0FBQztRQUNsQjtJQUNGO0FBQ0YifQ==