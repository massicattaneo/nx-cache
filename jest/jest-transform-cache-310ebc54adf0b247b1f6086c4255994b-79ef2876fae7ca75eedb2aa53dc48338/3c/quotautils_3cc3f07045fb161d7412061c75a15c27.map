{"version":3,"sources":["/Users/mcattaneo/workspace/frontend/libs/react/tanstack-api/file/src/utils/quota.utils.ts"],"sourcesContent":["import { UseQueryResult } from \"@tanstack/react-query\"\nimport { DEFAULT_QUOTA } from \"../file.constants\"\nimport { ClientQuotaResponse, QuotaResponse } from \"../file.types\"\n\nconst getQuotaData = (queryResData: QuotaResponse | undefined): ClientQuotaResponse => {\n  if (!queryResData) return DEFAULT_QUOTA\n\n  return {\n    files: {\n      ...DEFAULT_QUOTA.files,\n      ...queryResData.files,\n    },\n    quota: {\n      current_month: {\n        ...DEFAULT_QUOTA.quota.current_month,\n        ...queryResData.quota.current_month,\n      },\n      subscription: {\n        ...DEFAULT_QUOTA.quota.subscription,\n        ...queryResData.quota.subscription,\n      },\n    },\n  } satisfies ClientQuotaResponse\n}\n\nconst getQuotaIsOverLimit = (data: ClientQuotaResponse): boolean =>\n  data.quota.subscription.pages_remaining <= 0 || data.quota.subscription.units_remaining <= 0\n\nconst getQuotaGetDisableUpload = (\n  queryRes: UseQueryResult<QuotaResponse, Error>,\n  isOverLimit: boolean,\n) => queryRes.isLoading || queryRes.isError || isOverLimit\n\nexport { getQuotaData, getQuotaIsOverLimit, getQuotaGetDisableUpload }\n"],"names":["getQuotaData","getQuotaGetDisableUpload","getQuotaIsOverLimit","queryResData","DEFAULT_QUOTA","files","quota","current_month","subscription","data","pages_remaining","units_remaining","queryRes","isOverLimit","isLoading","isError"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAiCSA,YAAY;eAAZA;;IAAmCC,wBAAwB;eAAxBA;;IAArBC,mBAAmB;eAAnBA;;;+BAhCO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAG9B,MAAMF,eAAe,CAACG;IACpB,IAAI,CAACA,cAAc,OAAOC,4BAAa;IAEvC,OAAO;QACLC,OAAO,mBACFD,4BAAa,CAACC,KAAK,EACnBF,aAAaE,KAAK;QAEvBC,OAAO;YACLC,eAAe,mBACVH,4BAAa,CAACE,KAAK,CAACC,aAAa,EACjCJ,aAAaG,KAAK,CAACC,aAAa;YAErCC,cAAc,mBACTJ,4BAAa,CAACE,KAAK,CAACE,YAAY,EAChCL,aAAaG,KAAK,CAACE,YAAY;QAEtC;IACF;AACF;AAEA,MAAMN,sBAAsB,CAACO,OAC3BA,KAAKH,KAAK,CAACE,YAAY,CAACE,eAAe,IAAI,KAAKD,KAAKH,KAAK,CAACE,YAAY,CAACG,eAAe,IAAI;AAE7F,MAAMV,2BAA2B,CAC/BW,UACAC,cACGD,SAASE,SAAS,IAAIF,SAASG,OAAO,IAAIF"}