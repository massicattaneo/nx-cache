37e1dcfa6403a46790bfd9cc3a0d9dc4
// `call`, just like a function.
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "RawTask", {
    enumerable: true,
    get: function() {
        return RawTask;
    }
});
class RawTask {
    call() {
        try {
            this.task && this.task();
        } catch (error) {
            this.onError(error);
        } finally{
            this.task = null;
            this.release(this);
        }
    }
    constructor(onError, release){
        this.onError = onError;
        this.release = release;
        this.task = null;
    }
} //# sourceMappingURL=RawTask.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9SYXdUYXNrLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFdlIHdyYXAgdGFza3Mgd2l0aCByZWN5Y2xhYmxlIHRhc2sgb2JqZWN0cy4gIEEgdGFzayBvYmplY3QgaW1wbGVtZW50c1xuXG5pbXBvcnQgdHlwZSB7IFRhc2ssIFRhc2tGbiB9IGZyb20gJ3R5cGVzJ1xuXG4vLyBgY2FsbGAsIGp1c3QgbGlrZSBhIGZ1bmN0aW9uLlxuZXhwb3J0IGNsYXNzIFJhd1Rhc2sgaW1wbGVtZW50cyBUYXNrIHtcblx0cHVibGljIHRhc2s6IFRhc2tGbiB8IG51bGwgPSBudWxsXG5cblx0cHVibGljIGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgb25FcnJvcjogKGVycjogYW55KSA9PiB2b2lkLFxuXHRcdHByaXZhdGUgcmVsZWFzZTogKHQ6IFJhd1Rhc2spID0+IHZvaWQsXG5cdCkge31cblxuXHRwdWJsaWMgY2FsbCgpIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy50YXNrICYmIHRoaXMudGFzaygpXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMub25FcnJvcihlcnJvcilcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0dGhpcy50YXNrID0gbnVsbFxuXHRcdFx0dGhpcy5yZWxlYXNlKHRoaXMpXG5cdFx0fVxuXHR9XG59XG4iXSwibmFtZXMiOlsiUmF3VGFzayIsImNhbGwiLCJ0YXNrIiwiZXJyb3IiLCJvbkVycm9yIiwicmVsZWFzZSIsImNvbnN0cnVjdG9yIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiJBQUlBLGdDQUFnQzs7Ozs7K0JBQ25CQTs7O2VBQUFBOzs7QUFBTixNQUFNQTtJQVFaQyxPQUFjO1FBQ2IsSUFBSTtZQUNILElBQUksQ0FBQ0MsSUFBSSxJQUFJLElBQUksQ0FBQ0EsSUFBSTtVQUNyQixPQUFPQyxPQUFPO1lBQ2YsSUFBSSxDQUFDQyxPQUFPLENBQUNEO2lCQUNKO1lBQ1QsSUFBSSxDQUFDRCxJQUFJLEdBQUc7WUFDWixJQUFJLENBQUNHLE9BQU8sQ0FBQyxJQUFJOzs7SUFabkJDLFlBQ1NGLE9BQTJCLEVBQzNCQyxPQUE2QixDQUNwQzthQUZPRCxPQUEyQixHQUEzQkE7YUFDQUMsT0FBNkIsR0FBN0JBO2FBSkZILElBQUksR0FBa0IifQ==